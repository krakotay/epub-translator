(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u0={exports:{}},Oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function NA(){if(kb)return Oo;kb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Oo.Fragment=e,Oo.jsx=n,Oo.jsxs=n,Oo}var Lb;function DA(){return Lb||(Lb=1,u0.exports=NA()),u0.exports}var Et=DA(),s0={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function OA(){if(Bb)return Ht;Bb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function w(Z){return Z===null||typeof Z!="object"?null:(Z=g&&Z[g]||Z["@@iterator"],typeof Z=="function"?Z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,x={};function _(Z,Y,$){this.props=Z,this.context=Y,this.refs=x,this.updater=$||b}_.prototype.isReactComponent={},_.prototype.setState=function(Z,Y){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,Y,"setState")},_.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function y(){}y.prototype=_.prototype;function S(Z,Y,$){this.props=Z,this.context=Y,this.refs=x,this.updater=$||b}var D=S.prototype=new y;D.constructor=S,N(D,_.prototype),D.isPureReactComponent=!0;var k=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function P(Z,Y,$,xe,ce,Ne){return $=Ne.ref,{$$typeof:t,type:Z,key:Y,ref:$!==void 0?$:null,props:Ne}}function F(Z,Y){return P(Z.type,Y,void 0,void 0,void 0,Z.props)}function M(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function H(Z){var Y={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function($){return Y[$]})}var ne=/\/+/g;function U(Z,Y){return typeof Z=="object"&&Z!==null&&Z.key!=null?H(""+Z.key):Y.toString(36)}function J(){}function R(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(J,J):(Z.status="pending",Z.then(function(Y){Z.status==="pending"&&(Z.status="fulfilled",Z.value=Y)},function(Y){Z.status==="pending"&&(Z.status="rejected",Z.reason=Y)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function se(Z,Y,$,xe,ce){var Ne=typeof Z;(Ne==="undefined"||Ne==="boolean")&&(Z=null);var Qe=!1;if(Z===null)Qe=!0;else switch(Ne){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(Z.$$typeof){case t:case e:Qe=!0;break;case m:return Qe=Z._init,se(Qe(Z._payload),Y,$,xe,ce)}}if(Qe)return ce=ce(Z),Qe=xe===""?"."+U(Z,0):xe,k(ce)?($="",Qe!=null&&($=Qe.replace(ne,"$&/")+"/"),se(ce,Y,$,"",function(ct){return ct})):ce!=null&&(M(ce)&&(ce=F(ce,$+(ce.key==null||Z&&Z.key===ce.key?"":(""+ce.key).replace(ne,"$&/")+"/")+Qe)),Y.push(ce)),1;Qe=0;var ht=xe===""?".":xe+":";if(k(Z))for(var Ue=0;Ue<Z.length;Ue++)xe=Z[Ue],Ne=ht+U(xe,Ue),Qe+=se(xe,Y,$,Ne,ce);else if(Ue=w(Z),typeof Ue=="function")for(Z=Ue.call(Z),Ue=0;!(xe=Z.next()).done;)xe=xe.value,Ne=ht+U(xe,Ue++),Qe+=se(xe,Y,$,Ne,ce);else if(Ne==="object"){if(typeof Z.then=="function")return se(R(Z),Y,$,xe,ce);throw Y=String(Z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function re(Z,Y,$){if(Z==null)return Z;var xe=[],ce=0;return se(Z,xe,"","",function(Ne){return Y.call($,Ne,ce++)}),xe}function ee(Z){if(Z._status===-1){var Y=Z._result;Y=Y(),Y.then(function($){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=$)},function($){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=$)}),Z._status===-1&&(Z._status=0,Z._result=Y)}if(Z._status===1)return Z._result.default;throw Z._result}var ge=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function de(){}return Ht.Children={map:re,forEach:function(Z,Y,$){re(Z,function(){Y.apply(this,arguments)},$)},count:function(Z){var Y=0;return re(Z,function(){Y++}),Y},toArray:function(Z){return re(Z,function(Y){return Y})||[]},only:function(Z){if(!M(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Ht.Component=_,Ht.Fragment=n,Ht.Profiler=a,Ht.PureComponent=S,Ht.StrictMode=r,Ht.Suspense=d,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return C.H.useMemoCache(Z)}},Ht.cache=function(Z){return function(){return Z.apply(null,arguments)}},Ht.cloneElement=function(Z,Y,$){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var xe=N({},Z.props),ce=Z.key,Ne=void 0;if(Y!=null)for(Qe in Y.ref!==void 0&&(Ne=void 0),Y.key!==void 0&&(ce=""+Y.key),Y)!B.call(Y,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&Y.ref===void 0||(xe[Qe]=Y[Qe]);var Qe=arguments.length-2;if(Qe===1)xe.children=$;else if(1<Qe){for(var ht=Array(Qe),Ue=0;Ue<Qe;Ue++)ht[Ue]=arguments[Ue+2];xe.children=ht}return P(Z.type,ce,void 0,void 0,Ne,xe)},Ht.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},Ht.createElement=function(Z,Y,$){var xe,ce={},Ne=null;if(Y!=null)for(xe in Y.key!==void 0&&(Ne=""+Y.key),Y)B.call(Y,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(ce[xe]=Y[xe]);var Qe=arguments.length-2;if(Qe===1)ce.children=$;else if(1<Qe){for(var ht=Array(Qe),Ue=0;Ue<Qe;Ue++)ht[Ue]=arguments[Ue+2];ce.children=ht}if(Z&&Z.defaultProps)for(xe in Qe=Z.defaultProps,Qe)ce[xe]===void 0&&(ce[xe]=Qe[xe]);return P(Z,Ne,void 0,void 0,null,ce)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(Z){return{$$typeof:c,render:Z}},Ht.isValidElement=M,Ht.lazy=function(Z){return{$$typeof:m,_payload:{_status:-1,_result:Z},_init:ee}},Ht.memo=function(Z,Y){return{$$typeof:h,type:Z,compare:Y===void 0?null:Y}},Ht.startTransition=function(Z){var Y=C.T,$={};C.T=$;try{var xe=Z(),ce=C.S;ce!==null&&ce($,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(de,ge)}catch(Ne){ge(Ne)}finally{C.T=Y}},Ht.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ht.use=function(Z){return C.H.use(Z)},Ht.useActionState=function(Z,Y,$){return C.H.useActionState(Z,Y,$)},Ht.useCallback=function(Z,Y){return C.H.useCallback(Z,Y)},Ht.useContext=function(Z){return C.H.useContext(Z)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(Z,Y){return C.H.useDeferredValue(Z,Y)},Ht.useEffect=function(Z,Y,$){var xe=C.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return xe.useEffect(Z,Y)},Ht.useId=function(){return C.H.useId()},Ht.useImperativeHandle=function(Z,Y,$){return C.H.useImperativeHandle(Z,Y,$)},Ht.useInsertionEffect=function(Z,Y){return C.H.useInsertionEffect(Z,Y)},Ht.useLayoutEffect=function(Z,Y){return C.H.useLayoutEffect(Z,Y)},Ht.useMemo=function(Z,Y){return C.H.useMemo(Z,Y)},Ht.useOptimistic=function(Z,Y){return C.H.useOptimistic(Z,Y)},Ht.useReducer=function(Z,Y,$){return C.H.useReducer(Z,Y,$)},Ht.useRef=function(Z){return C.H.useRef(Z)},Ht.useState=function(Z){return C.H.useState(Z)},Ht.useSyncExternalStore=function(Z,Y,$){return C.H.useSyncExternalStore(Z,Y,$)},Ht.useTransition=function(){return C.H.useTransition()},Ht.version="19.1.0",Ht}var Mb;function om(){return Mb||(Mb=1,s0.exports=OA()),s0.exports}var qn=om(),o0={exports:{}},Ro={},l0={exports:{}},c0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function RA(){return Pb||(Pb=1,function(t){function e(re,ee){var ge=re.length;re.push(ee);e:for(;0<ge;){var de=ge-1>>>1,Z=re[de];if(0<a(Z,ee))re[de]=ee,re[ge]=Z,ge=de;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ee=re[0],ge=re.pop();if(ge!==ee){re[0]=ge;e:for(var de=0,Z=re.length,Y=Z>>>1;de<Y;){var $=2*(de+1)-1,xe=re[$],ce=$+1,Ne=re[ce];if(0>a(xe,ge))ce<Z&&0>a(Ne,xe)?(re[de]=Ne,re[ce]=ge,de=ce):(re[de]=xe,re[$]=ge,de=$);else if(ce<Z&&0>a(Ne,ge))re[de]=Ne,re[ce]=ge,de=ce;else break e}}return ee}function a(re,ee){var ge=re.sortIndex-ee.sortIndex;return ge!==0?ge:re.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,g=null,w=3,b=!1,N=!1,x=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function k(re){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=re)r(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(h)}}function C(re){if(x=!1,k(re),!N)if(n(d)!==null)N=!0,B||(B=!0,U());else{var ee=n(h);ee!==null&&se(C,ee.startTime-re)}}var B=!1,P=-1,F=5,M=-1;function H(){return _?!0:!(t.unstable_now()-M<F)}function ne(){if(_=!1,B){var re=t.unstable_now();M=re;var ee=!0;try{e:{N=!1,x&&(x=!1,S(P),P=-1),b=!0;var ge=w;try{t:{for(k(re),g=n(d);g!==null&&!(g.expirationTime>re&&H());){var de=g.callback;if(typeof de=="function"){g.callback=null,w=g.priorityLevel;var Z=de(g.expirationTime<=re);if(re=t.unstable_now(),typeof Z=="function"){g.callback=Z,k(re),ee=!0;break t}g===n(d)&&r(d),k(re)}else r(d);g=n(d)}if(g!==null)ee=!0;else{var Y=n(h);Y!==null&&se(C,Y.startTime-re),ee=!1}}break e}finally{g=null,w=ge,b=!1}ee=void 0}}finally{ee?U():B=!1}}}var U;if(typeof D=="function")U=function(){D(ne)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,R=J.port2;J.port1.onmessage=ne,U=function(){R.postMessage(null)}}else U=function(){y(ne,0)};function se(re,ee){P=y(function(){re(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var ge=w;w=ee;try{return re()}finally{w=ge}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(re,ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=w;w=re;try{return ee()}finally{w=ge}},t.unstable_scheduleCallback=function(re,ee,ge){var de=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?de+ge:de):ge=de,re){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ge+Z,re={id:m++,callback:ee,priorityLevel:re,startTime:ge,expirationTime:Z,sortIndex:-1},ge>de?(re.sortIndex=ge,e(h,re),n(d)===null&&re===n(h)&&(x?(S(P),P=-1):x=!0,se(C,ge-de))):(re.sortIndex=Z,e(d,re),N||b||(N=!0,B||(B=!0,U()))),re},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(re){var ee=w;return function(){var ge=w;w=ee;try{return re.apply(this,arguments)}finally{w=ge}}}}(c0)),c0}var Ub;function IA(){return Ub||(Ub=1,l0.exports=RA()),l0.exports}var f0={exports:{}},br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function kA(){if(Fb)return br;Fb=1;var t=om();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,br.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,m)},br.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},br.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},br.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},br.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:w,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:g,integrity:w,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},br.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},br.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},br.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},br.requestFormReset=function(d){r.d.r(d)},br.unstable_batchedUpdates=function(d,h){return d(h)},br.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},br.useFormStatus=function(){return l.H.useHostTransitionStatus()},br.version="19.1.0",br}var zb;function LA(){if(zb)return f0.exports;zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f0.exports=kA(),f0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function BA(){if(Hb)return Ro;Hb=1;var t=IA(),e=om(),n=LA();function r(i){var u="https://react.dev/errors/"+i;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)u+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var u=i,o=i;if(i.alternate)for(;u.return;)u=u.return;else{i=u;do u=i,(u.flags&4098)!==0&&(o=u.return),i=u.return;while(i)}return u.tag===3?o:null}function l(i){if(i.tag===13){var u=i.memoizedState;if(u===null&&(i=i.alternate,i!==null&&(u=i.memoizedState)),u!==null)return u.dehydrated}return null}function c(i){if(s(i)!==i)throw Error(r(188))}function d(i){var u=i.alternate;if(!u){if(u=s(i),u===null)throw Error(r(188));return u!==i?null:i}for(var o=i,f=u;;){var p=o.return;if(p===null)break;var v=p.alternate;if(v===null){if(f=p.return,f!==null){o=f;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===o)return c(p),i;if(v===f)return c(p),u;v=v.sibling}throw Error(r(188))}if(o.return!==f.return)o=p,f=v;else{for(var I=!1,q=p.child;q;){if(q===o){I=!0,o=p,f=v;break}if(q===f){I=!0,f=p,o=v;break}q=q.sibling}if(!I){for(q=v.child;q;){if(q===o){I=!0,o=v,f=p;break}if(q===f){I=!0,f=v,o=p;break}q=q.sibling}if(!I)throw Error(r(189))}}if(o.alternate!==f)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:u}function h(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i;for(i=i.child;i!==null;){if(u=h(i),u!==null)return u;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),D=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case _:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case B:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case D:return(i.displayName||"Context")+".Provider";case S:return(i._context.displayName||"Context")+".Consumer";case k:var u=i.render;return i=i.displayName,i||(i=u.displayName||u.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return u=i.displayName||null,u!==null?u:R(i.type)||"Memo";case F:u=i._payload,i=i._init;try{return R(i(u))}catch{}}return null}var se=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},de=[],Z=-1;function Y(i){return{current:i}}function $(i){0>Z||(i.current=de[Z],de[Z]=null,Z--)}function xe(i,u){Z++,de[Z]=i.current,i.current=u}var ce=Y(null),Ne=Y(null),Qe=Y(null),ht=Y(null);function Ue(i,u){switch(xe(Qe,u),xe(Ne,i),xe(ce,null),u.nodeType){case 9:case 11:i=(i=u.documentElement)&&(i=i.namespaceURI)?sb(i):0;break;default:if(i=u.tagName,u=u.namespaceURI)u=sb(u),i=ob(u,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(ce),xe(ce,i)}function ct(){$(ce),$(Ne),$(Qe)}function wt(i){i.memoizedState!==null&&xe(ht,i);var u=ce.current,o=ob(u,i.type);u!==o&&(xe(Ne,i),xe(ce,o))}function ft(i){Ne.current===i&&($(ce),$(Ne)),ht.current===i&&($(ht),So._currentValue=ge)}var xt=Object.prototype.hasOwnProperty,Tt=t.unstable_scheduleCallback,O=t.unstable_cancelCallback,ke=t.unstable_shouldYield,Ae=t.unstable_requestPaint,X=t.unstable_now,W=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,Pe=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,me=t.unstable_LowPriority,Le=t.unstable_IdlePriority,tt=t.log,We=t.unstable_setDisableYieldValue,lt=null,bt=null;function yt(i){if(typeof tt=="function"&&We(i),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(lt,i)}catch{}}var zt=Math.clz32?Math.clz32:On,Sn=Math.log,En=Math.LN2;function On(i){return i>>>=0,i===0?32:31-(Sn(i)/En|0)|0}var Ot=256,yn=4194304;function Rn(i){var u=i&42;if(u!==0)return u;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function V(i,u,o){var f=i.pendingLanes;if(f===0)return 0;var p=0,v=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var q=f&134217727;return q!==0?(f=q&~v,f!==0?p=Rn(f):(I&=q,I!==0?p=Rn(I):o||(o=q&~i,o!==0&&(p=Rn(o))))):(q=f&~v,q!==0?p=Rn(q):I!==0?p=Rn(I):o||(o=f&~i,o!==0&&(p=Rn(o)))),p===0?0:u!==0&&u!==p&&(u&v)===0&&(v=p&-p,o=u&-u,v>=o||v===32&&(o&4194048)!==0)?u:p}function ze(i,u){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&u)===0}function Ze(i,u){switch(i){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var i=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),i}function fe(){var i=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),i}function Be(i){for(var u=[],o=0;31>o;o++)u.push(i);return u}function T(i,u){i.pendingLanes|=u,u!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function L(i,u,o,f,p,v){var I=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var q=i.entanglements,ae=i.expirationTimes,Ce=i.hiddenUpdates;for(o=I&~o;0<o;){var Fe=31-zt(o),je=1<<Fe;q[Fe]=0,ae[Fe]=-1;var Oe=Ce[Fe];if(Oe!==null)for(Ce[Fe]=null,Fe=0;Fe<Oe.length;Fe++){var Ie=Oe[Fe];Ie!==null&&(Ie.lane&=-536870913)}o&=~je}f!==0&&K(i,f,0),v!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=v&~(I&~u))}function K(i,u,o){i.pendingLanes|=u,i.suspendedLanes&=~u;var f=31-zt(u);i.entangledLanes|=u,i.entanglements[f]=i.entanglements[f]|1073741824|o&4194090}function A(i,u){var o=i.entangledLanes|=u;for(i=i.entanglements;o;){var f=31-zt(o),p=1<<f;p&u|i[f]&u&&(i[f]|=u),o&=~p}}function ue(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _e(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function z(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:Cb(i.type))}function oe(i,u){var o=ee.p;try{return ee.p=i,u()}finally{ee.p=o}}var Te=Math.random().toString(36).slice(2),et="__reactFiber$"+Te,Xe="__reactProps$"+Te,it="__reactContainer$"+Te,Rt="__reactEvents$"+Te,Fn="__reactListeners$"+Te,Gt="__reactHandles$"+Te,Pt="__reactResources$"+Te,en="__reactMarker$"+Te;function qt(i){delete i[et],delete i[Xe],delete i[Rt],delete i[Fn],delete i[Gt]}function wn(i){var u=i[et];if(u)return u;for(var o=i.parentNode;o;){if(u=o[it]||o[et]){if(o=u.alternate,u.child!==null||o!==null&&o.child!==null)for(i=db(i);i!==null;){if(o=i[et])return o;i=db(i)}return u}i=o,o=i.parentNode}return null}function Yn(i){if(i=i[et]||i[it]){var u=i.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return i}return null}function yr(i){var u=i.tag;if(u===5||u===26||u===27||u===6)return i.stateNode;throw Error(r(33))}function dn(i){var u=i[Pt];return u||(u=i[Pt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function tn(i){i[en]=!0}var Bn=new Set,Sr={};function Vn(i,u){ai(i,u),ai(i+"Capture",u)}function ai(i,u){for(Sr[i]=u,i=0;i<u.length;i++)Bn.add(u[i])}var ad=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},ia={};function Sl(i){return xt.call(ia,i)?!0:xt.call(Rs,i)?!1:ad.test(i)?ia[i]=!0:(Rs[i]=!0,!1)}function ui(i,u,o){if(Sl(u))if(o===null)i.removeAttribute(u);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(u);return;case"boolean":var f=u.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(u);return}}i.setAttribute(u,""+o)}}function Su(i,u,o){if(o===null)i.removeAttribute(u);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttribute(u,""+o)}}function wr(i,u,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(u,o,""+f)}}var Va,wl;function aa(i){if(Va===void 0)try{throw Error()}catch(o){var u=o.stack.trim().match(/\n( *(at )?)/);Va=u&&u[1]||"",wl=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+i+wl}var Za=!1;function Is(i,u){if(!i||Za)return"";Za=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(u){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(Ie){var Oe=Ie}Reflect.construct(i,[],je)}else{try{je.call()}catch(Ie){Oe=Ie}i.call(je.prototype)}}else{try{throw Error()}catch(Ie){Oe=Ie}(je=i())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(Ie){if(Ie&&Oe&&typeof Ie.stack=="string")return[Ie.stack,Oe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),I=v[0],q=v[1];if(I&&q){var ae=I.split(`
`),Ce=q.split(`
`);for(p=f=0;f<ae.length&&!ae[f].includes("DetermineComponentFrameRoot");)f++;for(;p<Ce.length&&!Ce[p].includes("DetermineComponentFrameRoot");)p++;if(f===ae.length||p===Ce.length)for(f=ae.length-1,p=Ce.length-1;1<=f&&0<=p&&ae[f]!==Ce[p];)p--;for(;1<=f&&0<=p;f--,p--)if(ae[f]!==Ce[p]){if(f!==1||p!==1)do if(f--,p--,0>p||ae[f]!==Ce[p]){var Fe=`
`+ae[f].replace(" at new "," at ");return i.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",i.displayName)),Fe}while(1<=f&&0<=p);break}}}finally{Za=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?aa(o):""}function ud(i){switch(i.tag){case 26:case 27:case 5:return aa(i.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return Is(i.type,!1);case 11:return Is(i.type.render,!1);case 1:return Is(i.type,!0);case 31:return aa("Activity");default:return""}}function j(i){try{var u="";do u+=ud(i),i=i.return;while(i);return u}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function le(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Q(i){var u=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ve(i){var u=Q(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,u),f=""+i[u];if(!i.hasOwnProperty(u)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,v=o.set;return Object.defineProperty(i,u,{configurable:!0,get:function(){return p.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,u,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[u]}}}}function ye(i){i._valueTracker||(i._valueTracker=ve(i))}function be(i){if(!i)return!1;var u=i._valueTracker;if(!u)return!0;var o=u.getValue(),f="";return i&&(f=Q(i)?i.checked?"true":"false":i.value),i=f,i!==o?(u.setValue(i),!0):!1}function He(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ge=/[\n"\\]/g;function Ve(i){return i.replace(Ge,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Je(i,u,o,f,p,v,I,q){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),u!=null?I==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+le(u)):i.value!==""+le(u)&&(i.value=""+le(u)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),u!=null?pt(i,I,le(u)):o!=null?pt(i,I,le(o)):f!=null&&i.removeAttribute("value"),p==null&&v!=null&&(i.defaultChecked=!!v),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?i.name=""+le(q):i.removeAttribute("name")}function rt(i,u,o,f,p,v,I,q){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),u!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||u!=null))return;o=o!=null?""+le(o):"",u=u!=null?""+le(u):o,q||u===i.value||(i.value=u),i.defaultValue=u}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=q?i.checked:!!f,i.defaultChecked=!!f,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I)}function pt(i,u,o){u==="number"&&He(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ut(i,u,o,f){if(i=i.options,u){u={};for(var p=0;p<o.length;p++)u["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=u.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&f&&(i[o].defaultSelected=!0)}else{for(o=""+le(o),u=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}u!==null||i[p].disabled||(u=i[p])}u!==null&&(u.selected=!0)}}function nn(i,u,o){if(u!=null&&(u=""+le(u),u!==i.value&&(i.value=u),o==null)){i.defaultValue!==u&&(i.defaultValue=u);return}i.defaultValue=o!=null?""+le(o):""}function un(i,u,o,f){if(u==null){if(f!=null){if(o!=null)throw Error(r(92));if(se(f)){if(1<f.length)throw Error(r(93));f=f[0]}o=f}o==null&&(o=""),u=o}o=le(u),i.defaultValue=o,f=i.textContent,f===o&&f!==""&&f!==null&&(i.value=f)}function Tn(i,u){if(u){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=u;return}}i.textContent=u}var In=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tr(i,u,o){var f=u.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="":f?i.setProperty(u,o):typeof o!="number"||o===0||In.has(u)?u==="float"?i.cssFloat=o:i[u]=(""+o).trim():i[u]=o+"px"}function ua(i,u,o){if(u!=null&&typeof u!="object")throw Error(r(62));if(i=i.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||u!=null&&u.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in u)f=u[p],u.hasOwnProperty(p)&&o[p]!==f&&Tr(i,p,f)}else for(var v in u)u.hasOwnProperty(v)&&Tr(i,v,u[v])}function Ga(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(i){return ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bs=null;function Ms(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ki=null,wu=null;function l1(i){var u=Yn(i);if(u&&(i=u.stateNode)){var o=i[Xe]||null;e:switch(i=u.stateNode,u.type){case"input":if(Je(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),u=o.name,o.type==="radio"&&u!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ve(""+u)+'"][type="radio"]'),u=0;u<o.length;u++){var f=o[u];if(f!==i&&f.form===i.form){var p=f[Xe]||null;if(!p)throw Error(r(90));Je(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(u=0;u<o.length;u++)f=o[u],f.form===i.form&&be(f)}break e;case"textarea":nn(i,o.value,o.defaultValue);break e;case"select":u=o.value,u!=null&&Ut(i,!!o.multiple,u,!1)}}}var od=!1;function c1(i,u,o){if(od)return i(u,o);od=!0;try{var f=i(u);return f}finally{if(od=!1,(ki!==null||wu!==null)&&(fc(),ki&&(u=ki,i=wu,wu=ki=null,l1(u),i)))for(u=0;u<i.length;u++)l1(i[u])}}function Ps(i,u){var o=i.stateNode;if(o===null)return null;var f=o[Xe]||null;if(f===null)return null;o=f[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,u,typeof o));return o}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=!1;if(Li)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){ld=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{ld=!1}var sa=null,cd=null,Cl=null;function f1(){if(Cl)return Cl;var i,u=cd,o=u.length,f,p="value"in sa?sa.value:sa.textContent,v=p.length;for(i=0;i<o&&u[i]===p[i];i++);var I=o-i;for(f=1;f<=I&&u[o-f]===p[v-f];f++);return Cl=p.slice(i,1<f?1-f:void 0)}function Nl(i){var u=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&u===13&&(i=13)):i=u,i===10&&(i=13),32<=i||i===13?i:0}function Dl(){return!0}function d1(){return!1}function Cr(i){function u(o,f,p,v,I){this._reactName=o,this._targetInst=p,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(o=i[q],this[q]=o?o(v):v[q]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Dl:d1,this.isPropagationStopped=d1,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),u}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Cr(Wa),Fs=m({},Wa,{view:0,detail:0}),NT=Cr(Fs),fd,dd,zs,Rl=m({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zs&&(zs&&i.type==="mousemove"?(fd=i.screenX-zs.screenX,dd=i.screenY-zs.screenY):dd=fd=0,zs=i),fd)},movementY:function(i){return"movementY"in i?i.movementY:dd}}),h1=Cr(Rl),DT=m({},Rl,{dataTransfer:0}),OT=Cr(DT),RT=m({},Fs,{relatedTarget:0}),hd=Cr(RT),IT=m({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=Cr(IT),LT=m({},Wa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),BT=Cr(LT),MT=m({},Wa,{data:0}),p1=Cr(MT),PT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zT(i){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(i):(i=FT[i])?!!u[i]:!1}function pd(){return zT}var HT=m({},Fs,{key:function(i){if(i.key){var u=PT[i.key]||i.key;if(u!=="Unidentified")return u}return i.type==="keypress"?(i=Nl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?UT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pd,charCode:function(i){return i.type==="keypress"?Nl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qT=Cr(HT),jT=m({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m1=Cr(jT),YT=m({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pd}),VT=Cr(YT),ZT=m({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),GT=Cr(ZT),WT=m({},Rl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),XT=Cr(WT),$T=m({},Wa,{newState:0,oldState:0}),QT=Cr($T),KT=[9,13,27,32],md=Li&&"CompositionEvent"in window,Hs=null;Li&&"documentMode"in document&&(Hs=document.documentMode);var JT=Li&&"TextEvent"in window&&!Hs,g1=Li&&(!md||Hs&&8<Hs&&11>=Hs),b1=" ",_1=!1;function v1(i,u){switch(i){case"keyup":return KT.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cu=!1;function e6(i,u){switch(i){case"compositionend":return E1(u);case"keypress":return u.which!==32?null:(_1=!0,b1);case"textInput":return i=u.data,i===b1&&_1?null:i;default:return null}}function t6(i,u){if(Cu)return i==="compositionend"||!md&&v1(i,u)?(i=f1(),Cl=cd=sa=null,Cu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return g1&&u.locale!=="ko"?null:u.data;default:return null}}var n6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y1(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u==="input"?!!n6[i.type]:u==="textarea"}function T1(i,u,o,f){ki?wu?wu.push(f):wu=[f]:ki=f,u=bc(u,"onChange"),0<u.length&&(o=new Ol("onChange","change",null,o,f),i.push({event:o,listeners:u}))}var qs=null,js=null;function r6(i){nb(i,0)}function Il(i){var u=yr(i);if(be(u))return i}function A1(i,u){if(i==="change")return u}var x1=!1;if(Li){var gd;if(Li){var bd="oninput"in document;if(!bd){var S1=document.createElement("div");S1.setAttribute("oninput","return;"),bd=typeof S1.oninput=="function"}gd=bd}else gd=!1;x1=gd&&(!document.documentMode||9<document.documentMode)}function w1(){qs&&(qs.detachEvent("onpropertychange",C1),js=qs=null)}function C1(i){if(i.propertyName==="value"&&Il(js)){var u=[];T1(u,js,i,Ms(i)),c1(r6,u)}}function i6(i,u,o){i==="focusin"?(w1(),qs=u,js=o,qs.attachEvent("onpropertychange",C1)):i==="focusout"&&w1()}function a6(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Il(js)}function u6(i,u){if(i==="click")return Il(u)}function s6(i,u){if(i==="input"||i==="change")return Il(u)}function o6(i,u){return i===u&&(i!==0||1/i===1/u)||i!==i&&u!==u}var Br=typeof Object.is=="function"?Object.is:o6;function Ys(i,u){if(Br(i,u))return!0;if(typeof i!="object"||i===null||typeof u!="object"||u===null)return!1;var o=Object.keys(i),f=Object.keys(u);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var p=o[f];if(!xt.call(u,p)||!Br(i[p],u[p]))return!1}return!0}function N1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D1(i,u){var o=N1(i);i=0;for(var f;o;){if(o.nodeType===3){if(f=i+o.textContent.length,i<=u&&f>=u)return{node:o,offset:u-i};i=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=N1(o)}}function O1(i,u){return i&&u?i===u?!0:i&&i.nodeType===3?!1:u&&u.nodeType===3?O1(i,u.parentNode):"contains"in i?i.contains(u):i.compareDocumentPosition?!!(i.compareDocumentPosition(u)&16):!1:!1}function R1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var u=He(i.document);u instanceof i.HTMLIFrameElement;){try{var o=typeof u.contentWindow.location.href=="string"}catch{o=!1}if(o)i=u.contentWindow;else break;u=He(i.document)}return u}function _d(i){var u=i&&i.nodeName&&i.nodeName.toLowerCase();return u&&(u==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||u==="textarea"||i.contentEditable==="true")}var l6=Li&&"documentMode"in document&&11>=document.documentMode,Nu=null,vd=null,Vs=null,Ed=!1;function I1(i,u,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ed||Nu==null||Nu!==He(f)||(f=Nu,"selectionStart"in f&&_d(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Vs&&Ys(Vs,f)||(Vs=f,f=bc(vd,"onSelect"),0<f.length&&(u=new Ol("onSelect","select",null,u,o),i.push({event:u,listeners:f}),u.target=Nu)))}function Xa(i,u){var o={};return o[i.toLowerCase()]=u.toLowerCase(),o["Webkit"+i]="webkit"+u,o["Moz"+i]="moz"+u,o}var Du={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},yd={},k1={};Li&&(k1=document.createElement("div").style,"AnimationEvent"in window||(delete Du.animationend.animation,delete Du.animationiteration.animation,delete Du.animationstart.animation),"TransitionEvent"in window||delete Du.transitionend.transition);function $a(i){if(yd[i])return yd[i];if(!Du[i])return i;var u=Du[i],o;for(o in u)if(u.hasOwnProperty(o)&&o in k1)return yd[i]=u[o];return i}var L1=$a("animationend"),B1=$a("animationiteration"),M1=$a("animationstart"),c6=$a("transitionrun"),f6=$a("transitionstart"),d6=$a("transitioncancel"),P1=$a("transitionend"),U1=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function si(i,u){U1.set(i,u),Vn(u,[i])}var F1=new WeakMap;function Gr(i,u){if(typeof i=="object"&&i!==null){var o=F1.get(i);return o!==void 0?o:(u={value:i,source:u,stack:j(u)},F1.set(i,u),u)}return{value:i,source:u,stack:j(u)}}var Wr=[],Ou=0,Ad=0;function kl(){for(var i=Ou,u=Ad=Ou=0;u<i;){var o=Wr[u];Wr[u++]=null;var f=Wr[u];Wr[u++]=null;var p=Wr[u];Wr[u++]=null;var v=Wr[u];if(Wr[u++]=null,f!==null&&p!==null){var I=f.pending;I===null?p.next=p:(p.next=I.next,I.next=p),f.pending=p}v!==0&&z1(o,p,v)}}function Ll(i,u,o,f){Wr[Ou++]=i,Wr[Ou++]=u,Wr[Ou++]=o,Wr[Ou++]=f,Ad|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function xd(i,u,o,f){return Ll(i,u,o,f),Bl(i)}function Ru(i,u){return Ll(i,null,null,u),Bl(i)}function z1(i,u,o){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o);for(var p=!1,v=i.return;v!==null;)v.childLanes|=o,f=v.alternate,f!==null&&(f.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(p=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,p&&u!==null&&(p=31-zt(o),i=v.hiddenUpdates,f=i[p],f===null?i[p]=[u]:f.push(u),u.lane=o|536870912),v):null}function Bl(i){if(50<bo)throw bo=0,Oh=null,Error(r(185));for(var u=i.return;u!==null;)i=u,u=i.return;return i.tag===3?i.stateNode:null}var Iu={};function h6(i,u,o,f){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(i,u,o,f){return new h6(i,u,o,f)}function Sd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bi(i,u){var o=i.alternate;return o===null?(o=Mr(i.tag,u,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=u,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,u=i.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function H1(i,u){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=u,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,u=o.dependencies,i.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),i}function Ml(i,u,o,f,p,v){var I=0;if(f=i,typeof i=="function")Sd(i)&&(I=1);else if(typeof i=="string")I=mA(i,o,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Mr(31,o,u,p),i.elementType=M,i.lanes=v,i;case N:return Qa(o.children,p,v,u);case x:I=8,p|=24;break;case _:return i=Mr(12,o,u,p|2),i.elementType=_,i.lanes=v,i;case C:return i=Mr(13,o,u,p),i.elementType=C,i.lanes=v,i;case B:return i=Mr(19,o,u,p),i.elementType=B,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case D:I=10;break e;case S:I=9;break e;case k:I=11;break e;case P:I=14;break e;case F:I=16,f=null;break e}I=29,o=Error(r(130,i===null?"null":typeof i,"")),f=null}return u=Mr(I,o,u,p),u.elementType=i,u.type=f,u.lanes=v,u}function Qa(i,u,o,f){return i=Mr(7,i,f,u),i.lanes=o,i}function wd(i,u,o){return i=Mr(6,i,null,u),i.lanes=o,i}function Cd(i,u,o){return u=Mr(4,i.children!==null?i.children:[],i.key,u),u.lanes=o,u.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},u}var ku=[],Lu=0,Pl=null,Ul=0,Xr=[],$r=0,Ka=null,Mi=1,Pi="";function Ja(i,u){ku[Lu++]=Ul,ku[Lu++]=Pl,Pl=i,Ul=u}function q1(i,u,o){Xr[$r++]=Mi,Xr[$r++]=Pi,Xr[$r++]=Ka,Ka=i;var f=Mi;i=Pi;var p=32-zt(f)-1;f&=~(1<<p),o+=1;var v=32-zt(u)+p;if(30<v){var I=p-p%5;v=(f&(1<<I)-1).toString(32),f>>=I,p-=I,Mi=1<<32-zt(u)+p|o<<p|f,Pi=v+i}else Mi=1<<v|o<<p|f,Pi=i}function Nd(i){i.return!==null&&(Ja(i,1),q1(i,1,0))}function Dd(i){for(;i===Pl;)Pl=ku[--Lu],ku[Lu]=null,Ul=ku[--Lu],ku[Lu]=null;for(;i===Ka;)Ka=Xr[--$r],Xr[$r]=null,Pi=Xr[--$r],Xr[$r]=null,Mi=Xr[--$r],Xr[$r]=null}var Ar=null,Mn=null,cn=!1,eu=null,_i=!1,Od=Error(r(519));function tu(i){var u=Error(r(418,""));throw Ws(Gr(u,i)),Od}function j1(i){var u=i.stateNode,o=i.type,f=i.memoizedProps;switch(u[et]=i,u[Xe]=f,o){case"dialog":Xt("cancel",u),Xt("close",u);break;case"iframe":case"object":case"embed":Xt("load",u);break;case"video":case"audio":for(o=0;o<vo.length;o++)Xt(vo[o],u);break;case"source":Xt("error",u);break;case"img":case"image":case"link":Xt("error",u),Xt("load",u);break;case"details":Xt("toggle",u);break;case"input":Xt("invalid",u),rt(u,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ye(u);break;case"select":Xt("invalid",u);break;case"textarea":Xt("invalid",u),un(u,f.value,f.defaultValue,f.children),ye(u)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||u.textContent===""+o||f.suppressHydrationWarning===!0||ub(u.textContent,o)?(f.popover!=null&&(Xt("beforetoggle",u),Xt("toggle",u)),f.onScroll!=null&&Xt("scroll",u),f.onScrollEnd!=null&&Xt("scrollend",u),f.onClick!=null&&(u.onclick=_c),u=!0):u=!1,u||tu(i)}function Y1(i){for(Ar=i.return;Ar;)switch(Ar.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Ar=Ar.return}}function Zs(i){if(i!==Ar)return!1;if(!cn)return Y1(i),cn=!0,!1;var u=i.tag,o;if((o=u!==3&&u!==27)&&((o=u===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Zh(i.type,i.memoizedProps)),o=!o),o&&Mn&&tu(i),Y1(i),u===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,u=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(u===0){Mn=li(i.nextSibling);break e}u--}else o!=="$"&&o!=="$!"&&o!=="$?"||u++;i=i.nextSibling}Mn=null}}else u===27?(u=Mn,Aa(i.type)?(i=$h,$h=null,Mn=i):Mn=u):Mn=Ar?li(i.stateNode.nextSibling):null;return!0}function Gs(){Mn=Ar=null,cn=!1}function V1(){var i=eu;return i!==null&&(Or===null?Or=i:Or.push.apply(Or,i),eu=null),i}function Ws(i){eu===null?eu=[i]:eu.push(i)}var Rd=Y(null),nu=null,Ui=null;function oa(i,u,o){xe(Rd,u._currentValue),u._currentValue=o}function Fi(i){i._currentValue=Rd.current,$(Rd)}function Id(i,u,o){for(;i!==null;){var f=i.alternate;if((i.childLanes&u)!==u?(i.childLanes|=u,f!==null&&(f.childLanes|=u)):f!==null&&(f.childLanes&u)!==u&&(f.childLanes|=u),i===o)break;i=i.return}}function kd(i,u,o,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var v=p.dependencies;if(v!==null){var I=p.child;v=v.firstContext;e:for(;v!==null;){var q=v;v=p;for(var ae=0;ae<u.length;ae++)if(q.context===u[ae]){v.lanes|=o,q=v.alternate,q!==null&&(q.lanes|=o),Id(v.return,o,i),f||(I=null);break e}v=q.next}}else if(p.tag===18){if(I=p.return,I===null)throw Error(r(341));I.lanes|=o,v=I.alternate,v!==null&&(v.lanes|=o),Id(I,o,i),I=null}else I=p.child;if(I!==null)I.return=p;else for(I=p;I!==null;){if(I===i){I=null;break}if(p=I.sibling,p!==null){p.return=I.return,I=p;break}I=I.return}p=I}}function Xs(i,u,o,f){i=null;for(var p=u,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var I=p.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var q=p.type;Br(p.pendingProps.value,I.value)||(i!==null?i.push(q):i=[q])}}else if(p===ht.current){if(I=p.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(So):i=[So])}p=p.return}i!==null&&kd(u,i,o,f),u.flags|=262144}function Fl(i){for(i=i.firstContext;i!==null;){if(!Br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ru(i){nu=i,Ui=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function gr(i){return Z1(nu,i)}function zl(i,u){return nu===null&&ru(i),Z1(i,u)}function Z1(i,u){var o=u._currentValue;if(u={context:u,memoizedValue:o,next:null},Ui===null){if(i===null)throw Error(r(308));Ui=u,i.dependencies={lanes:0,firstContext:u},i.flags|=524288}else Ui=Ui.next=u;return o}var p6=typeof AbortController<"u"?AbortController:function(){var i=[],u=this.signal={aborted:!1,addEventListener:function(o,f){i.push(f)}};this.abort=function(){u.aborted=!0,i.forEach(function(o){return o()})}},m6=t.unstable_scheduleCallback,g6=t.unstable_NormalPriority,Qn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new p6,data:new Map,refCount:0}}function $s(i){i.refCount--,i.refCount===0&&m6(g6,function(){i.controller.abort()})}var Qs=null,Bd=0,Bu=0,Mu=null;function b6(i,u){if(Qs===null){var o=Qs=[];Bd=0,Bu=Ph(),Mu={status:"pending",value:void 0,then:function(f){o.push(f)}}}return Bd++,u.then(G1,G1),u}function G1(){if(--Bd===0&&Qs!==null){Mu!==null&&(Mu.status="fulfilled");var i=Qs;Qs=null,Bu=0,Mu=null;for(var u=0;u<i.length;u++)(0,i[u])()}}function _6(i,u){var o=[],f={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){f.status="fulfilled",f.value=u;for(var p=0;p<o.length;p++)(0,o[p])(u)},function(p){for(f.status="rejected",f.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),f}var W1=re.S;re.S=function(i,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&b6(i,u),W1!==null&&W1(i,u)};var iu=Y(null);function Md(){var i=iu.current;return i!==null?i:Cn.pooledCache}function Hl(i,u){u===null?xe(iu,iu.current):xe(iu,u.pool)}function X1(){var i=Md();return i===null?null:{parent:Qn._currentValue,pool:i}}var Ks=Error(r(460)),$1=Error(r(474)),ql=Error(r(542)),Pd={then:function(){}};function Q1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jl(){}function K1(i,u,o){switch(o=i[o],o===void 0?i.push(u):o!==u&&(u.then(jl,jl),u=o),u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,e2(i),i;default:if(typeof u.status=="string")u.then(jl,jl);else{if(i=Cn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=u,i.status="pending",i.then(function(f){if(u.status==="pending"){var p=u;p.status="fulfilled",p.value=f}},function(f){if(u.status==="pending"){var p=u;p.status="rejected",p.reason=f}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw i=u.reason,e2(i),i}throw Js=u,Ks}}var Js=null;function J1(){if(Js===null)throw Error(r(459));var i=Js;return Js=null,i}function e2(i){if(i===Ks||i===ql)throw Error(r(483))}var la=!1;function Ud(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(i,u){i=i.updateQueue,u.updateQueue===i&&(u.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ca(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fa(i,u,o){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(hn&2)!==0){var p=f.pending;return p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u,u=Bl(i),z1(i,null,o),u}return Ll(i,f,u,o),Bl(i)}function eo(i,u,o){if(u=u.updateQueue,u!==null&&(u=u.shared,(o&4194048)!==0)){var f=u.lanes;f&=i.pendingLanes,o|=f,u.lanes=o,A(i,o)}}function zd(i,u){var o=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var p=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var I={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?p=v=I:v=v.next=I,o=o.next}while(o!==null);v===null?p=v=u:v=v.next=u}else p=v=u;o={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=u:i.next=u,o.lastBaseUpdate=u}var Hd=!1;function to(){if(Hd){var i=Mu;if(i!==null)throw i}}function no(i,u,o,f){Hd=!1;var p=i.updateQueue;la=!1;var v=p.firstBaseUpdate,I=p.lastBaseUpdate,q=p.shared.pending;if(q!==null){p.shared.pending=null;var ae=q,Ce=ae.next;ae.next=null,I===null?v=Ce:I.next=Ce,I=ae;var Fe=i.alternate;Fe!==null&&(Fe=Fe.updateQueue,q=Fe.lastBaseUpdate,q!==I&&(q===null?Fe.firstBaseUpdate=Ce:q.next=Ce,Fe.lastBaseUpdate=ae))}if(v!==null){var je=p.baseState;I=0,Fe=Ce=ae=null,q=v;do{var Oe=q.lane&-536870913,Ie=Oe!==q.lane;if(Ie?(Jt&Oe)===Oe:(f&Oe)===Oe){Oe!==0&&Oe===Bu&&(Hd=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var kt=i,Ct=q;Oe=u;var _n=o;switch(Ct.tag){case 1:if(kt=Ct.payload,typeof kt=="function"){je=kt.call(_n,je,Oe);break e}je=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Ct.payload,Oe=typeof kt=="function"?kt.call(_n,je,Oe):kt,Oe==null)break e;je=m({},je,Oe);break e;case 2:la=!0}}Oe=q.callback,Oe!==null&&(i.flags|=64,Ie&&(i.flags|=8192),Ie=p.callbacks,Ie===null?p.callbacks=[Oe]:Ie.push(Oe))}else Ie={lane:Oe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Fe===null?(Ce=Fe=Ie,ae=je):Fe=Fe.next=Ie,I|=Oe;if(q=q.next,q===null){if(q=p.shared.pending,q===null)break;Ie=q,q=Ie.next,Ie.next=null,p.lastBaseUpdate=Ie,p.shared.pending=null}}while(!0);Fe===null&&(ae=je),p.baseState=ae,p.firstBaseUpdate=Ce,p.lastBaseUpdate=Fe,v===null&&(p.shared.lanes=0),va|=I,i.lanes=I,i.memoizedState=je}}function t2(i,u){if(typeof i!="function")throw Error(r(191,i));i.call(u)}function n2(i,u){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)t2(o[i],u)}var Pu=Y(null),Yl=Y(0);function r2(i,u){i=Zi,xe(Yl,i),xe(Pu,u),Zi=i|u.baseLanes}function qd(){xe(Yl,Zi),xe(Pu,Pu.current)}function jd(){Zi=Yl.current,$(Pu),$(Yl)}var da=0,jt=null,gn=null,Zn=null,Vl=!1,Uu=!1,au=!1,Zl=0,ro=0,Fu=null,v6=0;function zn(){throw Error(r(321))}function Yd(i,u){if(u===null)return!1;for(var o=0;o<u.length&&o<i.length;o++)if(!Br(i[o],u[o]))return!1;return!0}function Vd(i,u,o,f,p,v){return da=v,jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,re.H=i===null||i.memoizedState===null?z2:H2,au=!1,v=o(f,p),au=!1,Uu&&(v=a2(u,o,f,p)),i2(i),v}function i2(i){re.H=Kl;var u=gn!==null&&gn.next!==null;if(da=0,Zn=gn=jt=null,Vl=!1,ro=0,Fu=null,u)throw Error(r(300));i===null||nr||(i=i.dependencies,i!==null&&Fl(i)&&(nr=!0))}function a2(i,u,o,f){jt=i;var p=0;do{if(Uu&&(Fu=null),ro=0,Uu=!1,25<=p)throw Error(r(301));if(p+=1,Zn=gn=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}re.H=w6,v=u(o,f)}while(Uu);return v}function E6(){var i=re.H,u=i.useState()[0];return u=typeof u.then=="function"?io(u):u,i=i.useState()[0],(gn!==null?gn.memoizedState:null)!==i&&(jt.flags|=1024),u}function Zd(){var i=Zl!==0;return Zl=0,i}function Gd(i,u,o){u.updateQueue=i.updateQueue,u.flags&=-2053,i.lanes&=~o}function Wd(i){if(Vl){for(i=i.memoizedState;i!==null;){var u=i.queue;u!==null&&(u.pending=null),i=i.next}Vl=!1}da=0,Zn=gn=jt=null,Uu=!1,ro=Zl=0,Fu=null}function Nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?jt.memoizedState=Zn=i:Zn=Zn.next=i,Zn}function Gn(){if(gn===null){var i=jt.alternate;i=i!==null?i.memoizedState:null}else i=gn.next;var u=Zn===null?jt.memoizedState:Zn.next;if(u!==null)Zn=u,gn=i;else{if(i===null)throw jt.alternate===null?Error(r(467)):Error(r(310));gn=i,i={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Zn===null?jt.memoizedState=Zn=i:Zn=Zn.next=i}return Zn}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(i){var u=ro;return ro+=1,Fu===null&&(Fu=[]),i=K1(Fu,i,u),u=jt,(Zn===null?u.memoizedState:Zn.next)===null&&(u=u.alternate,re.H=u===null||u.memoizedState===null?z2:H2),i}function Gl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return io(i);if(i.$$typeof===D)return gr(i)}throw Error(r(438,String(i)))}function $d(i){var u=null,o=jt.updateQueue;if(o!==null&&(u=o.memoCache),u==null){var f=jt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(u={data:f.data.map(function(p){return p.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),o===null&&(o=Xd(),jt.updateQueue=o),o.memoCache=u,o=u.data[u.index],o===void 0)for(o=u.data[u.index]=Array(i),f=0;f<i;f++)o[f]=H;return u.index++,o}function zi(i,u){return typeof u=="function"?u(i):u}function Wl(i){var u=Gn();return Qd(u,gn,i)}function Qd(i,u,o){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=i.baseQueue,v=f.pending;if(v!==null){if(p!==null){var I=p.next;p.next=v.next,v.next=I}u.baseQueue=p=v,f.pending=null}if(v=i.baseState,p===null)i.memoizedState=v;else{u=p.next;var q=I=null,ae=null,Ce=u,Fe=!1;do{var je=Ce.lane&-536870913;if(je!==Ce.lane?(Jt&je)===je:(da&je)===je){var Oe=Ce.revertLane;if(Oe===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),je===Bu&&(Fe=!0);else if((da&Oe)===Oe){Ce=Ce.next,Oe===Bu&&(Fe=!0);continue}else je={lane:0,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ae===null?(q=ae=je,I=v):ae=ae.next=je,jt.lanes|=Oe,va|=Oe;je=Ce.action,au&&o(v,je),v=Ce.hasEagerState?Ce.eagerState:o(v,je)}else Oe={lane:je,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},ae===null?(q=ae=Oe,I=v):ae=ae.next=Oe,jt.lanes|=je,va|=je;Ce=Ce.next}while(Ce!==null&&Ce!==u);if(ae===null?I=v:ae.next=q,!Br(v,i.memoizedState)&&(nr=!0,Fe&&(o=Mu,o!==null)))throw o;i.memoizedState=v,i.baseState=I,i.baseQueue=ae,f.lastRenderedState=v}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Kd(i){var u=Gn(),o=u.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var f=o.dispatch,p=o.pending,v=u.memoizedState;if(p!==null){o.pending=null;var I=p=p.next;do v=i(v,I.action),I=I.next;while(I!==p);Br(v,u.memoizedState)||(nr=!0),u.memoizedState=v,u.baseQueue===null&&(u.baseState=v),o.lastRenderedState=v}return[v,f]}function u2(i,u,o){var f=jt,p=Gn(),v=cn;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=u();var I=!Br((gn||p).memoizedState,o);I&&(p.memoizedState=o,nr=!0),p=p.queue;var q=l2.bind(null,f,p,i);if(ao(2048,8,q,[i]),p.getSnapshot!==u||I||Zn!==null&&Zn.memoizedState.tag&1){if(f.flags|=2048,zu(9,Xl(),o2.bind(null,f,p,o,u),null),Cn===null)throw Error(r(349));v||(da&124)!==0||s2(f,u,o)}return o}function s2(i,u,o){i.flags|=16384,i={getSnapshot:u,value:o},u=jt.updateQueue,u===null?(u=Xd(),jt.updateQueue=u,u.stores=[i]):(o=u.stores,o===null?u.stores=[i]:o.push(i))}function o2(i,u,o,f){u.value=o,u.getSnapshot=f,c2(u)&&f2(i)}function l2(i,u,o){return o(function(){c2(u)&&f2(i)})}function c2(i){var u=i.getSnapshot;i=i.value;try{var o=u();return!Br(i,o)}catch{return!0}}function f2(i){var u=Ru(i,2);u!==null&&Hr(u,i,2)}function Jd(i){var u=Nr();if(typeof i=="function"){var o=i;if(i=o(),au){yt(!0);try{o()}finally{yt(!1)}}}return u.memoizedState=u.baseState=i,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:i},u}function d2(i,u,o,f){return i.baseState=o,Qd(i,gn,typeof f=="function"?f:zi)}function y6(i,u,o,f,p){if(Ql(i))throw Error(r(485));if(i=u.action,i!==null){var v={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){v.listeners.push(I)}};re.T!==null?o(!0):v.isTransition=!1,f(v),o=u.pending,o===null?(v.next=u.pending=v,h2(u,v)):(v.next=o.next,u.pending=o.next=v)}}function h2(i,u){var o=u.action,f=u.payload,p=i.state;if(u.isTransition){var v=re.T,I={};re.T=I;try{var q=o(p,f),ae=re.S;ae!==null&&ae(I,q),p2(i,u,q)}catch(Ce){eh(i,u,Ce)}finally{re.T=v}}else try{v=o(p,f),p2(i,u,v)}catch(Ce){eh(i,u,Ce)}}function p2(i,u,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){m2(i,u,f)},function(f){return eh(i,u,f)}):m2(i,u,o)}function m2(i,u,o){u.status="fulfilled",u.value=o,g2(u),i.state=o,u=i.pending,u!==null&&(o=u.next,o===u?i.pending=null:(o=o.next,u.next=o,h2(i,o)))}function eh(i,u,o){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do u.status="rejected",u.reason=o,g2(u),u=u.next;while(u!==f)}i.action=null}function g2(i){i=i.listeners;for(var u=0;u<i.length;u++)(0,i[u])()}function b2(i,u){return u}function _2(i,u){if(cn){var o=Cn.formState;if(o!==null){e:{var f=jt;if(cn){if(Mn){t:{for(var p=Mn,v=_i;p.nodeType!==8;){if(!v){p=null;break t}if(p=li(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Mn=li(p.nextSibling),f=p.data==="F!";break e}}tu(f)}f=!1}f&&(u=o[0])}}return o=Nr(),o.memoizedState=o.baseState=u,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b2,lastRenderedState:u},o.queue=f,o=P2.bind(null,jt,f),f.dispatch=o,f=Jd(!1),v=ah.bind(null,jt,!1,f.queue),f=Nr(),p={state:u,dispatch:null,action:i,pending:null},f.queue=p,o=y6.bind(null,jt,p,v,o),p.dispatch=o,f.memoizedState=i,[u,o,!1]}function v2(i){var u=Gn();return E2(u,gn,i)}function E2(i,u,o){if(u=Qd(i,u,b2)[0],i=Wl(zi)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var f=io(u)}catch(I){throw I===Ks?ql:I}else f=u;u=Gn();var p=u.queue,v=p.dispatch;return o!==u.memoizedState&&(jt.flags|=2048,zu(9,Xl(),T6.bind(null,p,o),null)),[f,v,i]}function T6(i,u){i.action=u}function y2(i){var u=Gn(),o=gn;if(o!==null)return E2(u,o,i);Gn(),u=u.memoizedState,o=Gn();var f=o.queue.dispatch;return o.memoizedState=i,[u,f,!1]}function zu(i,u,o,f){return i={tag:i,create:o,deps:f,inst:u,next:null},u=jt.updateQueue,u===null&&(u=Xd(),jt.updateQueue=u),o=u.lastEffect,o===null?u.lastEffect=i.next=i:(f=o.next,o.next=i,i.next=f,u.lastEffect=i),i}function Xl(){return{destroy:void 0,resource:void 0}}function T2(){return Gn().memoizedState}function $l(i,u,o,f){var p=Nr();f=f===void 0?null:f,jt.flags|=i,p.memoizedState=zu(1|u,Xl(),o,f)}function ao(i,u,o,f){var p=Gn();f=f===void 0?null:f;var v=p.memoizedState.inst;gn!==null&&f!==null&&Yd(f,gn.memoizedState.deps)?p.memoizedState=zu(u,v,o,f):(jt.flags|=i,p.memoizedState=zu(1|u,v,o,f))}function A2(i,u){$l(8390656,8,i,u)}function x2(i,u){ao(2048,8,i,u)}function S2(i,u){return ao(4,2,i,u)}function w2(i,u){return ao(4,4,i,u)}function C2(i,u){if(typeof u=="function"){i=i();var o=u(i);return function(){typeof o=="function"?o():u(null)}}if(u!=null)return i=i(),u.current=i,function(){u.current=null}}function N2(i,u,o){o=o!=null?o.concat([i]):null,ao(4,4,C2.bind(null,u,i),o)}function th(){}function D2(i,u){var o=Gn();u=u===void 0?null:u;var f=o.memoizedState;return u!==null&&Yd(u,f[1])?f[0]:(o.memoizedState=[i,u],i)}function O2(i,u){var o=Gn();u=u===void 0?null:u;var f=o.memoizedState;if(u!==null&&Yd(u,f[1]))return f[0];if(f=i(),au){yt(!0);try{i()}finally{yt(!1)}}return o.memoizedState=[f,u],f}function nh(i,u,o){return o===void 0||(da&1073741824)!==0?i.memoizedState=u:(i.memoizedState=o,i=kg(),jt.lanes|=i,va|=i,o)}function R2(i,u,o,f){return Br(o,u)?o:Pu.current!==null?(i=nh(i,o,f),Br(i,u)||(nr=!0),i):(da&42)===0?(nr=!0,i.memoizedState=o):(i=kg(),jt.lanes|=i,va|=i,u)}function I2(i,u,o,f,p){var v=ee.p;ee.p=v!==0&&8>v?v:8;var I=re.T,q={};re.T=q,ah(i,!1,u,o);try{var ae=p(),Ce=re.S;if(Ce!==null&&Ce(q,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Fe=_6(ae,f);uo(i,u,Fe,zr(i))}else uo(i,u,f,zr(i))}catch(je){uo(i,u,{then:function(){},status:"rejected",reason:je},zr())}finally{ee.p=v,re.T=I}}function A6(){}function rh(i,u,o,f){if(i.tag!==5)throw Error(r(476));var p=k2(i).queue;I2(i,p,u,ge,o===null?A6:function(){return L2(i),o(f)})}function k2(i){var u=i.memoizedState;if(u!==null)return u;u={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ge},next:null};var o={};return u.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:o},next:null},i.memoizedState=u,i=i.alternate,i!==null&&(i.memoizedState=u),u}function L2(i){var u=k2(i).next.queue;uo(i,u,{},zr())}function ih(){return gr(So)}function B2(){return Gn().memoizedState}function M2(){return Gn().memoizedState}function x6(i){for(var u=i.return;u!==null;){switch(u.tag){case 24:case 3:var o=zr();i=ca(o);var f=fa(u,i,o);f!==null&&(Hr(f,u,o),eo(f,u,o)),u={cache:Ld()},i.payload=u;return}u=u.return}}function S6(i,u,o){var f=zr();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ql(i)?U2(u,o):(o=xd(i,u,o,f),o!==null&&(Hr(o,i,f),F2(o,u,f)))}function P2(i,u,o){var f=zr();uo(i,u,o,f)}function uo(i,u,o,f){var p={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ql(i))U2(u,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=u.lastRenderedReducer,v!==null))try{var I=u.lastRenderedState,q=v(I,o);if(p.hasEagerState=!0,p.eagerState=q,Br(q,I))return Ll(i,u,p,0),Cn===null&&kl(),!1}catch{}finally{}if(o=xd(i,u,p,f),o!==null)return Hr(o,i,f),F2(o,u,f),!0}return!1}function ah(i,u,o,f){if(f={lane:2,revertLane:Ph(),action:f,hasEagerState:!1,eagerState:null,next:null},Ql(i)){if(u)throw Error(r(479))}else u=xd(i,o,f,2),u!==null&&Hr(u,i,2)}function Ql(i){var u=i.alternate;return i===jt||u!==null&&u===jt}function U2(i,u){Uu=Vl=!0;var o=i.pending;o===null?u.next=u:(u.next=o.next,o.next=u),i.pending=u}function F2(i,u,o){if((o&4194048)!==0){var f=u.lanes;f&=i.pendingLanes,o|=f,u.lanes=o,A(i,o)}}var Kl={readContext:gr,use:Gl,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn},z2={readContext:gr,use:Gl,useCallback:function(i,u){return Nr().memoizedState=[i,u===void 0?null:u],i},useContext:gr,useEffect:A2,useImperativeHandle:function(i,u,o){o=o!=null?o.concat([i]):null,$l(4194308,4,C2.bind(null,u,i),o)},useLayoutEffect:function(i,u){return $l(4194308,4,i,u)},useInsertionEffect:function(i,u){$l(4,2,i,u)},useMemo:function(i,u){var o=Nr();u=u===void 0?null:u;var f=i();if(au){yt(!0);try{i()}finally{yt(!1)}}return o.memoizedState=[f,u],f},useReducer:function(i,u,o){var f=Nr();if(o!==void 0){var p=o(u);if(au){yt(!0);try{o(u)}finally{yt(!1)}}}else p=u;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=S6.bind(null,jt,i),[f.memoizedState,i]},useRef:function(i){var u=Nr();return i={current:i},u.memoizedState=i},useState:function(i){i=Jd(i);var u=i.queue,o=P2.bind(null,jt,u);return u.dispatch=o,[i.memoizedState,o]},useDebugValue:th,useDeferredValue:function(i,u){var o=Nr();return nh(o,i,u)},useTransition:function(){var i=Jd(!1);return i=I2.bind(null,jt,i.queue,!0,!1),Nr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,u,o){var f=jt,p=Nr();if(cn){if(o===void 0)throw Error(r(407));o=o()}else{if(o=u(),Cn===null)throw Error(r(349));(Jt&124)!==0||s2(f,u,o)}p.memoizedState=o;var v={value:o,getSnapshot:u};return p.queue=v,A2(l2.bind(null,f,v,i),[i]),f.flags|=2048,zu(9,Xl(),o2.bind(null,f,v,o,u),null),o},useId:function(){var i=Nr(),u=Cn.identifierPrefix;if(cn){var o=Pi,f=Mi;o=(f&~(1<<32-zt(f)-1)).toString(32)+o,u=""+u+"R"+o,o=Zl++,0<o&&(u+="H"+o.toString(32)),u+=""}else o=v6++,u=""+u+"r"+o.toString(32)+"";return i.memoizedState=u},useHostTransitionStatus:ih,useFormState:_2,useActionState:_2,useOptimistic:function(i){var u=Nr();u.memoizedState=u.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=o,u=ah.bind(null,jt,!0,o),o.dispatch=u,[i,u]},useMemoCache:$d,useCacheRefresh:function(){return Nr().memoizedState=x6.bind(null,jt)}},H2={readContext:gr,use:Gl,useCallback:D2,useContext:gr,useEffect:x2,useImperativeHandle:N2,useInsertionEffect:S2,useLayoutEffect:w2,useMemo:O2,useReducer:Wl,useRef:T2,useState:function(){return Wl(zi)},useDebugValue:th,useDeferredValue:function(i,u){var o=Gn();return R2(o,gn.memoizedState,i,u)},useTransition:function(){var i=Wl(zi)[0],u=Gn().memoizedState;return[typeof i=="boolean"?i:io(i),u]},useSyncExternalStore:u2,useId:B2,useHostTransitionStatus:ih,useFormState:v2,useActionState:v2,useOptimistic:function(i,u){var o=Gn();return d2(o,gn,i,u)},useMemoCache:$d,useCacheRefresh:M2},w6={readContext:gr,use:Gl,useCallback:D2,useContext:gr,useEffect:x2,useImperativeHandle:N2,useInsertionEffect:S2,useLayoutEffect:w2,useMemo:O2,useReducer:Kd,useRef:T2,useState:function(){return Kd(zi)},useDebugValue:th,useDeferredValue:function(i,u){var o=Gn();return gn===null?nh(o,i,u):R2(o,gn.memoizedState,i,u)},useTransition:function(){var i=Kd(zi)[0],u=Gn().memoizedState;return[typeof i=="boolean"?i:io(i),u]},useSyncExternalStore:u2,useId:B2,useHostTransitionStatus:ih,useFormState:y2,useActionState:y2,useOptimistic:function(i,u){var o=Gn();return gn!==null?d2(o,gn,i,u):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:$d,useCacheRefresh:M2},Hu=null,so=0;function Jl(i){var u=so;return so+=1,Hu===null&&(Hu=[]),K1(Hu,i,u)}function oo(i,u){u=u.props.ref,i.ref=u!==void 0?u:null}function ec(i,u){throw u.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(u),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":i)))}function q2(i){var u=i._init;return u(i._payload)}function j2(i){function u(Ee,he){if(i){var we=Ee.deletions;we===null?(Ee.deletions=[he],Ee.flags|=16):we.push(he)}}function o(Ee,he){if(!i)return null;for(;he!==null;)u(Ee,he),he=he.sibling;return null}function f(Ee){for(var he=new Map;Ee!==null;)Ee.key!==null?he.set(Ee.key,Ee):he.set(Ee.index,Ee),Ee=Ee.sibling;return he}function p(Ee,he){return Ee=Bi(Ee,he),Ee.index=0,Ee.sibling=null,Ee}function v(Ee,he,we){return Ee.index=we,i?(we=Ee.alternate,we!==null?(we=we.index,we<he?(Ee.flags|=67108866,he):we):(Ee.flags|=67108866,he)):(Ee.flags|=1048576,he)}function I(Ee){return i&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function q(Ee,he,we,qe){return he===null||he.tag!==6?(he=wd(we,Ee.mode,qe),he.return=Ee,he):(he=p(he,we),he.return=Ee,he)}function ae(Ee,he,we,qe){var mt=we.type;return mt===N?Fe(Ee,he,we.props.children,qe,we.key):he!==null&&(he.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===F&&q2(mt)===he.type)?(he=p(he,we.props),oo(he,we),he.return=Ee,he):(he=Ml(we.type,we.key,we.props,null,Ee.mode,qe),oo(he,we),he.return=Ee,he)}function Ce(Ee,he,we,qe){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=Cd(we,Ee.mode,qe),he.return=Ee,he):(he=p(he,we.children||[]),he.return=Ee,he)}function Fe(Ee,he,we,qe,mt){return he===null||he.tag!==7?(he=Qa(we,Ee.mode,qe,mt),he.return=Ee,he):(he=p(he,we),he.return=Ee,he)}function je(Ee,he,we){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=wd(""+he,Ee.mode,we),he.return=Ee,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return we=Ml(he.type,he.key,he.props,null,Ee.mode,we),oo(we,he),we.return=Ee,we;case b:return he=Cd(he,Ee.mode,we),he.return=Ee,he;case F:var qe=he._init;return he=qe(he._payload),je(Ee,he,we)}if(se(he)||U(he))return he=Qa(he,Ee.mode,we,null),he.return=Ee,he;if(typeof he.then=="function")return je(Ee,Jl(he),we);if(he.$$typeof===D)return je(Ee,zl(Ee,he),we);ec(Ee,he)}return null}function Oe(Ee,he,we,qe){var mt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return mt!==null?null:q(Ee,he,""+we,qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case w:return we.key===mt?ae(Ee,he,we,qe):null;case b:return we.key===mt?Ce(Ee,he,we,qe):null;case F:return mt=we._init,we=mt(we._payload),Oe(Ee,he,we,qe)}if(se(we)||U(we))return mt!==null?null:Fe(Ee,he,we,qe,null);if(typeof we.then=="function")return Oe(Ee,he,Jl(we),qe);if(we.$$typeof===D)return Oe(Ee,he,zl(Ee,we),qe);ec(Ee,we)}return null}function Ie(Ee,he,we,qe,mt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ee=Ee.get(we)||null,q(he,Ee,""+qe,mt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case w:return Ee=Ee.get(qe.key===null?we:qe.key)||null,ae(he,Ee,qe,mt);case b:return Ee=Ee.get(qe.key===null?we:qe.key)||null,Ce(he,Ee,qe,mt);case F:var Yt=qe._init;return qe=Yt(qe._payload),Ie(Ee,he,we,qe,mt)}if(se(qe)||U(qe))return Ee=Ee.get(we)||null,Fe(he,Ee,qe,mt,null);if(typeof qe.then=="function")return Ie(Ee,he,we,Jl(qe),mt);if(qe.$$typeof===D)return Ie(Ee,he,we,zl(he,qe),mt);ec(he,qe)}return null}function kt(Ee,he,we,qe){for(var mt=null,Yt=null,vt=he,Dt=he=0,ir=null;vt!==null&&Dt<we.length;Dt++){vt.index>Dt?(ir=vt,vt=null):ir=vt.sibling;var sn=Oe(Ee,vt,we[Dt],qe);if(sn===null){vt===null&&(vt=ir);break}i&&vt&&sn.alternate===null&&u(Ee,vt),he=v(sn,he,Dt),Yt===null?mt=sn:Yt.sibling=sn,Yt=sn,vt=ir}if(Dt===we.length)return o(Ee,vt),cn&&Ja(Ee,Dt),mt;if(vt===null){for(;Dt<we.length;Dt++)vt=je(Ee,we[Dt],qe),vt!==null&&(he=v(vt,he,Dt),Yt===null?mt=vt:Yt.sibling=vt,Yt=vt);return cn&&Ja(Ee,Dt),mt}for(vt=f(vt);Dt<we.length;Dt++)ir=Ie(vt,Ee,Dt,we[Dt],qe),ir!==null&&(i&&ir.alternate!==null&&vt.delete(ir.key===null?Dt:ir.key),he=v(ir,he,Dt),Yt===null?mt=ir:Yt.sibling=ir,Yt=ir);return i&&vt.forEach(function(Na){return u(Ee,Na)}),cn&&Ja(Ee,Dt),mt}function Ct(Ee,he,we,qe){if(we==null)throw Error(r(151));for(var mt=null,Yt=null,vt=he,Dt=he=0,ir=null,sn=we.next();vt!==null&&!sn.done;Dt++,sn=we.next()){vt.index>Dt?(ir=vt,vt=null):ir=vt.sibling;var Na=Oe(Ee,vt,sn.value,qe);if(Na===null){vt===null&&(vt=ir);break}i&&vt&&Na.alternate===null&&u(Ee,vt),he=v(Na,he,Dt),Yt===null?mt=Na:Yt.sibling=Na,Yt=Na,vt=ir}if(sn.done)return o(Ee,vt),cn&&Ja(Ee,Dt),mt;if(vt===null){for(;!sn.done;Dt++,sn=we.next())sn=je(Ee,sn.value,qe),sn!==null&&(he=v(sn,he,Dt),Yt===null?mt=sn:Yt.sibling=sn,Yt=sn);return cn&&Ja(Ee,Dt),mt}for(vt=f(vt);!sn.done;Dt++,sn=we.next())sn=Ie(vt,Ee,Dt,sn.value,qe),sn!==null&&(i&&sn.alternate!==null&&vt.delete(sn.key===null?Dt:sn.key),he=v(sn,he,Dt),Yt===null?mt=sn:Yt.sibling=sn,Yt=sn);return i&&vt.forEach(function(CA){return u(Ee,CA)}),cn&&Ja(Ee,Dt),mt}function _n(Ee,he,we,qe){if(typeof we=="object"&&we!==null&&we.type===N&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case w:e:{for(var mt=we.key;he!==null;){if(he.key===mt){if(mt=we.type,mt===N){if(he.tag===7){o(Ee,he.sibling),qe=p(he,we.props.children),qe.return=Ee,Ee=qe;break e}}else if(he.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===F&&q2(mt)===he.type){o(Ee,he.sibling),qe=p(he,we.props),oo(qe,we),qe.return=Ee,Ee=qe;break e}o(Ee,he);break}else u(Ee,he);he=he.sibling}we.type===N?(qe=Qa(we.props.children,Ee.mode,qe,we.key),qe.return=Ee,Ee=qe):(qe=Ml(we.type,we.key,we.props,null,Ee.mode,qe),oo(qe,we),qe.return=Ee,Ee=qe)}return I(Ee);case b:e:{for(mt=we.key;he!==null;){if(he.key===mt)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){o(Ee,he.sibling),qe=p(he,we.children||[]),qe.return=Ee,Ee=qe;break e}else{o(Ee,he);break}else u(Ee,he);he=he.sibling}qe=Cd(we,Ee.mode,qe),qe.return=Ee,Ee=qe}return I(Ee);case F:return mt=we._init,we=mt(we._payload),_n(Ee,he,we,qe)}if(se(we))return kt(Ee,he,we,qe);if(U(we)){if(mt=U(we),typeof mt!="function")throw Error(r(150));return we=mt.call(we),Ct(Ee,he,we,qe)}if(typeof we.then=="function")return _n(Ee,he,Jl(we),qe);if(we.$$typeof===D)return _n(Ee,he,zl(Ee,we),qe);ec(Ee,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,he!==null&&he.tag===6?(o(Ee,he.sibling),qe=p(he,we),qe.return=Ee,Ee=qe):(o(Ee,he),qe=wd(we,Ee.mode,qe),qe.return=Ee,Ee=qe),I(Ee)):o(Ee,he)}return function(Ee,he,we,qe){try{so=0;var mt=_n(Ee,he,we,qe);return Hu=null,mt}catch(vt){if(vt===Ks||vt===ql)throw vt;var Yt=Mr(29,vt,null,Ee.mode);return Yt.lanes=qe,Yt.return=Ee,Yt}finally{}}}var qu=j2(!0),Y2=j2(!1),Qr=Y(null),vi=null;function ha(i){var u=i.alternate;xe(Kn,Kn.current&1),xe(Qr,i),vi===null&&(u===null||Pu.current!==null||u.memoizedState!==null)&&(vi=i)}function V2(i){if(i.tag===22){if(xe(Kn,Kn.current),xe(Qr,i),vi===null){var u=i.alternate;u!==null&&u.memoizedState!==null&&(vi=i)}}else pa()}function pa(){xe(Kn,Kn.current),xe(Qr,Qr.current)}function Hi(i){$(Qr),vi===i&&(vi=null),$(Kn)}var Kn=Y(0);function tc(i){for(var u=i;u!==null;){if(u.tag===13){var o=u.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Xh(o)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function uh(i,u,o,f){u=i.memoizedState,o=o(f,u),o=o==null?u:m({},u,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var sh={enqueueSetState:function(i,u,o){i=i._reactInternals;var f=zr(),p=ca(f);p.payload=u,o!=null&&(p.callback=o),u=fa(i,p,f),u!==null&&(Hr(u,i,f),eo(u,i,f))},enqueueReplaceState:function(i,u,o){i=i._reactInternals;var f=zr(),p=ca(f);p.tag=1,p.payload=u,o!=null&&(p.callback=o),u=fa(i,p,f),u!==null&&(Hr(u,i,f),eo(u,i,f))},enqueueForceUpdate:function(i,u){i=i._reactInternals;var o=zr(),f=ca(o);f.tag=2,u!=null&&(f.callback=u),u=fa(i,f,o),u!==null&&(Hr(u,i,o),eo(u,i,o))}};function Z2(i,u,o,f,p,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):u.prototype&&u.prototype.isPureReactComponent?!Ys(o,f)||!Ys(p,v):!0}function G2(i,u,o,f){i=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(o,f),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(o,f),u.state!==i&&sh.enqueueReplaceState(u,u.state,null)}function uu(i,u){var o=u;if("ref"in u){o={};for(var f in u)f!=="ref"&&(o[f]=u[f])}if(i=i.defaultProps){o===u&&(o=m({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var nc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function W2(i){nc(i)}function X2(i){console.error(i)}function $2(i){nc(i)}function rc(i,u){try{var o=i.onUncaughtError;o(u.value,{componentStack:u.stack})}catch(f){setTimeout(function(){throw f})}}function Q2(i,u,o){try{var f=i.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function oh(i,u,o){return o=ca(o),o.tag=3,o.payload={element:null},o.callback=function(){rc(i,u)},o}function K2(i){return i=ca(i),i.tag=3,i}function J2(i,u,o,f){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var v=f.value;i.payload=function(){return p(v)},i.callback=function(){Q2(u,o,f)}}var I=o.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){Q2(u,o,f),typeof p!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var q=f.stack;this.componentDidCatch(f.value,{componentStack:q!==null?q:""})})}function C6(i,u,o,f,p){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(u=o.alternate,u!==null&&Xs(u,o,p,!0),o=Qr.current,o!==null){switch(o.tag){case 13:return vi===null?Ih():o.alternate===null&&Pn===0&&(Pn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,f===Pd?o.flags|=16384:(u=o.updateQueue,u===null?o.updateQueue=new Set([f]):u.add(f),Lh(i,f,p)),!1;case 22:return o.flags|=65536,f===Pd?o.flags|=16384:(u=o.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=u):(o=u.retryQueue,o===null?u.retryQueue=new Set([f]):o.add(f)),Lh(i,f,p)),!1}throw Error(r(435,o.tag))}return Lh(i,f,p),Ih(),!1}if(cn)return u=Qr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=p,f!==Od&&(i=Error(r(422),{cause:f}),Ws(Gr(i,o)))):(f!==Od&&(u=Error(r(423),{cause:f}),Ws(Gr(u,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=Gr(f,o),p=oh(i.stateNode,f,p),zd(i,p),Pn!==4&&(Pn=2)),!1;var v=Error(r(520),{cause:f});if(v=Gr(v,o),go===null?go=[v]:go.push(v),Pn!==4&&(Pn=2),u===null)return!0;f=Gr(f,o),o=u;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=oh(o.stateNode,f,i),zd(o,i),!1;case 1:if(u=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ea===null||!Ea.has(v))))return o.flags|=65536,p&=-p,o.lanes|=p,p=K2(p),J2(p,i,o,f),zd(o,p),!1}o=o.return}while(o!==null);return!1}var eg=Error(r(461)),nr=!1;function cr(i,u,o,f){u.child=i===null?Y2(u,null,o,f):qu(u,i.child,o,f)}function tg(i,u,o,f,p){o=o.render;var v=u.ref;if("ref"in f){var I={};for(var q in f)q!=="ref"&&(I[q]=f[q])}else I=f;return ru(u),f=Vd(i,u,o,I,v,p),q=Zd(),i!==null&&!nr?(Gd(i,u,p),qi(i,u,p)):(cn&&q&&Nd(u),u.flags|=1,cr(i,u,f,p),u.child)}function ng(i,u,o,f,p){if(i===null){var v=o.type;return typeof v=="function"&&!Sd(v)&&v.defaultProps===void 0&&o.compare===null?(u.tag=15,u.type=v,rg(i,u,v,f,p)):(i=Ml(o.type,null,f,u,u.mode,p),i.ref=u.ref,i.return=u,u.child=i)}if(v=i.child,!gh(i,p)){var I=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ys,o(I,f)&&i.ref===u.ref)return qi(i,u,p)}return u.flags|=1,i=Bi(v,f),i.ref=u.ref,i.return=u,u.child=i}function rg(i,u,o,f,p){if(i!==null){var v=i.memoizedProps;if(Ys(v,f)&&i.ref===u.ref)if(nr=!1,u.pendingProps=f=v,gh(i,p))(i.flags&131072)!==0&&(nr=!0);else return u.lanes=i.lanes,qi(i,u,p)}return lh(i,u,o,f,p)}function ig(i,u,o){var f=u.pendingProps,p=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((u.flags&128)!==0){if(f=v!==null?v.baseLanes|o:o,i!==null){for(p=u.child=i.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;u.childLanes=v&~f}else u.childLanes=0,u.child=null;return ag(i,u,f,o)}if((o&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hl(u,v!==null?v.cachePool:null),v!==null?r2(u,v):qd(),V2(u);else return u.lanes=u.childLanes=536870912,ag(i,u,v!==null?v.baseLanes|o:o,o)}else v!==null?(Hl(u,v.cachePool),r2(u,v),pa(),u.memoizedState=null):(i!==null&&Hl(u,null),qd(),pa());return cr(i,u,p,o),u.child}function ag(i,u,o,f){var p=Md();return p=p===null?null:{parent:Qn._currentValue,pool:p},u.memoizedState={baseLanes:o,cachePool:p},i!==null&&Hl(u,null),qd(),V2(u),i!==null&&Xs(i,u,f,!0),null}function ic(i,u){var o=u.ref;if(o===null)i!==null&&i.ref!==null&&(u.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(u.flags|=4194816)}}function lh(i,u,o,f,p){return ru(u),o=Vd(i,u,o,f,void 0,p),f=Zd(),i!==null&&!nr?(Gd(i,u,p),qi(i,u,p)):(cn&&f&&Nd(u),u.flags|=1,cr(i,u,o,p),u.child)}function ug(i,u,o,f,p,v){return ru(u),u.updateQueue=null,o=a2(u,f,o,p),i2(i),f=Zd(),i!==null&&!nr?(Gd(i,u,v),qi(i,u,v)):(cn&&f&&Nd(u),u.flags|=1,cr(i,u,o,v),u.child)}function sg(i,u,o,f,p){if(ru(u),u.stateNode===null){var v=Iu,I=o.contextType;typeof I=="object"&&I!==null&&(v=gr(I)),v=new o(f,v),u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=sh,u.stateNode=v,v._reactInternals=u,v=u.stateNode,v.props=f,v.state=u.memoizedState,v.refs={},Ud(u),I=o.contextType,v.context=typeof I=="object"&&I!==null?gr(I):Iu,v.state=u.memoizedState,I=o.getDerivedStateFromProps,typeof I=="function"&&(uh(u,o,I,f),v.state=u.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(I=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),I!==v.state&&sh.enqueueReplaceState(v,v.state,null),no(u,f,v,p),to(),v.state=u.memoizedState),typeof v.componentDidMount=="function"&&(u.flags|=4194308),f=!0}else if(i===null){v=u.stateNode;var q=u.memoizedProps,ae=uu(o,q);v.props=ae;var Ce=v.context,Fe=o.contextType;I=Iu,typeof Fe=="object"&&Fe!==null&&(I=gr(Fe));var je=o.getDerivedStateFromProps;Fe=typeof je=="function"||typeof v.getSnapshotBeforeUpdate=="function",q=u.pendingProps!==q,Fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(q||Ce!==I)&&G2(u,v,f,I),la=!1;var Oe=u.memoizedState;v.state=Oe,no(u,f,v,p),to(),Ce=u.memoizedState,q||Oe!==Ce||la?(typeof je=="function"&&(uh(u,o,je,f),Ce=u.memoizedState),(ae=la||Z2(u,o,ae,f,Oe,Ce,I))?(Fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(u.flags|=4194308)):(typeof v.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=f,u.memoizedState=Ce),v.props=f,v.state=Ce,v.context=I,f=ae):(typeof v.componentDidMount=="function"&&(u.flags|=4194308),f=!1)}else{v=u.stateNode,Fd(i,u),I=u.memoizedProps,Fe=uu(o,I),v.props=Fe,je=u.pendingProps,Oe=v.context,Ce=o.contextType,ae=Iu,typeof Ce=="object"&&Ce!==null&&(ae=gr(Ce)),q=o.getDerivedStateFromProps,(Ce=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==je||Oe!==ae)&&G2(u,v,f,ae),la=!1,Oe=u.memoizedState,v.state=Oe,no(u,f,v,p),to();var Ie=u.memoizedState;I!==je||Oe!==Ie||la||i!==null&&i.dependencies!==null&&Fl(i.dependencies)?(typeof q=="function"&&(uh(u,o,q,f),Ie=u.memoizedState),(Fe=la||Z2(u,o,Fe,f,Oe,Ie,ae)||i!==null&&i.dependencies!==null&&Fl(i.dependencies))?(Ce||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,Ie,ae),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,Ie,ae)),typeof v.componentDidUpdate=="function"&&(u.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===i.memoizedProps&&Oe===i.memoizedState||(u.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Oe===i.memoizedState||(u.flags|=1024),u.memoizedProps=f,u.memoizedState=Ie),v.props=f,v.state=Ie,v.context=ae,f=Fe):(typeof v.componentDidUpdate!="function"||I===i.memoizedProps&&Oe===i.memoizedState||(u.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&Oe===i.memoizedState||(u.flags|=1024),f=!1)}return v=f,ic(i,u),f=(u.flags&128)!==0,v||f?(v=u.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:v.render(),u.flags|=1,i!==null&&f?(u.child=qu(u,i.child,null,p),u.child=qu(u,null,o,p)):cr(i,u,o,p),u.memoizedState=v.state,i=u.child):i=qi(i,u,p),i}function og(i,u,o,f){return Gs(),u.flags|=256,cr(i,u,o,f),u.child}var ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(i){return{baseLanes:i,cachePool:X1()}}function dh(i,u,o){return i=i!==null?i.childLanes&~o:0,u&&(i|=Kr),i}function lg(i,u,o){var f=u.pendingProps,p=!1,v=(u.flags&128)!==0,I;if((I=v)||(I=i!==null&&i.memoizedState===null?!1:(Kn.current&2)!==0),I&&(p=!0,u.flags&=-129),I=(u.flags&32)!==0,u.flags&=-33,i===null){if(cn){if(p?ha(u):pa(),cn){var q=Mn,ae;if(ae=q){e:{for(ae=q,q=_i;ae.nodeType!==8;){if(!q){q=null;break e}if(ae=li(ae.nextSibling),ae===null){q=null;break e}}q=ae}q!==null?(u.memoizedState={dehydrated:q,treeContext:Ka!==null?{id:Mi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},ae=Mr(18,null,null,0),ae.stateNode=q,ae.return=u,u.child=ae,Ar=u,Mn=null,ae=!0):ae=!1}ae||tu(u)}if(q=u.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Xh(q)?u.lanes=32:u.lanes=536870912,null;Hi(u)}return q=f.children,f=f.fallback,p?(pa(),p=u.mode,q=ac({mode:"hidden",children:q},p),f=Qa(f,p,o,null),q.return=u,f.return=u,q.sibling=f,u.child=q,p=u.child,p.memoizedState=fh(o),p.childLanes=dh(i,I,o),u.memoizedState=ch,f):(ha(u),hh(u,q))}if(ae=i.memoizedState,ae!==null&&(q=ae.dehydrated,q!==null)){if(v)u.flags&256?(ha(u),u.flags&=-257,u=ph(i,u,o)):u.memoizedState!==null?(pa(),u.child=i.child,u.flags|=128,u=null):(pa(),p=f.fallback,q=u.mode,f=ac({mode:"visible",children:f.children},q),p=Qa(p,q,o,null),p.flags|=2,f.return=u,p.return=u,f.sibling=p,u.child=f,qu(u,i.child,null,o),f=u.child,f.memoizedState=fh(o),f.childLanes=dh(i,I,o),u.memoizedState=ch,u=p);else if(ha(u),Xh(q)){if(I=q.nextSibling&&q.nextSibling.dataset,I)var Ce=I.dgst;I=Ce,f=Error(r(419)),f.stack="",f.digest=I,Ws({value:f,source:null,stack:null}),u=ph(i,u,o)}else if(nr||Xs(i,u,o,!1),I=(o&i.childLanes)!==0,nr||I){if(I=Cn,I!==null&&(f=o&-o,f=(f&42)!==0?1:ue(f),f=(f&(I.suspendedLanes|o))!==0?0:f,f!==0&&f!==ae.retryLane))throw ae.retryLane=f,Ru(i,f),Hr(I,i,f),eg;q.data==="$?"||Ih(),u=ph(i,u,o)}else q.data==="$?"?(u.flags|=192,u.child=i.child,u=null):(i=ae.treeContext,Mn=li(q.nextSibling),Ar=u,cn=!0,eu=null,_i=!1,i!==null&&(Xr[$r++]=Mi,Xr[$r++]=Pi,Xr[$r++]=Ka,Mi=i.id,Pi=i.overflow,Ka=u),u=hh(u,f.children),u.flags|=4096);return u}return p?(pa(),p=f.fallback,q=u.mode,ae=i.child,Ce=ae.sibling,f=Bi(ae,{mode:"hidden",children:f.children}),f.subtreeFlags=ae.subtreeFlags&65011712,Ce!==null?p=Bi(Ce,p):(p=Qa(p,q,o,null),p.flags|=2),p.return=u,f.return=u,f.sibling=p,u.child=f,f=p,p=u.child,q=i.child.memoizedState,q===null?q=fh(o):(ae=q.cachePool,ae!==null?(Ce=Qn._currentValue,ae=ae.parent!==Ce?{parent:Ce,pool:Ce}:ae):ae=X1(),q={baseLanes:q.baseLanes|o,cachePool:ae}),p.memoizedState=q,p.childLanes=dh(i,I,o),u.memoizedState=ch,f):(ha(u),o=i.child,i=o.sibling,o=Bi(o,{mode:"visible",children:f.children}),o.return=u,o.sibling=null,i!==null&&(I=u.deletions,I===null?(u.deletions=[i],u.flags|=16):I.push(i)),u.child=o,u.memoizedState=null,o)}function hh(i,u){return u=ac({mode:"visible",children:u},i.mode),u.return=i,i.child=u}function ac(i,u){return i=Mr(22,i,null,u),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ph(i,u,o){return qu(u,i.child,null,o),i=hh(u,u.pendingProps.children),i.flags|=2,u.memoizedState=null,i}function cg(i,u,o){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u),Id(i.return,u,o)}function mh(i,u,o,f,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:p}:(v.isBackwards=u,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=o,v.tailMode=p)}function fg(i,u,o){var f=u.pendingProps,p=f.revealOrder,v=f.tail;if(cr(i,u,f.children,o),f=Kn.current,(f&2)!==0)f=f&1|2,u.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=u.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cg(i,o,u);else if(i.tag===19)cg(i,o,u);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===u)break e;for(;i.sibling===null;){if(i.return===null||i.return===u)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(xe(Kn,f),p){case"forwards":for(o=u.child,p=null;o!==null;)i=o.alternate,i!==null&&tc(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=u.child,u.child=null):(p=o.sibling,o.sibling=null),mh(u,!1,p,o,v);break;case"backwards":for(o=null,p=u.child,u.child=null;p!==null;){if(i=p.alternate,i!==null&&tc(i)===null){u.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}mh(u,!0,o,null,v);break;case"together":mh(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function qi(i,u,o){if(i!==null&&(u.dependencies=i.dependencies),va|=u.lanes,(o&u.childLanes)===0)if(i!==null){if(Xs(i,u,o,!1),(o&u.childLanes)===0)return null}else return null;if(i!==null&&u.child!==i.child)throw Error(r(153));if(u.child!==null){for(i=u.child,o=Bi(i,i.pendingProps),u.child=o,o.return=u;i.sibling!==null;)i=i.sibling,o=o.sibling=Bi(i,i.pendingProps),o.return=u;o.sibling=null}return u.child}function gh(i,u){return(i.lanes&u)!==0?!0:(i=i.dependencies,!!(i!==null&&Fl(i)))}function N6(i,u,o){switch(u.tag){case 3:Ue(u,u.stateNode.containerInfo),oa(u,Qn,i.memoizedState.cache),Gs();break;case 27:case 5:wt(u);break;case 4:Ue(u,u.stateNode.containerInfo);break;case 10:oa(u,u.type,u.memoizedProps.value);break;case 13:var f=u.memoizedState;if(f!==null)return f.dehydrated!==null?(ha(u),u.flags|=128,null):(o&u.child.childLanes)!==0?lg(i,u,o):(ha(u),i=qi(i,u,o),i!==null?i.sibling:null);ha(u);break;case 19:var p=(i.flags&128)!==0;if(f=(o&u.childLanes)!==0,f||(Xs(i,u,o,!1),f=(o&u.childLanes)!==0),p){if(f)return fg(i,u,o);u.flags|=128}if(p=u.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),xe(Kn,Kn.current),f)break;return null;case 22:case 23:return u.lanes=0,ig(i,u,o);case 24:oa(u,Qn,i.memoizedState.cache)}return qi(i,u,o)}function dg(i,u,o){if(i!==null)if(i.memoizedProps!==u.pendingProps)nr=!0;else{if(!gh(i,o)&&(u.flags&128)===0)return nr=!1,N6(i,u,o);nr=(i.flags&131072)!==0}else nr=!1,cn&&(u.flags&1048576)!==0&&q1(u,Ul,u.index);switch(u.lanes=0,u.tag){case 16:e:{i=u.pendingProps;var f=u.elementType,p=f._init;if(f=p(f._payload),u.type=f,typeof f=="function")Sd(f)?(i=uu(f,i),u.tag=1,u=sg(null,u,f,i,o)):(u.tag=0,u=lh(null,u,f,i,o));else{if(f!=null){if(p=f.$$typeof,p===k){u.tag=11,u=tg(null,u,f,i,o);break e}else if(p===P){u.tag=14,u=ng(null,u,f,i,o);break e}}throw u=R(f)||f,Error(r(306,u,""))}}return u;case 0:return lh(i,u,u.type,u.pendingProps,o);case 1:return f=u.type,p=uu(f,u.pendingProps),sg(i,u,f,p,o);case 3:e:{if(Ue(u,u.stateNode.containerInfo),i===null)throw Error(r(387));f=u.pendingProps;var v=u.memoizedState;p=v.element,Fd(i,u),no(u,f,null,o);var I=u.memoizedState;if(f=I.cache,oa(u,Qn,f),f!==v.cache&&kd(u,[Qn],o,!0),to(),f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache},u.updateQueue.baseState=v,u.memoizedState=v,u.flags&256){u=og(i,u,f,o);break e}else if(f!==p){p=Gr(Error(r(424)),u),Ws(p),u=og(i,u,f,o);break e}else{switch(i=u.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Mn=li(i.firstChild),Ar=u,cn=!0,eu=null,_i=!0,o=Y2(u,null,f,o),u.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Gs(),f===p){u=qi(i,u,o);break e}cr(i,u,f,o)}u=u.child}return u;case 26:return ic(i,u),i===null?(o=gb(u.type,null,u.pendingProps,null))?u.memoizedState=o:cn||(o=u.type,i=u.pendingProps,f=vc(Qe.current).createElement(o),f[et]=u,f[Xe]=i,dr(f,o,i),tn(f),u.stateNode=f):u.memoizedState=gb(u.type,i.memoizedProps,u.pendingProps,i.memoizedState),null;case 27:return wt(u),i===null&&cn&&(f=u.stateNode=hb(u.type,u.pendingProps,Qe.current),Ar=u,_i=!0,p=Mn,Aa(u.type)?($h=p,Mn=li(f.firstChild)):Mn=p),cr(i,u,u.pendingProps.children,o),ic(i,u),i===null&&(u.flags|=4194304),u.child;case 5:return i===null&&cn&&((p=f=Mn)&&(f=nA(f,u.type,u.pendingProps,_i),f!==null?(u.stateNode=f,Ar=u,Mn=li(f.firstChild),_i=!1,p=!0):p=!1),p||tu(u)),wt(u),p=u.type,v=u.pendingProps,I=i!==null?i.memoizedProps:null,f=v.children,Zh(p,v)?f=null:I!==null&&Zh(p,I)&&(u.flags|=32),u.memoizedState!==null&&(p=Vd(i,u,E6,null,null,o),So._currentValue=p),ic(i,u),cr(i,u,f,o),u.child;case 6:return i===null&&cn&&((i=o=Mn)&&(o=rA(o,u.pendingProps,_i),o!==null?(u.stateNode=o,Ar=u,Mn=null,i=!0):i=!1),i||tu(u)),null;case 13:return lg(i,u,o);case 4:return Ue(u,u.stateNode.containerInfo),f=u.pendingProps,i===null?u.child=qu(u,null,f,o):cr(i,u,f,o),u.child;case 11:return tg(i,u,u.type,u.pendingProps,o);case 7:return cr(i,u,u.pendingProps,o),u.child;case 8:return cr(i,u,u.pendingProps.children,o),u.child;case 12:return cr(i,u,u.pendingProps.children,o),u.child;case 10:return f=u.pendingProps,oa(u,u.type,f.value),cr(i,u,f.children,o),u.child;case 9:return p=u.type._context,f=u.pendingProps.children,ru(u),p=gr(p),f=f(p),u.flags|=1,cr(i,u,f,o),u.child;case 14:return ng(i,u,u.type,u.pendingProps,o);case 15:return rg(i,u,u.type,u.pendingProps,o);case 19:return fg(i,u,o);case 31:return f=u.pendingProps,o=u.mode,f={mode:f.mode,children:f.children},i===null?(o=ac(f,o),o.ref=u.ref,u.child=o,o.return=u,u=o):(o=Bi(i.child,f),o.ref=u.ref,u.child=o,o.return=u,u=o),u;case 22:return ig(i,u,o);case 24:return ru(u),f=gr(Qn),i===null?(p=Md(),p===null&&(p=Cn,v=Ld(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=o),p=v),u.memoizedState={parent:f,cache:p},Ud(u),oa(u,Qn,p)):((i.lanes&o)!==0&&(Fd(i,u),no(u,null,null,o),to()),p=i.memoizedState,v=u.memoizedState,p.parent!==f?(p={parent:f,cache:f},u.memoizedState=p,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=p),oa(u,Qn,f)):(f=v.cache,oa(u,Qn,f),f!==p.cache&&kd(u,[Qn],o,!0))),cr(i,u,u.pendingProps.children,o),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ji(i){i.flags|=4}function hg(i,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yb(u)){if(u=Qr.current,u!==null&&((Jt&4194048)===Jt?vi!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||u!==vi))throw Js=Pd,$1;i.flags|=8192}}function uc(i,u){u!==null&&(i.flags|=4),i.flags&16384&&(u=i.tag!==22?fe():536870912,i.lanes|=u,Zu|=u)}function lo(i,u){if(!cn)switch(i.tailMode){case"hidden":u=i.tail;for(var o=null;u!==null;)u.alternate!==null&&(o=u),u=u.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?u||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function kn(i){var u=i.alternate!==null&&i.alternate.child===i.child,o=0,f=0;if(u)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=o,u}function D6(i,u,o){var f=u.pendingProps;switch(Dd(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(u),null;case 1:return kn(u),null;case 3:return o=u.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),u.memoizedState.cache!==f&&(u.flags|=2048),Fi(Qn),ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Zs(u)?ji(u):i===null||i.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,V1())),kn(u),null;case 26:return o=u.memoizedState,i===null?(ji(u),o!==null?(kn(u),hg(u,o)):(kn(u),u.flags&=-16777217)):o?o!==i.memoizedState?(ji(u),kn(u),hg(u,o)):(kn(u),u.flags&=-16777217):(i.memoizedProps!==f&&ji(u),kn(u),u.flags&=-16777217),null;case 27:ft(u),o=Qe.current;var p=u.type;if(i!==null&&u.stateNode!=null)i.memoizedProps!==f&&ji(u);else{if(!f){if(u.stateNode===null)throw Error(r(166));return kn(u),null}i=ce.current,Zs(u)?j1(u):(i=hb(p,f,o),u.stateNode=i,ji(u))}return kn(u),null;case 5:if(ft(u),o=u.type,i!==null&&u.stateNode!=null)i.memoizedProps!==f&&ji(u);else{if(!f){if(u.stateNode===null)throw Error(r(166));return kn(u),null}if(i=ce.current,Zs(u))j1(u);else{switch(p=vc(Qe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(o,{is:f.is}):p.createElement(o)}}i[et]=u,i[Xe]=f;e:for(p=u.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break e;for(;p.sibling===null;){if(p.return===null||p.return===u)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}u.stateNode=i;e:switch(dr(i,o,f),o){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ji(u)}}return kn(u),u.flags&=-16777217,null;case 6:if(i&&u.stateNode!=null)i.memoizedProps!==f&&ji(u);else{if(typeof f!="string"&&u.stateNode===null)throw Error(r(166));if(i=Qe.current,Zs(u)){if(i=u.stateNode,o=u.memoizedProps,f=null,p=Ar,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[et]=u,i=!!(i.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||ub(i.nodeValue,o)),i||tu(u)}else i=vc(i).createTextNode(f),i[et]=u,u.stateNode=i}return kn(u),null;case 13:if(f=u.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Zs(u),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=u.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[et]=u}else Gs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;kn(u),p=!1}else p=V1(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return u.flags&256?(Hi(u),u):(Hi(u),null)}if(Hi(u),(u.flags&128)!==0)return u.lanes=o,u;if(o=f!==null,i=i!==null&&i.memoizedState!==null,o){f=u.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==p&&(f.flags|=2048)}return o!==i&&o&&(u.child.flags|=8192),uc(u,u.updateQueue),kn(u),null;case 4:return ct(),i===null&&Hh(u.stateNode.containerInfo),kn(u),null;case 10:return Fi(u.type),kn(u),null;case 19:if($(Kn),p=u.memoizedState,p===null)return kn(u),null;if(f=(u.flags&128)!==0,v=p.rendering,v===null)if(f)lo(p,!1);else{if(Pn!==0||i!==null&&(i.flags&128)!==0)for(i=u.child;i!==null;){if(v=tc(i),v!==null){for(u.flags|=128,lo(p,!1),i=v.updateQueue,u.updateQueue=i,uc(u,i),u.subtreeFlags=0,i=o,o=u.child;o!==null;)H1(o,i),o=o.sibling;return xe(Kn,Kn.current&1|2),u.child}i=i.sibling}p.tail!==null&&X()>lc&&(u.flags|=128,f=!0,lo(p,!1),u.lanes=4194304)}else{if(!f)if(i=tc(v),i!==null){if(u.flags|=128,f=!0,i=i.updateQueue,u.updateQueue=i,uc(u,i),lo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!cn)return kn(u),null}else 2*X()-p.renderingStartTime>lc&&o!==536870912&&(u.flags|=128,f=!0,lo(p,!1),u.lanes=4194304);p.isBackwards?(v.sibling=u.child,u.child=v):(i=p.last,i!==null?i.sibling=v:u.child=v,p.last=v)}return p.tail!==null?(u=p.tail,p.rendering=u,p.tail=u.sibling,p.renderingStartTime=X(),u.sibling=null,i=Kn.current,xe(Kn,f?i&1|2:i&1),u):(kn(u),null);case 22:case 23:return Hi(u),jd(),f=u.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(u.flags|=8192):f&&(u.flags|=8192),f?(o&536870912)!==0&&(u.flags&128)===0&&(kn(u),u.subtreeFlags&6&&(u.flags|=8192)):kn(u),o=u.updateQueue,o!==null&&uc(u,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),f=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==o&&(u.flags|=2048),i!==null&&$(iu),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),u.memoizedState.cache!==o&&(u.flags|=2048),Fi(Qn),kn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function O6(i,u){switch(Dd(u),u.tag){case 1:return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 3:return Fi(Qn),ct(),i=u.flags,(i&65536)!==0&&(i&128)===0?(u.flags=i&-65537|128,u):null;case 26:case 27:case 5:return ft(u),null;case 13:if(Hi(u),i=u.memoizedState,i!==null&&i.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Gs()}return i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 19:return $(Kn),null;case 4:return ct(),null;case 10:return Fi(u.type),null;case 22:case 23:return Hi(u),jd(),i!==null&&$(iu),i=u.flags,i&65536?(u.flags=i&-65537|128,u):null;case 24:return Fi(Qn),null;case 25:return null;default:return null}}function pg(i,u){switch(Dd(u),u.tag){case 3:Fi(Qn),ct();break;case 26:case 27:case 5:ft(u);break;case 4:ct();break;case 13:Hi(u);break;case 19:$(Kn);break;case 10:Fi(u.type);break;case 22:case 23:Hi(u),jd(),i!==null&&$(iu);break;case 24:Fi(Qn)}}function co(i,u){try{var o=u.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&i)===i){f=void 0;var v=o.create,I=o.inst;f=v(),I.destroy=f}o=o.next}while(o!==p)}}catch(q){An(u,u.return,q)}}function ma(i,u,o){try{var f=u.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var v=p.next;f=v;do{if((f.tag&i)===i){var I=f.inst,q=I.destroy;if(q!==void 0){I.destroy=void 0,p=u;var ae=o,Ce=q;try{Ce()}catch(Fe){An(p,ae,Fe)}}}f=f.next}while(f!==v)}}catch(Fe){An(u,u.return,Fe)}}function mg(i){var u=i.updateQueue;if(u!==null){var o=i.stateNode;try{n2(u,o)}catch(f){An(i,i.return,f)}}}function gg(i,u,o){o.props=uu(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(f){An(i,u,f)}}function fo(i,u){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(p){An(i,u,p)}}function Ei(i,u){var o=i.ref,f=i.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(p){An(i,u,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){An(i,u,p)}else o.current=null}function bg(i){var u=i.type,o=i.memoizedProps,f=i.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(p){An(i,i.return,p)}}function bh(i,u,o){try{var f=i.stateNode;Q6(f,i.type,o,u),f[Xe]=u}catch(p){An(i,i.return,p)}}function _g(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Aa(i.type)||i.tag===4}function _h(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_g(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Aa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vh(i,u,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,u?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,u):(u=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.appendChild(i),o=o._reactRootContainer,o!=null||u.onclick!==null||(u.onclick=_c));else if(f!==4&&(f===27&&Aa(i.type)&&(o=i.stateNode,u=null),i=i.child,i!==null))for(vh(i,u,o),i=i.sibling;i!==null;)vh(i,u,o),i=i.sibling}function sc(i,u,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,u?o.insertBefore(i,u):o.appendChild(i);else if(f!==4&&(f===27&&Aa(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(sc(i,u,o),i=i.sibling;i!==null;)sc(i,u,o),i=i.sibling}function vg(i){var u=i.stateNode,o=i.memoizedProps;try{for(var f=i.type,p=u.attributes;p.length;)u.removeAttributeNode(p[0]);dr(u,f,o),u[et]=i,u[Xe]=o}catch(v){An(i,i.return,v)}}var Yi=!1,Hn=!1,Eh=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,rr=null;function R6(i,u){if(i=i.containerInfo,Yh=Sc,i=R1(i),_d(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var p=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var I=0,q=-1,ae=-1,Ce=0,Fe=0,je=i,Oe=null;t:for(;;){for(var Ie;je!==o||p!==0&&je.nodeType!==3||(q=I+p),je!==v||f!==0&&je.nodeType!==3||(ae=I+f),je.nodeType===3&&(I+=je.nodeValue.length),(Ie=je.firstChild)!==null;)Oe=je,je=Ie;for(;;){if(je===i)break t;if(Oe===o&&++Ce===p&&(q=I),Oe===v&&++Fe===f&&(ae=I),(Ie=je.nextSibling)!==null)break;je=Oe,Oe=je.parentNode}je=Ie}o=q===-1||ae===-1?null:{start:q,end:ae}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vh={focusedElem:i,selectionRange:o},Sc=!1,rr=u;rr!==null;)if(u=rr,i=u.child,(u.subtreeFlags&1024)!==0&&i!==null)i.return=u,rr=i;else for(;rr!==null;){switch(u=rr,v=u.alternate,i=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=u,p=v.memoizedProps,v=v.memoizedState,f=o.stateNode;try{var kt=uu(o.type,p,o.elementType===o.type);i=f.getSnapshotBeforeUpdate(kt,v),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ct){An(o,o.return,Ct)}}break;case 3:if((i&1024)!==0){if(i=u.stateNode.containerInfo,o=i.nodeType,o===9)Wh(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Wh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=u.sibling,i!==null){i.return=u.return,rr=i;break}rr=u.return}}function yg(i,u,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:ga(i,o),f&4&&co(5,o);break;case 1:if(ga(i,o),f&4)if(i=o.stateNode,u===null)try{i.componentDidMount()}catch(I){An(o,o.return,I)}else{var p=uu(o.type,u.memoizedProps);u=u.memoizedState;try{i.componentDidUpdate(p,u,i.__reactInternalSnapshotBeforeUpdate)}catch(I){An(o,o.return,I)}}f&64&&mg(o),f&512&&fo(o,o.return);break;case 3:if(ga(i,o),f&64&&(i=o.updateQueue,i!==null)){if(u=null,o.child!==null)switch(o.child.tag){case 27:case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}try{n2(i,u)}catch(I){An(o,o.return,I)}}break;case 27:u===null&&f&4&&vg(o);case 26:case 5:ga(i,o),u===null&&f&4&&bg(o),f&512&&fo(o,o.return);break;case 12:ga(i,o);break;case 13:ga(i,o),f&4&&xg(i,o),f&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=z6.bind(null,o),iA(i,o))));break;case 22:if(f=o.memoizedState!==null||Yi,!f){u=u!==null&&u.memoizedState!==null||Hn,p=Yi;var v=Hn;Yi=f,(Hn=u)&&!v?ba(i,o,(o.subtreeFlags&8772)!==0):ga(i,o),Yi=p,Hn=v}break;case 30:break;default:ga(i,o)}}function Tg(i){var u=i.alternate;u!==null&&(i.alternate=null,Tg(u)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(u=i.stateNode,u!==null&&qt(u)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nn=null,Dr=!1;function Vi(i,u,o){for(o=o.child;o!==null;)Ag(i,u,o),o=o.sibling}function Ag(i,u,o){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(lt,o)}catch{}switch(o.tag){case 26:Hn||Ei(o,u),Vi(i,u,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Hn||Ei(o,u);var f=Nn,p=Dr;Aa(o.type)&&(Nn=o.stateNode,Dr=!1),Vi(i,u,o),yo(o.stateNode),Nn=f,Dr=p;break;case 5:Hn||Ei(o,u);case 6:if(f=Nn,p=Dr,Nn=null,Vi(i,u,o),Nn=f,Dr=p,Nn!==null)if(Dr)try{(Nn.nodeType===9?Nn.body:Nn.nodeName==="HTML"?Nn.ownerDocument.body:Nn).removeChild(o.stateNode)}catch(v){An(o,u,v)}else try{Nn.removeChild(o.stateNode)}catch(v){An(o,u,v)}break;case 18:Nn!==null&&(Dr?(i=Nn,fb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Do(i)):fb(Nn,o.stateNode));break;case 4:f=Nn,p=Dr,Nn=o.stateNode.containerInfo,Dr=!0,Vi(i,u,o),Nn=f,Dr=p;break;case 0:case 11:case 14:case 15:Hn||ma(2,o,u),Hn||ma(4,o,u),Vi(i,u,o);break;case 1:Hn||(Ei(o,u),f=o.stateNode,typeof f.componentWillUnmount=="function"&&gg(o,u,f)),Vi(i,u,o);break;case 21:Vi(i,u,o);break;case 22:Hn=(f=Hn)||o.memoizedState!==null,Vi(i,u,o),Hn=f;break;default:Vi(i,u,o)}}function xg(i,u){if(u.memoizedState===null&&(i=u.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Do(i)}catch(o){An(u,u.return,o)}}function I6(i){switch(i.tag){case 13:case 19:var u=i.stateNode;return u===null&&(u=i.stateNode=new Eg),u;case 22:return i=i.stateNode,u=i._retryCache,u===null&&(u=i._retryCache=new Eg),u;default:throw Error(r(435,i.tag))}}function yh(i,u){var o=I6(i);u.forEach(function(f){var p=H6.bind(null,i,f);o.has(f)||(o.add(f),f.then(p,p))})}function Pr(i,u){var o=u.deletions;if(o!==null)for(var f=0;f<o.length;f++){var p=o[f],v=i,I=u,q=I;e:for(;q!==null;){switch(q.tag){case 27:if(Aa(q.type)){Nn=q.stateNode,Dr=!1;break e}break;case 5:Nn=q.stateNode,Dr=!1;break e;case 3:case 4:Nn=q.stateNode.containerInfo,Dr=!0;break e}q=q.return}if(Nn===null)throw Error(r(160));Ag(v,I,p),Nn=null,Dr=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Sg(u,i),u=u.sibling}var oi=null;function Sg(i,u){var o=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pr(u,i),Ur(i),f&4&&(ma(3,i,i.return),co(3,i),ma(5,i,i.return));break;case 1:Pr(u,i),Ur(i),f&512&&(Hn||o===null||Ei(o,o.return)),f&64&&Yi&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var p=oi;if(Pr(u,i),Ur(i),f&512&&(Hn||o===null||Ei(o,o.return)),f&4){var v=o!==null?o.memoizedState:null;if(f=i.memoizedState,o===null)if(f===null)if(i.stateNode===null){e:{f=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":v=p.getElementsByTagName("title")[0],(!v||v[en]||v[et]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(f),p.head.insertBefore(v,p.querySelector("head > title"))),dr(v,f,o),v[et]=i,tn(v),f=v;break e;case"link":var I=vb("link","href",p).get(f+(o.href||""));if(I){for(var q=0;q<I.length;q++)if(v=I[q],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){I.splice(q,1);break t}}v=p.createElement(f),dr(v,f,o),p.head.appendChild(v);break;case"meta":if(I=vb("meta","content",p).get(f+(o.content||""))){for(q=0;q<I.length;q++)if(v=I[q],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){I.splice(q,1);break t}}v=p.createElement(f),dr(v,f,o),p.head.appendChild(v);break;default:throw Error(r(468,f))}v[et]=i,tn(v),f=v}i.stateNode=f}else Eb(p,i.type,i.stateNode);else i.stateNode=_b(p,f,i.memoizedProps);else v!==f?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,f===null?Eb(p,i.type,i.stateNode):_b(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&bh(i,i.memoizedProps,o.memoizedProps)}break;case 27:Pr(u,i),Ur(i),f&512&&(Hn||o===null||Ei(o,o.return)),o!==null&&f&4&&bh(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Pr(u,i),Ur(i),f&512&&(Hn||o===null||Ei(o,o.return)),i.flags&32){p=i.stateNode;try{Tn(p,"")}catch(Ie){An(i,i.return,Ie)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,bh(i,p,o!==null?o.memoizedProps:p)),f&1024&&(Eh=!0);break;case 6:if(Pr(u,i),Ur(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,o=i.stateNode;try{o.nodeValue=f}catch(Ie){An(i,i.return,Ie)}}break;case 3:if(Tc=null,p=oi,oi=Ec(u.containerInfo),Pr(u,i),oi=p,Ur(i),f&4&&o!==null&&o.memoizedState.isDehydrated)try{Do(u.containerInfo)}catch(Ie){An(i,i.return,Ie)}Eh&&(Eh=!1,wg(i));break;case 4:f=oi,oi=Ec(i.stateNode.containerInfo),Pr(u,i),Ur(i),oi=f;break;case 12:Pr(u,i),Ur(i);break;case 13:Pr(u,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ch=X()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,yh(i,f)));break;case 22:p=i.memoizedState!==null;var ae=o!==null&&o.memoizedState!==null,Ce=Yi,Fe=Hn;if(Yi=Ce||p,Hn=Fe||ae,Pr(u,i),Hn=Fe,Yi=Ce,Ur(i),f&8192)e:for(u=i.stateNode,u._visibility=p?u._visibility&-2:u._visibility|1,p&&(o===null||ae||Yi||Hn||su(i)),o=null,u=i;;){if(u.tag===5||u.tag===26){if(o===null){ae=o=u;try{if(v=ae.stateNode,p)I=v.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{q=ae.stateNode;var je=ae.memoizedProps.style,Oe=je!=null&&je.hasOwnProperty("display")?je.display:null;q.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(Ie){An(ae,ae.return,Ie)}}}else if(u.tag===6){if(o===null){ae=u;try{ae.stateNode.nodeValue=p?"":ae.memoizedProps}catch(Ie){An(ae,ae.return,Ie)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===i)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break e;for(;u.sibling===null;){if(u.return===null||u.return===i)break e;o===u&&(o=null),u=u.return}o===u&&(o=null),u.sibling.return=u.return,u=u.sibling}f&4&&(f=i.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,yh(i,o))));break;case 19:Pr(u,i),Ur(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,yh(i,f)));break;case 30:break;case 21:break;default:Pr(u,i),Ur(i)}}function Ur(i){var u=i.flags;if(u&2){try{for(var o,f=i.return;f!==null;){if(_g(f)){o=f;break}f=f.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,v=_h(i);sc(i,v,p);break;case 5:var I=o.stateNode;o.flags&32&&(Tn(I,""),o.flags&=-33);var q=_h(i);sc(i,q,I);break;case 3:case 4:var ae=o.stateNode.containerInfo,Ce=_h(i);vh(i,Ce,ae);break;default:throw Error(r(161))}}catch(Fe){An(i,i.return,Fe)}i.flags&=-3}u&4096&&(i.flags&=-4097)}function wg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var u=i;wg(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),i=i.sibling}}function ga(i,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)yg(i,u.alternate,u),u=u.sibling}function su(i){for(i=i.child;i!==null;){var u=i;switch(u.tag){case 0:case 11:case 14:case 15:ma(4,u,u.return),su(u);break;case 1:Ei(u,u.return);var o=u.stateNode;typeof o.componentWillUnmount=="function"&&gg(u,u.return,o),su(u);break;case 27:yo(u.stateNode);case 26:case 5:Ei(u,u.return),su(u);break;case 22:u.memoizedState===null&&su(u);break;case 30:su(u);break;default:su(u)}i=i.sibling}}function ba(i,u,o){for(o=o&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var f=u.alternate,p=i,v=u,I=v.flags;switch(v.tag){case 0:case 11:case 15:ba(p,v,o),co(4,v);break;case 1:if(ba(p,v,o),f=v,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Ce){An(f,f.return,Ce)}if(f=v,p=f.updateQueue,p!==null){var q=f.stateNode;try{var ae=p.shared.hiddenCallbacks;if(ae!==null)for(p.shared.hiddenCallbacks=null,p=0;p<ae.length;p++)t2(ae[p],q)}catch(Ce){An(f,f.return,Ce)}}o&&I&64&&mg(v),fo(v,v.return);break;case 27:vg(v);case 26:case 5:ba(p,v,o),o&&f===null&&I&4&&bg(v),fo(v,v.return);break;case 12:ba(p,v,o);break;case 13:ba(p,v,o),o&&I&4&&xg(p,v);break;case 22:v.memoizedState===null&&ba(p,v,o),fo(v,v.return);break;case 30:break;default:ba(p,v,o)}u=u.sibling}}function Th(i,u){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(i=u.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$s(o))}function Ah(i,u){i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&$s(i))}function yi(i,u,o,f){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Cg(i,u,o,f),u=u.sibling}function Cg(i,u,o,f){var p=u.flags;switch(u.tag){case 0:case 11:case 15:yi(i,u,o,f),p&2048&&co(9,u);break;case 1:yi(i,u,o,f);break;case 3:yi(i,u,o,f),p&2048&&(i=null,u.alternate!==null&&(i=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==i&&(u.refCount++,i!=null&&$s(i)));break;case 12:if(p&2048){yi(i,u,o,f),i=u.stateNode;try{var v=u.memoizedProps,I=v.id,q=v.onPostCommit;typeof q=="function"&&q(I,u.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ae){An(u,u.return,ae)}}else yi(i,u,o,f);break;case 13:yi(i,u,o,f);break;case 23:break;case 22:v=u.stateNode,I=u.alternate,u.memoizedState!==null?v._visibility&2?yi(i,u,o,f):ho(i,u):v._visibility&2?yi(i,u,o,f):(v._visibility|=2,ju(i,u,o,f,(u.subtreeFlags&10256)!==0)),p&2048&&Th(I,u);break;case 24:yi(i,u,o,f),p&2048&&Ah(u.alternate,u);break;default:yi(i,u,o,f)}}function ju(i,u,o,f,p){for(p=p&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var v=i,I=u,q=o,ae=f,Ce=I.flags;switch(I.tag){case 0:case 11:case 15:ju(v,I,q,ae,p),co(8,I);break;case 23:break;case 22:var Fe=I.stateNode;I.memoizedState!==null?Fe._visibility&2?ju(v,I,q,ae,p):ho(v,I):(Fe._visibility|=2,ju(v,I,q,ae,p)),p&&Ce&2048&&Th(I.alternate,I);break;case 24:ju(v,I,q,ae,p),p&&Ce&2048&&Ah(I.alternate,I);break;default:ju(v,I,q,ae,p)}u=u.sibling}}function ho(i,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var o=i,f=u,p=f.flags;switch(f.tag){case 22:ho(o,f),p&2048&&Th(f.alternate,f);break;case 24:ho(o,f),p&2048&&Ah(f.alternate,f);break;default:ho(o,f)}u=u.sibling}}var po=8192;function Yu(i){if(i.subtreeFlags&po)for(i=i.child;i!==null;)Ng(i),i=i.sibling}function Ng(i){switch(i.tag){case 26:Yu(i),i.flags&po&&i.memoizedState!==null&&bA(oi,i.memoizedState,i.memoizedProps);break;case 5:Yu(i);break;case 3:case 4:var u=oi;oi=Ec(i.stateNode.containerInfo),Yu(i),oi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=po,po=16777216,Yu(i),po=u):Yu(i));break;default:Yu(i)}}function Dg(i){var u=i.alternate;if(u!==null&&(i=u.child,i!==null)){u.child=null;do u=i.sibling,i.sibling=null,i=u;while(i!==null)}}function mo(i){var u=i.deletions;if((i.flags&16)!==0){if(u!==null)for(var o=0;o<u.length;o++){var f=u[o];rr=f,Rg(f,i)}Dg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Og(i),i=i.sibling}function Og(i){switch(i.tag){case 0:case 11:case 15:mo(i),i.flags&2048&&ma(9,i,i.return);break;case 3:mo(i);break;case 12:mo(i);break;case 22:var u=i.stateNode;i.memoizedState!==null&&u._visibility&2&&(i.return===null||i.return.tag!==13)?(u._visibility&=-3,oc(i)):mo(i);break;default:mo(i)}}function oc(i){var u=i.deletions;if((i.flags&16)!==0){if(u!==null)for(var o=0;o<u.length;o++){var f=u[o];rr=f,Rg(f,i)}Dg(i)}for(i=i.child;i!==null;){switch(u=i,u.tag){case 0:case 11:case 15:ma(8,u,u.return),oc(u);break;case 22:o=u.stateNode,o._visibility&2&&(o._visibility&=-3,oc(u));break;default:oc(u)}i=i.sibling}}function Rg(i,u){for(;rr!==null;){var o=rr;switch(o.tag){case 0:case 11:case 15:ma(8,o,u);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:$s(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,rr=f;else e:for(o=i;rr!==null;){f=rr;var p=f.sibling,v=f.return;if(Tg(f),f===o){rr=null;break e}if(p!==null){p.return=v,rr=p;break e}rr=v}}}var k6={getCacheForType:function(i){var u=gr(Qn),o=u.data.get(i);return o===void 0&&(o=i(),u.data.set(i,o)),o}},L6=typeof WeakMap=="function"?WeakMap:Map,hn=0,Cn=null,Wt=null,Jt=0,pn=0,Fr=null,_a=!1,Vu=!1,xh=!1,Zi=0,Pn=0,va=0,ou=0,Sh=0,Kr=0,Zu=0,go=null,Or=null,wh=!1,Ch=0,lc=1/0,cc=null,Ea=null,fr=0,ya=null,Gu=null,Wu=0,Nh=0,Dh=null,Ig=null,bo=0,Oh=null;function zr(){if((hn&2)!==0&&Jt!==0)return Jt&-Jt;if(re.T!==null){var i=Bu;return i!==0?i:Ph()}return z()}function kg(){Kr===0&&(Kr=(Jt&536870912)===0||cn?ut():536870912);var i=Qr.current;return i!==null&&(i.flags|=32),Kr}function Hr(i,u,o){(i===Cn&&(pn===2||pn===9)||i.cancelPendingCommit!==null)&&(Xu(i,0),Ta(i,Jt,Kr,!1)),T(i,o),((hn&2)===0||i!==Cn)&&(i===Cn&&((hn&2)===0&&(ou|=o),Pn===4&&Ta(i,Jt,Kr,!1)),Ti(i))}function Lg(i,u,o){if((hn&6)!==0)throw Error(r(327));var f=!o&&(u&124)===0&&(u&i.expiredLanes)===0||ze(i,u),p=f?P6(i,u):kh(i,u,!0),v=f;do{if(p===0){Vu&&!f&&Ta(i,u,0,!1);break}else{if(o=i.current.alternate,v&&!B6(o)){p=kh(i,u,!1),v=!1;continue}if(p===2){if(v=u,i.errorRecoveryDisabledLanes&v)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){u=I;e:{var q=i;p=go;var ae=q.current.memoizedState.isDehydrated;if(ae&&(Xu(q,I).flags|=256),I=kh(q,I,!1),I!==2){if(xh&&!ae){q.errorRecoveryDisabledLanes|=v,ou|=v,p=4;break e}v=Or,Or=p,v!==null&&(Or===null?Or=v:Or.push.apply(Or,v))}p=I}if(v=!1,p!==2)continue}}if(p===1){Xu(i,0),Ta(i,u,0,!0);break}e:{switch(f=i,v=p,v){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Ta(f,u,Kr,!_a);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(p=Ch+300-X(),10<p)){if(Ta(f,u,Kr,!_a),V(f,0,!0)!==0)break e;f.timeoutHandle=lb(Bg.bind(null,f,o,Or,cc,wh,u,Kr,ou,Zu,_a,v,2,-0,0),p);break e}Bg(f,o,Or,cc,wh,u,Kr,ou,Zu,_a,v,0,-0,0)}}break}while(!0);Ti(i)}function Bg(i,u,o,f,p,v,I,q,ae,Ce,Fe,je,Oe,Ie){if(i.timeoutHandle=-1,je=u.subtreeFlags,(je&8192||(je&16785408)===16785408)&&(xo={stylesheets:null,count:0,unsuspend:gA},Ng(u),je=_A(),je!==null)){i.cancelPendingCommit=je(qg.bind(null,i,u,v,o,f,p,I,q,ae,Fe,1,Oe,Ie)),Ta(i,v,I,!Ce);return}qg(i,u,v,o,f,p,I,q,ae)}function B6(i){for(var u=i;;){var o=u.tag;if((o===0||o===11||o===15)&&u.flags&16384&&(o=u.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var p=o[f],v=p.getSnapshot;p=p.value;try{if(!Br(v(),p))return!1}catch{return!1}}if(o=u.child,u.subtreeFlags&16384&&o!==null)o.return=u,u=o;else{if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ta(i,u,o,f){u&=~Sh,u&=~ou,i.suspendedLanes|=u,i.pingedLanes&=~u,f&&(i.warmLanes|=u),f=i.expirationTimes;for(var p=u;0<p;){var v=31-zt(p),I=1<<v;f[v]=-1,p&=~I}o!==0&&K(i,o,u)}function fc(){return(hn&6)===0?(_o(0),!1):!0}function Rh(){if(Wt!==null){if(pn===0)var i=Wt.return;else i=Wt,Ui=nu=null,Wd(i),Hu=null,so=0,i=Wt;for(;i!==null;)pg(i.alternate,i),i=i.return;Wt=null}}function Xu(i,u){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,J6(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Rh(),Cn=i,Wt=o=Bi(i.current,null),Jt=u,pn=0,Fr=null,_a=!1,Vu=ze(i,u),xh=!1,Zu=Kr=Sh=ou=va=Pn=0,Or=go=null,wh=!1,(u&8)!==0&&(u|=u&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=u;0<f;){var p=31-zt(f),v=1<<p;u|=i[p],f&=~v}return Zi=u,kl(),o}function Mg(i,u){jt=null,re.H=Kl,u===Ks||u===ql?(u=J1(),pn=3):u===$1?(u=J1(),pn=4):pn=u===eg?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Fr=u,Wt===null&&(Pn=1,rc(i,Gr(u,i.current)))}function Pg(){var i=re.H;return re.H=Kl,i===null?Kl:i}function Ug(){var i=re.A;return re.A=k6,i}function Ih(){Pn=4,_a||(Jt&4194048)!==Jt&&Qr.current!==null||(Vu=!0),(va&134217727)===0&&(ou&134217727)===0||Cn===null||Ta(Cn,Jt,Kr,!1)}function kh(i,u,o){var f=hn;hn|=2;var p=Pg(),v=Ug();(Cn!==i||Jt!==u)&&(cc=null,Xu(i,u)),u=!1;var I=Pn;e:do try{if(pn!==0&&Wt!==null){var q=Wt,ae=Fr;switch(pn){case 8:Rh(),I=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(u=!0);var Ce=pn;if(pn=0,Fr=null,$u(i,q,ae,Ce),o&&Vu){I=0;break e}break;default:Ce=pn,pn=0,Fr=null,$u(i,q,ae,Ce)}}M6(),I=Pn;break}catch(Fe){Mg(i,Fe)}while(!0);return u&&i.shellSuspendCounter++,Ui=nu=null,hn=f,re.H=p,re.A=v,Wt===null&&(Cn=null,Jt=0,kl()),I}function M6(){for(;Wt!==null;)Fg(Wt)}function P6(i,u){var o=hn;hn|=2;var f=Pg(),p=Ug();Cn!==i||Jt!==u?(cc=null,lc=X()+500,Xu(i,u)):Vu=ze(i,u);e:do try{if(pn!==0&&Wt!==null){u=Wt;var v=Fr;t:switch(pn){case 1:pn=0,Fr=null,$u(i,u,v,1);break;case 2:case 9:if(Q1(v)){pn=0,Fr=null,zg(u);break}u=function(){pn!==2&&pn!==9||Cn!==i||(pn=7),Ti(i)},v.then(u,u);break e;case 3:pn=7;break e;case 4:pn=5;break e;case 7:Q1(v)?(pn=0,Fr=null,zg(u)):(pn=0,Fr=null,$u(i,u,v,7));break;case 5:var I=null;switch(Wt.tag){case 26:I=Wt.memoizedState;case 5:case 27:var q=Wt;if(!I||yb(I)){pn=0,Fr=null;var ae=q.sibling;if(ae!==null)Wt=ae;else{var Ce=q.return;Ce!==null?(Wt=Ce,dc(Ce)):Wt=null}break t}}pn=0,Fr=null,$u(i,u,v,5);break;case 6:pn=0,Fr=null,$u(i,u,v,6);break;case 8:Rh(),Pn=6;break e;default:throw Error(r(462))}}U6();break}catch(Fe){Mg(i,Fe)}while(!0);return Ui=nu=null,re.H=f,re.A=p,hn=o,Wt!==null?0:(Cn=null,Jt=0,kl(),Pn)}function U6(){for(;Wt!==null&&!ke();)Fg(Wt)}function Fg(i){var u=dg(i.alternate,i,Zi);i.memoizedProps=i.pendingProps,u===null?dc(i):Wt=u}function zg(i){var u=i,o=u.alternate;switch(u.tag){case 15:case 0:u=ug(o,u,u.pendingProps,u.type,void 0,Jt);break;case 11:u=ug(o,u,u.pendingProps,u.type.render,u.ref,Jt);break;case 5:Wd(u);default:pg(o,u),u=Wt=H1(u,Zi),u=dg(o,u,Zi)}i.memoizedProps=i.pendingProps,u===null?dc(i):Wt=u}function $u(i,u,o,f){Ui=nu=null,Wd(u),Hu=null,so=0;var p=u.return;try{if(C6(i,p,u,o,Jt)){Pn=1,rc(i,Gr(o,i.current)),Wt=null;return}}catch(v){if(p!==null)throw Wt=p,v;Pn=1,rc(i,Gr(o,i.current)),Wt=null;return}u.flags&32768?(cn||f===1?i=!0:Vu||(Jt&536870912)!==0?i=!1:(_a=i=!0,(f===2||f===9||f===3||f===6)&&(f=Qr.current,f!==null&&f.tag===13&&(f.flags|=16384))),Hg(u,i)):dc(u)}function dc(i){var u=i;do{if((u.flags&32768)!==0){Hg(u,_a);return}i=u.return;var o=D6(u.alternate,u,Zi);if(o!==null){Wt=o;return}if(u=u.sibling,u!==null){Wt=u;return}Wt=u=i}while(u!==null);Pn===0&&(Pn=5)}function Hg(i,u){do{var o=O6(i.alternate,i);if(o!==null){o.flags&=32767,Wt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!u&&(i=i.sibling,i!==null)){Wt=i;return}Wt=i=o}while(i!==null);Pn=6,Wt=null}function qg(i,u,o,f,p,v,I,q,ae){i.cancelPendingCommit=null;do hc();while(fr!==0);if((hn&6)!==0)throw Error(r(327));if(u!==null){if(u===i.current)throw Error(r(177));if(v=u.lanes|u.childLanes,v|=Ad,L(i,o,v,I,q,ae),i===Cn&&(Wt=Cn=null,Jt=0),Gu=u,ya=i,Wu=o,Nh=v,Dh=p,Ig=f,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,q6(De,function(){return Gg(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||f){f=re.T,re.T=null,p=ee.p,ee.p=2,I=hn,hn|=4;try{R6(i,u,o)}finally{hn=I,ee.p=p,re.T=f}}fr=1,jg(),Yg(),Vg()}}function jg(){if(fr===1){fr=0;var i=ya,u=Gu,o=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||o){o=re.T,re.T=null;var f=ee.p;ee.p=2;var p=hn;hn|=4;try{Sg(u,i);var v=Vh,I=R1(i.containerInfo),q=v.focusedElem,ae=v.selectionRange;if(I!==q&&q&&q.ownerDocument&&O1(q.ownerDocument.documentElement,q)){if(ae!==null&&_d(q)){var Ce=ae.start,Fe=ae.end;if(Fe===void 0&&(Fe=Ce),"selectionStart"in q)q.selectionStart=Ce,q.selectionEnd=Math.min(Fe,q.value.length);else{var je=q.ownerDocument||document,Oe=je&&je.defaultView||window;if(Oe.getSelection){var Ie=Oe.getSelection(),kt=q.textContent.length,Ct=Math.min(ae.start,kt),_n=ae.end===void 0?Ct:Math.min(ae.end,kt);!Ie.extend&&Ct>_n&&(I=_n,_n=Ct,Ct=I);var Ee=D1(q,Ct),he=D1(q,_n);if(Ee&&he&&(Ie.rangeCount!==1||Ie.anchorNode!==Ee.node||Ie.anchorOffset!==Ee.offset||Ie.focusNode!==he.node||Ie.focusOffset!==he.offset)){var we=je.createRange();we.setStart(Ee.node,Ee.offset),Ie.removeAllRanges(),Ct>_n?(Ie.addRange(we),Ie.extend(he.node,he.offset)):(we.setEnd(he.node,he.offset),Ie.addRange(we))}}}}for(je=[],Ie=q;Ie=Ie.parentNode;)Ie.nodeType===1&&je.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<je.length;q++){var qe=je[q];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Sc=!!Yh,Vh=Yh=null}finally{hn=p,ee.p=f,re.T=o}}i.current=u,fr=2}}function Yg(){if(fr===2){fr=0;var i=ya,u=Gu,o=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||o){o=re.T,re.T=null;var f=ee.p;ee.p=2;var p=hn;hn|=4;try{yg(i,u.alternate,u)}finally{hn=p,ee.p=f,re.T=o}}fr=3}}function Vg(){if(fr===4||fr===3){fr=0,Ae();var i=ya,u=Gu,o=Wu,f=Ig;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?fr=5:(fr=0,Gu=ya=null,Zg(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ea=null),_e(o),u=u.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(lt,u,void 0,(u.current.flags&128)===128)}catch{}if(f!==null){u=re.T,p=ee.p,ee.p=2,re.T=null;try{for(var v=i.onRecoverableError,I=0;I<f.length;I++){var q=f[I];v(q.value,{componentStack:q.stack})}}finally{re.T=u,ee.p=p}}(Wu&3)!==0&&hc(),Ti(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===Oh?bo++:(bo=0,Oh=i):bo=0,_o(0)}}function Zg(i,u){(i.pooledCacheLanes&=u)===0&&(u=i.pooledCache,u!=null&&(i.pooledCache=null,$s(u)))}function hc(i){return jg(),Yg(),Vg(),Gg()}function Gg(){if(fr!==5)return!1;var i=ya,u=Nh;Nh=0;var o=_e(Wu),f=re.T,p=ee.p;try{ee.p=32>o?32:o,re.T=null,o=Dh,Dh=null;var v=ya,I=Wu;if(fr=0,Gu=ya=null,Wu=0,(hn&6)!==0)throw Error(r(331));var q=hn;if(hn|=4,Og(v.current),Cg(v,v.current,I,o),hn=q,_o(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(lt,v)}catch{}return!0}finally{ee.p=p,re.T=f,Zg(i,u)}}function Wg(i,u,o){u=Gr(o,u),u=oh(i.stateNode,u,2),i=fa(i,u,2),i!==null&&(T(i,2),Ti(i))}function An(i,u,o){if(i.tag===3)Wg(i,i,o);else for(;u!==null;){if(u.tag===3){Wg(u,i,o);break}else if(u.tag===1){var f=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ea===null||!Ea.has(f))){i=Gr(o,i),o=K2(2),f=fa(u,o,2),f!==null&&(J2(o,f,u,i),T(f,2),Ti(f));break}}u=u.return}}function Lh(i,u,o){var f=i.pingCache;if(f===null){f=i.pingCache=new L6;var p=new Set;f.set(u,p)}else p=f.get(u),p===void 0&&(p=new Set,f.set(u,p));p.has(o)||(xh=!0,p.add(o),i=F6.bind(null,i,u,o),u.then(i,i))}function F6(i,u,o){var f=i.pingCache;f!==null&&f.delete(u),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Cn===i&&(Jt&o)===o&&(Pn===4||Pn===3&&(Jt&62914560)===Jt&&300>X()-Ch?(hn&2)===0&&Xu(i,0):Sh|=o,Zu===Jt&&(Zu=0)),Ti(i)}function Xg(i,u){u===0&&(u=fe()),i=Ru(i,u),i!==null&&(T(i,u),Ti(i))}function z6(i){var u=i.memoizedState,o=0;u!==null&&(o=u.retryLane),Xg(i,o)}function H6(i,u){var o=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(u),Xg(i,o)}function q6(i,u){return Tt(i,u)}var pc=null,Qu=null,Bh=!1,mc=!1,Mh=!1,lu=0;function Ti(i){i!==Qu&&i.next===null&&(Qu===null?pc=Qu=i:Qu=Qu.next=i),mc=!0,Bh||(Bh=!0,Y6())}function _o(i,u){if(!Mh&&mc){Mh=!0;do for(var o=!1,f=pc;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var v=0;else{var I=f.suspendedLanes,q=f.pingedLanes;v=(1<<31-zt(42|i)+1)-1,v&=p&~(I&~q),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Jg(f,v))}else v=Jt,v=V(f,f===Cn?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||ze(f,v)||(o=!0,Jg(f,v));f=f.next}while(o);Mh=!1}}function j6(){$g()}function $g(){mc=Bh=!1;var i=0;lu!==0&&(K6()&&(i=lu),lu=0);for(var u=X(),o=null,f=pc;f!==null;){var p=f.next,v=Qg(f,u);v===0?(f.next=null,o===null?pc=p:o.next=p,p===null&&(Qu=o)):(o=f,(i!==0||(v&3)!==0)&&(mc=!0)),f=p}_o(i)}function Qg(i,u){for(var o=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var I=31-zt(v),q=1<<I,ae=p[I];ae===-1?((q&o)===0||(q&f)!==0)&&(p[I]=Ze(q,u)):ae<=u&&(i.expiredLanes|=q),v&=~q}if(u=Cn,o=Jt,o=V(i,i===u?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,o===0||i===u&&(pn===2||pn===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&O(f),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ze(i,o)){if(u=o&-o,u===i.callbackPriority)return u;switch(f!==null&&O(f),_e(o)){case 2:case 8:o=Pe;break;case 32:o=De;break;case 268435456:o=Le;break;default:o=De}return f=Kg.bind(null,i),o=Tt(o,f),i.callbackPriority=u,i.callbackNode=o,u}return f!==null&&f!==null&&O(f),i.callbackPriority=2,i.callbackNode=null,2}function Kg(i,u){if(fr!==0&&fr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(hc()&&i.callbackNode!==o)return null;var f=Jt;return f=V(i,i===Cn?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Lg(i,f,u),Qg(i,X()),i.callbackNode!=null&&i.callbackNode===o?Kg.bind(null,i):null)}function Jg(i,u){if(hc())return null;Lg(i,u,!0)}function Y6(){eA(function(){(hn&6)!==0?Tt(pe,j6):$g()})}function Ph(){return lu===0&&(lu=ut()),lu}function eb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ls(""+i)}function tb(i,u){var o=u.ownerDocument.createElement("input");return o.name=u.name,o.value=u.value,i.id&&o.setAttribute("form",i.id),u.parentNode.insertBefore(o,u),i=new FormData(i),o.parentNode.removeChild(o),i}function V6(i,u,o,f,p){if(u==="submit"&&o&&o.stateNode===p){var v=eb((p[Xe]||null).action),I=f.submitter;I&&(u=(u=I[Xe]||null)?eb(u.formAction):I.getAttribute("formAction"),u!==null&&(v=u,I=null));var q=new Ol("action","action",null,f,p);i.push({event:q,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(lu!==0){var ae=I?tb(p,I):new FormData(p);rh(o,{pending:!0,data:ae,method:p.method,action:v},null,ae)}}else typeof v=="function"&&(q.preventDefault(),ae=I?tb(p,I):new FormData(p),rh(o,{pending:!0,data:ae,method:p.method,action:v},v,ae))},currentTarget:p}]})}}for(var Uh=0;Uh<Td.length;Uh++){var Fh=Td[Uh],Z6=Fh.toLowerCase(),G6=Fh[0].toUpperCase()+Fh.slice(1);si(Z6,"on"+G6)}si(L1,"onAnimationEnd"),si(B1,"onAnimationIteration"),si(M1,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(c6,"onTransitionRun"),si(f6,"onTransitionStart"),si(d6,"onTransitionCancel"),si(P1,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function nb(i,u){u=(u&4)!==0;for(var o=0;o<i.length;o++){var f=i[o],p=f.event;f=f.listeners;e:{var v=void 0;if(u)for(var I=f.length-1;0<=I;I--){var q=f[I],ae=q.instance,Ce=q.currentTarget;if(q=q.listener,ae!==v&&p.isPropagationStopped())break e;v=q,p.currentTarget=Ce;try{v(p)}catch(Fe){nc(Fe)}p.currentTarget=null,v=ae}else for(I=0;I<f.length;I++){if(q=f[I],ae=q.instance,Ce=q.currentTarget,q=q.listener,ae!==v&&p.isPropagationStopped())break e;v=q,p.currentTarget=Ce;try{v(p)}catch(Fe){nc(Fe)}p.currentTarget=null,v=ae}}}}function Xt(i,u){var o=u[Rt];o===void 0&&(o=u[Rt]=new Set);var f=i+"__bubble";o.has(f)||(rb(u,i,2,!1),o.add(f))}function zh(i,u,o){var f=0;u&&(f|=4),rb(o,i,f,u)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Hh(i){if(!i[gc]){i[gc]=!0,Bn.forEach(function(o){o!=="selectionchange"&&(W6.has(o)||zh(o,!1,i),zh(o,!0,i))});var u=i.nodeType===9?i:i.ownerDocument;u===null||u[gc]||(u[gc]=!0,zh("selectionchange",!1,u))}}function rb(i,u,o,f){switch(Cb(u)){case 2:var p=yA;break;case 8:p=TA;break;default:p=t0}o=p.bind(null,u,o,i),p=void 0,!ld||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(u,o,{capture:!0,passive:p}):i.addEventListener(u,o,!0):p!==void 0?i.addEventListener(u,o,{passive:p}):i.addEventListener(u,o,!1)}function qh(i,u,o,f,p){var v=f;if((u&1)===0&&(u&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var q=f.stateNode.containerInfo;if(q===p)break;if(I===4)for(I=f.return;I!==null;){var ae=I.tag;if((ae===3||ae===4)&&I.stateNode.containerInfo===p)return;I=I.return}for(;q!==null;){if(I=wn(q),I===null)return;if(ae=I.tag,ae===5||ae===6||ae===26||ae===27){f=v=I;continue e}q=q.parentNode}}f=f.return}c1(function(){var Ce=v,Fe=Ms(o),je=[];e:{var Oe=U1.get(i);if(Oe!==void 0){var Ie=Ol,kt=i;switch(i){case"keypress":if(Nl(o)===0)break e;case"keydown":case"keyup":Ie=qT;break;case"focusin":kt="focus",Ie=hd;break;case"focusout":kt="blur",Ie=hd;break;case"beforeblur":case"afterblur":Ie=hd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=h1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=OT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=VT;break;case L1:case B1:case M1:Ie=kT;break;case P1:Ie=GT;break;case"scroll":case"scrollend":Ie=NT;break;case"wheel":Ie=XT;break;case"copy":case"cut":case"paste":Ie=BT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=m1;break;case"toggle":case"beforetoggle":Ie=QT}var Ct=(u&4)!==0,_n=!Ct&&(i==="scroll"||i==="scrollend"),Ee=Ct?Oe!==null?Oe+"Capture":null:Oe;Ct=[];for(var he=Ce,we;he!==null;){var qe=he;if(we=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||we===null||Ee===null||(qe=Ps(he,Ee),qe!=null&&Ct.push(Eo(he,qe,we))),_n)break;he=he.return}0<Ct.length&&(Oe=new Ie(Oe,kt,null,o,Fe),je.push({event:Oe,listeners:Ct}))}}if((u&7)===0){e:{if(Oe=i==="mouseover"||i==="pointerover",Ie=i==="mouseout"||i==="pointerout",Oe&&o!==Bs&&(kt=o.relatedTarget||o.fromElement)&&(wn(kt)||kt[it]))break e;if((Ie||Oe)&&(Oe=Fe.window===Fe?Fe:(Oe=Fe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Ie?(kt=o.relatedTarget||o.toElement,Ie=Ce,kt=kt?wn(kt):null,kt!==null&&(_n=s(kt),Ct=kt.tag,kt!==_n||Ct!==5&&Ct!==27&&Ct!==6)&&(kt=null)):(Ie=null,kt=Ce),Ie!==kt)){if(Ct=h1,qe="onMouseLeave",Ee="onMouseEnter",he="mouse",(i==="pointerout"||i==="pointerover")&&(Ct=m1,qe="onPointerLeave",Ee="onPointerEnter",he="pointer"),_n=Ie==null?Oe:yr(Ie),we=kt==null?Oe:yr(kt),Oe=new Ct(qe,he+"leave",Ie,o,Fe),Oe.target=_n,Oe.relatedTarget=we,qe=null,wn(Fe)===Ce&&(Ct=new Ct(Ee,he+"enter",kt,o,Fe),Ct.target=we,Ct.relatedTarget=_n,qe=Ct),_n=qe,Ie&&kt)t:{for(Ct=Ie,Ee=kt,he=0,we=Ct;we;we=Ku(we))he++;for(we=0,qe=Ee;qe;qe=Ku(qe))we++;for(;0<he-we;)Ct=Ku(Ct),he--;for(;0<we-he;)Ee=Ku(Ee),we--;for(;he--;){if(Ct===Ee||Ee!==null&&Ct===Ee.alternate)break t;Ct=Ku(Ct),Ee=Ku(Ee)}Ct=null}else Ct=null;Ie!==null&&ib(je,Oe,Ie,Ct,!1),kt!==null&&_n!==null&&ib(je,_n,kt,Ct,!0)}}e:{if(Oe=Ce?yr(Ce):window,Ie=Oe.nodeName&&Oe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Oe.type==="file")var mt=A1;else if(y1(Oe))if(x1)mt=s6;else{mt=a6;var Yt=i6}else Ie=Oe.nodeName,!Ie||Ie.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Ce&&Ga(Ce.elementType)&&(mt=A1):mt=u6;if(mt&&(mt=mt(i,Ce))){T1(je,mt,o,Fe);break e}Yt&&Yt(i,Oe,Ce),i==="focusout"&&Ce&&Oe.type==="number"&&Ce.memoizedProps.value!=null&&pt(Oe,"number",Oe.value)}switch(Yt=Ce?yr(Ce):window,i){case"focusin":(y1(Yt)||Yt.contentEditable==="true")&&(Nu=Yt,vd=Ce,Vs=null);break;case"focusout":Vs=vd=Nu=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,I1(je,o,Fe);break;case"selectionchange":if(l6)break;case"keydown":case"keyup":I1(je,o,Fe)}var vt;if(md)e:{switch(i){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Cu?v1(i,o)&&(Dt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Dt="onCompositionStart");Dt&&(g1&&o.locale!=="ko"&&(Cu||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Cu&&(vt=f1()):(sa=Fe,cd="value"in sa?sa.value:sa.textContent,Cu=!0)),Yt=bc(Ce,Dt),0<Yt.length&&(Dt=new p1(Dt,i,null,o,Fe),je.push({event:Dt,listeners:Yt}),vt?Dt.data=vt:(vt=E1(o),vt!==null&&(Dt.data=vt)))),(vt=JT?e6(i,o):t6(i,o))&&(Dt=bc(Ce,"onBeforeInput"),0<Dt.length&&(Yt=new p1("onBeforeInput","beforeinput",null,o,Fe),je.push({event:Yt,listeners:Dt}),Yt.data=vt)),V6(je,i,Ce,o,Fe)}nb(je,u)})}function Eo(i,u,o){return{instance:i,listener:u,currentTarget:o}}function bc(i,u){for(var o=u+"Capture",f=[];i!==null;){var p=i,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Ps(i,o),p!=null&&f.unshift(Eo(i,p,v)),p=Ps(i,u),p!=null&&f.push(Eo(i,p,v))),i.tag===3)return f;i=i.return}return[]}function Ku(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ib(i,u,o,f,p){for(var v=u._reactName,I=[];o!==null&&o!==f;){var q=o,ae=q.alternate,Ce=q.stateNode;if(q=q.tag,ae!==null&&ae===f)break;q!==5&&q!==26&&q!==27||Ce===null||(ae=Ce,p?(Ce=Ps(o,v),Ce!=null&&I.unshift(Eo(o,Ce,ae))):p||(Ce=Ps(o,v),Ce!=null&&I.push(Eo(o,Ce,ae)))),o=o.return}I.length!==0&&i.push({event:u,listeners:I})}var X6=/\r\n?/g,$6=/\u0000|\uFFFD/g;function ab(i){return(typeof i=="string"?i:""+i).replace(X6,`
`).replace($6,"")}function ub(i,u){return u=ab(u),ab(i)===u}function _c(){}function bn(i,u,o,f,p,v){switch(o){case"children":typeof f=="string"?u==="body"||u==="textarea"&&f===""||Tn(i,f):(typeof f=="number"||typeof f=="bigint")&&u!=="body"&&Tn(i,""+f);break;case"className":Su(i,"class",f);break;case"tabIndex":Su(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Su(i,o,f);break;case"style":ua(i,f,v);break;case"data":if(u!=="object"){Su(i,"data",f);break}case"src":case"href":if(f===""&&(u!=="a"||o!=="href")){i.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=Ls(""+f),i.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(u!=="input"&&bn(i,u,"name",p.name,p,null),bn(i,u,"formEncType",p.formEncType,p,null),bn(i,u,"formMethod",p.formMethod,p,null),bn(i,u,"formTarget",p.formTarget,p,null)):(bn(i,u,"encType",p.encType,p,null),bn(i,u,"method",p.method,p,null),bn(i,u,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=Ls(""+f),i.setAttribute(o,f);break;case"onClick":f!=null&&(i.onclick=_c);break;case"onScroll":f!=null&&Xt("scroll",i);break;case"onScrollEnd":f!=null&&Xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}o=Ls(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""+f):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":f===!0?i.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,f):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(o,f):i.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(o):i.setAttribute(o,f);break;case"popover":Xt("beforetoggle",i),Xt("toggle",i),ui(i,"popover",f);break;case"xlinkActuate":wr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":wr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":wr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":wr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":wr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":wr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":wr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":wr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":wr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ui(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,ui(i,o,f))}}function jh(i,u,o,f,p,v){switch(o){case"style":ua(i,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof f=="string"?Tn(i,f):(typeof f=="number"||typeof f=="bigint")&&Tn(i,""+f);break;case"onScroll":f!=null&&Xt("scroll",i);break;case"onScrollEnd":f!=null&&Xt("scrollend",i);break;case"onClick":f!=null&&(i.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),u=o.slice(2,p?o.length-7:void 0),v=i[Xe]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(u,v,p),typeof f=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(u,f,p);break e}o in i?i[o]=f:f===!0?i.setAttribute(o,""):ui(i,o,f)}}}function dr(i,u,o){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",i),Xt("load",i);var f=!1,p=!1,v;for(v in o)if(o.hasOwnProperty(v)){var I=o[v];if(I!=null)switch(v){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:bn(i,u,v,I,o,null)}}p&&bn(i,u,"srcSet",o.srcSet,o,null),f&&bn(i,u,"src",o.src,o,null);return;case"input":Xt("invalid",i);var q=v=I=p=null,ae=null,Ce=null;for(f in o)if(o.hasOwnProperty(f)){var Fe=o[f];if(Fe!=null)switch(f){case"name":p=Fe;break;case"type":I=Fe;break;case"checked":ae=Fe;break;case"defaultChecked":Ce=Fe;break;case"value":v=Fe;break;case"defaultValue":q=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,u));break;default:bn(i,u,f,Fe,o,null)}}rt(i,v,q,ae,Ce,I,p,!1),ye(i);return;case"select":Xt("invalid",i),f=I=v=null;for(p in o)if(o.hasOwnProperty(p)&&(q=o[p],q!=null))switch(p){case"value":v=q;break;case"defaultValue":I=q;break;case"multiple":f=q;default:bn(i,u,p,q,o,null)}u=v,o=I,i.multiple=!!f,u!=null?Ut(i,!!f,u,!1):o!=null&&Ut(i,!!f,o,!0);return;case"textarea":Xt("invalid",i),v=p=f=null;for(I in o)if(o.hasOwnProperty(I)&&(q=o[I],q!=null))switch(I){case"value":f=q;break;case"defaultValue":p=q;break;case"children":v=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:bn(i,u,I,q,o,null)}un(i,f,p,v),ye(i);return;case"option":for(ae in o)if(o.hasOwnProperty(ae)&&(f=o[ae],f!=null))switch(ae){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:bn(i,u,ae,f,o,null)}return;case"dialog":Xt("beforetoggle",i),Xt("toggle",i),Xt("cancel",i),Xt("close",i);break;case"iframe":case"object":Xt("load",i);break;case"video":case"audio":for(f=0;f<vo.length;f++)Xt(vo[f],i);break;case"image":Xt("error",i),Xt("load",i);break;case"details":Xt("toggle",i);break;case"embed":case"source":case"link":Xt("error",i),Xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in o)if(o.hasOwnProperty(Ce)&&(f=o[Ce],f!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:bn(i,u,Ce,f,o,null)}return;default:if(Ga(u)){for(Fe in o)o.hasOwnProperty(Fe)&&(f=o[Fe],f!==void 0&&jh(i,u,Fe,f,o,void 0));return}}for(q in o)o.hasOwnProperty(q)&&(f=o[q],f!=null&&bn(i,u,q,f,o,null))}function Q6(i,u,o,f){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,I=null,q=null,ae=null,Ce=null,Fe=null;for(Ie in o){var je=o[Ie];if(o.hasOwnProperty(Ie)&&je!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ae=je;default:f.hasOwnProperty(Ie)||bn(i,u,Ie,null,f,je)}}for(var Oe in f){var Ie=f[Oe];if(je=o[Oe],f.hasOwnProperty(Oe)&&(Ie!=null||je!=null))switch(Oe){case"type":v=Ie;break;case"name":p=Ie;break;case"checked":Ce=Ie;break;case"defaultChecked":Fe=Ie;break;case"value":I=Ie;break;case"defaultValue":q=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,u));break;default:Ie!==je&&bn(i,u,Oe,Ie,f,je)}}Je(i,I,q,ae,Ce,Fe,v,p);return;case"select":Ie=I=q=Oe=null;for(v in o)if(ae=o[v],o.hasOwnProperty(v)&&ae!=null)switch(v){case"value":break;case"multiple":Ie=ae;default:f.hasOwnProperty(v)||bn(i,u,v,null,f,ae)}for(p in f)if(v=f[p],ae=o[p],f.hasOwnProperty(p)&&(v!=null||ae!=null))switch(p){case"value":Oe=v;break;case"defaultValue":q=v;break;case"multiple":I=v;default:v!==ae&&bn(i,u,p,v,f,ae)}u=q,o=I,f=Ie,Oe!=null?Ut(i,!!o,Oe,!1):!!f!=!!o&&(u!=null?Ut(i,!!o,u,!0):Ut(i,!!o,o?[]:"",!1));return;case"textarea":Ie=Oe=null;for(q in o)if(p=o[q],o.hasOwnProperty(q)&&p!=null&&!f.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:bn(i,u,q,null,f,p)}for(I in f)if(p=f[I],v=o[I],f.hasOwnProperty(I)&&(p!=null||v!=null))switch(I){case"value":Oe=p;break;case"defaultValue":Ie=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==v&&bn(i,u,I,p,f,v)}nn(i,Oe,Ie);return;case"option":for(var kt in o)if(Oe=o[kt],o.hasOwnProperty(kt)&&Oe!=null&&!f.hasOwnProperty(kt))switch(kt){case"selected":i.selected=!1;break;default:bn(i,u,kt,null,f,Oe)}for(ae in f)if(Oe=f[ae],Ie=o[ae],f.hasOwnProperty(ae)&&Oe!==Ie&&(Oe!=null||Ie!=null))switch(ae){case"selected":i.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:bn(i,u,ae,Oe,f,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in o)Oe=o[Ct],o.hasOwnProperty(Ct)&&Oe!=null&&!f.hasOwnProperty(Ct)&&bn(i,u,Ct,null,f,Oe);for(Ce in f)if(Oe=f[Ce],Ie=o[Ce],f.hasOwnProperty(Ce)&&Oe!==Ie&&(Oe!=null||Ie!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,u));break;default:bn(i,u,Ce,Oe,f,Ie)}return;default:if(Ga(u)){for(var _n in o)Oe=o[_n],o.hasOwnProperty(_n)&&Oe!==void 0&&!f.hasOwnProperty(_n)&&jh(i,u,_n,void 0,f,Oe);for(Fe in f)Oe=f[Fe],Ie=o[Fe],!f.hasOwnProperty(Fe)||Oe===Ie||Oe===void 0&&Ie===void 0||jh(i,u,Fe,Oe,f,Ie);return}}for(var Ee in o)Oe=o[Ee],o.hasOwnProperty(Ee)&&Oe!=null&&!f.hasOwnProperty(Ee)&&bn(i,u,Ee,null,f,Oe);for(je in f)Oe=f[je],Ie=o[je],!f.hasOwnProperty(je)||Oe===Ie||Oe==null&&Ie==null||bn(i,u,je,Oe,f,Ie)}var Yh=null,Vh=null;function vc(i){return i.nodeType===9?i:i.ownerDocument}function sb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ob(i,u){if(i===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&u==="foreignObject"?0:i}function Zh(i,u){return i==="textarea"||i==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Gh=null;function K6(){var i=window.event;return i&&i.type==="popstate"?i===Gh?!1:(Gh=i,!0):(Gh=null,!1)}var lb=typeof setTimeout=="function"?setTimeout:void 0,J6=typeof clearTimeout=="function"?clearTimeout:void 0,cb=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof cb<"u"?function(i){return cb.resolve(null).then(i).catch(tA)}:lb;function tA(i){setTimeout(function(){throw i})}function Aa(i){return i==="head"}function fb(i,u){var o=u,f=0,p=0;do{var v=o.nextSibling;if(i.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<f&&8>f){o=f;var I=i.ownerDocument;if(o&1&&yo(I.documentElement),o&2&&yo(I.body),o&4)for(o=I.head,yo(o),I=o.firstChild;I;){var q=I.nextSibling,ae=I.nodeName;I[en]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&I.rel.toLowerCase()==="stylesheet"||o.removeChild(I),I=q}}if(p===0){i.removeChild(v),Do(u);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:f=o.charCodeAt(0)-48;else f=0;o=v}while(o);Do(u)}function Wh(i){var u=i.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var o=u;switch(u=u.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wh(o),qt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function nA(i,u,o,f){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==u.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[en])switch(u){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(u==="input"&&i.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function rA(i,u,o){if(u==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=li(i.nextSibling),i===null))return null;return i}function Xh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iA(i,u){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")u();else{var f=function(){u(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function li(i){for(;i!=null;i=i.nextSibling){var u=i.nodeType;if(u===1||u===3)break;if(u===8){if(u=i.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return i}var $h=null;function db(i){i=i.previousSibling;for(var u=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(u===0)return i;u--}else o==="/$"&&u++}i=i.previousSibling}return null}function hb(i,u,o){switch(u=vc(o),i){case"html":if(i=u.documentElement,!i)throw Error(r(452));return i;case"head":if(i=u.head,!i)throw Error(r(453));return i;case"body":if(i=u.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function yo(i){for(var u=i.attributes;u.length;)i.removeAttributeNode(u[0]);qt(i)}var Jr=new Map,pb=new Set;function Ec(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Gi=ee.d;ee.d={f:aA,r:uA,D:sA,C:oA,L:lA,m:cA,X:dA,S:fA,M:hA};function aA(){var i=Gi.f(),u=fc();return i||u}function uA(i){var u=Yn(i);u!==null&&u.tag===5&&u.type==="form"?L2(u):Gi.r(i)}var Ju=typeof document>"u"?null:document;function mb(i,u,o){var f=Ju;if(f&&typeof u=="string"&&u){var p=Ve(u);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),pb.has(p)||(pb.add(p),i={rel:i,crossOrigin:o,href:u},f.querySelector(p)===null&&(u=f.createElement("link"),dr(u,"link",i),tn(u),f.head.appendChild(u)))}}function sA(i){Gi.D(i),mb("dns-prefetch",i,null)}function oA(i,u){Gi.C(i,u),mb("preconnect",i,u)}function lA(i,u,o){Gi.L(i,u,o);var f=Ju;if(f&&i&&u){var p='link[rel="preload"][as="'+Ve(u)+'"]';u==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ve(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ve(o.imageSizes)+'"]')):p+='[href="'+Ve(i)+'"]';var v=p;switch(u){case"style":v=es(i);break;case"script":v=ts(i)}Jr.has(v)||(i=m({rel:"preload",href:u==="image"&&o&&o.imageSrcSet?void 0:i,as:u},o),Jr.set(v,i),f.querySelector(p)!==null||u==="style"&&f.querySelector(To(v))||u==="script"&&f.querySelector(Ao(v))||(u=f.createElement("link"),dr(u,"link",i),tn(u),f.head.appendChild(u)))}}function cA(i,u){Gi.m(i,u);var o=Ju;if(o&&i){var f=u&&typeof u.as=="string"?u.as:"script",p='link[rel="modulepreload"][as="'+Ve(f)+'"][href="'+Ve(i)+'"]',v=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ts(i)}if(!Jr.has(v)&&(i=m({rel:"modulepreload",href:i},u),Jr.set(v,i),o.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ao(v)))return}f=o.createElement("link"),dr(f,"link",i),tn(f),o.head.appendChild(f)}}}function fA(i,u,o){Gi.S(i,u,o);var f=Ju;if(f&&i){var p=dn(f).hoistableStyles,v=es(i);u=u||"default";var I=p.get(v);if(!I){var q={loading:0,preload:null};if(I=f.querySelector(To(v)))q.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":u},o),(o=Jr.get(v))&&Qh(i,o);var ae=I=f.createElement("link");tn(ae),dr(ae,"link",i),ae._p=new Promise(function(Ce,Fe){ae.onload=Ce,ae.onerror=Fe}),ae.addEventListener("load",function(){q.loading|=1}),ae.addEventListener("error",function(){q.loading|=2}),q.loading|=4,yc(I,u,f)}I={type:"stylesheet",instance:I,count:1,state:q},p.set(v,I)}}}function dA(i,u){Gi.X(i,u);var o=Ju;if(o&&i){var f=dn(o).hoistableScripts,p=ts(i),v=f.get(p);v||(v=o.querySelector(Ao(p)),v||(i=m({src:i,async:!0},u),(u=Jr.get(p))&&Kh(i,u),v=o.createElement("script"),tn(v),dr(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(p,v))}}function hA(i,u){Gi.M(i,u);var o=Ju;if(o&&i){var f=dn(o).hoistableScripts,p=ts(i),v=f.get(p);v||(v=o.querySelector(Ao(p)),v||(i=m({src:i,async:!0,type:"module"},u),(u=Jr.get(p))&&Kh(i,u),v=o.createElement("script"),tn(v),dr(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(p,v))}}function gb(i,u,o,f){var p=(p=Qe.current)?Ec(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(u=es(o.href),o=dn(p).hoistableStyles,f=o.get(u),f||(f={type:"style",instance:null,count:0,state:null},o.set(u,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=es(o.href);var v=dn(p).hoistableStyles,I=v.get(i);if(I||(p=p.ownerDocument||p,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,I),(v=p.querySelector(To(i)))&&!v._p&&(I.instance=v,I.state.loading=5),Jr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jr.set(i,o),v||pA(p,i,o,I.state))),u&&f===null)throw Error(r(528,""));return I}if(u&&f!==null)throw Error(r(529,""));return null;case"script":return u=o.async,o=o.src,typeof o=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=ts(o),o=dn(p).hoistableScripts,f=o.get(u),f||(f={type:"script",instance:null,count:0,state:null},o.set(u,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function es(i){return'href="'+Ve(i)+'"'}function To(i){return'link[rel="stylesheet"]['+i+"]"}function bb(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function pA(i,u,o,f){i.querySelector('link[rel="preload"][as="style"]['+u+"]")?f.loading=1:(u=i.createElement("link"),f.preload=u,u.addEventListener("load",function(){return f.loading|=1}),u.addEventListener("error",function(){return f.loading|=2}),dr(u,"link",o),tn(u),i.head.appendChild(u))}function ts(i){return'[src="'+Ve(i)+'"]'}function Ao(i){return"script[async]"+i}function _b(i,u,o){if(u.count++,u.instance===null)switch(u.type){case"style":var f=i.querySelector('style[data-href~="'+Ve(o.href)+'"]');if(f)return u.instance=f,tn(f),f;var p=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),tn(f),dr(f,"style",p),yc(f,o.precedence,i),u.instance=f;case"stylesheet":p=es(o.href);var v=i.querySelector(To(p));if(v)return u.state.loading|=4,u.instance=v,tn(v),v;f=bb(o),(p=Jr.get(p))&&Qh(f,p),v=(i.ownerDocument||i).createElement("link"),tn(v);var I=v;return I._p=new Promise(function(q,ae){I.onload=q,I.onerror=ae}),dr(v,"link",f),u.state.loading|=4,yc(v,o.precedence,i),u.instance=v;case"script":return v=ts(o.src),(p=i.querySelector(Ao(v)))?(u.instance=p,tn(p),p):(f=o,(p=Jr.get(v))&&(f=m({},o),Kh(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),tn(p),dr(p,"link",f),i.head.appendChild(p),u.instance=p);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(f=u.instance,u.state.loading|=4,yc(f,o.precedence,i));return u.instance}function yc(i,u,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,v=p,I=0;I<f.length;I++){var q=f[I];if(q.dataset.precedence===u)v=q;else if(v!==p)break}v?v.parentNode.insertBefore(i,v.nextSibling):(u=o.nodeType===9?o.head:o,u.insertBefore(i,u.firstChild))}function Qh(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.title==null&&(i.title=u.title)}function Kh(i,u){i.crossOrigin==null&&(i.crossOrigin=u.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=u.referrerPolicy),i.integrity==null&&(i.integrity=u.integrity)}var Tc=null;function vb(i,u,o){if(Tc===null){var f=new Map,p=Tc=new Map;p.set(o,f)}else p=Tc,f=p.get(o),f||(f=new Map,p.set(o,f));if(f.has(i))return f;for(f.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var v=o[p];if(!(v[en]||v[et]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var I=v.getAttribute(u)||"";I=i+I;var q=f.get(I);q?q.push(v):f.set(I,[v])}}return f}function Eb(i,u,o){i=i.ownerDocument||i,i.head.insertBefore(o,u==="title"?i.querySelector("head > title"):null)}function mA(i,u,o){if(o===1||u.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return i=u.disabled,typeof u.precedence=="string"&&i==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function yb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var xo=null;function gA(){}function bA(i,u,o){if(xo===null)throw Error(r(475));var f=xo;if(u.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var p=es(o.href),v=i.querySelector(To(p));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Ac.bind(f),i.then(f,f)),u.state.loading|=4,u.instance=v,tn(v);return}v=i.ownerDocument||i,o=bb(o),(p=Jr.get(p))&&Qh(o,p),v=v.createElement("link"),tn(v);var I=v;I._p=new Promise(function(q,ae){I.onload=q,I.onerror=ae}),dr(v,"link",o),u.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(u,i),(i=u.state.preload)&&(u.state.loading&3)===0&&(f.count++,u=Ac.bind(f),i.addEventListener("load",u),i.addEventListener("error",u))}}function _A(){if(xo===null)throw Error(r(475));var i=xo;return i.stylesheets&&i.count===0&&Jh(i,i.stylesheets),0<i.count?function(u){var o=setTimeout(function(){if(i.stylesheets&&Jh(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ac(){if(this.count--,this.count===0){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var xc=null;function Jh(i,u){i.stylesheets=null,i.unsuspend!==null&&(i.count++,xc=new Map,u.forEach(vA,i),xc=null,Ac.call(i))}function vA(i,u){if(!(u.state.loading&4)){var o=xc.get(i);if(o)var f=o.get(null);else{o=new Map,xc.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var I=p[v];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(o.set(I.dataset.precedence,I),f=I)}f&&o.set(null,f)}p=u.instance,I=p.getAttribute("data-precedence"),v=o.get(I)||f,v===f&&o.set(null,p),o.set(I,p),this.count++,f=Ac.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),v?v.parentNode.insertBefore(p,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),u.state.loading|=4}}var So={$$typeof:D,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function EA(i,u,o,f,p,v,I,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Tb(i,u,o,f,p,v,I,q,ae,Ce,Fe,je){return i=new EA(i,u,o,I,q,ae,Ce,je),u=1,v===!0&&(u|=24),v=Mr(3,null,null,u),i.current=v,v.stateNode=i,u=Ld(),u.refCount++,i.pooledCache=u,u.refCount++,v.memoizedState={element:f,isDehydrated:o,cache:u},Ud(v),i}function Ab(i){return i?(i=Iu,i):Iu}function xb(i,u,o,f,p,v){p=Ab(p),f.context===null?f.context=p:f.pendingContext=p,f=ca(u),f.payload={element:o},v=v===void 0?null:v,v!==null&&(f.callback=v),o=fa(i,f,u),o!==null&&(Hr(o,i,u),eo(o,i,u))}function Sb(i,u){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<u?o:u}}function e0(i,u){Sb(i,u),(i=i.alternate)&&Sb(i,u)}function wb(i){if(i.tag===13){var u=Ru(i,67108864);u!==null&&Hr(u,i,67108864),e0(i,67108864)}}var Sc=!0;function yA(i,u,o,f){var p=re.T;re.T=null;var v=ee.p;try{ee.p=2,t0(i,u,o,f)}finally{ee.p=v,re.T=p}}function TA(i,u,o,f){var p=re.T;re.T=null;var v=ee.p;try{ee.p=8,t0(i,u,o,f)}finally{ee.p=v,re.T=p}}function t0(i,u,o,f){if(Sc){var p=n0(f);if(p===null)qh(i,u,f,wc,o),Nb(i,f);else if(xA(p,i,u,o,f))f.stopPropagation();else if(Nb(i,f),u&4&&-1<AA.indexOf(i)){for(;p!==null;){var v=Yn(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var I=Rn(v.pendingLanes);if(I!==0){var q=v;for(q.pendingLanes|=2,q.entangledLanes|=2;I;){var ae=1<<31-zt(I);q.entanglements[1]|=ae,I&=~ae}Ti(v),(hn&6)===0&&(lc=X()+500,_o(0))}}break;case 13:q=Ru(v,2),q!==null&&Hr(q,v,2),fc(),e0(v,2)}if(v=n0(f),v===null&&qh(i,u,f,wc,o),v===p)break;p=v}p!==null&&f.stopPropagation()}else qh(i,u,f,null,o)}}function n0(i){return i=Ms(i),r0(i)}var wc=null;function r0(i){if(wc=null,i=wn(i),i!==null){var u=s(i);if(u===null)i=null;else{var o=u.tag;if(o===13){if(i=l(u),i!==null)return i;i=null}else if(o===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;i=null}else u!==i&&(i=null)}}return wc=i,null}function Cb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W()){case pe:return 2;case Pe:return 8;case De:case me:return 32;case Le:return 268435456;default:return 32}default:return 32}}var i0=!1,xa=null,Sa=null,wa=null,wo=new Map,Co=new Map,Ca=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nb(i,u){switch(i){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":wo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(u.pointerId)}}function No(i,u,o,f,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:u,domEventName:o,eventSystemFlags:f,nativeEvent:v,targetContainers:[p]},u!==null&&(u=Yn(u),u!==null&&wb(u)),i):(i.eventSystemFlags|=f,u=i.targetContainers,p!==null&&u.indexOf(p)===-1&&u.push(p),i)}function xA(i,u,o,f,p){switch(u){case"focusin":return xa=No(xa,i,u,o,f,p),!0;case"dragenter":return Sa=No(Sa,i,u,o,f,p),!0;case"mouseover":return wa=No(wa,i,u,o,f,p),!0;case"pointerover":var v=p.pointerId;return wo.set(v,No(wo.get(v)||null,i,u,o,f,p)),!0;case"gotpointercapture":return v=p.pointerId,Co.set(v,No(Co.get(v)||null,i,u,o,f,p)),!0}return!1}function Db(i){var u=wn(i.target);if(u!==null){var o=s(u);if(o!==null){if(u=o.tag,u===13){if(u=l(o),u!==null){i.blockedOn=u,oe(i.priority,function(){if(o.tag===13){var f=zr();f=ue(f);var p=Ru(o,f);p!==null&&Hr(p,o,f),e0(o,f)}});return}}else if(u===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cc(i){if(i.blockedOn!==null)return!1;for(var u=i.targetContainers;0<u.length;){var o=n0(i.nativeEvent);if(o===null){o=i.nativeEvent;var f=new o.constructor(o.type,o);Bs=f,o.target.dispatchEvent(f),Bs=null}else return u=Yn(o),u!==null&&wb(u),i.blockedOn=o,!1;u.shift()}return!0}function Ob(i,u,o){Cc(i)&&o.delete(u)}function SA(){i0=!1,xa!==null&&Cc(xa)&&(xa=null),Sa!==null&&Cc(Sa)&&(Sa=null),wa!==null&&Cc(wa)&&(wa=null),wo.forEach(Ob),Co.forEach(Ob)}function Nc(i,u){i.blockedOn===u&&(i.blockedOn=null,i0||(i0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SA)))}var Dc=null;function Rb(i){Dc!==i&&(Dc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dc===i&&(Dc=null);for(var u=0;u<i.length;u+=3){var o=i[u],f=i[u+1],p=i[u+2];if(typeof f!="function"){if(r0(f||o)===null)continue;break}var v=Yn(o);v!==null&&(i.splice(u,3),u-=3,rh(v,{pending:!0,data:p,method:o.method,action:f},f,p))}}))}function Do(i){function u(ae){return Nc(ae,i)}xa!==null&&Nc(xa,i),Sa!==null&&Nc(Sa,i),wa!==null&&Nc(wa,i),wo.forEach(u),Co.forEach(u);for(var o=0;o<Ca.length;o++){var f=Ca[o];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ca.length&&(o=Ca[0],o.blockedOn===null);)Db(o),o.blockedOn===null&&Ca.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var p=o[f],v=o[f+1],I=p[Xe]||null;if(typeof v=="function")I||Rb(o);else if(I){var q=null;if(v&&v.hasAttribute("formAction")){if(p=v,I=v[Xe]||null)q=I.formAction;else if(r0(p)!==null)continue}else q=I.action;typeof q=="function"?o[f+1]=q:(o.splice(f,3),f-=3),Rb(o)}}}function a0(i){this._internalRoot=i}Oc.prototype.render=a0.prototype.render=function(i){var u=this._internalRoot;if(u===null)throw Error(r(409));var o=u.current,f=zr();xb(o,f,i,u,null,null)},Oc.prototype.unmount=a0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var u=i.containerInfo;xb(i.current,2,null,i,null,null),fc(),u[it]=null}};function Oc(i){this._internalRoot=i}Oc.prototype.unstable_scheduleHydration=function(i){if(i){var u=z();i={blockedOn:null,target:i,priority:u};for(var o=0;o<Ca.length&&u!==0&&u<Ca[o].priority;o++);Ca.splice(o,0,i),o===0&&Db(i)}};var Ib=e.version;if(Ib!=="19.1.0")throw Error(r(527,Ib,"19.1.0"));ee.findDOMNode=function(i){var u=i._reactInternals;if(u===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(u),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var wA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{lt=Rc.inject(wA),bt=Rc}catch{}}return Ro.createRoot=function(i,u){if(!a(i))throw Error(r(299));var o=!1,f="",p=W2,v=X2,I=$2,q=null;return u!=null&&(u.unstable_strictMode===!0&&(o=!0),u.identifierPrefix!==void 0&&(f=u.identifierPrefix),u.onUncaughtError!==void 0&&(p=u.onUncaughtError),u.onCaughtError!==void 0&&(v=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(q=u.unstable_transitionCallbacks)),u=Tb(i,1,!1,null,null,o,f,p,v,I,q,null),i[it]=u.current,Hh(i),new a0(u)},Ro.hydrateRoot=function(i,u,o){if(!a(i))throw Error(r(299));var f=!1,p="",v=W2,I=X2,q=$2,ae=null,Ce=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(I=o.onCaughtError),o.onRecoverableError!==void 0&&(q=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(ae=o.unstable_transitionCallbacks),o.formState!==void 0&&(Ce=o.formState)),u=Tb(i,1,!0,u,o??null,f,p,v,I,q,ae,Ce),u.context=Ab(null),o=u.current,f=zr(),f=ue(f),p=ca(f),p.callback=null,fa(o,p,f),o=f,u.current.lanes=o,T(u,o),Ti(u),i[it]=u.current,Hh(i),new Oc(u)},Ro.version="19.1.0",Ro}var qb;function MA(){if(qb)return o0.exports;qb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o0.exports=BA(),o0.exports}var PA=MA();function ni(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var d0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var jb;function UA(){return jb||(jb=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,s){function l(h,m){if(!a[h]){if(!r[h]){var g=typeof ni=="function"&&ni;if(!m&&g)return g(h,!0);if(c)return c(h,!0);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}var b=a[h]={exports:{}};r[h][0].call(b.exports,function(N){var x=r[h][1][N];return l(x||N)},b,b.exports,n,r,a,s)}return a[h].exports}for(var c=typeof ni=="function"&&ni,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,a){var s=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var h,m,g,w,b,N,x,_=[],y=0,S=d.length,D=S,k=s.getTypeOf(d)!=="string";y<d.length;)D=S-y,g=k?(h=d[y++],m=y<S?d[y++]:0,y<S?d[y++]:0):(h=d.charCodeAt(y++),m=y<S?d.charCodeAt(y++):0,y<S?d.charCodeAt(y++):0),w=h>>2,b=(3&h)<<4|m>>4,N=1<D?(15&m)<<2|g>>6:64,x=2<D?63&g:64,_.push(c.charAt(w)+c.charAt(b)+c.charAt(N)+c.charAt(x));return _.join("")},a.decode=function(d){var h,m,g,w,b,N,x=0,_=0,y="data:";if(d.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var S,D=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&D--,d.charAt(d.length-2)===c.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=l.uint8array?new Uint8Array(0|D):new Array(0|D);x<d.length;)h=c.indexOf(d.charAt(x++))<<2|(w=c.indexOf(d.charAt(x++)))>>4,m=(15&w)<<4|(b=c.indexOf(d.charAt(x++)))>>2,g=(3&b)<<6|(N=c.indexOf(d.charAt(x++))),S[_++]=h,b!==64&&(S[_++]=m),N!==64&&(S[_++]=g);return S}},{"./support":30,"./utils":32}],2:[function(n,r,a){var s=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function h(m,g,w,b,N){this.compressedSize=m,this.uncompressedSize=g,this.crc32=w,this.compression=b,this.compressedContent=N}h.prototype={getContentWorker:function(){var m=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return m.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(m,g,w){return m.pipe(new c).pipe(new d("uncompressedSize")).pipe(g.compressWorker(w)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var s=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var s=n("./utils"),l=function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d}();r.exports=function(c,d){return c!==void 0&&c.length?s.getTypeOf(c)!=="string"?function(h,m,g,w){var b=l,N=w+g;h^=-1;for(var x=w;x<N;x++)h=h>>>8^b[255&(h^m[x])];return-1^h}(0|d,c,c.length,0):function(h,m,g,w){var b=l,N=w+g;h^=-1;for(var x=w;x<N;x++)h=h>>>8^b[255&(h^m.charCodeAt(x))];return-1^h}(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),d=n("./stream/GenericWorker"),h=s?"uint8array":"array";function m(g,w){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=w,this.meta={}}a.magic="\b\0",c.inherits(m,d),m.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,g.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(w){g.push({data:w,meta:g.meta})}},a.compressWorker=function(g){return new m("Deflate",g)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function s(b,N){var x,_="";for(x=0;x<N;x++)_+=String.fromCharCode(255&b),b>>>=8;return _}function l(b,N,x,_,y,S){var D,k,C=b.file,B=b.compression,P=S!==h.utf8encode,F=c.transformTo("string",S(C.name)),M=c.transformTo("string",h.utf8encode(C.name)),H=C.comment,ne=c.transformTo("string",S(H)),U=c.transformTo("string",h.utf8encode(H)),J=M.length!==C.name.length,R=U.length!==H.length,se="",re="",ee="",ge=C.dir,de=C.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};N&&!x||(Z.crc32=b.crc32,Z.compressedSize=b.compressedSize,Z.uncompressedSize=b.uncompressedSize);var Y=0;N&&(Y|=8),P||!J&&!R||(Y|=2048);var $=0,xe=0;ge&&($|=16),y==="UNIX"?(xe=798,$|=function(Ne,Qe){var ht=Ne;return Ne||(ht=Qe?16893:33204),(65535&ht)<<16}(C.unixPermissions,ge)):(xe=20,$|=function(Ne){return 63&(Ne||0)}(C.dosPermissions)),D=de.getUTCHours(),D<<=6,D|=de.getUTCMinutes(),D<<=5,D|=de.getUTCSeconds()/2,k=de.getUTCFullYear()-1980,k<<=4,k|=de.getUTCMonth()+1,k<<=5,k|=de.getUTCDate(),J&&(re=s(1,1)+s(m(F),4)+M,se+="up"+s(re.length,2)+re),R&&(ee=s(1,1)+s(m(ne),4)+U,se+="uc"+s(ee.length,2)+ee);var ce="";return ce+=`
\0`,ce+=s(Y,2),ce+=B.magic,ce+=s(D,2),ce+=s(k,2),ce+=s(Z.crc32,4),ce+=s(Z.compressedSize,4),ce+=s(Z.uncompressedSize,4),ce+=s(F.length,2),ce+=s(se.length,2),{fileRecord:g.LOCAL_FILE_HEADER+ce+F+se,dirRecord:g.CENTRAL_FILE_HEADER+s(xe,2)+ce+s(ne.length,2)+"\0\0\0\0"+s($,4)+s(_,4)+F+se+ne}}var c=n("../utils"),d=n("../stream/GenericWorker"),h=n("../utf8"),m=n("../crc32"),g=n("../signature");function w(b,N,x,_){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=N,this.zipPlatform=x,this.encodeFileName=_,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(w,d),w.prototype.push=function(b){var N=b.meta.percent||0,x=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,d.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:x?(N+100*(x-_-1))/x:100}}))},w.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var N=this.streamFiles&&!b.file.dir;if(N){var x=l(b,N,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(b){this.accumulate=!1;var N=this.streamFiles&&!b.file.dir,x=l(b,N,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),N)this.push({data:function(_){return g.DATA_DESCRIPTOR+s(_.crc32,4)+s(_.compressedSize,4)+s(_.uncompressedSize,4)}(b),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var b=this.bytesWritten,N=0;N<this.dirRecords.length;N++)this.push({data:this.dirRecords[N],meta:{percent:100}});var x=this.bytesWritten-b,_=function(y,S,D,k,C){var B=c.transformTo("string",C(k));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(S,4)+s(D,4)+s(B.length,2)+B}(this.dirRecords.length,x,b,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(b){this._sources.push(b);var N=this;return b.on("data",function(x){N.processChunk(x)}),b.on("end",function(){N.closedSource(N.previous.streamInfo),N._sources.length?N.prepareNextSource():N.end()}),b.on("error",function(x){N.error(x)}),this},w.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(b){var N=this._sources;if(!d.prototype.error.call(this,b))return!1;for(var x=0;x<N.length;x++)try{N[x].error(b)}catch{}return!0},w.prototype.lock=function(){d.prototype.lock.call(this);for(var b=this._sources,N=0;N<b.length;N++)b[N].lock()},r.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var s=n("../compressions"),l=n("./ZipFileWorker");a.generateWorker=function(c,d,h){var m=new l(d.streamFiles,h,d.platform,d.encodeFileName),g=0;try{c.forEach(function(w,b){g++;var N=function(S,D){var k=S||D,C=s[k];if(!C)throw new Error(k+" is not a valid compression method !");return C}(b.options.compression,d.compression),x=b.options.compressionOptions||d.compressionOptions||{},_=b.dir,y=b.date;b._compressWorker(N,x).withStreamInfo("file",{name:w,dir:_,date:y,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(m)}),m.entriesCount=g}catch(w){m.error(w)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,c){return new s().loadAsync(l,c)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var s=n("./utils"),l=n("./external"),c=n("./utf8"),d=n("./zipEntries"),h=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function g(w){return new l.Promise(function(b,N){var x=w.decompressed.getContentWorker().pipe(new h);x.on("error",function(_){N(_)}).on("end",function(){x.streamInfo.crc32!==w.decompressed.crc32?N(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}r.exports=function(w,b){var N=this;return b=s.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(w)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",w,!0,b.optimizedBinaryString,b.base64).then(function(x){var _=new d(b);return _.load(x),_}).then(function(x){var _=[l.Promise.resolve(x)],y=x.files;if(b.checkCRC32)for(var S=0;S<y.length;S++)_.push(g(y[S]));return l.Promise.all(_)}).then(function(x){for(var _=x.shift(),y=_.files,S=0;S<y.length;S++){var D=y[S],k=D.fileNameStr,C=s.resolve(D.fileNameStr);N.file(C,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:b.createFolders}),D.dir||(N.file(C).unsafeOriginalName=k)}return _.zipComment.length&&(N.comment=_.zipComment),N})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var s=n("../utils"),l=n("../stream/GenericWorker");function c(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(c,l),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(m){h.push({data:m,meta:{percent:0}})}).on("error",function(m){h.isPaused?this.generatedError=m:h.error(m)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var s=n("readable-stream").Readable;function l(c,d,h){s.call(this,d),this._helper=c;var m=this;c.on("data",function(g,w){m.push(g)||m._helper.pause(),h&&h(w)}).on("error",function(g){m.emit("error",g)}).on("end",function(){m.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,a){function s(C,B,P){var F,M=c.getTypeOf(B),H=c.extend(P||{},m);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(C=y(C)),H.createFolders&&(F=_(C))&&S.call(this,F,!0);var ne=M==="string"&&H.binary===!1&&H.base64===!1;P&&P.binary!==void 0||(H.binary=!ne),(B instanceof g&&B.uncompressedSize===0||H.dir||!B||B.length===0)&&(H.base64=!1,H.binary=!0,B="",H.compression="STORE",M="string");var U=null;U=B instanceof g||B instanceof d?B:N.isNode&&N.isStream(B)?new x(C,B):c.prepareContent(C,B,H.binary,H.optimizedBinaryString,H.base64);var J=new w(C,U,H);this.files[C]=J}var l=n("./utf8"),c=n("./utils"),d=n("./stream/GenericWorker"),h=n("./stream/StreamHelper"),m=n("./defaults"),g=n("./compressedObject"),w=n("./zipObject"),b=n("./generate"),N=n("./nodejsUtils"),x=n("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var B=C.lastIndexOf("/");return 0<B?C.substring(0,B):""},y=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},S=function(C,B){return B=B!==void 0?B:m.createFolders,C=y(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:B}),this.files[C]};function D(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var B,P,F;for(B in this.files)F=this.files[B],(P=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&C(P,F)},filter:function(C){var B=[];return this.forEach(function(P,F){C(P,F)&&B.push(F)}),B},file:function(C,B,P){if(arguments.length!==1)return C=this.root+C,s.call(this,C,B,P),this;if(D(C)){var F=C;return this.filter(function(H,ne){return!ne.dir&&F.test(H)})}var M=this.files[this.root+C];return M&&!M.dir?M:null},folder:function(C){if(!C)return this;if(D(C))return this.filter(function(M,H){return H.dir&&C.test(M)});var B=this.root+C,P=S.call(this,B),F=this.clone();return F.root=P.name,F},remove:function(C){C=this.root+C;var B=this.files[C];if(B||(C.slice(-1)!=="/"&&(C+="/"),B=this.files[C]),B&&!B.dir)delete this.files[C];else for(var P=this.filter(function(M,H){return H.name.slice(0,C.length)===C}),F=0;F<P.length;F++)delete this.files[P[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var B,P={};try{if((P=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");c.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var F=P.comment||this.comment||"";B=b.generateWorker(this,P,F)}catch(M){(B=new d("error")).error(M)}return new h(B,P.type||"string",P.mimeType)},generateAsync:function(C,B){return this.generateInternalStream(C).accumulate(B)},generateNodeStream:function(C,B){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(B)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var s=n("./DataReader");function l(c){s.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}n("../utils").inherits(l,s),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),g=c.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===d&&this.data[w+1]===h&&this.data[w+2]===m&&this.data[w+3]===g)return w-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),g=c.charCodeAt(3),w=this.readData(4);return d===w[0]&&h===w[1]&&m===w[2]&&g===w[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var s=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,a){var s=n("./Uint8ArrayReader");function l(c){s.call(this,c)}n("../utils").inherits(l,s),l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var s=n("./DataReader");function l(c){s.call(this,c)}n("../utils").inherits(l,s),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var s=n("./ArrayReader");function l(c){s.call(this,c)}n("../utils").inherits(l,s),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var s=n("../utils"),l=n("../support"),c=n("./ArrayReader"),d=n("./StringReader"),h=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");r.exports=function(g){var w=s.getTypeOf(g);return s.checkSupport(w),w!=="string"||l.uint8array?w==="nodebuffer"?new h(g):l.uint8array?new m(s.transformTo("uint8array",g)):new c(s.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var s=n("./GenericWorker"),l=n("../utils");function c(d){s.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,s),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var s=n("./GenericWorker"),l=n("../crc32");function c(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,s),c.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var s=n("../utils"),l=n("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(c,l),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var s=n("../utils"),l=n("./GenericWorker");function c(d){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){h.dataIsReady=!0,h.data=m,h.max=m&&m.length||0,h.type=s.getTypeOf(m),h.isPaused||h._tickAndRepeat()},function(m){h.error(m)})}s.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,a){var s=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),d=n("../base64"),h=n("../support"),m=n("../external"),g=null;if(h.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(N,x){return new m.Promise(function(_,y){var S=[],D=N._internalType,k=N._outputType,C=N._mimeType;N.on("data",function(B,P){S.push(B),x&&x(P)}).on("error",function(B){S=[],y(B)}).on("end",function(){try{var B=function(P,F,M){switch(P){case"blob":return s.newBlob(s.transformTo("arraybuffer",F),M);case"base64":return d.encode(F);default:return s.transformTo(P,F)}}(k,function(P,F){var M,H=0,ne=null,U=0;for(M=0;M<F.length;M++)U+=F[M].length;switch(P){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(ne=new Uint8Array(U),M=0;M<F.length;M++)ne.set(F[M],H),H+=F[M].length;return ne;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+P+"'")}}(D,S),C);_(B)}catch(P){y(P)}S=[]}).resume()})}function b(N,x,_){var y=x;switch(x){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=x,this._mimeType=_,s.checkSupport(y),this._worker=N.pipe(new l(y)),N.lock()}catch(S){this._worker=new c("error"),this._worker.error(S)}}b.prototype={accumulate:function(N){return w(this,N)},on:function(N,x){var _=this;return N==="data"?this._worker.on(N,function(y){x.call(_,y.data,y.meta)}):this._worker.on(N,function(){s.delay(x,arguments,_)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(N){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},N)}},r.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),a.blob=l.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var s=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),d=n("./stream/GenericWorker"),h=new Array(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;h[254]=h[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function w(){d.call(this,"utf-8 encode")}a.utf8encode=function(b){return l.nodebuffer?c.newBufferFrom(b,"utf-8"):function(N){var x,_,y,S,D,k=N.length,C=0;for(S=0;S<k;S++)(64512&(_=N.charCodeAt(S)))==55296&&S+1<k&&(64512&(y=N.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(y-56320),S++),C+=_<128?1:_<2048?2:_<65536?3:4;for(x=l.uint8array?new Uint8Array(C):new Array(C),S=D=0;D<C;S++)(64512&(_=N.charCodeAt(S)))==55296&&S+1<k&&(64512&(y=N.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(y-56320),S++),_<128?x[D++]=_:(_<2048?x[D++]=192|_>>>6:(_<65536?x[D++]=224|_>>>12:(x[D++]=240|_>>>18,x[D++]=128|_>>>12&63),x[D++]=128|_>>>6&63),x[D++]=128|63&_);return x}(b)},a.utf8decode=function(b){return l.nodebuffer?s.transformTo("nodebuffer",b).toString("utf-8"):function(N){var x,_,y,S,D=N.length,k=new Array(2*D);for(x=_=0;x<D;)if((y=N[x++])<128)k[_++]=y;else if(4<(S=h[y]))k[_++]=65533,x+=S-1;else{for(y&=S===2?31:S===3?15:7;1<S&&x<D;)y=y<<6|63&N[x++],S--;1<S?k[_++]=65533:y<65536?k[_++]=y:(y-=65536,k[_++]=55296|y>>10&1023,k[_++]=56320|1023&y)}return k.length!==_&&(k.subarray?k=k.subarray(0,_):k.length=_),s.applyFromCharCode(k)}(b=s.transformTo(l.uint8array?"uint8array":"array",b))},s.inherits(g,d),g.prototype.processChunk=function(b){var N=s.transformTo(l.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var x=N;(N=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),N.set(x,this.leftOver.length)}else N=this.leftOver.concat(N);this.leftOver=null}var _=function(S,D){var k;for((D=D||S.length)>S.length&&(D=S.length),k=D-1;0<=k&&(192&S[k])==128;)k--;return k<0||k===0?D:k+h[S[k]]>D?k:D}(N),y=N;_!==N.length&&(l.uint8array?(y=N.subarray(0,_),this.leftOver=N.subarray(_,N.length)):(y=N.slice(0,_),this.leftOver=N.slice(_,N.length))),this.push({data:a.utf8decode(y),meta:b.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=g,s.inherits(w,d),w.prototype.processChunk=function(b){this.push({data:a.utf8encode(b.data),meta:b.meta})},a.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var s=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),d=n("./external");function h(x){return x}function m(x,_){for(var y=0;y<x.length;++y)_[y]=255&x.charCodeAt(y);return _}n("setimmediate"),a.newBlob=function(x,_){a.checkSupport("blob");try{return new Blob([x],{type:_})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(x),y.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(x,_,y){var S=[],D=0,k=x.length;if(k<=y)return String.fromCharCode.apply(null,x);for(;D<k;)_==="array"||_==="nodebuffer"?S.push(String.fromCharCode.apply(null,x.slice(D,Math.min(D+y,k)))):S.push(String.fromCharCode.apply(null,x.subarray(D,Math.min(D+y,k)))),D+=y;return S.join("")},stringifyByChar:function(x){for(var _="",y=0;y<x.length;y++)_+=String.fromCharCode(x[y]);return _},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function w(x){var _=65536,y=a.getTypeOf(x),S=!0;if(y==="uint8array"?S=g.applyCanBeUsed.uint8array:y==="nodebuffer"&&(S=g.applyCanBeUsed.nodebuffer),S)for(;1<_;)try{return g.stringifyByChunk(x,y,_)}catch{_=Math.floor(_/2)}return g.stringifyByChar(x)}function b(x,_){for(var y=0;y<x.length;y++)_[y]=x[y];return _}a.applyFromCharCode=w;var N={};N.string={string:h,array:function(x){return m(x,new Array(x.length))},arraybuffer:function(x){return N.string.uint8array(x).buffer},uint8array:function(x){return m(x,new Uint8Array(x.length))},nodebuffer:function(x){return m(x,c.allocBuffer(x.length))}},N.array={string:w,array:h,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return c.newBufferFrom(x)}},N.arraybuffer={string:function(x){return w(new Uint8Array(x))},array:function(x){return b(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:h,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return c.newBufferFrom(new Uint8Array(x))}},N.uint8array={string:w,array:function(x){return b(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:h,nodebuffer:function(x){return c.newBufferFrom(x)}},N.nodebuffer={string:w,array:function(x){return b(x,new Array(x.length))},arraybuffer:function(x){return N.nodebuffer.uint8array(x).buffer},uint8array:function(x){return b(x,new Uint8Array(x.length))},nodebuffer:h},a.transformTo=function(x,_){if(_=_||"",!x)return _;a.checkSupport(x);var y=a.getTypeOf(_);return N[y][x](_)},a.resolve=function(x){for(var _=x.split("/"),y=[],S=0;S<_.length;S++){var D=_[S];D==="."||D===""&&S!==0&&S!==_.length-1||(D===".."?y.pop():y.push(D))}return y.join("/")},a.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":s.nodebuffer&&c.isBuffer(x)?"nodebuffer":s.uint8array&&x instanceof Uint8Array?"uint8array":s.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(x){if(!s[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(x){var _,y,S="";for(y=0;y<(x||"").length;y++)S+="\\x"+((_=x.charCodeAt(y))<16?"0":"")+_.toString(16).toUpperCase();return S},a.delay=function(x,_,y){setImmediate(function(){x.apply(y||null,_||[])})},a.inherits=function(x,_){function y(){}y.prototype=_.prototype,x.prototype=new y},a.extend=function(){var x,_,y={};for(x=0;x<arguments.length;x++)for(_ in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],_)&&y[_]===void 0&&(y[_]=arguments[x][_]);return y},a.prepareContent=function(x,_,y,S,D){return d.Promise.resolve(_).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new d.Promise(function(C,B){var P=new FileReader;P.onload=function(F){C(F.target.result)},P.onerror=function(F){B(F.target.error)},P.readAsArrayBuffer(k)}):k}).then(function(k){var C=a.getTypeOf(k);return C?(C==="arraybuffer"?k=a.transformTo("uint8array",k):C==="string"&&(D?k=l.decode(k):y&&S!==!0&&(k=function(B){return m(B,s.uint8array?new Uint8Array(B.length):new Array(B.length))}(k))),k):d.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var s=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),d=n("./zipEntry"),h=n("./support");function m(g){this.files=[],this.loadOptions=g}m.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(w)+", expected "+l.pretty(g)+")")}},isSignature:function(g,w){var b=this.reader.index;this.reader.setIndex(g);var N=this.reader.readString(4)===w;return this.reader.setIndex(b),N},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),w=h.uint8array?"uint8array":"array",b=l.transformTo(w,g);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,w,b,N=this.zip64EndOfCentralSize-44;0<N;)g=this.reader.readInt(2),w=this.reader.readInt(4),b=this.reader.readData(w),this.zip64ExtensibleData[g]={id:g,length:w,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,w;for(g=0;g<this.files.length;g++)w=this.files[g],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var w=g;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var N=w-b;if(0<N)this.isSignature(w,c.CENTRAL_FILE_HEADER)||(this.reader.zero=N);else if(N<0)throw new Error("Corrupted zip: missing "+Math.abs(N)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var s=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),d=n("./crc32"),h=n("./utf8"),m=n("./compressions"),g=n("./support");function w(b,N){this.options=b,this.loadOptions=N}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var N,x;if(b.skip(22),this.fileNameLength=b.readInt(2),x=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((N=function(_){for(var y in m)if(Object.prototype.hasOwnProperty.call(m,y)&&m[y].magic===_)return m[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,N,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var N=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(N),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var N,x,_,y=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<y;)N=b.readInt(2),x=b.readInt(2),_=b.readData(x),this.extraFields[N]={id:N,length:x,value:_};b.setIndex(y)},handleUTF8:function(){var b=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var N=this.findExtraFieldUnicodePath();if(N!==null)this.fileNameStr=N;else{var x=l.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var y=l.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var N=s(b.value);return N.readInt(1)!==1||d(this.fileName)!==N.readInt(4)?null:h.utf8decode(N.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var N=s(b.value);return N.readInt(1)!==1||d(this.fileComment)!==N.readInt(4)?null:h.utf8decode(N.readData(b.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function s(N,x,_){this.name=N,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=x,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var l=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),d=n("./utf8"),h=n("./compressedObject"),m=n("./stream/GenericWorker");s.prototype={internalStream:function(N){var x=null,_="string";try{if(!N)throw new Error("No output type specified.");var y=(_=N.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),x=this._decompressWorker();var S=!this._dataBinary;S&&!y&&(x=x.pipe(new d.Utf8EncodeWorker)),!S&&y&&(x=x.pipe(new d.Utf8DecodeWorker))}catch(D){(x=new m("error")).error(D)}return new l(x,_,"")},async:function(N,x){return this.internalStream(N).accumulate(x)},nodeStream:function(N,x){return this.internalStream(N||"nodebuffer").toNodejsStream(x)},_compressWorker:function(N,x){if(this._data instanceof h&&this._data.compression.magic===N.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(_,N,x)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<g.length;b++)s.prototype[g[b]]=w;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(s){var l,c,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var h=0,m=new d(N),g=s.document.createTextNode("");m.observe(g,{characterData:!0}),l=function(){g.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var x=s.document.createElement("script");x.onreadystatechange=function(){N(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},s.document.documentElement.appendChild(x)}:function(){setTimeout(N,0)};else{var w=new s.MessageChannel;w.port1.onmessage=N,l=function(){w.port2.postMessage(0)}}var b=[];function N(){var x,_;c=!0;for(var y=b.length;y;){for(_=b,b=[],x=-1;++x<y;)_[x]();y=b.length}c=!1}r.exports=function(x){b.push(x)!==1||c||l()}}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var s=n("immediate");function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];function g(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,y!==l&&x(this,y)}function w(y,S,D){this.promise=y,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function b(y,S,D){s(function(){var k;try{k=S(D)}catch(C){return c.reject(y,C)}k===y?c.reject(y,new TypeError("Cannot resolve promise with itself")):c.resolve(y,k)})}function N(y){var S=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof S=="function")return function(){S.apply(y,arguments)}}function x(y,S){var D=!1;function k(P){D||(D=!0,c.reject(y,P))}function C(P){D||(D=!0,c.resolve(y,P))}var B=_(function(){S(C,k)});B.status==="error"&&k(B.value)}function _(y,S){var D={};try{D.value=y(S),D.status="success"}catch(k){D.status="error",D.value=k}return D}(r.exports=g).prototype.finally=function(y){if(typeof y!="function")return this;var S=this.constructor;return this.then(function(D){return S.resolve(y()).then(function(){return D})},function(D){return S.resolve(y()).then(function(){throw D})})},g.prototype.catch=function(y){return this.then(null,y)},g.prototype.then=function(y,S){if(typeof y!="function"&&this.state===h||typeof S!="function"&&this.state===d)return this;var D=new this.constructor(l);return this.state!==m?b(D,this.state===h?y:S,this.outcome):this.queue.push(new w(D,y,S)),D},w.prototype.callFulfilled=function(y){c.resolve(this.promise,y)},w.prototype.otherCallFulfilled=function(y){b(this.promise,this.onFulfilled,y)},w.prototype.callRejected=function(y){c.reject(this.promise,y)},w.prototype.otherCallRejected=function(y){b(this.promise,this.onRejected,y)},c.resolve=function(y,S){var D=_(N,S);if(D.status==="error")return c.reject(y,D.value);var k=D.value;if(k)x(y,k);else{y.state=h,y.outcome=S;for(var C=-1,B=y.queue.length;++C<B;)y.queue[C].callFulfilled(S)}return y},c.reject=function(y,S){y.state=d,y.outcome=S;for(var D=-1,k=y.queue.length;++D<k;)y.queue[D].callRejected(S);return y},g.resolve=function(y){return y instanceof this?y:c.resolve(new this(l),y)},g.reject=function(y){var S=new this(l);return c.reject(S,y)},g.all=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=y.length,k=!1;if(!D)return this.resolve([]);for(var C=new Array(D),B=0,P=-1,F=new this(l);++P<D;)M(y[P],P);return F;function M(H,ne){S.resolve(H).then(function(U){C[ne]=U,++B!==D||k||(k=!0,c.resolve(F,C))},function(U){k||(k=!0,c.reject(F,U))})}},g.race=function(y){var S=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=y.length,k=!1;if(!D)return this.resolve([]);for(var C=-1,B=new this(l);++C<D;)P=y[C],S.resolve(P).then(function(F){k||(k=!0,c.resolve(B,F))},function(F){k||(k=!0,c.reject(B,F))});var P;return B}},{immediate:36}],38:[function(n,r,a){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var s=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/messages"),h=n("./zlib/zstream"),m=Object.prototype.toString,g=0,w=-1,b=0,N=8;function x(y){if(!(this instanceof x))return new x(y);this.options=l.assign({level:w,method:N,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},y||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var D=s.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(D!==g)throw new Error(d[D]);if(S.header&&s.deflateSetHeader(this.strm,S.header),S.dictionary){var k;if(k=typeof S.dictionary=="string"?c.string2buf(S.dictionary):m.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(D=s.deflateSetDictionary(this.strm,k))!==g)throw new Error(d[D]);this._dict_set=!0}}function _(y,S){var D=new x(S);if(D.push(y,!0),D.err)throw D.msg||d[D.err];return D.result}x.prototype.push=function(y,S){var D,k,C=this.strm,B=this.options.chunkSize;if(this.ended)return!1;k=S===~~S?S:S===!0?4:0,typeof y=="string"?C.input=c.string2buf(y):m.call(y)==="[object ArrayBuffer]"?C.input=new Uint8Array(y):C.input=y,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new l.Buf8(B),C.next_out=0,C.avail_out=B),(D=s.deflate(C,k))!==1&&D!==g)return this.onEnd(D),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(C.output,C.next_out))):this.onData(l.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&D!==1);return k===4?(D=s.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===g):k!==2||(this.onEnd(g),!(C.avail_out=0))},x.prototype.onData=function(y){this.chunks.push(y)},x.prototype.onEnd=function(y){y===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Deflate=x,a.deflate=_,a.deflateRaw=function(y,S){return(S=S||{}).raw=!0,_(y,S)},a.gzip=function(y,S){return(S=S||{}).gzip=!0,_(y,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var s=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/constants"),h=n("./zlib/messages"),m=n("./zlib/zstream"),g=n("./zlib/gzheader"),w=Object.prototype.toString;function b(x){if(!(this instanceof b))return new b(x);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},x||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||x&&x.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,_.windowBits);if(y!==d.Z_OK)throw new Error(h[y]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function N(x,_){var y=new b(_);if(y.push(x,!0),y.err)throw y.msg||h[y.err];return y.result}b.prototype.push=function(x,_){var y,S,D,k,C,B,P=this.strm,F=this.options.chunkSize,M=this.options.dictionary,H=!1;if(this.ended)return!1;S=_===~~_?_:_===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof x=="string"?P.input=c.binstring2buf(x):w.call(x)==="[object ArrayBuffer]"?P.input=new Uint8Array(x):P.input=x,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new l.Buf8(F),P.next_out=0,P.avail_out=F),(y=s.inflate(P,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&M&&(B=typeof M=="string"?c.string2buf(M):w.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,y=s.inflateSetDictionary(this.strm,B)),y===d.Z_BUF_ERROR&&H===!0&&(y=d.Z_OK,H=!1),y!==d.Z_STREAM_END&&y!==d.Z_OK)return this.onEnd(y),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&y!==d.Z_STREAM_END&&(P.avail_in!==0||S!==d.Z_FINISH&&S!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=c.utf8border(P.output,P.next_out),k=P.next_out-D,C=c.buf2string(P.output,D),P.next_out=k,P.avail_out=F-k,k&&l.arraySet(P.output,P.output,D,k,0),this.onData(C)):this.onData(l.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(H=!0)}while((0<P.avail_in||P.avail_out===0)&&y!==d.Z_STREAM_END);return y===d.Z_STREAM_END&&(S=d.Z_FINISH),S===d.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d.Z_OK):S!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(P.avail_out=0))},b.prototype.onData=function(x){this.chunks.push(x)},b.prototype.onEnd=function(x){x===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Inflate=b,a.inflate=N,a.inflateRaw=function(x,_){return(_=_||{}).raw=!0,N(x,_)},a.ungzip=N},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var m=h.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var g in m)m.hasOwnProperty(g)&&(d[g]=m[g])}}return d},a.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,m,g,w){if(h.subarray&&d.subarray)d.set(h.subarray(m,m+g),w);else for(var b=0;b<g;b++)d[w+b]=h[m+b]},flattenChunks:function(d){var h,m,g,w,b,N;for(h=g=0,m=d.length;h<m;h++)g+=d[h].length;for(N=new Uint8Array(g),h=w=0,m=d.length;h<m;h++)b=d[h],N.set(b,w),w+=b.length;return N}},c={arraySet:function(d,h,m,g,w){for(var b=0;b<g;b++)d[w+b]=h[m+b]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(s)},{}],42:[function(n,r,a){var s=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new s.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function m(g,w){if(w<65537&&(g.subarray&&c||!g.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(g,w));for(var b="",N=0;N<w;N++)b+=String.fromCharCode(g[N]);return b}d[254]=d[254]=1,a.string2buf=function(g){var w,b,N,x,_,y=g.length,S=0;for(x=0;x<y;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<y&&(64512&(N=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(N-56320),x++),S+=b<128?1:b<2048?2:b<65536?3:4;for(w=new s.Buf8(S),x=_=0;_<S;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<y&&(64512&(N=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(N-56320),x++),b<128?w[_++]=b:(b<2048?w[_++]=192|b>>>6:(b<65536?w[_++]=224|b>>>12:(w[_++]=240|b>>>18,w[_++]=128|b>>>12&63),w[_++]=128|b>>>6&63),w[_++]=128|63&b);return w},a.buf2binstring=function(g){return m(g,g.length)},a.binstring2buf=function(g){for(var w=new s.Buf8(g.length),b=0,N=w.length;b<N;b++)w[b]=g.charCodeAt(b);return w},a.buf2string=function(g,w){var b,N,x,_,y=w||g.length,S=new Array(2*y);for(b=N=0;b<y;)if((x=g[b++])<128)S[N++]=x;else if(4<(_=d[x]))S[N++]=65533,b+=_-1;else{for(x&=_===2?31:_===3?15:7;1<_&&b<y;)x=x<<6|63&g[b++],_--;1<_?S[N++]=65533:x<65536?S[N++]=x:(x-=65536,S[N++]=55296|x>>10&1023,S[N++]=56320|1023&x)}return m(S,N)},a.utf8border=function(g,w){var b;for((w=w||g.length)>g.length&&(w=g.length),b=w-1;0<=b&&(192&g[b])==128;)b--;return b<0||b===0?w:b+d[g[b]]>w?b:w}},{"./common":41}],43:[function(n,r,a){r.exports=function(s,l,c,d){for(var h=65535&s|0,m=s>>>16&65535|0,g=0;c!==0;){for(c-=g=2e3<c?2e3:c;m=m+(h=h+l[d++]|0)|0,--g;);h%=65521,m%=65521}return h|m<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var s=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();r.exports=function(l,c,d,h){var m=s,g=h+d;l^=-1;for(var w=h;w<g;w++)l=l>>>8^m[255&(l^c[w])];return-1^l}},{}],46:[function(n,r,a){var s,l=n("../utils/common"),c=n("./trees"),d=n("./adler32"),h=n("./crc32"),m=n("./messages"),g=0,w=4,b=0,N=-2,x=-1,_=4,y=2,S=8,D=9,k=286,C=30,B=19,P=2*k+1,F=15,M=3,H=258,ne=H+M+1,U=42,J=113,R=1,se=2,re=3,ee=4;function ge(O,ke){return O.msg=m[ke],ke}function de(O){return(O<<1)-(4<O?9:0)}function Z(O){for(var ke=O.length;0<=--ke;)O[ke]=0}function Y(O){var ke=O.state,Ae=ke.pending;Ae>O.avail_out&&(Ae=O.avail_out),Ae!==0&&(l.arraySet(O.output,ke.pending_buf,ke.pending_out,Ae,O.next_out),O.next_out+=Ae,ke.pending_out+=Ae,O.total_out+=Ae,O.avail_out-=Ae,ke.pending-=Ae,ke.pending===0&&(ke.pending_out=0))}function $(O,ke){c._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,ke),O.block_start=O.strstart,Y(O.strm)}function xe(O,ke){O.pending_buf[O.pending++]=ke}function ce(O,ke){O.pending_buf[O.pending++]=ke>>>8&255,O.pending_buf[O.pending++]=255&ke}function Ne(O,ke){var Ae,X,W=O.max_chain_length,pe=O.strstart,Pe=O.prev_length,De=O.nice_match,me=O.strstart>O.w_size-ne?O.strstart-(O.w_size-ne):0,Le=O.window,tt=O.w_mask,We=O.prev,lt=O.strstart+H,bt=Le[pe+Pe-1],yt=Le[pe+Pe];O.prev_length>=O.good_match&&(W>>=2),De>O.lookahead&&(De=O.lookahead);do if(Le[(Ae=ke)+Pe]===yt&&Le[Ae+Pe-1]===bt&&Le[Ae]===Le[pe]&&Le[++Ae]===Le[pe+1]){pe+=2,Ae++;do;while(Le[++pe]===Le[++Ae]&&Le[++pe]===Le[++Ae]&&Le[++pe]===Le[++Ae]&&Le[++pe]===Le[++Ae]&&Le[++pe]===Le[++Ae]&&Le[++pe]===Le[++Ae]&&Le[++pe]===Le[++Ae]&&Le[++pe]===Le[++Ae]&&pe<lt);if(X=H-(lt-pe),pe=lt-H,Pe<X){if(O.match_start=ke,De<=(Pe=X))break;bt=Le[pe+Pe-1],yt=Le[pe+Pe]}}while((ke=We[ke&tt])>me&&--W!=0);return Pe<=O.lookahead?Pe:O.lookahead}function Qe(O){var ke,Ae,X,W,pe,Pe,De,me,Le,tt,We=O.w_size;do{if(W=O.window_size-O.lookahead-O.strstart,O.strstart>=We+(We-ne)){for(l.arraySet(O.window,O.window,We,We,0),O.match_start-=We,O.strstart-=We,O.block_start-=We,ke=Ae=O.hash_size;X=O.head[--ke],O.head[ke]=We<=X?X-We:0,--Ae;);for(ke=Ae=We;X=O.prev[--ke],O.prev[ke]=We<=X?X-We:0,--Ae;);W+=We}if(O.strm.avail_in===0)break;if(Pe=O.strm,De=O.window,me=O.strstart+O.lookahead,Le=W,tt=void 0,tt=Pe.avail_in,Le<tt&&(tt=Le),Ae=tt===0?0:(Pe.avail_in-=tt,l.arraySet(De,Pe.input,Pe.next_in,tt,me),Pe.state.wrap===1?Pe.adler=d(Pe.adler,De,tt,me):Pe.state.wrap===2&&(Pe.adler=h(Pe.adler,De,tt,me)),Pe.next_in+=tt,Pe.total_in+=tt,tt),O.lookahead+=Ae,O.lookahead+O.insert>=M)for(pe=O.strstart-O.insert,O.ins_h=O.window[pe],O.ins_h=(O.ins_h<<O.hash_shift^O.window[pe+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[pe+M-1])&O.hash_mask,O.prev[pe&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=pe,pe++,O.insert--,!(O.lookahead+O.insert<M)););}while(O.lookahead<ne&&O.strm.avail_in!==0)}function ht(O,ke){for(var Ae,X;;){if(O.lookahead<ne){if(Qe(O),O.lookahead<ne&&ke===g)return R;if(O.lookahead===0)break}if(Ae=0,O.lookahead>=M&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+M-1])&O.hash_mask,Ae=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),Ae!==0&&O.strstart-Ae<=O.w_size-ne&&(O.match_length=Ne(O,Ae)),O.match_length>=M)if(X=c._tr_tally(O,O.strstart-O.match_start,O.match_length-M),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=M){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+M-1])&O.hash_mask,Ae=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else X=c._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(X&&($(O,!1),O.strm.avail_out===0))return R}return O.insert=O.strstart<M-1?O.strstart:M-1,ke===w?($(O,!0),O.strm.avail_out===0?re:ee):O.last_lit&&($(O,!1),O.strm.avail_out===0)?R:se}function Ue(O,ke){for(var Ae,X,W;;){if(O.lookahead<ne){if(Qe(O),O.lookahead<ne&&ke===g)return R;if(O.lookahead===0)break}if(Ae=0,O.lookahead>=M&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+M-1])&O.hash_mask,Ae=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=M-1,Ae!==0&&O.prev_length<O.max_lazy_match&&O.strstart-Ae<=O.w_size-ne&&(O.match_length=Ne(O,Ae),O.match_length<=5&&(O.strategy===1||O.match_length===M&&4096<O.strstart-O.match_start)&&(O.match_length=M-1)),O.prev_length>=M&&O.match_length<=O.prev_length){for(W=O.strstart+O.lookahead-M,X=c._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-M),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=W&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+M-1])&O.hash_mask,Ae=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=M-1,O.strstart++,X&&($(O,!1),O.strm.avail_out===0))return R}else if(O.match_available){if((X=c._tr_tally(O,0,O.window[O.strstart-1]))&&$(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return R}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(X=c._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<M-1?O.strstart:M-1,ke===w?($(O,!0),O.strm.avail_out===0?re:ee):O.last_lit&&($(O,!1),O.strm.avail_out===0)?R:se}function ct(O,ke,Ae,X,W){this.good_length=O,this.max_lazy=ke,this.nice_length=Ae,this.max_chain=X,this.func=W}function wt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*P),this.dyn_dtree=new l.Buf16(2*(2*C+1)),this.bl_tree=new l.Buf16(2*(2*B+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(F+1),this.heap=new l.Buf16(2*k+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*k+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(O){var ke;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=y,(ke=O.state).pending=0,ke.pending_out=0,ke.wrap<0&&(ke.wrap=-ke.wrap),ke.status=ke.wrap?U:J,O.adler=ke.wrap===2?0:1,ke.last_flush=g,c._tr_init(ke),b):ge(O,N)}function xt(O){var ke=ft(O);return ke===b&&function(Ae){Ae.window_size=2*Ae.w_size,Z(Ae.head),Ae.max_lazy_match=s[Ae.level].max_lazy,Ae.good_match=s[Ae.level].good_length,Ae.nice_match=s[Ae.level].nice_length,Ae.max_chain_length=s[Ae.level].max_chain,Ae.strstart=0,Ae.block_start=0,Ae.lookahead=0,Ae.insert=0,Ae.match_length=Ae.prev_length=M-1,Ae.match_available=0,Ae.ins_h=0}(O.state),ke}function Tt(O,ke,Ae,X,W,pe){if(!O)return N;var Pe=1;if(ke===x&&(ke=6),X<0?(Pe=0,X=-X):15<X&&(Pe=2,X-=16),W<1||D<W||Ae!==S||X<8||15<X||ke<0||9<ke||pe<0||_<pe)return ge(O,N);X===8&&(X=9);var De=new wt;return(O.state=De).strm=O,De.wrap=Pe,De.gzhead=null,De.w_bits=X,De.w_size=1<<De.w_bits,De.w_mask=De.w_size-1,De.hash_bits=W+7,De.hash_size=1<<De.hash_bits,De.hash_mask=De.hash_size-1,De.hash_shift=~~((De.hash_bits+M-1)/M),De.window=new l.Buf8(2*De.w_size),De.head=new l.Buf16(De.hash_size),De.prev=new l.Buf16(De.w_size),De.lit_bufsize=1<<W+6,De.pending_buf_size=4*De.lit_bufsize,De.pending_buf=new l.Buf8(De.pending_buf_size),De.d_buf=1*De.lit_bufsize,De.l_buf=3*De.lit_bufsize,De.level=ke,De.strategy=pe,De.method=Ae,xt(O)}s=[new ct(0,0,0,0,function(O,ke){var Ae=65535;for(Ae>O.pending_buf_size-5&&(Ae=O.pending_buf_size-5);;){if(O.lookahead<=1){if(Qe(O),O.lookahead===0&&ke===g)return R;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var X=O.block_start+Ae;if((O.strstart===0||O.strstart>=X)&&(O.lookahead=O.strstart-X,O.strstart=X,$(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-ne&&($(O,!1),O.strm.avail_out===0))return R}return O.insert=0,ke===w?($(O,!0),O.strm.avail_out===0?re:ee):(O.strstart>O.block_start&&($(O,!1),O.strm.avail_out),R)}),new ct(4,4,8,4,ht),new ct(4,5,16,8,ht),new ct(4,6,32,32,ht),new ct(4,4,16,16,Ue),new ct(8,16,32,32,Ue),new ct(8,16,128,128,Ue),new ct(8,32,128,256,Ue),new ct(32,128,258,1024,Ue),new ct(32,258,258,4096,Ue)],a.deflateInit=function(O,ke){return Tt(O,ke,S,15,8,0)},a.deflateInit2=Tt,a.deflateReset=xt,a.deflateResetKeep=ft,a.deflateSetHeader=function(O,ke){return O&&O.state?O.state.wrap!==2?N:(O.state.gzhead=ke,b):N},a.deflate=function(O,ke){var Ae,X,W,pe;if(!O||!O.state||5<ke||ke<0)return O?ge(O,N):N;if(X=O.state,!O.output||!O.input&&O.avail_in!==0||X.status===666&&ke!==w)return ge(O,O.avail_out===0?-5:N);if(X.strm=O,Ae=X.last_flush,X.last_flush=ke,X.status===U)if(X.wrap===2)O.adler=0,xe(X,31),xe(X,139),xe(X,8),X.gzhead?(xe(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),xe(X,255&X.gzhead.time),xe(X,X.gzhead.time>>8&255),xe(X,X.gzhead.time>>16&255),xe(X,X.gzhead.time>>24&255),xe(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),xe(X,255&X.gzhead.os),X.gzhead.extra&&X.gzhead.extra.length&&(xe(X,255&X.gzhead.extra.length),xe(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(O.adler=h(O.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=69):(xe(X,0),xe(X,0),xe(X,0),xe(X,0),xe(X,0),xe(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),xe(X,3),X.status=J);else{var Pe=S+(X.w_bits-8<<4)<<8;Pe|=(2<=X.strategy||X.level<2?0:X.level<6?1:X.level===6?2:3)<<6,X.strstart!==0&&(Pe|=32),Pe+=31-Pe%31,X.status=J,ce(X,Pe),X.strstart!==0&&(ce(X,O.adler>>>16),ce(X,65535&O.adler)),O.adler=1}if(X.status===69)if(X.gzhead.extra){for(W=X.pending;X.gzindex<(65535&X.gzhead.extra.length)&&(X.pending!==X.pending_buf_size||(X.gzhead.hcrc&&X.pending>W&&(O.adler=h(O.adler,X.pending_buf,X.pending-W,W)),Y(O),W=X.pending,X.pending!==X.pending_buf_size));)xe(X,255&X.gzhead.extra[X.gzindex]),X.gzindex++;X.gzhead.hcrc&&X.pending>W&&(O.adler=h(O.adler,X.pending_buf,X.pending-W,W)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=73)}else X.status=73;if(X.status===73)if(X.gzhead.name){W=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>W&&(O.adler=h(O.adler,X.pending_buf,X.pending-W,W)),Y(O),W=X.pending,X.pending===X.pending_buf_size)){pe=1;break}pe=X.gzindex<X.gzhead.name.length?255&X.gzhead.name.charCodeAt(X.gzindex++):0,xe(X,pe)}while(pe!==0);X.gzhead.hcrc&&X.pending>W&&(O.adler=h(O.adler,X.pending_buf,X.pending-W,W)),pe===0&&(X.gzindex=0,X.status=91)}else X.status=91;if(X.status===91)if(X.gzhead.comment){W=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>W&&(O.adler=h(O.adler,X.pending_buf,X.pending-W,W)),Y(O),W=X.pending,X.pending===X.pending_buf_size)){pe=1;break}pe=X.gzindex<X.gzhead.comment.length?255&X.gzhead.comment.charCodeAt(X.gzindex++):0,xe(X,pe)}while(pe!==0);X.gzhead.hcrc&&X.pending>W&&(O.adler=h(O.adler,X.pending_buf,X.pending-W,W)),pe===0&&(X.status=103)}else X.status=103;if(X.status===103&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&Y(O),X.pending+2<=X.pending_buf_size&&(xe(X,255&O.adler),xe(X,O.adler>>8&255),O.adler=0,X.status=J)):X.status=J),X.pending!==0){if(Y(O),O.avail_out===0)return X.last_flush=-1,b}else if(O.avail_in===0&&de(ke)<=de(Ae)&&ke!==w)return ge(O,-5);if(X.status===666&&O.avail_in!==0)return ge(O,-5);if(O.avail_in!==0||X.lookahead!==0||ke!==g&&X.status!==666){var De=X.strategy===2?function(me,Le){for(var tt;;){if(me.lookahead===0&&(Qe(me),me.lookahead===0)){if(Le===g)return R;break}if(me.match_length=0,tt=c._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,tt&&($(me,!1),me.strm.avail_out===0))return R}return me.insert=0,Le===w?($(me,!0),me.strm.avail_out===0?re:ee):me.last_lit&&($(me,!1),me.strm.avail_out===0)?R:se}(X,ke):X.strategy===3?function(me,Le){for(var tt,We,lt,bt,yt=me.window;;){if(me.lookahead<=H){if(Qe(me),me.lookahead<=H&&Le===g)return R;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=M&&0<me.strstart&&(We=yt[lt=me.strstart-1])===yt[++lt]&&We===yt[++lt]&&We===yt[++lt]){bt=me.strstart+H;do;while(We===yt[++lt]&&We===yt[++lt]&&We===yt[++lt]&&We===yt[++lt]&&We===yt[++lt]&&We===yt[++lt]&&We===yt[++lt]&&We===yt[++lt]&&lt<bt);me.match_length=H-(bt-lt),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=M?(tt=c._tr_tally(me,1,me.match_length-M),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(tt=c._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),tt&&($(me,!1),me.strm.avail_out===0))return R}return me.insert=0,Le===w?($(me,!0),me.strm.avail_out===0?re:ee):me.last_lit&&($(me,!1),me.strm.avail_out===0)?R:se}(X,ke):s[X.level].func(X,ke);if(De!==re&&De!==ee||(X.status=666),De===R||De===re)return O.avail_out===0&&(X.last_flush=-1),b;if(De===se&&(ke===1?c._tr_align(X):ke!==5&&(c._tr_stored_block(X,0,0,!1),ke===3&&(Z(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),Y(O),O.avail_out===0))return X.last_flush=-1,b}return ke!==w?b:X.wrap<=0?1:(X.wrap===2?(xe(X,255&O.adler),xe(X,O.adler>>8&255),xe(X,O.adler>>16&255),xe(X,O.adler>>24&255),xe(X,255&O.total_in),xe(X,O.total_in>>8&255),xe(X,O.total_in>>16&255),xe(X,O.total_in>>24&255)):(ce(X,O.adler>>>16),ce(X,65535&O.adler)),Y(O),0<X.wrap&&(X.wrap=-X.wrap),X.pending!==0?b:1)},a.deflateEnd=function(O){var ke;return O&&O.state?(ke=O.state.status)!==U&&ke!==69&&ke!==73&&ke!==91&&ke!==103&&ke!==J&&ke!==666?ge(O,N):(O.state=null,ke===J?ge(O,-3):b):N},a.deflateSetDictionary=function(O,ke){var Ae,X,W,pe,Pe,De,me,Le,tt=ke.length;if(!O||!O.state||(pe=(Ae=O.state).wrap)===2||pe===1&&Ae.status!==U||Ae.lookahead)return N;for(pe===1&&(O.adler=d(O.adler,ke,tt,0)),Ae.wrap=0,tt>=Ae.w_size&&(pe===0&&(Z(Ae.head),Ae.strstart=0,Ae.block_start=0,Ae.insert=0),Le=new l.Buf8(Ae.w_size),l.arraySet(Le,ke,tt-Ae.w_size,Ae.w_size,0),ke=Le,tt=Ae.w_size),Pe=O.avail_in,De=O.next_in,me=O.input,O.avail_in=tt,O.next_in=0,O.input=ke,Qe(Ae);Ae.lookahead>=M;){for(X=Ae.strstart,W=Ae.lookahead-(M-1);Ae.ins_h=(Ae.ins_h<<Ae.hash_shift^Ae.window[X+M-1])&Ae.hash_mask,Ae.prev[X&Ae.w_mask]=Ae.head[Ae.ins_h],Ae.head[Ae.ins_h]=X,X++,--W;);Ae.strstart=X,Ae.lookahead=M-1,Qe(Ae)}return Ae.strstart+=Ae.lookahead,Ae.block_start=Ae.strstart,Ae.insert=Ae.lookahead,Ae.lookahead=0,Ae.match_length=Ae.prev_length=M-1,Ae.match_available=0,O.next_in=De,O.input=me,O.avail_in=Pe,Ae.wrap=pe,b},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(s,l){var c,d,h,m,g,w,b,N,x,_,y,S,D,k,C,B,P,F,M,H,ne,U,J,R,se;c=s.state,d=s.next_in,R=s.input,h=d+(s.avail_in-5),m=s.next_out,se=s.output,g=m-(l-s.avail_out),w=m+(s.avail_out-257),b=c.dmax,N=c.wsize,x=c.whave,_=c.wnext,y=c.window,S=c.hold,D=c.bits,k=c.lencode,C=c.distcode,B=(1<<c.lenbits)-1,P=(1<<c.distbits)-1;e:do{D<15&&(S+=R[d++]<<D,D+=8,S+=R[d++]<<D,D+=8),F=k[S&B];t:for(;;){if(S>>>=M=F>>>24,D-=M,(M=F>>>16&255)===0)se[m++]=65535&F;else{if(!(16&M)){if((64&M)==0){F=k[(65535&F)+(S&(1<<M)-1)];continue t}if(32&M){c.mode=12;break e}s.msg="invalid literal/length code",c.mode=30;break e}H=65535&F,(M&=15)&&(D<M&&(S+=R[d++]<<D,D+=8),H+=S&(1<<M)-1,S>>>=M,D-=M),D<15&&(S+=R[d++]<<D,D+=8,S+=R[d++]<<D,D+=8),F=C[S&P];n:for(;;){if(S>>>=M=F>>>24,D-=M,!(16&(M=F>>>16&255))){if((64&M)==0){F=C[(65535&F)+(S&(1<<M)-1)];continue n}s.msg="invalid distance code",c.mode=30;break e}if(ne=65535&F,D<(M&=15)&&(S+=R[d++]<<D,(D+=8)<M&&(S+=R[d++]<<D,D+=8)),b<(ne+=S&(1<<M)-1)){s.msg="invalid distance too far back",c.mode=30;break e}if(S>>>=M,D-=M,(M=m-g)<ne){if(x<(M=ne-M)&&c.sane){s.msg="invalid distance too far back",c.mode=30;break e}if(J=y,(U=0)===_){if(U+=N-M,M<H){for(H-=M;se[m++]=y[U++],--M;);U=m-ne,J=se}}else if(_<M){if(U+=N+_-M,(M-=_)<H){for(H-=M;se[m++]=y[U++],--M;);if(U=0,_<H){for(H-=M=_;se[m++]=y[U++],--M;);U=m-ne,J=se}}}else if(U+=_-M,M<H){for(H-=M;se[m++]=y[U++],--M;);U=m-ne,J=se}for(;2<H;)se[m++]=J[U++],se[m++]=J[U++],se[m++]=J[U++],H-=3;H&&(se[m++]=J[U++],1<H&&(se[m++]=J[U++]))}else{for(U=m-ne;se[m++]=se[U++],se[m++]=se[U++],se[m++]=se[U++],2<(H-=3););H&&(se[m++]=se[U++],1<H&&(se[m++]=se[U++]))}break}}break}}while(d<h&&m<w);d-=H=D>>3,S&=(1<<(D-=H<<3))-1,s.next_in=d,s.next_out=m,s.avail_in=d<h?h-d+5:5-(d-h),s.avail_out=m<w?w-m+257:257-(m-w),c.hold=S,c.bits=D}},{}],49:[function(n,r,a){var s=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),d=n("./inffast"),h=n("./inftrees"),m=1,g=2,w=0,b=-2,N=1,x=852,_=592;function y(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(U){var J;return U&&U.state?(J=U.state,U.total_in=U.total_out=J.total=0,U.msg="",J.wrap&&(U.adler=1&J.wrap),J.mode=N,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new s.Buf32(x),J.distcode=J.distdyn=new s.Buf32(_),J.sane=1,J.back=-1,w):b}function k(U){var J;return U&&U.state?((J=U.state).wsize=0,J.whave=0,J.wnext=0,D(U)):b}function C(U,J){var R,se;return U&&U.state?(se=U.state,J<0?(R=0,J=-J):(R=1+(J>>4),J<48&&(J&=15)),J&&(J<8||15<J)?b:(se.window!==null&&se.wbits!==J&&(se.window=null),se.wrap=R,se.wbits=J,k(U))):b}function B(U,J){var R,se;return U?(se=new S,(U.state=se).window=null,(R=C(U,J))!==w&&(U.state=null),R):b}var P,F,M=!0;function H(U){if(M){var J;for(P=new s.Buf32(512),F=new s.Buf32(32),J=0;J<144;)U.lens[J++]=8;for(;J<256;)U.lens[J++]=9;for(;J<280;)U.lens[J++]=7;for(;J<288;)U.lens[J++]=8;for(h(m,U.lens,0,288,P,0,U.work,{bits:9}),J=0;J<32;)U.lens[J++]=5;h(g,U.lens,0,32,F,0,U.work,{bits:5}),M=!1}U.lencode=P,U.lenbits=9,U.distcode=F,U.distbits=5}function ne(U,J,R,se){var re,ee=U.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new s.Buf8(ee.wsize)),se>=ee.wsize?(s.arraySet(ee.window,J,R-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(se<(re=ee.wsize-ee.wnext)&&(re=se),s.arraySet(ee.window,J,R-se,re,ee.wnext),(se-=re)?(s.arraySet(ee.window,J,R-se,se,0),ee.wnext=se,ee.whave=ee.wsize):(ee.wnext+=re,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=re))),0}a.inflateReset=k,a.inflateReset2=C,a.inflateResetKeep=D,a.inflateInit=function(U){return B(U,15)},a.inflateInit2=B,a.inflate=function(U,J){var R,se,re,ee,ge,de,Z,Y,$,xe,ce,Ne,Qe,ht,Ue,ct,wt,ft,xt,Tt,O,ke,Ae,X,W=0,pe=new s.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return b;(R=U.state).mode===12&&(R.mode=13),ge=U.next_out,re=U.output,Z=U.avail_out,ee=U.next_in,se=U.input,de=U.avail_in,Y=R.hold,$=R.bits,xe=de,ce=Z,ke=w;e:for(;;)switch(R.mode){case N:if(R.wrap===0){R.mode=13;break}for(;$<16;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(2&R.wrap&&Y===35615){pe[R.check=0]=255&Y,pe[1]=Y>>>8&255,R.check=c(R.check,pe,2,0),$=Y=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&Y)<<8)+(Y>>8))%31){U.msg="incorrect header check",R.mode=30;break}if((15&Y)!=8){U.msg="unknown compression method",R.mode=30;break}if($-=4,O=8+(15&(Y>>>=4)),R.wbits===0)R.wbits=O;else if(O>R.wbits){U.msg="invalid window size",R.mode=30;break}R.dmax=1<<O,U.adler=R.check=1,R.mode=512&Y?10:12,$=Y=0;break;case 2:for(;$<16;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(R.flags=Y,(255&R.flags)!=8){U.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){U.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=Y>>8&1),512&R.flags&&(pe[0]=255&Y,pe[1]=Y>>>8&255,R.check=c(R.check,pe,2,0)),$=Y=0,R.mode=3;case 3:for(;$<32;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}R.head&&(R.head.time=Y),512&R.flags&&(pe[0]=255&Y,pe[1]=Y>>>8&255,pe[2]=Y>>>16&255,pe[3]=Y>>>24&255,R.check=c(R.check,pe,4,0)),$=Y=0,R.mode=4;case 4:for(;$<16;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}R.head&&(R.head.xflags=255&Y,R.head.os=Y>>8),512&R.flags&&(pe[0]=255&Y,pe[1]=Y>>>8&255,R.check=c(R.check,pe,2,0)),$=Y=0,R.mode=5;case 5:if(1024&R.flags){for(;$<16;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}R.length=Y,R.head&&(R.head.extra_len=Y),512&R.flags&&(pe[0]=255&Y,pe[1]=Y>>>8&255,R.check=c(R.check,pe,2,0)),$=Y=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(de<(Ne=R.length)&&(Ne=de),Ne&&(R.head&&(O=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,se,ee,Ne,O)),512&R.flags&&(R.check=c(R.check,se,Ne,ee)),de-=Ne,ee+=Ne,R.length-=Ne),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(de===0)break e;for(Ne=0;O=se[ee+Ne++],R.head&&O&&R.length<65536&&(R.head.name+=String.fromCharCode(O)),O&&Ne<de;);if(512&R.flags&&(R.check=c(R.check,se,Ne,ee)),de-=Ne,ee+=Ne,O)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(de===0)break e;for(Ne=0;O=se[ee+Ne++],R.head&&O&&R.length<65536&&(R.head.comment+=String.fromCharCode(O)),O&&Ne<de;);if(512&R.flags&&(R.check=c(R.check,se,Ne,ee)),de-=Ne,ee+=Ne,O)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;$<16;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(Y!==(65535&R.check)){U.msg="header crc mismatch",R.mode=30;break}$=Y=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),U.adler=R.check=0,R.mode=12;break;case 10:for(;$<32;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}U.adler=R.check=y(Y),$=Y=0,R.mode=11;case 11:if(R.havedict===0)return U.next_out=ge,U.avail_out=Z,U.next_in=ee,U.avail_in=de,R.hold=Y,R.bits=$,2;U.adler=R.check=1,R.mode=12;case 12:if(J===5||J===6)break e;case 13:if(R.last){Y>>>=7&$,$-=7&$,R.mode=27;break}for(;$<3;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}switch(R.last=1&Y,$-=1,3&(Y>>>=1)){case 0:R.mode=14;break;case 1:if(H(R),R.mode=20,J!==6)break;Y>>>=2,$-=2;break e;case 2:R.mode=17;break;case 3:U.msg="invalid block type",R.mode=30}Y>>>=2,$-=2;break;case 14:for(Y>>>=7&$,$-=7&$;$<32;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if((65535&Y)!=(Y>>>16^65535)){U.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&Y,$=Y=0,R.mode=15,J===6)break e;case 15:R.mode=16;case 16:if(Ne=R.length){if(de<Ne&&(Ne=de),Z<Ne&&(Ne=Z),Ne===0)break e;s.arraySet(re,se,ee,Ne,ge),de-=Ne,ee+=Ne,Z-=Ne,ge+=Ne,R.length-=Ne;break}R.mode=12;break;case 17:for(;$<14;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(R.nlen=257+(31&Y),Y>>>=5,$-=5,R.ndist=1+(31&Y),Y>>>=5,$-=5,R.ncode=4+(15&Y),Y>>>=4,$-=4,286<R.nlen||30<R.ndist){U.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;$<3;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}R.lens[Pe[R.have++]]=7&Y,Y>>>=3,$-=3}for(;R.have<19;)R.lens[Pe[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,Ae={bits:R.lenbits},ke=h(0,R.lens,0,19,R.lencode,0,R.work,Ae),R.lenbits=Ae.bits,ke){U.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;ct=(W=R.lencode[Y&(1<<R.lenbits)-1])>>>16&255,wt=65535&W,!((Ue=W>>>24)<=$);){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(wt<16)Y>>>=Ue,$-=Ue,R.lens[R.have++]=wt;else{if(wt===16){for(X=Ue+2;$<X;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(Y>>>=Ue,$-=Ue,R.have===0){U.msg="invalid bit length repeat",R.mode=30;break}O=R.lens[R.have-1],Ne=3+(3&Y),Y>>>=2,$-=2}else if(wt===17){for(X=Ue+3;$<X;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}$-=Ue,O=0,Ne=3+(7&(Y>>>=Ue)),Y>>>=3,$-=3}else{for(X=Ue+7;$<X;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}$-=Ue,O=0,Ne=11+(127&(Y>>>=Ue)),Y>>>=7,$-=7}if(R.have+Ne>R.nlen+R.ndist){U.msg="invalid bit length repeat",R.mode=30;break}for(;Ne--;)R.lens[R.have++]=O}}if(R.mode===30)break;if(R.lens[256]===0){U.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,Ae={bits:R.lenbits},ke=h(m,R.lens,0,R.nlen,R.lencode,0,R.work,Ae),R.lenbits=Ae.bits,ke){U.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,Ae={bits:R.distbits},ke=h(g,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,Ae),R.distbits=Ae.bits,ke){U.msg="invalid distances set",R.mode=30;break}if(R.mode=20,J===6)break e;case 20:R.mode=21;case 21:if(6<=de&&258<=Z){U.next_out=ge,U.avail_out=Z,U.next_in=ee,U.avail_in=de,R.hold=Y,R.bits=$,d(U,ce),ge=U.next_out,re=U.output,Z=U.avail_out,ee=U.next_in,se=U.input,de=U.avail_in,Y=R.hold,$=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;ct=(W=R.lencode[Y&(1<<R.lenbits)-1])>>>16&255,wt=65535&W,!((Ue=W>>>24)<=$);){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(ct&&(240&ct)==0){for(ft=Ue,xt=ct,Tt=wt;ct=(W=R.lencode[Tt+((Y&(1<<ft+xt)-1)>>ft)])>>>16&255,wt=65535&W,!(ft+(Ue=W>>>24)<=$);){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}Y>>>=ft,$-=ft,R.back+=ft}if(Y>>>=Ue,$-=Ue,R.back+=Ue,R.length=wt,ct===0){R.mode=26;break}if(32&ct){R.back=-1,R.mode=12;break}if(64&ct){U.msg="invalid literal/length code",R.mode=30;break}R.extra=15&ct,R.mode=22;case 22:if(R.extra){for(X=R.extra;$<X;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}R.length+=Y&(1<<R.extra)-1,Y>>>=R.extra,$-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;ct=(W=R.distcode[Y&(1<<R.distbits)-1])>>>16&255,wt=65535&W,!((Ue=W>>>24)<=$);){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if((240&ct)==0){for(ft=Ue,xt=ct,Tt=wt;ct=(W=R.distcode[Tt+((Y&(1<<ft+xt)-1)>>ft)])>>>16&255,wt=65535&W,!(ft+(Ue=W>>>24)<=$);){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}Y>>>=ft,$-=ft,R.back+=ft}if(Y>>>=Ue,$-=Ue,R.back+=Ue,64&ct){U.msg="invalid distance code",R.mode=30;break}R.offset=wt,R.extra=15&ct,R.mode=24;case 24:if(R.extra){for(X=R.extra;$<X;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}R.offset+=Y&(1<<R.extra)-1,Y>>>=R.extra,$-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){U.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Z===0)break e;if(Ne=ce-Z,R.offset>Ne){if((Ne=R.offset-Ne)>R.whave&&R.sane){U.msg="invalid distance too far back",R.mode=30;break}Qe=Ne>R.wnext?(Ne-=R.wnext,R.wsize-Ne):R.wnext-Ne,Ne>R.length&&(Ne=R.length),ht=R.window}else ht=re,Qe=ge-R.offset,Ne=R.length;for(Z<Ne&&(Ne=Z),Z-=Ne,R.length-=Ne;re[ge++]=ht[Qe++],--Ne;);R.length===0&&(R.mode=21);break;case 26:if(Z===0)break e;re[ge++]=R.length,Z--,R.mode=21;break;case 27:if(R.wrap){for(;$<32;){if(de===0)break e;de--,Y|=se[ee++]<<$,$+=8}if(ce-=Z,U.total_out+=ce,R.total+=ce,ce&&(U.adler=R.check=R.flags?c(R.check,re,ce,ge-ce):l(R.check,re,ce,ge-ce)),ce=Z,(R.flags?Y:y(Y))!==R.check){U.msg="incorrect data check",R.mode=30;break}$=Y=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;$<32;){if(de===0)break e;de--,Y+=se[ee++]<<$,$+=8}if(Y!==(4294967295&R.total)){U.msg="incorrect length check",R.mode=30;break}$=Y=0}R.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;case 32:default:return b}return U.next_out=ge,U.avail_out=Z,U.next_in=ee,U.avail_in=de,R.hold=Y,R.bits=$,(R.wsize||ce!==U.avail_out&&R.mode<30&&(R.mode<27||J!==4))&&ne(U,U.output,U.next_out,ce-U.avail_out)?(R.mode=31,-4):(xe-=U.avail_in,ce-=U.avail_out,U.total_in+=xe,U.total_out+=ce,R.total+=ce,R.wrap&&ce&&(U.adler=R.check=R.flags?c(R.check,re,ce,U.next_out-ce):l(R.check,re,ce,U.next_out-ce)),U.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(xe==0&&ce===0||J===4)&&ke===w&&(ke=-5),ke)},a.inflateEnd=function(U){if(!U||!U.state)return b;var J=U.state;return J.window&&(J.window=null),U.state=null,w},a.inflateGetHeader=function(U,J){var R;return U&&U.state?(2&(R=U.state).wrap)==0?b:((R.head=J).done=!1,w):b},a.inflateSetDictionary=function(U,J){var R,se=J.length;return U&&U.state?(R=U.state).wrap!==0&&R.mode!==11?b:R.mode===11&&l(1,J,se,0)!==R.check?-3:ne(U,J,se,se)?(R.mode=31,-4):(R.havedict=1,w):b},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,g,w,b,N,x,_,y){var S,D,k,C,B,P,F,M,H,ne=y.bits,U=0,J=0,R=0,se=0,re=0,ee=0,ge=0,de=0,Z=0,Y=0,$=null,xe=0,ce=new s.Buf16(16),Ne=new s.Buf16(16),Qe=null,ht=0;for(U=0;U<=15;U++)ce[U]=0;for(J=0;J<b;J++)ce[g[w+J]]++;for(re=ne,se=15;1<=se&&ce[se]===0;se--);if(se<re&&(re=se),se===0)return N[x++]=20971520,N[x++]=20971520,y.bits=1,0;for(R=1;R<se&&ce[R]===0;R++);for(re<R&&(re=R),U=de=1;U<=15;U++)if(de<<=1,(de-=ce[U])<0)return-1;if(0<de&&(m===0||se!==1))return-1;for(Ne[1]=0,U=1;U<15;U++)Ne[U+1]=Ne[U]+ce[U];for(J=0;J<b;J++)g[w+J]!==0&&(_[Ne[g[w+J]]++]=J);if(P=m===0?($=Qe=_,19):m===1?($=l,xe-=257,Qe=c,ht-=257,256):($=d,Qe=h,-1),U=R,B=x,ge=J=Y=0,k=-1,C=(Z=1<<(ee=re))-1,m===1&&852<Z||m===2&&592<Z)return 1;for(;;){for(F=U-ge,H=_[J]<P?(M=0,_[J]):_[J]>P?(M=Qe[ht+_[J]],$[xe+_[J]]):(M=96,0),S=1<<U-ge,R=D=1<<ee;N[B+(Y>>ge)+(D-=S)]=F<<24|M<<16|H|0,D!==0;);for(S=1<<U-1;Y&S;)S>>=1;if(S!==0?(Y&=S-1,Y+=S):Y=0,J++,--ce[U]==0){if(U===se)break;U=g[w+_[J]]}if(re<U&&(Y&C)!==k){for(ge===0&&(ge=re),B+=R,de=1<<(ee=U-ge);ee+ge<se&&!((de-=ce[ee+ge])<=0);)ee++,de<<=1;if(Z+=1<<ee,m===1&&852<Z||m===2&&592<Z)return 1;N[k=Y&C]=re<<24|ee<<16|B-x|0}}return Y!==0&&(N[B+Y]=U-ge<<24|64<<16|0),y.bits=re,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var s=n("../utils/common"),l=0,c=1;function d(W){for(var pe=W.length;0<=--pe;)W[pe]=0}var h=0,m=29,g=256,w=g+1+m,b=30,N=19,x=2*w+1,_=15,y=16,S=7,D=256,k=16,C=17,B=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(w+2));d(ne);var U=new Array(2*b);d(U);var J=new Array(512);d(J);var R=new Array(256);d(R);var se=new Array(m);d(se);var re,ee,ge,de=new Array(b);function Z(W,pe,Pe,De,me){this.static_tree=W,this.extra_bits=pe,this.extra_base=Pe,this.elems=De,this.max_length=me,this.has_stree=W&&W.length}function Y(W,pe){this.dyn_tree=W,this.max_code=0,this.stat_desc=pe}function $(W){return W<256?J[W]:J[256+(W>>>7)]}function xe(W,pe){W.pending_buf[W.pending++]=255&pe,W.pending_buf[W.pending++]=pe>>>8&255}function ce(W,pe,Pe){W.bi_valid>y-Pe?(W.bi_buf|=pe<<W.bi_valid&65535,xe(W,W.bi_buf),W.bi_buf=pe>>y-W.bi_valid,W.bi_valid+=Pe-y):(W.bi_buf|=pe<<W.bi_valid&65535,W.bi_valid+=Pe)}function Ne(W,pe,Pe){ce(W,Pe[2*pe],Pe[2*pe+1])}function Qe(W,pe){for(var Pe=0;Pe|=1&W,W>>>=1,Pe<<=1,0<--pe;);return Pe>>>1}function ht(W,pe,Pe){var De,me,Le=new Array(_+1),tt=0;for(De=1;De<=_;De++)Le[De]=tt=tt+Pe[De-1]<<1;for(me=0;me<=pe;me++){var We=W[2*me+1];We!==0&&(W[2*me]=Qe(Le[We]++,We))}}function Ue(W){var pe;for(pe=0;pe<w;pe++)W.dyn_ltree[2*pe]=0;for(pe=0;pe<b;pe++)W.dyn_dtree[2*pe]=0;for(pe=0;pe<N;pe++)W.bl_tree[2*pe]=0;W.dyn_ltree[2*D]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function ct(W){8<W.bi_valid?xe(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function wt(W,pe,Pe,De){var me=2*pe,Le=2*Pe;return W[me]<W[Le]||W[me]===W[Le]&&De[pe]<=De[Pe]}function ft(W,pe,Pe){for(var De=W.heap[Pe],me=Pe<<1;me<=W.heap_len&&(me<W.heap_len&&wt(pe,W.heap[me+1],W.heap[me],W.depth)&&me++,!wt(pe,De,W.heap[me],W.depth));)W.heap[Pe]=W.heap[me],Pe=me,me<<=1;W.heap[Pe]=De}function xt(W,pe,Pe){var De,me,Le,tt,We=0;if(W.last_lit!==0)for(;De=W.pending_buf[W.d_buf+2*We]<<8|W.pending_buf[W.d_buf+2*We+1],me=W.pending_buf[W.l_buf+We],We++,De===0?Ne(W,me,pe):(Ne(W,(Le=R[me])+g+1,pe),(tt=P[Le])!==0&&ce(W,me-=se[Le],tt),Ne(W,Le=$(--De),Pe),(tt=F[Le])!==0&&ce(W,De-=de[Le],tt)),We<W.last_lit;);Ne(W,D,pe)}function Tt(W,pe){var Pe,De,me,Le=pe.dyn_tree,tt=pe.stat_desc.static_tree,We=pe.stat_desc.has_stree,lt=pe.stat_desc.elems,bt=-1;for(W.heap_len=0,W.heap_max=x,Pe=0;Pe<lt;Pe++)Le[2*Pe]!==0?(W.heap[++W.heap_len]=bt=Pe,W.depth[Pe]=0):Le[2*Pe+1]=0;for(;W.heap_len<2;)Le[2*(me=W.heap[++W.heap_len]=bt<2?++bt:0)]=1,W.depth[me]=0,W.opt_len--,We&&(W.static_len-=tt[2*me+1]);for(pe.max_code=bt,Pe=W.heap_len>>1;1<=Pe;Pe--)ft(W,Le,Pe);for(me=lt;Pe=W.heap[1],W.heap[1]=W.heap[W.heap_len--],ft(W,Le,1),De=W.heap[1],W.heap[--W.heap_max]=Pe,W.heap[--W.heap_max]=De,Le[2*me]=Le[2*Pe]+Le[2*De],W.depth[me]=(W.depth[Pe]>=W.depth[De]?W.depth[Pe]:W.depth[De])+1,Le[2*Pe+1]=Le[2*De+1]=me,W.heap[1]=me++,ft(W,Le,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(yt,zt){var Sn,En,On,Ot,yn,Rn,V=zt.dyn_tree,ze=zt.max_code,Ze=zt.stat_desc.static_tree,ut=zt.stat_desc.has_stree,fe=zt.stat_desc.extra_bits,Be=zt.stat_desc.extra_base,T=zt.stat_desc.max_length,L=0;for(Ot=0;Ot<=_;Ot++)yt.bl_count[Ot]=0;for(V[2*yt.heap[yt.heap_max]+1]=0,Sn=yt.heap_max+1;Sn<x;Sn++)T<(Ot=V[2*V[2*(En=yt.heap[Sn])+1]+1]+1)&&(Ot=T,L++),V[2*En+1]=Ot,ze<En||(yt.bl_count[Ot]++,yn=0,Be<=En&&(yn=fe[En-Be]),Rn=V[2*En],yt.opt_len+=Rn*(Ot+yn),ut&&(yt.static_len+=Rn*(Ze[2*En+1]+yn)));if(L!==0){do{for(Ot=T-1;yt.bl_count[Ot]===0;)Ot--;yt.bl_count[Ot]--,yt.bl_count[Ot+1]+=2,yt.bl_count[T]--,L-=2}while(0<L);for(Ot=T;Ot!==0;Ot--)for(En=yt.bl_count[Ot];En!==0;)ze<(On=yt.heap[--Sn])||(V[2*On+1]!==Ot&&(yt.opt_len+=(Ot-V[2*On+1])*V[2*On],V[2*On+1]=Ot),En--)}}(W,pe),ht(Le,bt,W.bl_count)}function O(W,pe,Pe){var De,me,Le=-1,tt=pe[1],We=0,lt=7,bt=4;for(tt===0&&(lt=138,bt=3),pe[2*(Pe+1)+1]=65535,De=0;De<=Pe;De++)me=tt,tt=pe[2*(De+1)+1],++We<lt&&me===tt||(We<bt?W.bl_tree[2*me]+=We:me!==0?(me!==Le&&W.bl_tree[2*me]++,W.bl_tree[2*k]++):We<=10?W.bl_tree[2*C]++:W.bl_tree[2*B]++,Le=me,bt=(We=0)===tt?(lt=138,3):me===tt?(lt=6,3):(lt=7,4))}function ke(W,pe,Pe){var De,me,Le=-1,tt=pe[1],We=0,lt=7,bt=4;for(tt===0&&(lt=138,bt=3),De=0;De<=Pe;De++)if(me=tt,tt=pe[2*(De+1)+1],!(++We<lt&&me===tt)){if(We<bt)for(;Ne(W,me,W.bl_tree),--We!=0;);else me!==0?(me!==Le&&(Ne(W,me,W.bl_tree),We--),Ne(W,k,W.bl_tree),ce(W,We-3,2)):We<=10?(Ne(W,C,W.bl_tree),ce(W,We-3,3)):(Ne(W,B,W.bl_tree),ce(W,We-11,7));Le=me,bt=(We=0)===tt?(lt=138,3):me===tt?(lt=6,3):(lt=7,4)}}d(de);var Ae=!1;function X(W,pe,Pe,De){ce(W,(h<<1)+(De?1:0),3),function(me,Le,tt,We){ct(me),xe(me,tt),xe(me,~tt),s.arraySet(me.pending_buf,me.window,Le,tt,me.pending),me.pending+=tt}(W,pe,Pe)}a._tr_init=function(W){Ae||(function(){var pe,Pe,De,me,Le,tt=new Array(_+1);for(me=De=0;me<m-1;me++)for(se[me]=De,pe=0;pe<1<<P[me];pe++)R[De++]=me;for(R[De-1]=me,me=Le=0;me<16;me++)for(de[me]=Le,pe=0;pe<1<<F[me];pe++)J[Le++]=me;for(Le>>=7;me<b;me++)for(de[me]=Le<<7,pe=0;pe<1<<F[me]-7;pe++)J[256+Le++]=me;for(Pe=0;Pe<=_;Pe++)tt[Pe]=0;for(pe=0;pe<=143;)ne[2*pe+1]=8,pe++,tt[8]++;for(;pe<=255;)ne[2*pe+1]=9,pe++,tt[9]++;for(;pe<=279;)ne[2*pe+1]=7,pe++,tt[7]++;for(;pe<=287;)ne[2*pe+1]=8,pe++,tt[8]++;for(ht(ne,w+1,tt),pe=0;pe<b;pe++)U[2*pe+1]=5,U[2*pe]=Qe(pe,5);re=new Z(ne,P,g+1,w,_),ee=new Z(U,F,0,b,_),ge=new Z(new Array(0),M,0,N,S)}(),Ae=!0),W.l_desc=new Y(W.dyn_ltree,re),W.d_desc=new Y(W.dyn_dtree,ee),W.bl_desc=new Y(W.bl_tree,ge),W.bi_buf=0,W.bi_valid=0,Ue(W)},a._tr_stored_block=X,a._tr_flush_block=function(W,pe,Pe,De){var me,Le,tt=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(We){var lt,bt=4093624447;for(lt=0;lt<=31;lt++,bt>>>=1)if(1&bt&&We.dyn_ltree[2*lt]!==0)return l;if(We.dyn_ltree[18]!==0||We.dyn_ltree[20]!==0||We.dyn_ltree[26]!==0)return c;for(lt=32;lt<g;lt++)if(We.dyn_ltree[2*lt]!==0)return c;return l}(W)),Tt(W,W.l_desc),Tt(W,W.d_desc),tt=function(We){var lt;for(O(We,We.dyn_ltree,We.l_desc.max_code),O(We,We.dyn_dtree,We.d_desc.max_code),Tt(We,We.bl_desc),lt=N-1;3<=lt&&We.bl_tree[2*H[lt]+1]===0;lt--);return We.opt_len+=3*(lt+1)+5+5+4,lt}(W),me=W.opt_len+3+7>>>3,(Le=W.static_len+3+7>>>3)<=me&&(me=Le)):me=Le=Pe+5,Pe+4<=me&&pe!==-1?X(W,pe,Pe,De):W.strategy===4||Le===me?(ce(W,2+(De?1:0),3),xt(W,ne,U)):(ce(W,4+(De?1:0),3),function(We,lt,bt,yt){var zt;for(ce(We,lt-257,5),ce(We,bt-1,5),ce(We,yt-4,4),zt=0;zt<yt;zt++)ce(We,We.bl_tree[2*H[zt]+1],3);ke(We,We.dyn_ltree,lt-1),ke(We,We.dyn_dtree,bt-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,tt+1),xt(W,W.dyn_ltree,W.dyn_dtree)),Ue(W),De&&ct(W)},a._tr_tally=function(W,pe,Pe){return W.pending_buf[W.d_buf+2*W.last_lit]=pe>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&pe,W.pending_buf[W.l_buf+W.last_lit]=255&Pe,W.last_lit++,pe===0?W.dyn_ltree[2*Pe]++:(W.matches++,pe--,W.dyn_ltree[2*(R[Pe]+g+1)]++,W.dyn_dtree[2*$(pe)]++),W.last_lit===W.lit_bufsize-1},a._tr_align=function(W){ce(W,2,3),Ne(W,D,ne),function(pe){pe.bi_valid===16?(xe(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){(function(s){(function(l,c){if(!l.setImmediate){var d,h,m,g,w=1,b={},N=!1,x=l.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(l);_=_&&_.setTimeout?_:l,d={}.toString.call(l.process)==="[object process]"?function(k){process.nextTick(function(){S(k)})}:function(){if(l.postMessage&&!l.importScripts){var k=!0,C=l.onmessage;return l.onmessage=function(){k=!1},l.postMessage("","*"),l.onmessage=C,k}}()?(g="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",D,!1):l.attachEvent("onmessage",D),function(k){l.postMessage(g+k,"*")}):l.MessageChannel?((m=new MessageChannel).port1.onmessage=function(k){S(k.data)},function(k){m.port2.postMessage(k)}):x&&"onreadystatechange"in x.createElement("script")?(h=x.documentElement,function(k){var C=x.createElement("script");C.onreadystatechange=function(){S(k),C.onreadystatechange=null,h.removeChild(C),C=null},h.appendChild(C)}):function(k){setTimeout(S,0,k)},_.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var C=new Array(arguments.length-1),B=0;B<C.length;B++)C[B]=arguments[B+1];var P={callback:k,args:C};return b[w]=P,d(w),w++},_.clearImmediate=y}function y(k){delete b[k]}function S(k){if(N)setTimeout(S,0,k);else{var C=b[k];if(C){N=!0;try{(function(B){var P=B.callback,F=B.args;switch(F.length){case 0:P();break;case 1:P(F[0]);break;case 2:P(F[0],F[1]);break;case 3:P(F[0],F[1],F[2]);break;default:P.apply(c,F)}})(C)}finally{y(k),N=!1}}}}function D(k){k.source===l&&typeof k.data=="string"&&k.data.indexOf(g)===0&&S(+k.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(d0)),d0.exports}var FA=UA();const zA=qa(FA);var fn;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(fn||(fn={}));function HA(t){return t.type===fn.Tag||t.type===fn.Script||t.type===fn.Style}const lm=fn.Root,hE=fn.Text,qA=fn.Directive,pE=fn.Comment,jA=fn.Script,YA=fn.Style,xp=fn.Tag,VA=fn.CDATA,ZA=fn.Doctype;let mE=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return al(this,e)}};class cm extends mE{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class il extends cm{constructor(){super(...arguments),this.type=fn.Text}get nodeType(){return 3}}class fm extends cm{constructor(){super(...arguments),this.type=fn.Comment}get nodeType(){return 8}}class dm extends cm{constructor(e,n){super(n),this.name=e,this.type=fn.Directive}get nodeType(){return 1}}class hm extends mE{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class gE extends hm{constructor(){super(...arguments),this.type=fn.CDATA}get nodeType(){return 4}}class _u extends hm{constructor(){super(...arguments),this.type=fn.Root}get nodeType(){return 9}}let pm=class extends hm{constructor(e,n,r=[],a=e==="script"?fn.Script:e==="style"?fn.Style:fn.Tag){super(r),this.name=e,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var n,r;return{name:e,value:this.attribs[e],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[e],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[e]}})}};function It(t){return HA(t)}function Uf(t){return t.type===fn.CDATA}function Di(t){return t.type===fn.Text}function Ff(t){return t.type===fn.Comment}function Sp(t){return t.type===fn.Directive}function ja(t){return t.type===fn.Root}function jn(t){return Object.prototype.hasOwnProperty.call(t,"children")}function al(t,e=!1){let n;if(Di(t))n=new il(t.data);else if(Ff(t))n=new fm(t.data);else if(It(t)){const r=e?h0(t.children):[],a=new pm(t.name,{...t.attribs},r);r.forEach(s=>s.parent=a),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=a}else if(Uf(t)){const r=e?h0(t.children):[],a=new gE(r);r.forEach(s=>s.parent=a),n=a}else if(ja(t)){const r=e?h0(t.children):[],a=new _u(r);r.forEach(s=>s.parent=a),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),n=a}else if(Sp(t)){const r=new dm(t.name,t.data);t["x-name"]!=null&&(r["x-name"]=t["x-name"],r["x-publicId"]=t["x-publicId"],r["x-systemId"]=t["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function h0(t){const e=t.map(n=>al(n,!0));for(let n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}const Yb={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class GA{constructor(e,n,r){this.dom=[],this.root=new _u(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=Yb),typeof e=="object"&&(n=e,e=void 0),this.callback=e??null,this.options=n??Yb,this.elementCB=r??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new _u(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,n){const r=this.options.xmlMode?fn.Tag:void 0,a=new pm(e,n,void 0,r);this.addNode(a),this.tagStack.push(a)}ontext(e){const{lastNode:n}=this;if(n&&n.type===fn.Text)n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const r=new il(e);this.addNode(r),this.lastNode=r}}oncomment(e){if(this.lastNode&&this.lastNode.type===fn.Comment){this.lastNode.data+=e;return}const n=new fm(e);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const e=new il(""),n=new gE([e]);this.addNode(n),e.parent=n,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,n){const r=new dm(e,n);this.addNode(r)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),n.children.push(e),r&&(e.prev=r,r.next=e),e.parent=n,this.lastNode=null}}const Vb=/["&'<>$\x80-\uFFFF]/g,WA=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),XA=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function bE(t){let e="",n=0,r;for(;(r=Vb.exec(t))!==null;){const a=r.index,s=t.charCodeAt(a),l=WA.get(s);l!==void 0?(e+=t.substring(n,a)+l,n=a+1):(e+=`${t.substring(n,a)}&#x${XA(t,a).toString(16)};`,n=Vb.lastIndex+=+((s&64512)===55296))}return e+t.substr(n)}function _E(t,e){return function(r){let a,s=0,l="";for(;a=t.exec(r);)s!==a.index&&(l+=r.substring(s,a.index)),l+=e.get(a[0].charCodeAt(0)),s=a.index+1;return l+r.substring(s)}}const $A=_E(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),QA=_E(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),KA=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),JA=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),e4=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function t4(t){return t.replace(/"/g,"&quot;")}function n4(t,e){var n;if(!t)return;const r=((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)===!1?t4:e.xmlMode||e.encodeEntities!=="utf8"?bE:$A;return Object.keys(t).map(a=>{var s,l;const c=(s=t[a])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(a=(l=JA.get(a))!==null&&l!==void 0?l:a),!e.emptyAttrs&&!e.xmlMode&&c===""?a:`${a}="${r(c)}"`}).join(" ")}const Zb=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function zf(t,e={}){const n="length"in t?t:[t];let r="";for(let a=0;a<n.length;a++)r+=r4(n[a],e);return r}function r4(t,e){switch(t.type){case lm:return zf(t.children,e);case ZA:case qA:return s4(t);case pE:return c4(t);case VA:return l4(t);case jA:case YA:case xp:return u4(t,e);case hE:return o4(t,e)}}const i4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),a4=new Set(["svg","math"]);function u4(t,e){var n;e.xmlMode==="foreign"&&(t.name=(n=KA.get(t.name))!==null&&n!==void 0?n:t.name,t.parent&&i4.has(t.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&a4.has(t.name)&&(e={...e,xmlMode:"foreign"});let r=`<${t.name}`;const a=n4(t.attribs,e);return a&&(r+=` ${a}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&Zb.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=zf(t.children,e)),(e.xmlMode||!Zb.has(t.name))&&(r+=`</${t.name}>`)),r}function s4(t){return`<${t.data}>`}function o4(t,e){var n;let r=t.data||"";return((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&e4.has(t.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?bE(r):QA(r)),r}function l4(t){return`<![CDATA[${t.children[0].data}]]>`}function c4(t){return`<!--${t.data}-->`}function vE(t,e){return zf(t,e)}function f4(t,e){return jn(t)?t.children.map(n=>vE(n,e)).join(""):""}function Zc(t){return Array.isArray(t)?t.map(Zc).join(""):It(t)?t.name==="br"?`
`:Zc(t.children):Uf(t)?Zc(t.children):Di(t)?t.data:""}function Es(t){return Array.isArray(t)?t.map(Es).join(""):jn(t)&&!Ff(t)?Es(t.children):Di(t)?t.data:""}function uf(t){return Array.isArray(t)?t.map(uf).join(""):jn(t)&&(t.type===fn.Tag||Uf(t))?uf(t.children):Di(t)?t.data:""}function Hf(t){return jn(t)?t.children:[]}function EE(t){return t.parent||null}function yE(t){const e=EE(t);if(e!=null)return Hf(e);const n=[t];let{prev:r,next:a}=t;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;a!=null;)n.push(a),{next:a}=a;return n}function d4(t,e){var n;return(n=t.attribs)===null||n===void 0?void 0:n[e]}function h4(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function p4(t){return t.name}function mm(t){let{next:e}=t;for(;e!==null&&!It(e);)({next:e}=e);return e}function gm(t){let{prev:e}=t;for(;e!==null&&!It(e);)({prev:e}=e);return e}function Tu(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,n=e.lastIndexOf(t);n>=0&&e.splice(n,1)}t.next=null,t.prev=null,t.parent=null}function m4(t,e){const n=e.prev=t.prev;n&&(n.next=e);const r=e.next=t.next;r&&(r.prev=e);const a=e.parent=t.parent;if(a){const s=a.children;s[s.lastIndexOf(t)]=e,t.parent=null}}function g4(t,e){if(Tu(e),e.next=null,e.parent=t,t.children.push(e)>1){const n=t.children[t.children.length-2];n.next=e,e.prev=n}else e.prev=null}function b4(t,e){Tu(e);const{parent:n}=t,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){const a=n.children;a.splice(a.lastIndexOf(r),0,e)}}else n&&n.children.push(e)}function _4(t,e){if(Tu(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){const n=t.children[1];n.prev=e,e.next=n}else e.next=null}function v4(t,e){Tu(e);const{parent:n}=t;if(n){const r=n.children;r.splice(r.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}function gl(t,e,n=!0,r=1/0){return bm(t,Array.isArray(e)?e:[e],n,r)}function bm(t,e,n,r){const a=[],s=[Array.isArray(e)?e:[e]],l=[0];for(;;){if(l[0]>=s[0].length){if(l.length===1)return a;s.shift(),l.shift();continue}const c=s[0][l[0]++];if(t(c)&&(a.push(c),--r<=0))return a;n&&jn(c)&&c.children.length>0&&(l.unshift(0),s.unshift(c.children))}}function E4(t,e){return e.find(t)}function _m(t,e,n=!0){const r=Array.isArray(e)?e:[e];for(let a=0;a<r.length;a++){const s=r[a];if(It(s)&&t(s))return s;if(n&&jn(s)&&s.children.length>0){const l=_m(t,s.children,!0);if(l)return l}}return null}function TE(t,e){return(Array.isArray(e)?e:[e]).some(n=>It(n)&&t(n)||jn(n)&&TE(t,n.children))}function y4(t,e){const n=[],r=[Array.isArray(e)?e:[e]],a=[0];for(;;){if(a[0]>=r[0].length){if(r.length===1)return n;r.shift(),a.shift();continue}const s=r[0][a[0]++];It(s)&&t(s)&&n.push(s),jn(s)&&s.children.length>0&&(a.unshift(0),r.unshift(s.children))}}const sf={tag_name(t){return typeof t=="function"?e=>It(e)&&t(e.name):t==="*"?It:e=>It(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>Di(e)&&t(e.data):e=>Di(e)&&e.data===t}};function vm(t,e){return typeof e=="function"?n=>It(n)&&e(n.attribs[t]):n=>It(n)&&n.attribs[t]===e}function T4(t,e){return n=>t(n)||e(n)}function AE(t){const e=Object.keys(t).map(n=>{const r=t[n];return Object.prototype.hasOwnProperty.call(sf,n)?sf[n](r):vm(n,r)});return e.length===0?null:e.reduce(T4)}function A4(t,e){const n=AE(t);return n?n(e):!0}function x4(t,e,n,r=1/0){const a=AE(t);return a?gl(a,e,n,r):[]}function S4(t,e,n=!0){return Array.isArray(e)||(e=[e]),_m(vm("id",t),e,n)}function Cs(t,e,n=!0,r=1/0){return gl(sf.tag_name(t),e,n,r)}function w4(t,e,n=!0,r=1/0){return gl(vm("class",t),e,n,r)}function C4(t,e,n=!0,r=1/0){return gl(sf.tag_type(t),e,n,r)}function N4(t){let e=t.length;for(;--e>=0;){const n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0){t.splice(e,1);continue}for(let r=n.parent;r;r=r.parent)if(t.includes(r)){t.splice(e,1);break}}return t}var ti;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(ti||(ti={}));function xE(t,e){const n=[],r=[];if(t===e)return 0;let a=jn(t)?t:t.parent;for(;a;)n.unshift(a),a=a.parent;for(a=jn(e)?e:e.parent;a;)r.unshift(a),a=a.parent;const s=Math.min(n.length,r.length);let l=0;for(;l<s&&n[l]===r[l];)l++;if(l===0)return ti.DISCONNECTED;const c=n[l-1],d=c.children,h=n[l],m=r[l];return d.indexOf(h)>d.indexOf(m)?c===e?ti.FOLLOWING|ti.CONTAINED_BY:ti.FOLLOWING:c===t?ti.PRECEDING|ti.CONTAINS:ti.PRECEDING}function Ns(t){return t=t.filter((e,n,r)=>!r.includes(e,n+1)),t.sort((e,n)=>{const r=xE(e,n);return r&ti.PRECEDING?-1:r&ti.FOLLOWING?1:0}),t}function D4(t){const e=of(L4,t);return e?e.name==="feed"?O4(e):R4(e):null}function O4(t){var e;const n=t.children,r={type:"atom",items:Cs("entry",n).map(l=>{var c;const{children:d}=l,h={media:SE(d)};Ir(h,"id","id",d),Ir(h,"title","title",d);const m=(c=of("link",d))===null||c===void 0?void 0:c.attribs.href;m&&(h.link=m);const g=La("summary",d)||La("content",d);g&&(h.description=g);const w=La("updated",d);return w&&(h.pubDate=new Date(w)),h})};Ir(r,"id","id",n),Ir(r,"title","title",n);const a=(e=of("link",n))===null||e===void 0?void 0:e.attribs.href;a&&(r.link=a),Ir(r,"description","subtitle",n);const s=La("updated",n);return s&&(r.updated=new Date(s)),Ir(r,"author","email",n,!0),r}function R4(t){var e,n;const r=(n=(e=of("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&n!==void 0?n:[],a={type:t.name.substr(0,3),id:"",items:Cs("item",t.children).map(l=>{const{children:c}=l,d={media:SE(c)};Ir(d,"id","guid",c),Ir(d,"title","title",c),Ir(d,"link","link",c),Ir(d,"description","description",c);const h=La("pubDate",c)||La("dc:date",c);return h&&(d.pubDate=new Date(h)),d})};Ir(a,"title","title",r),Ir(a,"link","link",r),Ir(a,"description","description",r);const s=La("lastBuildDate",r);return s&&(a.updated=new Date(s)),Ir(a,"author","managingEditor",r,!0),a}const I4=["url","type","lang"],k4=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function SE(t){return Cs("media:content",t).map(e=>{const{attribs:n}=e,r={medium:n.medium,isDefault:!!n.isDefault};for(const a of I4)n[a]&&(r[a]=n[a]);for(const a of k4)n[a]&&(r[a]=parseInt(n[a],10));return n.expression&&(r.expression=n.expression),r})}function of(t,e){return Cs(t,e,!0,1)[0]}function La(t,e,n=!1){return Es(Cs(t,e,n,1)).trim()}function Ir(t,e,n,r,a=!1){const s=La(n,r,a);s&&(t[e]=s)}function L4(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const qf=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return ti},append:b4,appendChild:g4,compareDocumentPosition:xE,existsOne:TE,filter:gl,find:bm,findAll:y4,findOne:_m,findOneChild:E4,getAttributeValue:d4,getChildren:Hf,getElementById:S4,getElements:x4,getElementsByClassName:w4,getElementsByTagName:Cs,getElementsByTagType:C4,getFeed:D4,getInnerHTML:f4,getName:p4,getOuterHTML:vE,getParent:EE,getSiblings:yE,getText:Zc,hasAttrib:h4,hasChildren:jn,innerText:uf,isCDATA:Uf,isComment:Ff,isDocument:ja,isTag:It,isText:Di,nextElementSibling:mm,prepend:v4,prependChild:_4,prevElementSibling:gm,removeElement:Tu,removeSubsets:N4,replaceElement:m4,testElement:A4,textContent:Es,uniqueSort:Ns},Symbol.toStringTag,{value:"Module"})),B4={_useHtmlParser2:!1};function wp(t,e){if(!t)return e??B4;const n={_useHtmlParser2:!!t.xmlMode,...e,...t};return t.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,t.xml!==!0&&Object.assign(n,t.xml)):t.xmlMode&&(n._useHtmlParser2=!0),n}function wE(t,e,n){return t?t(e??t._root.children,null,void 0,n).toString():""}function M4(t,e){return typeof t=="object"&&t!=null&&!("length"in t)&&!("type"in t)}function P4(t,e){const n=M4(t)?(e=t,void 0):t,r={...this===null||this===void 0?void 0:this._options,...wp(e)};return wE(this,n,r)}function U4(t){const e={...this._options,xmlMode:!0};return wE(this,t,e)}function ul(t){const e=t??(this?this.root():[]);let n="";for(let r=0;r<e.length;r++)n+=Es(e[r]);return n}function F4(t,e,n=typeof e=="boolean"?e:!1){if(!t||typeof t!="string")return null;typeof e=="boolean"&&(n=e);const r=this.load(t,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function z4(){return this(this._root)}function CE(t,e){if(e===t)return!1;let n=e;for(;n&&n!==n.parent;)if(n=n.parent,n===t)return!0;return!1}function H4(t){return this.root().extract(t)}function q4(t,e){if(!Gb(t)||!Gb(e))return;let n=t.length;const r=+e.length;for(let a=0;a<r;a++)t[n++]=e[a];return t.length=n,t}function Gb(t){if(Array.isArray(t))return!0;if(typeof t!="object"||t===null||!("length"in t)||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}const j4=Object.freeze(Object.defineProperty({__proto__:null,contains:CE,extract:H4,html:P4,merge:q4,parseHTML:F4,root:z4,text:ul,xml:U4},Symbol.toStringTag,{value:"Module"}));function ea(t){return t.cheerio!=null}function Y4(t){return t.replace(/[._-](\w|$)/g,(e,n)=>n.toUpperCase())}function V4(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function Ln(t,e){const n=t.length;for(let r=0;r<n;r++)e(t[r],r);return t}var hu;(function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"})(hu||(hu={}));function Cp(t){const e=t.indexOf("<");if(e===-1||e>t.length-3)return!1;const n=t.charCodeAt(e+1);return(n>=hu.LowerA&&n<=hu.LowerZ||n>=hu.UpperA&&n<=hu.UpperZ||n===hu.Exclamation)&&t.includes(">",e+2)}const Z4=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),G4=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var p0;const W4=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Wb=(p0=String.fromCodePoint)!==null&&p0!==void 0?p0:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function X4(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=W4.get(t))!==null&&e!==void 0?e:t}var or;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(or||(or={}));const $4=32;var Ba;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ba||(Ba={}));function Np(t){return t>=or.ZERO&&t<=or.NINE}function Q4(t){return t>=or.UPPER_A&&t<=or.UPPER_F||t>=or.LOWER_A&&t<=or.LOWER_F}function K4(t){return t>=or.UPPER_A&&t<=or.UPPER_Z||t>=or.LOWER_A&&t<=or.LOWER_Z||Np(t)}function J4(t){return t===or.EQUALS||K4(t)}var ar;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ar||(ar={}));var wi;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(wi||(wi={}));let ex=class{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ar.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=wi.Strict}startEntity(e){this.decodeMode=e,this.state=ar.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ar.EntityStart:return e.charCodeAt(n)===or.NUM?(this.state=ar.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ar.NamedEntity,this.stateNamedEntity(e,n));case ar.NumericStart:return this.stateNumericStart(e,n);case ar.NumericDecimal:return this.stateNumericDecimal(e,n);case ar.NumericHex:return this.stateNumericHex(e,n);case ar.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|$4)===or.LOWER_X?(this.state=ar.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ar.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,a){if(n!==r){const s=r-n;this.result=this.result*Math.pow(a,s)+Number.parseInt(e.substr(n,s),a),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Np(a)||Q4(a))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Np(a))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===or.SEMI)this.consumed+=1;else if(this.decodeMode===wi.Strict)return 0;return this.emitCodePoint(X4(this.result),this.consumed),this.errors&&(e!==or.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let a=r[this.treeIndex],s=(a&Ba.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const l=e.charCodeAt(n);if(this.treeIndex=tx(r,a,this.treeIndex+Math.max(1,s),l),this.treeIndex<0)return this.result===0||this.decodeMode===wi.Attribute&&(s===0||J4(l))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],s=(a&Ba.VALUE_LENGTH)>>14,s!==0){if(l===or.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==wi.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,a=(r[n]&Ba.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[e]&~Ba.VALUE_LENGTH:a[e+1],r),n===3&&this.emitCodePoint(a[e+2],r),r}end(){var e;switch(this.state){case ar.NamedEntity:return this.result!==0&&(this.decodeMode!==wi.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ar.NumericDecimal:return this.emitNumericEntity(0,2);case ar.NumericHex:return this.emitNumericEntity(0,3);case ar.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ar.EntityStart:return 0}}};function tx(t,e,n,r){const a=(e&Ba.BRANCH_LENGTH)>>7,s=e&Ba.JUMP_TABLE;if(a===0)return s!==0&&r===s?n:-1;if(s){const d=r-s;return d<0||d>=a?-1:t[n+d]-1}let l=n,c=l+a-1;for(;l<=c;){const d=l+c>>>1,h=t[d];if(h<r)l=d+1;else if(h>r)c=d-1;else return t[d+a]}return-1}var Nt;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(Nt||(Nt={}));var $e;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})($e||($e={}));function $i(t){return t===Nt.Space||t===Nt.NewLine||t===Nt.Tab||t===Nt.FormFeed||t===Nt.CarriageReturn}function Ic(t){return t===Nt.Slash||t===Nt.Gt||$i(t)}function nx(t){return t>=Nt.LowerA&&t<=Nt.LowerZ||t>=Nt.UpperA&&t<=Nt.UpperZ}var Ci;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(Ci||(Ci={}));const Wn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};let rx=class{constructor({xmlMode:e=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=$e.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=$e.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=n,this.entityDecoder=new ex(e?G4:Z4,(a,s)=>this.emitCodePoint(a,s))}reset(){this.state=$e.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=$e.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===Nt.Lt||!this.decodeEntities&&this.fastForwardTo(Nt.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=$e.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Nt.Amp&&this.startEntity()}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Ic(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=$e.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Nt.Gt||$i(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Wn.TitleEnd?this.decodeEntities&&e===Nt.Amp&&this.startEntity():this.fastForwardTo(Nt.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===Nt.Lt)}stateCDATASequence(e){e===Wn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Wn.Cdata.length&&(this.state=$e.InCommentLike,this.currentSequence=Wn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=$e.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Wn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=$e.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Ic(e):nx(e)}startSpecial(e,n){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=n,this.state=$e.SpecialStartSequence}stateBeforeTagName(e){if(e===Nt.ExclamationMark)this.state=$e.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Nt.Questionmark)this.state=$e.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const n=e|32;this.sectionStart=this.index,this.xmlMode?this.state=$e.InTagName:n===Wn.ScriptEnd[2]?this.state=$e.BeforeSpecialS:n===Wn.TitleEnd[2]||n===Wn.XmpEnd[2]?this.state=$e.BeforeSpecialT:this.state=$e.InTagName}else e===Nt.Slash?this.state=$e.BeforeClosingTagName:(this.state=$e.Text,this.stateText(e))}stateInTagName(e){Ic(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=$e.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){$i(e)||(e===Nt.Gt?this.state=$e.Text:(this.state=this.isTagStartChar(e)?$e.InClosingTagName:$e.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===Nt.Gt||$i(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=$e.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===Nt.Gt||this.fastForwardTo(Nt.Gt))&&(this.state=$e.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===Nt.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=$e.InSpecialTag,this.sequenceIndex=0):this.state=$e.Text,this.sectionStart=this.index+1):e===Nt.Slash?this.state=$e.InSelfClosingTag:$i(e)||(this.state=$e.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===Nt.Gt?(this.cbs.onselfclosingtag(this.index),this.state=$e.Text,this.sectionStart=this.index+1,this.isSpecial=!1):$i(e)||(this.state=$e.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===Nt.Eq||Ic(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=$e.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===Nt.Eq?this.state=$e.BeforeAttributeValue:e===Nt.Slash||e===Nt.Gt?(this.cbs.onattribend(Ci.NoValue,this.sectionStart),this.sectionStart=-1,this.state=$e.BeforeAttributeName,this.stateBeforeAttributeName(e)):$i(e)||(this.cbs.onattribend(Ci.NoValue,this.sectionStart),this.state=$e.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===Nt.DoubleQuote?(this.state=$e.InAttributeValueDq,this.sectionStart=this.index+1):e===Nt.SingleQuote?(this.state=$e.InAttributeValueSq,this.sectionStart=this.index+1):$i(e)||(this.sectionStart=this.index,this.state=$e.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,n){e===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===Nt.DoubleQuote?Ci.Double:Ci.Single,this.index+1),this.state=$e.BeforeAttributeName):this.decodeEntities&&e===Nt.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,Nt.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,Nt.SingleQuote)}stateInAttributeValueNoQuotes(e){$i(e)||e===Nt.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ci.Unquoted,this.index),this.state=$e.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Nt.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===Nt.OpeningSquareBracket?(this.state=$e.CDATASequence,this.sequenceIndex=0):this.state=e===Nt.Dash?$e.BeforeComment:$e.InDeclaration}stateInDeclaration(e){(e===Nt.Gt||this.fastForwardTo(Nt.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=$e.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===Nt.Gt||this.fastForwardTo(Nt.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=$e.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===Nt.Dash?(this.state=$e.InCommentLike,this.currentSequence=Wn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=$e.InDeclaration}stateInSpecialComment(e){(e===Nt.Gt||this.fastForwardTo(Nt.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=$e.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const n=e|32;n===Wn.ScriptEnd[3]?this.startSpecial(Wn.ScriptEnd,4):n===Wn.StyleEnd[3]?this.startSpecial(Wn.StyleEnd,4):(this.state=$e.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){switch(e|32){case Wn.TitleEnd[3]:{this.startSpecial(Wn.TitleEnd,4);break}case Wn.TextareaEnd[3]:{this.startSpecial(Wn.TextareaEnd,4);break}case Wn.XmpEnd[3]:{this.startSpecial(Wn.XmpEnd,4);break}default:this.state=$e.InTagName,this.stateInTagName(e)}}startEntity(){this.baseState=this.state,this.state=$e.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?wi.Strict:this.baseState===$e.Text||this.baseState===$e.InSpecialTag?wi.Legacy:wi.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===$e.Text||this.state===$e.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===$e.InAttributeValueDq||this.state===$e.InAttributeValueSq||this.state===$e.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case $e.Text:{this.stateText(e);break}case $e.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case $e.InSpecialTag:{this.stateInSpecialTag(e);break}case $e.CDATASequence:{this.stateCDATASequence(e);break}case $e.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case $e.InAttributeName:{this.stateInAttributeName(e);break}case $e.InCommentLike:{this.stateInCommentLike(e);break}case $e.InSpecialComment:{this.stateInSpecialComment(e);break}case $e.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case $e.InTagName:{this.stateInTagName(e);break}case $e.InClosingTagName:{this.stateInClosingTagName(e);break}case $e.BeforeTagName:{this.stateBeforeTagName(e);break}case $e.AfterAttributeName:{this.stateAfterAttributeName(e);break}case $e.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case $e.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case $e.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case $e.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case $e.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case $e.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case $e.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case $e.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case $e.InDeclaration:{this.stateInDeclaration(e);break}case $e.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case $e.BeforeComment:{this.stateBeforeComment(e);break}case $e.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case $e.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===$e.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===$e.InCommentLike?this.currentSequence===Wn.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===$e.InTagName||this.state===$e.BeforeAttributeName||this.state===$e.BeforeAttributeValue||this.state===$e.AfterAttributeName||this.state===$e.InAttributeName||this.state===$e.InAttributeValueSq||this.state===$e.InAttributeValueDq||this.state===$e.InAttributeValueNq||this.state===$e.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){this.baseState!==$e.Text&&this.baseState!==$e.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}};const ns=new Set(["input","option","optgroup","select","button","datalist","textarea"]),vn=new Set(["p"]),Xb=new Set(["thead","tbody"]),$b=new Set(["dd","dt"]),Qb=new Set(["rt","rp"]),ix=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",vn],["h1",vn],["h2",vn],["h3",vn],["h4",vn],["h5",vn],["h6",vn],["select",ns],["input",ns],["output",ns],["button",ns],["datalist",ns],["textarea",ns],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",$b],["dt",$b],["address",vn],["article",vn],["aside",vn],["blockquote",vn],["details",vn],["div",vn],["dl",vn],["fieldset",vn],["figcaption",vn],["figure",vn],["footer",vn],["form",vn],["header",vn],["hr",vn],["main",vn],["nav",vn],["ol",vn],["pre",vn],["section",vn],["table",vn],["ul",vn],["rt",Qb],["rp",Qb],["tbody",Xb],["tfoot",Xb]]),ax=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Kb=new Set(["math","svg"]),Jb=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),ux=/\s|\//;let sx=class{constructor(e,n={}){var r,a,s,l,c,d;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(s=n.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((l=n.Tokenizer)!==null&&l!==void 0?l:rx)(this.options,this),this.foreignContext=[!this.htmlMode],(d=(c=this.cbs).onparserinit)===null||d===void 0||d.call(c,this)}ontext(e,n){var r,a;const s=this.getSlice(e,n);this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,s),this.startIndex=n}ontextentity(e,n){var r,a;this.endIndex=n-1,(a=(r=this.cbs).ontext)===null||a===void 0||a.call(r,Wb(e)),this.startIndex=n}isVoidElement(e){return this.htmlMode&&ax.has(e)}onopentagname(e,n){this.endIndex=n;let r=this.getSlice(e,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(e){var n,r,a,s;this.openTagStart=this.startIndex,this.tagname=e;const l=this.htmlMode&&ix.get(e);if(l)for(;this.stack.length>0&&l.has(this.stack[0]);){const c=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,c,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(Kb.has(e)?this.foreignContext.unshift(!0):Jb.has(e)&&this.foreignContext.unshift(!1))),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,n){var r,a,s,l,c,d,h,m;this.endIndex=n;let g=this.getSlice(e,n);if(this.lowerCaseTagNames&&(g=g.toLowerCase()),this.htmlMode&&(Kb.has(g)||Jb.has(g))&&this.foreignContext.shift(),this.isVoidElement(g))this.htmlMode&&g==="br"&&((l=(s=this.cbs).onopentagname)===null||l===void 0||l.call(s,"br"),(d=(c=this.cbs).onopentag)===null||d===void 0||d.call(c,"br",{},!0),(m=(h=this.cbs).onclosetag)===null||m===void 0||m.call(h,"br",!1));else{const w=this.stack.indexOf(g);if(w!==-1)for(let b=0;b<=w;b++){const N=this.stack.shift();(a=(r=this.cbs).onclosetag)===null||a===void 0||a.call(r,N,b!==w)}else this.htmlMode&&g==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var n,r;const a=this.tagname;this.endOpenTag(e),this.stack[0]===a&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,a,!e),this.stack.shift())}onattribname(e,n){this.startIndex=e;const r=this.getSlice(e,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(e,n){this.attribvalue+=this.getSlice(e,n)}onattribentity(e){this.attribvalue+=Wb(e)}onattribend(e,n){var r,a;this.endIndex=n,(a=(r=this.cbs).onattribute)===null||a===void 0||a.call(r,this.attribname,this.attribvalue,e===Ci.Double?'"':e===Ci.Single?"'":e===Ci.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const n=e.search(ux);let r=n<0?e:e.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${a}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(e,n){this.endIndex=n;const r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${a}`,`?${r}`)}this.startIndex=n+1}oncomment(e,n,r){var a,s,l,c;this.endIndex=n,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,n-r)),(c=(l=this.cbs).oncommentend)===null||c===void 0||c.call(l),this.startIndex=n+1}oncdata(e,n,r){var a,s,l,c,d,h,m,g,w,b;this.endIndex=n;const N=this.getSlice(e,n-r);!this.htmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(c=(l=this.cbs).ontext)===null||c===void 0||c.call(l,N),(h=(d=this.cbs).oncdataend)===null||h===void 0||h.call(d)):((g=(m=this.cbs).oncomment)===null||g===void 0||g.call(m,`[CDATA[${N}]]`),(b=(w=this.cbs).oncommentend)===null||b===void 0||b.call(w)),this.startIndex=n+1}onend(){var e,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(e=this.cbs).onend)===null||n===void 0||n.call(e)}reset(){var e,n,r,a;(n=(e=this.cbs).onreset)===null||n===void 0||n.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(r=this.cbs).onparserinit)===null||a===void 0||a.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,n){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(e-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}};function ox(t,e){const n=new GA(void 0,e);return new sx(n,e).end(t),n.root}var m0;const sl=(m0=Object.hasOwn)!==null&&m0!==void 0?m0:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),ol=/\s+/,Dp="data-",Em=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,lx=/^{[^]*}$|^\[[^]*]$/;function lf(t,e,n){var r;if(!(!t||!It(t))){if((r=t.attribs)!==null&&r!==void 0||(t.attribs={}),!e)return t.attribs;if(sl(t.attribs,e))return!n&&Em.test(e)?e:t.attribs[e];if(t.name==="option"&&e==="value")return ul(t.children);if(t.name==="input"&&(t.attribs.type==="radio"||t.attribs.type==="checkbox")&&e==="value")return"on"}}function _s(t,e,n){n===null?DE(t,e):t.attribs[e]=`${n}`}function cx(t,e){if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t!="string")throw new Error("Bad combination of arguments.");return Ln(this,(n,r)=>{It(n)&&_s(n,t,e.call(n,r,n.attribs[t]))})}return Ln(this,n=>{if(It(n))if(typeof t=="object")for(const r of Object.keys(t)){const a=t[r];_s(n,r,a)}else _s(n,t,e)})}return arguments.length>1?this:lf(this[0],t,this.options.xmlMode)}function e_(t,e,n){return e in t?t[e]:!n&&Em.test(e)?lf(t,e,!1)!==void 0:lf(t,e,n)}function g0(t,e,n,r){e in t?t[e]=n:_s(t,e,!r&&Em.test(e)?n?"":null:`${n}`)}function fx(t,e){var n;if(typeof t=="string"&&e===void 0){const r=this[0];if(!r)return;switch(t){case"style":{const a=this.css(),s=Object.keys(a);for(let l=0;l<s.length;l++)a[l]=s[l];return a.length=s.length,a}case"tagName":case"nodeName":return It(r)?r.name.toUpperCase():void 0;case"href":case"src":{if(!It(r))return;const a=(n=r.attribs)===null||n===void 0?void 0:n[t];return typeof URL<"u"&&(t==="href"&&(r.tagName==="a"||r.tagName==="link")||t==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return uf(r);case"textContent":return Es(r);case"outerHTML":return r.type===lm?this.html():this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return It(r)?e_(r,t,this.options.xmlMode):void 0}}if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t=="object")throw new TypeError("Bad combination of arguments.");return Ln(this,(r,a)=>{It(r)&&g0(r,t,e.call(r,a,e_(r,t,this.options.xmlMode)),this.options.xmlMode)})}return Ln(this,r=>{if(It(r))if(typeof t=="object")for(const a of Object.keys(t)){const s=t[a];g0(r,a,s,this.options.xmlMode)}else g0(r,t,e,this.options.xmlMode)})}}function t_(t,e,n){var r;(r=t.data)!==null&&r!==void 0||(t.data={}),typeof e=="object"?Object.assign(t.data,e):typeof e=="string"&&n!==void 0&&(t.data[e]=n)}function dx(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(Dp))continue;const n=Y4(e.slice(Dp.length));sl(t.data,n)||(t.data[n]=NE(t.attribs[e]))}return t.data}function hx(t,e){const n=Dp+V4(e),r=t.data;if(sl(r,e))return r[e];if(sl(t.attribs,n))return r[e]=NE(t.attribs[n])}function NE(t){if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;const e=Number(t);if(t===String(e))return e;if(lx.test(t))try{return JSON.parse(t)}catch{}return t}function px(t,e){var n;const r=this[0];if(!r||!It(r))return;const a=r;return(n=a.data)!==null&&n!==void 0||(a.data={}),t==null?dx(a):typeof t=="object"||e!==void 0?(Ln(this,s=>{It(s)&&(typeof t=="object"?t_(s,t):t_(s,t,e))}),this):hx(a,t)}function mx(t){const e=arguments.length===0,n=this[0];if(!n||!It(n))return e?void 0:this;switch(n.name){case"textarea":return this.text(t);case"select":{const r=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof t=="object")return this;this.find("option").removeAttr("selected");const a=typeof t=="object"?t:[t];for(const s of a)this.find(`option[value="${s}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(a=>ul(a.children)):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function DE(t,e){!t.attribs||!sl(t.attribs,e)||delete t.attribs[e]}function cf(t){return t?t.trim().split(ol):[]}function gx(t){const e=cf(t);for(const n of e)Ln(this,r=>{It(r)&&DE(r,n)});return this}function bx(t){return this.toArray().some(e=>{const n=It(e)&&e.attribs.class;let r=-1;if(n&&t.length>0)for(;(r=n.indexOf(t,r+1))>-1;){const a=r+t.length;if((r===0||ol.test(n[r-1]))&&(a===n.length||ol.test(n[a])))return!0}return!1})}function OE(t){if(typeof t=="function")return Ln(this,(r,a)=>{if(It(r)){const s=r.attribs.class||"";OE.call([r],t.call(r,a,s))}});if(!t||typeof t!="string")return this;const e=t.split(ol),n=this.length;for(let r=0;r<n;r++){const a=this[r];if(!It(a))continue;const s=lf(a,"class",!1);if(s){let l=` ${s} `;for(const c of e){const d=`${c} `;l.includes(` ${d}`)||(l+=d)}_s(a,"class",l.trim())}else _s(a,"class",e.join(" ").trim())}return this}function RE(t){if(typeof t=="function")return Ln(this,(a,s)=>{It(a)&&RE.call([a],t.call(a,s,a.attribs.class||""))});const e=cf(t),n=e.length,r=arguments.length===0;return Ln(this,a=>{if(It(a))if(r)a.attribs.class="";else{const s=cf(a.attribs.class);let l=!1;for(let c=0;c<n;c++){const d=s.indexOf(e[c]);d!==-1&&(s.splice(d,1),l=!0,c--)}l&&(a.attribs.class=s.join(" "))}})}function IE(t,e){if(typeof t=="function")return Ln(this,(l,c)=>{It(l)&&IE.call([l],t.call(l,c,l.attribs.class||"",e),e)});if(!t||typeof t!="string")return this;const n=t.split(ol),r=n.length,a=typeof e=="boolean"?e?1:-1:0,s=this.length;for(let l=0;l<s;l++){const c=this[l];if(!It(c))continue;const d=cf(c.attribs.class);for(let h=0;h<r;h++){const m=d.indexOf(n[h]);a>=0&&m===-1?d.push(n[h]):a<=0&&m!==-1&&d.splice(m,1)}c.attribs.class=d.join(" ")}return this}const _x=Object.freeze(Object.defineProperty({__proto__:null,addClass:OE,attr:cx,data:px,hasClass:bx,prop:fx,removeAttr:gx,removeClass:RE,toggleClass:IE,val:mx},Symbol.toStringTag,{value:"Module"}));var St;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(St||(St={}));var tr;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(tr||(tr={}));const n_=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,vx=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Ex=new Map([[126,tr.Element],[94,tr.Start],[36,tr.End],[42,tr.Any],[33,tr.Not],[124,tr.Hyphen]]),yx=new Set(["has","not","matches","is","where","host","host-context"]);function Xo(t){switch(t.type){case St.Adjacent:case St.Child:case St.Descendant:case St.Parent:case St.Sibling:case St.ColumnCombinator:return!0;default:return!1}}const Tx=new Set(["contains","icontains"]);function Ax(t,e,n){const r=parseInt(e,16)-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Io(t){return t.replace(vx,Ax)}function b0(t){return t===39||t===34}function r_(t){return t===32||t===9||t===10||t===12||t===13}function jf(t){const e=[],n=kE(e,`${t}`,0);if(n<t.length)throw new Error(`Unmatched selector: ${t.slice(n)}`);return e}function kE(t,e,n){let r=[];function a(w){const b=e.slice(n+w).match(n_);if(!b)throw new Error(`Expected name, found ${e.slice(n)}`);const[N]=b;return n+=w+N.length,Io(N)}function s(w){for(n+=w;n<e.length&&r_(e.charCodeAt(n));)n++}function l(){n+=1;const w=n;let b=1;for(;b>0&&n<e.length;n++)e.charCodeAt(n)===40&&!c(n)?b++:e.charCodeAt(n)===41&&!c(n)&&b--;if(b)throw new Error("Parenthesis not matched");return Io(e.slice(w,n-1))}function c(w){let b=0;for(;e.charCodeAt(--w)===92;)b++;return(b&1)===1}function d(){if(r.length>0&&Xo(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function h(w){if(r.length>0&&r[r.length-1].type===St.Descendant){r[r.length-1].type=w;return}d(),r.push({type:w})}function m(w,b){r.push({type:St.Attribute,name:w,action:b,value:a(1),namespace:null,ignoreCase:"quirks"})}function g(){if(r.length&&r[r.length-1].type===St.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");t.push(r)}if(s(0),e.length===n)return n;e:for(;n<e.length;){const w=e.charCodeAt(n);switch(w){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==St.Descendant)&&(d(),r.push({type:St.Descendant})),s(1);break}case 62:{h(St.Child),s(1);break}case 60:{h(St.Parent),s(1);break}case 126:{h(St.Sibling),s(1);break}case 43:{h(St.Adjacent),s(1);break}case 46:{m("class",tr.Element);break}case 35:{m("id",tr.Equals);break}case 91:{s(1);let b,N=null;e.charCodeAt(n)===124?b=a(1):e.startsWith("*|",n)?(N="*",b=a(2)):(b=a(0),e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==61&&(N=b,b=a(1))),s(0);let x=tr.Exists;const _=Ex.get(e.charCodeAt(n));if(_){if(x=_,e.charCodeAt(n+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(n)===61&&(x=tr.Equals,s(1));let y="",S=null;if(x!=="exists"){if(b0(e.charCodeAt(n))){const C=e.charCodeAt(n);let B=n+1;for(;B<e.length&&(e.charCodeAt(B)!==C||c(B));)B+=1;if(e.charCodeAt(B)!==C)throw new Error("Attribute value didn't end");y=Io(e.slice(n+1,B)),n=B+1}else{const C=n;for(;n<e.length&&(!r_(e.charCodeAt(n))&&e.charCodeAt(n)!==93||c(n));)n+=1;y=Io(e.slice(C,n))}s(0);const k=e.charCodeAt(n)|32;k===115?(S=!1,s(1)):k===105&&(S=!0,s(1))}if(e.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const D={type:St.Attribute,name:b,action:x,value:y,namespace:N,ignoreCase:S};r.push(D);break}case 58:{if(e.charCodeAt(n+1)===58){r.push({type:St.PseudoElement,name:a(2).toLowerCase(),data:e.charCodeAt(n)===40?l():null});continue}const b=a(1).toLowerCase();let N=null;if(e.charCodeAt(n)===40)if(yx.has(b)){if(b0(e.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${b} cannot be quoted`);if(N=[],n=kE(N,e,n+1),e.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${b} (${e})`);n+=1}else{if(N=l(),Tx.has(b)){const x=N.charCodeAt(0);x===N.charCodeAt(N.length-1)&&b0(x)&&(N=N.slice(1,-1))}N=Io(N)}r.push({type:St.Pseudo,name:b,data:N});break}case 44:{g(),r=[],s(1);break}default:{if(e.startsWith("/*",n)){const x=e.indexOf("*/",n+2);if(x<0)throw new Error("Comment was not terminated");n=x+2,r.length===0&&s(0);break}let b=null,N;if(w===42)n+=1,N="*";else if(w===124){if(N="",e.charCodeAt(n+1)===124){h(St.ColumnCombinator),s(2);break}}else if(n_.test(e.slice(n)))N=a(0);else break e;e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==124&&(b=N,e.charCodeAt(n+1)===42?(N="*",n+=2):N=a(1)),r.push(N==="*"?{type:St.Universal,namespace:b}:{type:St.Tag,name:N,namespace:b})}}}return g(),n}var _0,i_;function xx(){return i_||(i_=1,_0={trueFunc:function(){return!0},falseFunc:function(){return!1}}),_0}var ff=xx();const Vt=qa(ff),LE=new Map([[St.Universal,50],[St.Tag,30],[St.Attribute,1],[St.Pseudo,0]]);function ym(t){return!LE.has(t.type)}const Sx=new Map([[tr.Exists,10],[tr.Equals,8],[tr.Not,7],[tr.Start,6],[tr.End,6],[tr.Any,5]]);function wx(t){const e=t.map(BE);for(let n=1;n<t.length;n++){const r=e[n];if(!(r<0))for(let a=n-1;a>=0&&r<e[a];a--){const s=t[a+1];t[a+1]=t[a],t[a]=s,e[a+1]=e[a],e[a]=r}}}function BE(t){var e,n;let r=(e=LE.get(t.type))!==null&&e!==void 0?e:-1;return t.type===St.Attribute?(r=(n=Sx.get(t.action))!==null&&n!==void 0?n:4,t.action===tr.Equals&&t.name==="id"&&(r=9),t.ignoreCase&&(r>>=1)):t.type===St.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?r=0:Array.isArray(t.data)?(r=Math.min(...t.data.map(a=>Math.min(...a.map(BE)))),r<0&&(r=0)):r=2:r=3),r}const Cx=/[-[\]{}()*+?.,\\^$|#\s]/g;function a_(t){return t.replace(Cx,"\\$&")}const Nx=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function cu(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&Nx.has(t.name)}const Dx={equals(t,e,n){const{adapter:r}=n,{name:a}=e;let{value:s}=e;return cu(e,n)?(s=s.toLowerCase(),l=>{const c=r.getAttributeValue(l,a);return c!=null&&c.length===s.length&&c.toLowerCase()===s&&t(l)}):l=>r.getAttributeValue(l,a)===s&&t(l)},hyphen(t,e,n){const{adapter:r}=n,{name:a}=e;let{value:s}=e;const l=s.length;return cu(e,n)?(s=s.toLowerCase(),function(d){const h=r.getAttributeValue(d,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l).toLowerCase()===s&&t(d)}):function(d){const h=r.getAttributeValue(d,a);return h!=null&&(h.length===l||h.charAt(l)==="-")&&h.substr(0,l)===s&&t(d)}},element(t,e,n){const{adapter:r}=n,{name:a,value:s}=e;if(/\s/.test(s))return Vt.falseFunc;const l=new RegExp(`(?:^|\\s)${a_(s)}(?:$|\\s)`,cu(e,n)?"i":"");return function(d){const h=r.getAttributeValue(d,a);return h!=null&&h.length>=s.length&&l.test(h)&&t(d)}},exists(t,{name:e},{adapter:n}){return r=>n.hasAttrib(r,e)&&t(r)},start(t,e,n){const{adapter:r}=n,{name:a}=e;let{value:s}=e;const l=s.length;return l===0?Vt.falseFunc:cu(e,n)?(s=s.toLowerCase(),c=>{const d=r.getAttributeValue(c,a);return d!=null&&d.length>=l&&d.substr(0,l).toLowerCase()===s&&t(c)}):c=>{var d;return!!(!((d=r.getAttributeValue(c,a))===null||d===void 0)&&d.startsWith(s))&&t(c)}},end(t,e,n){const{adapter:r}=n,{name:a}=e;let{value:s}=e;const l=-s.length;return l===0?Vt.falseFunc:cu(e,n)?(s=s.toLowerCase(),c=>{var d;return((d=r.getAttributeValue(c,a))===null||d===void 0?void 0:d.substr(l).toLowerCase())===s&&t(c)}):c=>{var d;return!!(!((d=r.getAttributeValue(c,a))===null||d===void 0)&&d.endsWith(s))&&t(c)}},any(t,e,n){const{adapter:r}=n,{name:a,value:s}=e;if(s==="")return Vt.falseFunc;if(cu(e,n)){const l=new RegExp(a_(s),"i");return function(d){const h=r.getAttributeValue(d,a);return h!=null&&h.length>=s.length&&l.test(h)&&t(d)}}return l=>{var c;return!!(!((c=r.getAttributeValue(l,a))===null||c===void 0)&&c.includes(s))&&t(l)}},not(t,e,n){const{adapter:r}=n,{name:a}=e;let{value:s}=e;return s===""?l=>!!r.getAttributeValue(l,a)&&t(l):cu(e,n)?(s=s.toLowerCase(),l=>{const c=r.getAttributeValue(l,a);return(c==null||c.length!==s.length||c.toLowerCase()!==s)&&t(l)}):l=>r.getAttributeValue(l,a)!==s&&t(l)}},Ox=new Set([9,10,12,13,32]),u_=48,Rx=57;function Ix(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,n=0,r=s(),a=l();if(e<t.length&&t.charAt(e)==="n"&&(e++,n=r*(a??1),c(),e<t.length?(r=s(),c(),a=l()):r=a=0),a===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[n,r*a];function s(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function l(){const d=e;let h=0;for(;e<t.length&&t.charCodeAt(e)>=u_&&t.charCodeAt(e)<=Rx;)h=h*10+(t.charCodeAt(e)-u_),e++;return e===d?null:h}function c(){for(;e<t.length&&Ox.has(t.charCodeAt(e));)e++}}function kx(t){const e=t[0],n=t[1]-1;if(n<0&&e<=0)return Vt.falseFunc;if(e===-1)return s=>s<=n;if(e===0)return s=>s===n;if(e===1)return n<0?Vt.trueFunc:s=>s>=n;const r=Math.abs(e),a=(n%r+r)%r;return e>1?s=>s>=n&&s%r===a:s=>s<=n&&s%r===a}function kc(t){return kx(Ix(t))}function Lc(t,e){return n=>{const r=e.getParent(n);return r!=null&&e.isTag(r)&&t(n)}}const Op={contains(t,e,{adapter:n}){return function(a){return t(a)&&n.getText(a).includes(e)}},icontains(t,e,{adapter:n}){const r=e.toLowerCase();return function(s){return t(s)&&n.getText(s).toLowerCase().includes(r)}},"nth-child"(t,e,{adapter:n,equals:r}){const a=kc(e);return a===Vt.falseFunc?Vt.falseFunc:a===Vt.trueFunc?Lc(t,n):function(l){const c=n.getSiblings(l);let d=0;for(let h=0;h<c.length&&!r(l,c[h]);h++)n.isTag(c[h])&&d++;return a(d)&&t(l)}},"nth-last-child"(t,e,{adapter:n,equals:r}){const a=kc(e);return a===Vt.falseFunc?Vt.falseFunc:a===Vt.trueFunc?Lc(t,n):function(l){const c=n.getSiblings(l);let d=0;for(let h=c.length-1;h>=0&&!r(l,c[h]);h--)n.isTag(c[h])&&d++;return a(d)&&t(l)}},"nth-of-type"(t,e,{adapter:n,equals:r}){const a=kc(e);return a===Vt.falseFunc?Vt.falseFunc:a===Vt.trueFunc?Lc(t,n):function(l){const c=n.getSiblings(l);let d=0;for(let h=0;h<c.length;h++){const m=c[h];if(r(l,m))break;n.isTag(m)&&n.getName(m)===n.getName(l)&&d++}return a(d)&&t(l)}},"nth-last-of-type"(t,e,{adapter:n,equals:r}){const a=kc(e);return a===Vt.falseFunc?Vt.falseFunc:a===Vt.trueFunc?Lc(t,n):function(l){const c=n.getSiblings(l);let d=0;for(let h=c.length-1;h>=0;h--){const m=c[h];if(r(l,m))break;n.isTag(m)&&n.getName(m)===n.getName(l)&&d++}return a(d)&&t(l)}},root(t,e,{adapter:n}){return r=>{const a=n.getParent(r);return(a==null||!n.isTag(a))&&t(r)}},scope(t,e,n,r){const{equals:a}=n;return!r||r.length===0?Op.root(t,e,n):r.length===1?s=>a(r[0],s)&&t(s):s=>r.includes(s)&&t(s)},hover:v0("isHovered"),visited:v0("isVisited"),active:v0("isActive")};function v0(t){return function(n,r,{adapter:a}){const s=a[t];return typeof s!="function"?Vt.falseFunc:function(c){return s(c)&&n(c)}}}const s_={empty(t,{adapter:e}){return!e.getChildren(t).some(n=>e.isTag(n)||e.getText(n)!=="")},"first-child"(t,{adapter:e,equals:n}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;const r=e.getSiblings(t).find(a=>e.isTag(a));return r!=null&&n(t,r)},"last-child"(t,{adapter:e,equals:n}){const r=e.getSiblings(t);for(let a=r.length-1;a>=0;a--){if(n(t,r[a]))return!0;if(e.isTag(r[a]))break}return!1},"first-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),a=e.getName(t);for(let s=0;s<r.length;s++){const l=r[s];if(n(t,l))return!0;if(e.isTag(l)&&e.getName(l)===a)break}return!1},"last-of-type"(t,{adapter:e,equals:n}){const r=e.getSiblings(t),a=e.getName(t);for(let s=r.length-1;s>=0;s--){const l=r[s];if(n(t,l))return!0;if(e.isTag(l)&&e.getName(l)===a)break}return!1},"only-of-type"(t,{adapter:e,equals:n}){const r=e.getName(t);return e.getSiblings(t).every(a=>n(t,a)||!e.isTag(a)||e.getName(a)!==r)},"only-child"(t,{adapter:e,equals:n}){return e.getSiblings(t).every(r=>n(t,r)||!e.isTag(r))}};function o_(t,e,n,r){if(n===null){if(t.length>r)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===r)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const Lx={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},ME={};function Bx(t,e){return t===Vt.falseFunc?Vt.falseFunc:n=>e.isTag(n)&&t(n)}function PE(t,e){const n=e.getSiblings(t);if(n.length<=1)return[];const r=n.indexOf(t);return r<0||r===n.length-1?[]:n.slice(r+1).filter(e.isTag)}function Rp(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const E0=(t,e,n,r,a)=>{const s=a(e,Rp(n),r);return s===Vt.trueFunc?t:s===Vt.falseFunc?Vt.falseFunc:l=>s(l)&&t(l)},y0={is:E0,matches:E0,where:E0,not(t,e,n,r,a){const s=a(e,Rp(n),r);return s===Vt.falseFunc?t:s===Vt.trueFunc?Vt.falseFunc:l=>!s(l)&&t(l)},has(t,e,n,r,a){const{adapter:s}=n,l=Rp(n);l.relativeSelector=!0;const c=e.some(m=>m.some(ym))?[ME]:void 0,d=a(e,l,c);if(d===Vt.falseFunc)return Vt.falseFunc;const h=Bx(d,s);if(c&&d!==Vt.trueFunc){const{shouldTestNextSiblings:m=!1}=d;return g=>{if(!t(g))return!1;c[0]=g;const w=s.getChildren(g),b=m?[...w,...PE(g,s)]:w;return s.existsOne(h,b)}}return m=>t(m)&&s.existsOne(h,s.getChildren(m))}};function Mx(t,e,n,r,a){var s;const{name:l,data:c}=e;if(Array.isArray(c)){if(!(l in y0))throw new Error(`Unknown pseudo-class :${l}(${c})`);return y0[l](t,c,n,r,a)}const d=(s=n.pseudos)===null||s===void 0?void 0:s[l],h=typeof d=="string"?d:Lx[l];if(typeof h=="string"){if(c!=null)throw new Error(`Pseudo ${l} doesn't have any arguments`);const m=jf(h);return y0.is(t,m,n,r,a)}if(typeof d=="function")return o_(d,l,c,1),m=>d(m,c)&&t(m);if(l in Op)return Op[l](t,c,n,r);if(l in s_){const m=s_[l];return o_(m,l,c,2),g=>m(g,n,c)&&t(g)}throw new Error(`Unknown pseudo-class :${l}`)}function T0(t,e){const n=e.getParent(t);return n&&e.isTag(n)?n:null}function Px(t,e,n,r,a){const{adapter:s,equals:l}=n;switch(e.type){case St.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case St.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case St.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),Dx[e.action](t,e,n)}case St.Pseudo:return Mx(t,e,n,r,a);case St.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:c}=e;return(!n.xmlMode||n.lowerCaseTags)&&(c=c.toLowerCase()),function(h){return s.getName(h)===c&&t(h)}}case St.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(h){let m=h;for(;m=T0(m,s);)if(t(m))return!0;return!1};const c=new WeakSet;return function(h){let m=h;for(;m=T0(m,s);)if(!c.has(m)){if(s.isTag(m)&&t(m))return!0;c.add(m)}return!1}}case"_flexibleDescendant":return function(d){let h=d;do if(t(h))return!0;while(h=T0(h,s));return!1};case St.Parent:return function(d){return s.getChildren(d).some(h=>s.isTag(h)&&t(h))};case St.Child:return function(d){const h=s.getParent(d);return h!=null&&s.isTag(h)&&t(h)};case St.Sibling:return function(d){const h=s.getSiblings(d);for(let m=0;m<h.length;m++){const g=h[m];if(l(d,g))break;if(s.isTag(g)&&t(g))return!0}return!1};case St.Adjacent:return s.prevElementSibling?function(d){const h=s.prevElementSibling(d);return h!=null&&t(h)}:function(d){const h=s.getSiblings(d);let m;for(let g=0;g<h.length;g++){const w=h[g];if(l(d,w))break;s.isTag(w)&&(m=w)}return!!m&&t(m)};case St.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}function UE(t){return t.type===St.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(UE)))}const Ux={type:St.Descendant},Fx={type:"_flexibleDescendant"},zx={type:St.Pseudo,name:"scope",data:null};function Hx(t,{adapter:e},n){const r=!!n?.every(a=>{const s=e.isTag(a)&&e.getParent(a);return a===ME||s&&e.isTag(s)});for(const a of t){if(!(a.length>0&&ym(a[0])&&a[0].type!==St.Descendant))if(r&&!a.some(UE))a.unshift(Ux);else continue;a.unshift(zx)}}function FE(t,e,n){var r;t.forEach(wx),n=(r=e.context)!==null&&r!==void 0?r:n;const a=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(e.relativeSelector!==!1)Hx(t,e,s);else if(t.some(d=>d.length>0&&ym(d[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let l=!1;const c=t.map(d=>{if(d.length>=2){const[h,m]=d;h.type!==St.Pseudo||h.name!=="scope"||(a&&m.type===St.Descendant?d[1]=Fx:(m.type===St.Adjacent||m.type===St.Sibling)&&(l=!0))}return qx(d,e,s)}).reduce(jx,Vt.falseFunc);return c.shouldTestNextSiblings=l,c}function qx(t,e,n){var r;return t.reduce((a,s)=>a===Vt.falseFunc?Vt.falseFunc:Px(a,s,e,n,FE),(r=e.rootFunc)!==null&&r!==void 0?r:Vt.trueFunc)}function jx(t,e){return e===Vt.falseFunc||t===Vt.trueFunc?t:t===Vt.falseFunc||e===Vt.trueFunc?e:function(r){return t(r)||e(r)}}const zE=(t,e)=>t===e,Yx={adapter:qf,equals:zE};function Vx(t){var e,n,r,a;const s=t??Yx;return(e=s.adapter)!==null&&e!==void 0||(s.adapter=qf),(n=s.equals)!==null&&n!==void 0||(s.equals=(a=(r=s.adapter)===null||r===void 0?void 0:r.equals)!==null&&a!==void 0?a:zE),s}function Zx(t){return function(n,r,a){const s=Vx(r);return t(n,s,a)}}const Tm=Zx(FE);function HE(t,e,n=!1){return n&&(t=Gx(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function Gx(t,e){const n=Array.isArray(t)?t.slice(0):[t],r=n.length;for(let a=0;a<r;a++){const s=PE(n[a],e);n.push(...s)}return n}const Wx=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function df(t){return t.type!=="pseudo"?!1:Wx.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(df)):!1}function Xx(t,e,n){const r=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function $x(t){for(;t.parent;)t=t.parent;return t}function Am(t){const e=[],n=[];for(const r of t)r.some(df)?e.push(r):n.push(r);return[n,e]}const Qx={type:St.Universal,namespace:null},Kx={type:St.Pseudo,name:"scope",data:null};function qE(t,e,n={}){return jE([t],e,n)}function jE(t,e,n={}){if(typeof e=="function")return t.some(e);const[r,a]=Am(jf(e));return r.length>0&&t.some(Tm(r,n))||a.some(s=>ZE(s,t,n).length>0)}function Jx(t,e,n,r){const a=typeof n=="string"?parseInt(n,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<e.length?[a<0?e[e.length+a]:e[a]]:[];case"gt":return isFinite(a)?e.slice(a+1):[];case"even":return e.filter((s,l)=>l%2===0);case"odd":return e.filter((s,l)=>l%2===1);case"not":{const s=new Set(VE(n,e,r));return e.filter(l=>!s.has(l))}}}function YE(t,e,n={}){return VE(jf(t),e,n)}function VE(t,e,n){if(e.length===0)return[];const[r,a]=Am(t);let s;if(r.length){const l=kp(e,r,n);if(a.length===0)return l;l.length&&(s=new Set(l))}for(let l=0;l<a.length&&s?.size!==e.length;l++){const c=a[l];if((s?e.filter(m=>It(m)&&!s.has(m)):e).length===0)break;const h=ZE(c,e,n);if(h.length)if(s)h.forEach(m=>s.add(m));else{if(l===a.length-1)return h;s=new Set(h)}}return typeof s<"u"?s.size===e.length?e:e.filter(l=>s.has(l)):[]}function ZE(t,e,n){var r;if(t.some(Xo)){const a=(r=n.root)!==null&&r!==void 0?r:$x(e[0]),s={...n,context:e,relativeSelector:!1};return t.push(Kx),hf(a,t,s,!0,e.length)}return hf(e,t,n,!1,e.length)}function eS(t,e,n={},r=1/0){if(typeof t=="function")return GE(e,t);const[a,s]=Am(jf(t)),l=s.map(c=>hf(e,c,n,!0,r));return a.length&&l.push(Ip(e,a,n,r)),l.length===0?[]:l.length===1?l[0]:Ns(l.reduce((c,d)=>[...c,...d]))}function hf(t,e,n,r,a){const s=e.findIndex(df),l=e.slice(0,s),c=e[s],d=e.length-1===s?a:1/0,h=Xx(c.name,c.data,d);if(h===0)return[];const g=(l.length===0&&!Array.isArray(t)?Hf(t).filter(It):l.length===0?(Array.isArray(t)?t:[t]).filter(It):r||l.some(Xo)?Ip(t,[l],n,h):kp(t,[l],n)).slice(0,h);let w=Jx(c.name,g,c.data,n);if(w.length===0||e.length===s+1)return w;const b=e.slice(s+1),N=b.some(Xo);if(N){if(Xo(b[0])){const{type:x}=b[0];(x===St.Sibling||x===St.Adjacent)&&(w=HE(w,qf,!0)),b.unshift(Qx)}n={...n,relativeSelector:!1,rootFunc:x=>w.includes(x)}}else n.rootFunc&&n.rootFunc!==ff.trueFunc&&(n={...n,rootFunc:ff.trueFunc});return b.some(df)?hf(w,b,n,!1,a):N?Ip(w,[b],n,a):kp(w,[b],n)}function Ip(t,e,n,r){const a=Tm(e,n,t);return GE(t,a,r)}function GE(t,e,n=1/0){const r=HE(t,qf,e.shouldTestNextSiblings);return bm(a=>It(a)&&e(a),r,!0,n)}function kp(t,e,n){const r=(Array.isArray(t)?t:[t]).filter(It);if(r.length===0)return r;const a=Tm(e,n);return a===ff.trueFunc?r:r.filter(a)}const tS=/^\s*[+~]/;function nS(t){if(!t)return this._make([]);if(typeof t!="string"){const e=ea(t)?t.toArray():[t],n=this.toArray();return this._make(e.filter(r=>n.some(a=>CE(a,r))))}return this._findBySelector(t,Number.POSITIVE_INFINITY)}function rS(t,e){var n;const r=this.toArray(),a=tS.test(t)?r:this.children().toArray(),s={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(eS(t,a,s,e))}function xm(t){return function(e,...n){return function(r){var a;let s=t(e,this);return r&&(s=Cm(s,r,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&s.length>1?n.reduce((l,c)=>c(l),s):s)}}}const bl=xm((t,e)=>{let n=[];for(let r=0;r<e.length;r++){const a=t(e[r]);a.length>0&&(n=n.concat(a))}return n}),Sm=xm((t,e)=>{const n=[];for(let r=0;r<e.length;r++){const a=t(e[r]);a!==null&&n.push(a)}return n});function wm(t,...e){let n=null;const r=xm((a,s)=>{const l=[];return Ln(s,c=>{for(let d;(d=a(c))&&!n?.(d,l.length);c=d)l.push(d)}),l})(t,...e);return function(a,s){n=typeof a=="string"?c=>qE(c,a,this.options):a?_l(a):null;const l=r.call(this,s);return n=null,l}}function Ds(t){return t.length>1?Array.from(new Set(t)):t}const iS=Sm(({parent:t})=>t&&!ja(t)?t:null,Ds),aS=bl(t=>{const e=[];for(;t.parent&&!ja(t.parent);)e.push(t.parent),t=t.parent;return e},Ns,t=>t.reverse()),uS=wm(({parent:t})=>t&&!ja(t)?t:null,Ns,t=>t.reverse());function sS(t){var e;const n=[];if(!t)return this._make(n);const r={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},a=typeof t=="string"?s=>qE(s,t,r):_l(t);return Ln(this,s=>{for(s&&!ja(s)&&!It(s)&&(s=s.parent);s&&It(s);){if(a(s,0)){n.includes(s)||n.push(s);break}s=s.parent}}),this._make(n)}const oS=Sm(t=>mm(t)),lS=bl(t=>{const e=[];for(;t.next;)t=t.next,It(t)&&e.push(t);return e},Ds),cS=wm(t=>mm(t),Ds),fS=Sm(t=>gm(t)),dS=bl(t=>{const e=[];for(;t.prev;)t=t.prev,It(t)&&e.push(t);return e},Ds),hS=wm(t=>gm(t),Ds),pS=bl(t=>yE(t).filter(e=>It(e)&&e!==t),Ns),mS=bl(t=>Hf(t).filter(It),Ds);function gS(){const t=this.toArray().reduce((e,n)=>jn(n)?e.concat(n.children):e,[]);return this._make(t)}function bS(t){let e=0;const n=this.length;for(;e<n&&t.call(this[e],e,this[e])!==!1;)++e;return this}function _S(t){let e=[];for(let n=0;n<this.length;n++){const r=this[n],a=t.call(r,n,r);a!=null&&(e=e.concat(a))}return this._make(e)}function _l(t){return typeof t=="function"?(e,n)=>t.call(e,n,e):ea(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function vS(t){var e;return this._make(Cm(this.toArray(),t,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}function Cm(t,e,n,r){return typeof e=="string"?YE(e,t,{xmlMode:n,root:r}):t.filter(_l(e))}function ES(t){const e=this.toArray();return typeof t=="string"?jE(e.filter(It),t,this.options):t?e.some(_l(t)):!1}function yS(t){let e=this.toArray();if(typeof t=="string"){const n=new Set(YE(t,e,this.options));e=e.filter(r=>!n.has(r))}else{const n=_l(t);e=e.filter((r,a)=>!n(r,a))}return this._make(e)}function TS(t){return this.filter(typeof t=="string"?`:has(${t})`:(e,n)=>this._make(n).find(t).length>0)}function AS(){return this.length>1?this._make(this[0]):this}function xS(){return this.length>0?this._make(this[this.length-1]):this}function SS(t){var e;return t=+t,t===0&&this.length<=1?this:(t<0&&(t=this.length+t),this._make((e=this[t])!==null&&e!==void 0?e:[]))}function wS(t){return t==null?this.toArray():this[t<0?this.length+t:t]}function CS(){return Array.prototype.slice.call(this)}function NS(t){let e,n;return t==null?(e=this.parent().children(),n=this[0]):typeof t=="string"?(e=this._make(t),n=this[0]):(e=this,n=ea(t)?t[0]:t),Array.prototype.indexOf.call(e,n)}function DS(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function OS(){var t;return(t=this.prevObject)!==null&&t!==void 0?t:this._make([])}function RS(t,e){const n=this._make(t,e),r=Ns([...this.get(),...n.get()]);return this._make(r)}function IS(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}const kS=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:rS,add:RS,addBack:IS,children:mS,closest:sS,contents:gS,each:bS,end:OS,eq:SS,filter:vS,filterArray:Cm,find:nS,first:AS,get:wS,has:TS,index:NS,is:ES,last:xS,map:_S,next:oS,nextAll:lS,nextUntil:cS,not:yS,parent:iS,parents:aS,parentsUntil:uS,prev:fS,prevAll:dS,prevUntil:hS,siblings:pS,slice:DS,toArray:CS},Symbol.toStringTag,{value:"Module"}));function LS(t){return function(n,r,a,s){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return t(n,r,a,s);const l=n;if(!Array.isArray(l)&&ja(l))return l;const c=new _u([]);return vu(l,c),c}}function vu(t,e){const n=Array.isArray(t)?t:[t];e?e.children=n:e=null;for(let r=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.children!==n&&Tu(a),e?(a.prev=n[r-1]||null,a.next=n[r+1]||null):a.prev=a.next=null,a.parent=e}return e}function BS(t,e){if(t==null)return[];if(typeof t=="string")return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(t.length===1)return this._makeDomArray(t[0],e);const n=[];for(let r=0;r<t.length;r++){const a=t[r];if(typeof a=="object"){if(a==null)continue;if(!("length"in a)){n.push(e?al(a,!0):a);continue}}n.push(...this._makeDomArray(a,e))}return n}return[e?al(t,!0):t]}function WE(t){return function(...e){const n=this.length-1;return Ln(this,(r,a)=>{if(!jn(r))return;const s=typeof e[0]=="function"?e[0].call(r,a,this._render(r.children)):e,l=this._makeDomArray(s,a<n);t(l,r.children,r)})}}function Ya(t,e,n,r,a){var s,l;const c=[e,n,...r],d=e===0?null:t[e-1],h=e+n>=t.length?null:t[e+n];for(let m=0;m<r.length;++m){const g=r[m],w=g.parent;if(w){const N=w.children.indexOf(g);N!==-1&&(w.children.splice(N,1),a===w&&e>N&&c[0]--)}g.parent=a,g.prev&&(g.prev.next=(s=g.next)!==null&&s!==void 0?s:null),g.next&&(g.next.prev=(l=g.prev)!==null&&l!==void 0?l:null),g.prev=m===0?d:r[m-1],g.next=m===r.length-1?h:r[m+1]}return d&&(d.next=r[0]),h&&(h.prev=r[r.length-1]),t.splice(...c)}function MS(t){return(ea(t)?t:this._make(t)).append(this),this}function PS(t){return(ea(t)?t:this._make(t)).prepend(this),this}const US=WE((t,e,n)=>{Ya(e,e.length,0,t,n)}),FS=WE((t,e,n)=>{Ya(e,0,0,t,n)});function XE(t){return function(e){const n=this.length-1,r=this.parents().last();for(let a=0;a<this.length;a++){const s=this[a],l=typeof e=="function"?e.call(s,a,s):typeof e=="string"&&!Cp(e)?r.find(e).clone():e,[c]=this._makeDomArray(l,a<n);if(!c||!jn(c))continue;let d=c,h=0;for(;h<d.children.length;){const m=d.children[h];It(m)?(d=m,h=0):h++}t(s,d,[c])}return this}}const zS=XE((t,e,n)=>{const{parent:r}=t;if(!r)return;const a=r.children,s=a.indexOf(t);vu([t],e),Ya(a,s,0,n,r)}),HS=XE((t,e,n)=>{jn(t)&&(vu(t.children,e),vu(n,t))});function qS(t){return this.parent(t).not("body").each((e,n)=>{this._make(n).replaceWith(n.children)}),this}function jS(t){const e=this[0];if(e){const n=this._make(typeof t=="function"?t.call(e,0,e):t).insertBefore(e);let r;for(let s=0;s<n.length;s++)n[s].type===xp&&(r=n[s]);let a=0;for(;r&&a<r.children.length;){const s=r.children[a];s.type===xp?(r=s,a=0):a++}r&&this._make(r).append(this)}return this}function YS(...t){const e=this.length-1;return Ln(this,(n,r)=>{if(!jn(n)||!n.parent)return;const a=n.parent.children,s=a.indexOf(n);if(s===-1)return;const l=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,c=this._makeDomArray(l,r<e);Ya(a,s+1,0,c,n.parent)})}function VS(t){typeof t=="string"&&(t=this._make(t)),this.remove();const e=[];for(const n of this._makeDomArray(t)){const r=this.clone().toArray(),{parent:a}=n;if(!a)continue;const s=a.children,l=s.indexOf(n);l!==-1&&(Ya(s,l+1,0,r,a),e.push(...r))}return this._make(e)}function ZS(...t){const e=this.length-1;return Ln(this,(n,r)=>{if(!jn(n)||!n.parent)return;const a=n.parent.children,s=a.indexOf(n);if(s===-1)return;const l=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,c=this._makeDomArray(l,r<e);Ya(a,s,0,c,n.parent)})}function GS(t){const e=this._make(t);this.remove();const n=[];return Ln(e,r=>{const a=this.clone().toArray(),{parent:s}=r;if(!s)return;const l=s.children,c=l.indexOf(r);c!==-1&&(Ya(l,c,0,a,s),n.push(...a))}),this._make(n)}function WS(t){const e=t?this.filter(t):this;return Ln(e,n=>{Tu(n),n.prev=n.next=n.parent=null}),this}function XS(t){return Ln(this,(e,n)=>{const{parent:r}=e;if(!r)return;const a=r.children,s=typeof t=="function"?t.call(e,n,e):t,l=this._makeDomArray(s);vu(l,null);const c=a.indexOf(e);Ya(a,c,1,l,r),l.includes(e)||(e.parent=e.prev=e.next=null)})}function $S(){return Ln(this,t=>{if(jn(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}})}function QS(t){if(t===void 0){const e=this[0];return!e||!jn(e)?null:this._render(e.children)}return Ln(this,e=>{if(!jn(e))return;for(const r of e.children)r.next=r.prev=r.parent=null;const n=ea(t)?t.toArray():this._parse(`${t}`,this.options,!1,e).children;vu(n,e)})}function KS(){return this._render(this)}function JS(t){return t===void 0?ul(this):typeof t=="function"?Ln(this,(e,n)=>this._make(e).text(t.call(e,n,ul([e])))):Ln(this,e=>{if(!jn(e))return;for(const r of e.children)r.next=r.prev=r.parent=null;const n=new il(`${t}`);vu(n,e)})}function ew(){const t=Array.prototype.map.call(this.get(),n=>al(n,!0)),e=new _u(t);for(const n of t)n.parent=e;return this._make(t)}const tw=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:BS,after:YS,append:US,appendTo:MS,before:ZS,clone:ew,empty:$S,html:QS,insertAfter:VS,insertBefore:GS,prepend:FS,prependTo:PS,remove:WS,replaceWith:XS,text:JS,toString:KS,unwrap:qS,wrap:zS,wrapAll:jS,wrapInner:HS},Symbol.toStringTag,{value:"Module"}));function nw(t,e){if(t!=null&&e!=null||typeof t=="object"&&!Array.isArray(t))return Ln(this,(n,r)=>{It(n)&&$E(n,t,e,r)});if(this.length!==0)return QE(this[0],t)}function $E(t,e,n,r){if(typeof e=="string"){const a=QE(t),s=typeof n=="function"?n.call(t,r,a[e]):n;s===""?delete a[e]:s!=null&&(a[e]=s),t.attribs.style=rw(a)}else if(typeof e=="object"){const a=Object.keys(e);for(let s=0;s<a.length;s++){const l=a[s];$E(t,l,e[l],s)}}}function QE(t,e){if(!t||!It(t))return;const n=iw(t.attribs.style);if(typeof e=="string")return n[e];if(Array.isArray(e)){const r={};for(const a of e)n[a]!=null&&(r[a]=n[a]);return r}return n}function rw(t){return Object.keys(t).reduce((e,n)=>`${e}${e?" ":""}${n}: ${t[n]};`,"")}function iw(t){if(t=(t||"").trim(),!t)return{};const e={};let n;for(const r of t.split(";")){const a=r.indexOf(":");if(a<1||a===r.length-1){const s=r.trimEnd();s.length>0&&n!==void 0&&(e[n]+=`;${s}`)}else n=r.slice(0,a).trim(),e[n]=r.slice(a+1).trim()}return e}const aw=Object.freeze(Object.defineProperty({__proto__:null,css:nw},Symbol.toStringTag,{value:"Module"})),l_="input,select,textarea,keygen",uw=/%20/g,c_=/\r?\n/g;function sw(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(uw,"+")}function ow(){return this.map((t,e)=>{const n=this._make(e);return It(e)&&e.name==="form"?n.find(l_).toArray():n.filter(l_).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var n;const r=this._make(e),a=r.attr("name"),s=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(s)?s.map(l=>({name:a,value:l.replace(c_,`\r
`)})):{name:a,value:s.replace(c_,`\r
`)}}).toArray()}const lw=Object.freeze(Object.defineProperty({__proto__:null,serialize:sw,serializeArray:ow},Symbol.toStringTag,{value:"Module"}));function cw(t){var e;return typeof t=="string"?{selector:t,value:"textContent"}:{selector:t.selector,value:(e=t.value)!==null&&e!==void 0?e:"textContent"}}function fw(t){const e={};for(const n in t){const r=t[n],a=Array.isArray(r),{selector:s,value:l}=cw(a?r[0]:r),c=typeof l=="function"?l:typeof l=="string"?d=>this._make(d).prop(l):d=>this._make(d).extract(l);if(a)e[n]=this._findBySelector(s,Number.POSITIVE_INFINITY).map((d,h)=>c(h,n,e)).get();else{const d=this._findBySelector(s,1);e[n]=d.length>0?c(d[0],n,e):void 0}}return e}const dw=Object.freeze(Object.defineProperty({__proto__:null,extract:fw},Symbol.toStringTag,{value:"Module"}));class vl{constructor(e,n,r){if(this.length=0,this.options=r,this._root=n,e){for(let a=0;a<e.length;a++)this[a]=e[a];this.length=e.length}}}vl.prototype.cheerio="[cheerio object]";vl.prototype.splice=Array.prototype.splice;vl.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(vl.prototype,_x,kS,tw,aw,lw,dw);function hw(t,e){return function n(r,a,s=!0){if(r==null)throw new Error("cheerio.load() expects a string");const l=wp(a),c=t(r,l,s,null);class d extends vl{_make(g,w){const b=h(g,w);return b.prevObject=this,b}_parse(g,w,b,N){return t(g,w,b,N)}_render(g){return e(g,this.options)}}function h(m,g,w=c,b){if(m&&ea(m))return m;const N=wp(b,l),x=typeof w=="string"?[t(w,N,!1,null)]:"length"in w?w:[w],_=ea(x)?x:new d(x,null,N);if(_._root=_,!m)return new d(void 0,_,N);const y=typeof m=="string"&&Cp(m)?t(m,N,!1,null).children:pw(m)?[m]:Array.isArray(m)?m:void 0,S=new d(y,_,N);if(y)return S;if(typeof m!="string")throw new TypeError("Unexpected type of selector");let D=m;const k=g?typeof g=="string"?Cp(g)?new d([t(g,N,!1,null)],_,N):(D=`${g} ${D}`,_):ea(g)?g:new d(Array.isArray(g)?g:[g],_,N):_;return k?k.find(D):S}return Object.assign(h,j4,{load:n,_root:c,_options:l,fn:d.prototype,prototype:d.prototype}),h}}function pw(t){return!!t.name||t.type===lm||t.type===hE||t.type===pE}const mw=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Dn="";var G;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(G||(G={}));const Rr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function KE(t){return t>=55296&&t<=57343}function gw(t){return t>=56320&&t<=57343}function bw(t,e){return(t-55296)*1024+9216+e}function JE(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function ey(t){return t>=64976&&t<=65007||mw.has(t)}var Me;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Me||(Me={}));const _w=65536;class vw{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=_w,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:a,offset:s}=this,l=a+n,c=s+n;return{code:e,startLine:r,endLine:r,startCol:l,endCol:l,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(gw(n))return this.pos++,this._addGap(),bw(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,G.EOF;return this._err(Me.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;const r=this.html.charCodeAt(n);return r===G.CARRIAGE_RETURN?G.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;let e=this.html.charCodeAt(this.pos);return e===G.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,G.LINE_FEED):e===G.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,KE(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===G.LINE_FEED||e===G.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){JE(e)?this._err(Me.controlCharacterInInputStream):ey(e)&&this._err(Me.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var rn;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(rn||(rn={}));function ty(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const Ew=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),yw=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Tw(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=yw.get(t))!==null&&e!==void 0?e:t}var lr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(lr||(lr={}));const Aw=32;var Ma;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ma||(Ma={}));function Lp(t){return t>=lr.ZERO&&t<=lr.NINE}function xw(t){return t>=lr.UPPER_A&&t<=lr.UPPER_F||t>=lr.LOWER_A&&t<=lr.LOWER_F}function Sw(t){return t>=lr.UPPER_A&&t<=lr.UPPER_Z||t>=lr.LOWER_A&&t<=lr.LOWER_Z||Lp(t)}function ww(t){return t===lr.EQUALS||Sw(t)}var ur;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ur||(ur={}));var Ji;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ji||(Ji={}));class Cw{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ur.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ji.Strict}startEntity(e){this.decodeMode=e,this.state=ur.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ur.EntityStart:return e.charCodeAt(n)===lr.NUM?(this.state=ur.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ur.NamedEntity,this.stateNamedEntity(e,n));case ur.NumericStart:return this.stateNumericStart(e,n);case ur.NumericDecimal:return this.stateNumericDecimal(e,n);case ur.NumericHex:return this.stateNumericHex(e,n);case ur.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Aw)===lr.LOWER_X?(this.state=ur.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ur.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,a){if(n!==r){const s=r-n;this.result=this.result*Math.pow(a,s)+Number.parseInt(e.substr(n,s),a),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Lp(a)||xw(a))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Lp(a))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===lr.SEMI)this.consumed+=1;else if(this.decodeMode===Ji.Strict)return 0;return this.emitCodePoint(Tw(this.result),this.consumed),this.errors&&(e!==lr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let a=r[this.treeIndex],s=(a&Ma.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const l=e.charCodeAt(n);if(this.treeIndex=Nw(r,a,this.treeIndex+Math.max(1,s),l),this.treeIndex<0)return this.result===0||this.decodeMode===Ji.Attribute&&(s===0||ww(l))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],s=(a&Ma.VALUE_LENGTH)>>14,s!==0){if(l===lr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ji.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,a=(r[n]&Ma.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[e]&~Ma.VALUE_LENGTH:a[e+1],r),n===3&&this.emitCodePoint(a[e+2],r),r}end(){var e;switch(this.state){case ur.NamedEntity:return this.result!==0&&(this.decodeMode!==Ji.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ur.NumericDecimal:return this.emitNumericEntity(0,2);case ur.NumericHex:return this.emitNumericEntity(0,3);case ur.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ur.EntityStart:return 0}}}function Nw(t,e,n,r){const a=(e&Ma.BRANCH_LENGTH)>>7,s=e&Ma.JUMP_TABLE;if(a===0)return s!==0&&r===s?n:-1;if(s){const d=r-s;return d<0||d>=a?-1:t[n+d]-1}let l=n,c=l+a-1;for(;l<=c;){const d=l+c>>>1,h=t[d];if(h<r)l=d+1;else if(h>r)c=d-1;else return t[d+a]}return-1}var Ye;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Ye||(Ye={}));var bu;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(bu||(bu={}));var Vr;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Vr||(Vr={}));var Se;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(Se||(Se={}));var E;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(E||(E={}));const Dw=new Map([[Se.A,E.A],[Se.ADDRESS,E.ADDRESS],[Se.ANNOTATION_XML,E.ANNOTATION_XML],[Se.APPLET,E.APPLET],[Se.AREA,E.AREA],[Se.ARTICLE,E.ARTICLE],[Se.ASIDE,E.ASIDE],[Se.B,E.B],[Se.BASE,E.BASE],[Se.BASEFONT,E.BASEFONT],[Se.BGSOUND,E.BGSOUND],[Se.BIG,E.BIG],[Se.BLOCKQUOTE,E.BLOCKQUOTE],[Se.BODY,E.BODY],[Se.BR,E.BR],[Se.BUTTON,E.BUTTON],[Se.CAPTION,E.CAPTION],[Se.CENTER,E.CENTER],[Se.CODE,E.CODE],[Se.COL,E.COL],[Se.COLGROUP,E.COLGROUP],[Se.DD,E.DD],[Se.DESC,E.DESC],[Se.DETAILS,E.DETAILS],[Se.DIALOG,E.DIALOG],[Se.DIR,E.DIR],[Se.DIV,E.DIV],[Se.DL,E.DL],[Se.DT,E.DT],[Se.EM,E.EM],[Se.EMBED,E.EMBED],[Se.FIELDSET,E.FIELDSET],[Se.FIGCAPTION,E.FIGCAPTION],[Se.FIGURE,E.FIGURE],[Se.FONT,E.FONT],[Se.FOOTER,E.FOOTER],[Se.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[Se.FORM,E.FORM],[Se.FRAME,E.FRAME],[Se.FRAMESET,E.FRAMESET],[Se.H1,E.H1],[Se.H2,E.H2],[Se.H3,E.H3],[Se.H4,E.H4],[Se.H5,E.H5],[Se.H6,E.H6],[Se.HEAD,E.HEAD],[Se.HEADER,E.HEADER],[Se.HGROUP,E.HGROUP],[Se.HR,E.HR],[Se.HTML,E.HTML],[Se.I,E.I],[Se.IMG,E.IMG],[Se.IMAGE,E.IMAGE],[Se.INPUT,E.INPUT],[Se.IFRAME,E.IFRAME],[Se.KEYGEN,E.KEYGEN],[Se.LABEL,E.LABEL],[Se.LI,E.LI],[Se.LINK,E.LINK],[Se.LISTING,E.LISTING],[Se.MAIN,E.MAIN],[Se.MALIGNMARK,E.MALIGNMARK],[Se.MARQUEE,E.MARQUEE],[Se.MATH,E.MATH],[Se.MENU,E.MENU],[Se.META,E.META],[Se.MGLYPH,E.MGLYPH],[Se.MI,E.MI],[Se.MO,E.MO],[Se.MN,E.MN],[Se.MS,E.MS],[Se.MTEXT,E.MTEXT],[Se.NAV,E.NAV],[Se.NOBR,E.NOBR],[Se.NOFRAMES,E.NOFRAMES],[Se.NOEMBED,E.NOEMBED],[Se.NOSCRIPT,E.NOSCRIPT],[Se.OBJECT,E.OBJECT],[Se.OL,E.OL],[Se.OPTGROUP,E.OPTGROUP],[Se.OPTION,E.OPTION],[Se.P,E.P],[Se.PARAM,E.PARAM],[Se.PLAINTEXT,E.PLAINTEXT],[Se.PRE,E.PRE],[Se.RB,E.RB],[Se.RP,E.RP],[Se.RT,E.RT],[Se.RTC,E.RTC],[Se.RUBY,E.RUBY],[Se.S,E.S],[Se.SCRIPT,E.SCRIPT],[Se.SEARCH,E.SEARCH],[Se.SECTION,E.SECTION],[Se.SELECT,E.SELECT],[Se.SOURCE,E.SOURCE],[Se.SMALL,E.SMALL],[Se.SPAN,E.SPAN],[Se.STRIKE,E.STRIKE],[Se.STRONG,E.STRONG],[Se.STYLE,E.STYLE],[Se.SUB,E.SUB],[Se.SUMMARY,E.SUMMARY],[Se.SUP,E.SUP],[Se.TABLE,E.TABLE],[Se.TBODY,E.TBODY],[Se.TEMPLATE,E.TEMPLATE],[Se.TEXTAREA,E.TEXTAREA],[Se.TFOOT,E.TFOOT],[Se.TD,E.TD],[Se.TH,E.TH],[Se.THEAD,E.THEAD],[Se.TITLE,E.TITLE],[Se.TR,E.TR],[Se.TRACK,E.TRACK],[Se.TT,E.TT],[Se.U,E.U],[Se.UL,E.UL],[Se.SVG,E.SVG],[Se.VAR,E.VAR],[Se.WBR,E.WBR],[Se.XMP,E.XMP]]);function Yf(t){var e;return(e=Dw.get(t))!==null&&e!==void 0?e:E.UNKNOWN}const Ke=E,Ow={[Ye.HTML]:new Set([Ke.ADDRESS,Ke.APPLET,Ke.AREA,Ke.ARTICLE,Ke.ASIDE,Ke.BASE,Ke.BASEFONT,Ke.BGSOUND,Ke.BLOCKQUOTE,Ke.BODY,Ke.BR,Ke.BUTTON,Ke.CAPTION,Ke.CENTER,Ke.COL,Ke.COLGROUP,Ke.DD,Ke.DETAILS,Ke.DIR,Ke.DIV,Ke.DL,Ke.DT,Ke.EMBED,Ke.FIELDSET,Ke.FIGCAPTION,Ke.FIGURE,Ke.FOOTER,Ke.FORM,Ke.FRAME,Ke.FRAMESET,Ke.H1,Ke.H2,Ke.H3,Ke.H4,Ke.H5,Ke.H6,Ke.HEAD,Ke.HEADER,Ke.HGROUP,Ke.HR,Ke.HTML,Ke.IFRAME,Ke.IMG,Ke.INPUT,Ke.LI,Ke.LINK,Ke.LISTING,Ke.MAIN,Ke.MARQUEE,Ke.MENU,Ke.META,Ke.NAV,Ke.NOEMBED,Ke.NOFRAMES,Ke.NOSCRIPT,Ke.OBJECT,Ke.OL,Ke.P,Ke.PARAM,Ke.PLAINTEXT,Ke.PRE,Ke.SCRIPT,Ke.SECTION,Ke.SELECT,Ke.SOURCE,Ke.STYLE,Ke.SUMMARY,Ke.TABLE,Ke.TBODY,Ke.TD,Ke.TEMPLATE,Ke.TEXTAREA,Ke.TFOOT,Ke.TH,Ke.THEAD,Ke.TITLE,Ke.TR,Ke.TRACK,Ke.UL,Ke.WBR,Ke.XMP]),[Ye.MATHML]:new Set([Ke.MI,Ke.MO,Ke.MN,Ke.MS,Ke.MTEXT,Ke.ANNOTATION_XML]),[Ye.SVG]:new Set([Ke.TITLE,Ke.FOREIGN_OBJECT,Ke.DESC]),[Ye.XLINK]:new Set,[Ye.XML]:new Set,[Ye.XMLNS]:new Set},Bp=new Set([Ke.H1,Ke.H2,Ke.H3,Ke.H4,Ke.H5,Ke.H6]),Rw=new Set([Se.STYLE,Se.SCRIPT,Se.XMP,Se.IFRAME,Se.NOEMBED,Se.NOFRAMES,Se.PLAINTEXT]);function Iw(t,e){return Rw.has(t)||e&&t===Se.NOSCRIPT}var te;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(te||(te={}));const Lr={DATA:te.DATA,RCDATA:te.RCDATA,RAWTEXT:te.RAWTEXT,SCRIPT_DATA:te.SCRIPT_DATA,PLAINTEXT:te.PLAINTEXT,CDATA_SECTION:te.CDATA_SECTION};function kw(t){return t>=G.DIGIT_0&&t<=G.DIGIT_9}function Uo(t){return t>=G.LATIN_CAPITAL_A&&t<=G.LATIN_CAPITAL_Z}function Lw(t){return t>=G.LATIN_SMALL_A&&t<=G.LATIN_SMALL_Z}function Ra(t){return Lw(t)||Uo(t)}function f_(t){return Ra(t)||kw(t)}function Bc(t){return t+32}function ny(t){return t===G.SPACE||t===G.LINE_FEED||t===G.TABULATION||t===G.FORM_FEED}function d_(t){return ny(t)||t===G.SOLIDUS||t===G.GREATER_THAN_SIGN}function Bw(t){return t===G.NULL?Me.nullCharacterReference:t>1114111?Me.characterReferenceOutsideUnicodeRange:KE(t)?Me.surrogateCharacterReference:ey(t)?Me.noncharacterCharacterReference:JE(t)||t===G.CARRIAGE_RETURN?Me.controlCharacterReference:null}class Mw{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=te.DATA,this.returnState=te.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new vw(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Cw(Ew,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Me.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Me.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=Bw(r);a&&this._err(a,1)}}:void 0)}_err(e,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:rn.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:rn.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:rn.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:rn.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(ty(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Me.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Yf(e.tagName),e.type===rn.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Me.endTagWithAttributes),e.selfClosing&&this._err(Me.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case rn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case rn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case rn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:rn.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=ny(e)?rn.WHITESPACE_CHARACTER:e===G.NULL?rn.NULL_CHARACTER:rn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(rn.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=te.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ji.Attribute:Ji.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===te.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===te.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===te.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case te.DATA:{this._stateData(e);break}case te.RCDATA:{this._stateRcdata(e);break}case te.RAWTEXT:{this._stateRawtext(e);break}case te.SCRIPT_DATA:{this._stateScriptData(e);break}case te.PLAINTEXT:{this._statePlaintext(e);break}case te.TAG_OPEN:{this._stateTagOpen(e);break}case te.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case te.TAG_NAME:{this._stateTagName(e);break}case te.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case te.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case te.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case te.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case te.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case te.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case te.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case te.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case te.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case te.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case te.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case te.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case te.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case te.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case te.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case te.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case te.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case te.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case te.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case te.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case te.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case te.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case te.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case te.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case te.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case te.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case te.BOGUS_COMMENT:{this._stateBogusComment(e);break}case te.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case te.COMMENT_START:{this._stateCommentStart(e);break}case te.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case te.COMMENT:{this._stateComment(e);break}case te.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case te.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case te.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case te.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case te.COMMENT_END:{this._stateCommentEnd(e);break}case te.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case te.DOCTYPE:{this._stateDoctype(e);break}case te.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case te.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case te.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case te.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case te.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case te.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case te.CDATA_SECTION:{this._stateCdataSection(e);break}case te.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case te.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case te.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case te.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case G.LESS_THAN_SIGN:{this.state=te.TAG_OPEN;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this._emitCodePoint(e);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case G.AMPERSAND:{this._startCharacterReference();break}case G.LESS_THAN_SIGN:{this.state=te.RCDATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this._emitChars(Dn);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case G.LESS_THAN_SIGN:{this.state=te.RAWTEXT_LESS_THAN_SIGN;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this._emitChars(Dn);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case G.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this._emitChars(Dn);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case G.NULL:{this._err(Me.unexpectedNullCharacter),this._emitChars(Dn);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ra(e))this._createStartTagToken(),this.state=te.TAG_NAME,this._stateTagName(e);else switch(e){case G.EXCLAMATION_MARK:{this.state=te.MARKUP_DECLARATION_OPEN;break}case G.SOLIDUS:{this.state=te.END_TAG_OPEN;break}case G.QUESTION_MARK:{this._err(Me.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=te.BOGUS_COMMENT,this._stateBogusComment(e);break}case G.EOF:{this._err(Me.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Me.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=te.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ra(e))this._createEndTagToken(),this.state=te.TAG_NAME,this._stateTagName(e);else switch(e){case G.GREATER_THAN_SIGN:{this._err(Me.missingEndTagName),this.state=te.DATA;break}case G.EOF:{this._err(Me.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Me.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=te.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=te.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this.state=te.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.tagName+=Dn;break}case G.EOF:{this._err(Me.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Uo(e)?Bc(e):e)}}_stateRcdataLessThanSign(e){e===G.SOLIDUS?this.state=te.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=te.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ra(e)?(this.state=te.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=te.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=te.BEFORE_ATTRIBUTE_NAME,!1;case G.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=te.SELF_CLOSING_START_TAG,!1;case G.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=te.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=te.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===G.SOLIDUS?this.state=te.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=te.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ra(e)?(this.state=te.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=te.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=te.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case G.SOLIDUS:{this.state=te.SCRIPT_DATA_END_TAG_OPEN;break}case G.EXCLAMATION_MARK:{this.state=te.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=te.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ra(e)?(this.state=te.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===G.HYPHEN_MINUS?(this.state=te.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===G.HYPHEN_MINUS?(this.state=te.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=te.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case G.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this._emitChars(Dn);break}case G.EOF:{this._err(Me.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case G.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_ESCAPED,this._emitChars(Dn);break}case G.EOF:{this._err(Me.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.GREATER_THAN_SIGN:{this.state=te.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_ESCAPED,this._emitChars(Dn);break}case G.EOF:{this._err(Me.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===G.SOLIDUS?this.state=te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ra(e)?(this._emitChars("<"),this.state=te.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ra(e)?(this.state=te.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Rr.SCRIPT,!1)&&d_(this.preprocessor.peek(Rr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Rr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=te.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case G.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this._emitChars(Dn);break}case G.EOF:{this._err(Me.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case G.HYPHEN_MINUS:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dn);break}case G.EOF:{this._err(Me.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.GREATER_THAN_SIGN:{this.state=te.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Dn);break}case G.EOF:{this._err(Me.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===G.SOLIDUS?(this.state=te.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Rr.SCRIPT,!1)&&d_(this.preprocessor.peek(Rr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Rr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=te.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=te.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this.state=te.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case G.EQUALS_SIGN:{this._err(Me.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=te.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=te.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this._leaveAttrName(),this.state=te.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case G.EQUALS_SIGN:{this._leaveAttrName(),this.state=te.BEFORE_ATTRIBUTE_VALUE;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:{this._err(Me.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.currentAttr.name+=Dn;break}default:this.currentAttr.name+=String.fromCodePoint(Uo(e)?Bc(e):e)}}_stateAfterAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:{this.state=te.SELF_CLOSING_START_TAG;break}case G.EQUALS_SIGN:{this.state=te.BEFORE_ATTRIBUTE_VALUE;break}case G.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(Me.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=te.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{this.state=te.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this.state=te.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Me.missingAttributeValue),this.state=te.DATA,this.emitCurrentTagToken();break}default:this.state=te.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case G.QUOTATION_MARK:{this.state=te.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.currentAttr.value+=Dn;break}case G.EOF:{this._err(Me.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case G.APOSTROPHE:{this.state=te.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.currentAttr.value+=Dn;break}case G.EOF:{this._err(Me.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=te.BEFORE_ATTRIBUTE_NAME;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=te.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(Me.unexpectedNullCharacter),this.currentAttr.value+=Dn;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:case G.EQUALS_SIGN:case G.GRAVE_ACCENT:{this._err(Me.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case G.EOF:{this._err(Me.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=te.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this._leaveAttrValue(),this.state=te.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=te.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(Me.eofInTag),this._emitEOFToken();break}default:this._err(Me.missingWhitespaceBetweenAttributes),this.state=te.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case G.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=te.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(Me.eofInTag),this._emitEOFToken();break}default:this._err(Me.unexpectedSolidusInTag),this.state=te.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentComment(n);break}case G.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.data+=Dn;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Rr.DASH_DASH,!0)?(this._createCommentToken(Rr.DASH_DASH.length+1),this.state=te.COMMENT_START):this._consumeSequenceIfMatch(Rr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Rr.DOCTYPE.length+1),this.state=te.DOCTYPE):this._consumeSequenceIfMatch(Rr.CDATA_START,!0)?this.inForeignNode?this.state=te.CDATA_SECTION:(this._err(Me.cdataInHtmlContent),this._createCommentToken(Rr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=te.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Me.incorrectlyOpenedComment),this._createCommentToken(2),this.state=te.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case G.HYPHEN_MINUS:{this.state=te.COMMENT_START_DASH;break}case G.GREATER_THAN_SIGN:{this._err(Me.abruptClosingOfEmptyComment),this.state=te.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=te.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=te.COMMENT_END;break}case G.GREATER_THAN_SIGN:{this._err(Me.abruptClosingOfEmptyComment),this.state=te.DATA,this.emitCurrentComment(n);break}case G.EOF:{this._err(Me.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=te.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=te.COMMENT_END_DASH;break}case G.LESS_THAN_SIGN:{n.data+="<",this.state=te.COMMENT_LESS_THAN_SIGN;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.data+=Dn;break}case G.EOF:{this._err(Me.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case G.EXCLAMATION_MARK:{n.data+="!",this.state=te.COMMENT_LESS_THAN_SIGN_BANG;break}case G.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=te.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===G.HYPHEN_MINUS?this.state=te.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=te.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===G.HYPHEN_MINUS?this.state=te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=te.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==G.GREATER_THAN_SIGN&&e!==G.EOF&&this._err(Me.nestedComment),this.state=te.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=te.COMMENT_END;break}case G.EOF:{this._err(Me.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=te.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentComment(n);break}case G.EXCLAMATION_MARK:{this.state=te.COMMENT_END_BANG;break}case G.HYPHEN_MINUS:{n.data+="-";break}case G.EOF:{this._err(Me.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=te.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{n.data+="--!",this.state=te.COMMENT_END_DASH;break}case G.GREATER_THAN_SIGN:{this._err(Me.incorrectlyClosedComment),this.state=te.DATA,this.emitCurrentComment(n);break}case G.EOF:{this._err(Me.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=te.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=te.BEFORE_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=te.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case G.EOF:{this._err(Me.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.missingWhitespaceBeforeDoctypeName),this.state=te.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Uo(e))this._createDoctypeToken(String.fromCharCode(Bc(e))),this.state=te.DOCTYPE_NAME;else switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.NULL:{this._err(Me.unexpectedNullCharacter),this._createDoctypeToken(Dn),this.state=te.DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this._err(Me.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.EOF:{this._err(Me.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=te.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=te.AFTER_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentDoctype(n);break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.name+=Dn;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Uo(e)?Bc(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Rr.PUBLIC,!1)?this.state=te.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Rr.SYSTEM,!1)?this.state=te.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Me.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(Me.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(Me.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Me.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.publicId="",this.state=te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Me.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case G.QUOTATION_MARK:{this.state=te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.publicId+=Dn;break}case G.GREATER_THAN_SIGN:{this._err(Me.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case G.APOSTROPHE:{this.state=te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.publicId+=Dn;break}case G.GREATER_THAN_SIGN:{this._err(Me.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case G.GREATER_THAN_SIGN:{this.state=te.DATA,this.emitCurrentDoctype(n);break}case G.QUOTATION_MARK:{this._err(Me.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(Me.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.QUOTATION_MARK:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(Me.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(Me.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Me.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.systemId="",this.state=te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(Me.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case G.QUOTATION_MARK:{this.state=te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.systemId+=Dn;break}case G.GREATER_THAN_SIGN:{this._err(Me.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case G.APOSTROPHE:{this.state=te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(Me.unexpectedNullCharacter),n.systemId+=Dn;break}case G.GREATER_THAN_SIGN:{this._err(Me.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.EOF:{this._err(Me.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Me.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=te.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=te.DATA;break}case G.NULL:{this._err(Me.unexpectedNullCharacter);break}case G.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case G.RIGHT_SQUARE_BRACKET:{this.state=te.CDATA_SECTION_BRACKET;break}case G.EOF:{this._err(Me.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===G.RIGHT_SQUARE_BRACKET?this.state=te.CDATA_SECTION_END:(this._emitChars("]"),this.state=te.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case G.GREATER_THAN_SIGN:{this.state=te.DATA;break}case G.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=te.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(G.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&f_(this.preprocessor.peek(1))?te.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){f_(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===G.SEMICOLON&&this._err(Me.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const ry=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),h_=new Set([...ry,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),pf=new Set([E.APPLET,E.CAPTION,E.HTML,E.MARQUEE,E.OBJECT,E.TABLE,E.TD,E.TEMPLATE,E.TH]),Pw=new Set([...pf,E.OL,E.UL]),Uw=new Set([...pf,E.BUTTON]),p_=new Set([E.ANNOTATION_XML,E.MI,E.MN,E.MO,E.MS,E.MTEXT]),m_=new Set([E.DESC,E.FOREIGN_OBJECT,E.TITLE]),Fw=new Set([E.TR,E.TEMPLATE,E.HTML]),zw=new Set([E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML]),Hw=new Set([E.TABLE,E.TEMPLATE,E.HTML]),qw=new Set([E.TD,E.TH]);class jw{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ye.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const a=this._indexOf(e)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ye.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Bp,Ye.HTML)}popUntilTableCellPopped(){this.popUntilPopped(qw,Ye.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Hw,Ye.HTML)}clearBackToTableBodyContext(){this.clearBackTo(zw,Ye.HTML)}clearBackToTableRowContext(){this.clearBackTo(Fw,Ye.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Ye.HTML:{if(a===e)return!0;if(n.has(a))return!1;break}case Ye.SVG:{if(m_.has(a))return!1;break}case Ye.MATHML:{if(p_.has(a))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,pf)}hasInListItemScope(e){return this.hasInDynamicScope(e,Pw)}hasInButtonScope(e){return this.hasInDynamicScope(e,Uw)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Ye.HTML:{if(Bp.has(n))return!0;if(pf.has(n))return!1;break}case Ye.SVG:{if(m_.has(n))return!1;break}case Ye.MATHML:{if(p_.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ye.HTML)switch(this.tagIDs[n]){case e:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Ye.HTML)switch(this.tagIDs[e]){case E.TBODY:case E.THEAD:case E.TFOOT:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ye.HTML)switch(this.tagIDs[n]){case e:return!0;case E.OPTION:case E.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&ry.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&h_.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&h_.has(this.currentTagId);)this.pop()}}const A0=3;var Si;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Si||(Si={}));const g_={type:Si.Marker};class Yw{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],a=n.length,s=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const d=this.entries[c];if(d.type===Si.Marker)break;const{element:h}=d;if(this.treeAdapter.getTagName(h)===s&&this.treeAdapter.getNamespaceURI(h)===l){const m=this.treeAdapter.getAttrList(h);m.length===a&&r.push({idx:c,attrs:m})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<A0)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<A0)return;const a=new Map(n.map(l=>[l.name,l.value]));let s=0;for(let l=0;l<r.length;l++){const c=r[l];c.attrs.every(d=>a.get(d.name)===d.value)&&(s+=1,s>=A0&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(g_)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Si.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Si.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(g_);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Si.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Si.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Si.Element&&n.element===e)}}const Ki={createDocument(){return{nodeName:"#document",mode:Vr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const a=t.childNodes.find(s=>s.nodeName==="#documentType");if(a)a.name=e,a.publicId=n,a.systemId=r;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Ki.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Ki.isTextNode(n)){n.value+=e;return}}Ki.appendChild(t,Ki.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Ki.isTextNode(r)?r.value+=e:Ki.insertBefore(t,Ki.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},iy="html",Vw="about:legacy-compat",Zw="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ay=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Gw=[...ay,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Ww=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),uy=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Xw=[...uy,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function b_(t,e){return e.some(n=>t.startsWith(n))}function $w(t){return t.name===iy&&t.publicId===null&&(t.systemId===null||t.systemId===Vw)}function Qw(t){if(t.name!==iy)return Vr.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===Zw)return Vr.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),Ww.has(n))return Vr.QUIRKS;let r=e===null?Gw:ay;if(b_(n,r))return Vr.QUIRKS;if(r=e===null?uy:Xw,b_(n,r))return Vr.LIMITED_QUIRKS}return Vr.NO_QUIRKS}const __={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Kw="definitionurl",Jw="definitionURL",e8=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),t8=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ye.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ye.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ye.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ye.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ye.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ye.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ye.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ye.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ye.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ye.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ye.XMLNS}]]),n8=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),r8=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function i8(t){const e=t.tagID;return e===E.FONT&&t.attrs.some(({name:r})=>r===bu.COLOR||r===bu.SIZE||r===bu.FACE)||r8.has(e)}function sy(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===Kw){t.attrs[e].name=Jw;break}}function oy(t){for(let e=0;e<t.attrs.length;e++){const n=e8.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function Nm(t){for(let e=0;e<t.attrs.length;e++){const n=t8.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function a8(t){const e=n8.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Yf(t.tagName))}function u8(t,e){return e===Ye.MATHML&&(t===E.MI||t===E.MO||t===E.MN||t===E.MS||t===E.MTEXT)}function s8(t,e,n){if(e===Ye.MATHML&&t===E.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===bu.ENCODING){const a=n[r].value.toLowerCase();return a===__.TEXT_HTML||a===__.APPLICATION_XML}}return e===Ye.SVG&&(t===E.FOREIGN_OBJECT||t===E.DESC||t===E.TITLE)}function o8(t,e,n,r){return(!r||r===Ye.HTML)&&s8(t,e,n)||(!r||r===Ye.MATHML)&&u8(t,e)}const l8="hidden",c8=8,f8=3;var ie;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ie||(ie={}));const d8={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ly=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),v_={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ki,onParseError:null};class cy{constructor(e,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=ie.INITIAL,this.originalInsertionMode=ie.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...v_,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Mw(this.options,this),this.activeFormattingElements=new Yw(this.treeAdapter),this.fragmentContextID=r?Yf(this.treeAdapter.getTagName(r)):E.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new jw(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...v_,...n};e??(e=r.treeAdapter.createElement(Se.TEMPLATE,Ye.HTML,[]));const a=r.treeAdapter.createElement("documentmock",Ye.HTML,[]),s=new this(r,a,e);return s.fragmentContextID===E.TEMPLATE&&s.tmplInsertionModeStack.unshift(ie.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var a;if(!this.onParseError)return;const s=(a=e.location)!==null&&a!==void 0?a:d8,l={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(l)}onItemPush(e,n,r){var a,s;(s=(a=this.treeAdapter).onItemPush)===null||s===void 0||s.call(a,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,e,this.openElements.current),n){let s,l;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,l=this.fragmentContextID):{current:s,currentTagId:l}=this.openElements,this._setContextModes(s,l)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Ye.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Ye.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ie.TEXT}switchToPlaintextParsing(){this.insertionMode=ie.TEXT,this.originalInsertionMode=ie.IN_BODY,this.tokenizer.state=Lr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Se.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ye.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Lr.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Lr.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Lr.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Lr.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),e.location){const l=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));l&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Ye.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Ye.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Se.HTML,Ye.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,E.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const a=this.treeAdapter.getChildNodes(n),s=r?a.lastIndexOf(r):a.length,l=a[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:d,endCol:h,endOffset:m}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:d,endCol:h,endOffset:m})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(e),s=n.type===rn.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===E.SVG&&this.treeAdapter.getTagName(n)===Se.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ye.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===E.MGLYPH||e.tagID===E.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Ye.HTML)}_processToken(e){switch(e.type){case rn.CHARACTER:{this.onCharacter(e);break}case rn.NULL_CHARACTER:{this.onNullCharacter(e);break}case rn.COMMENT:{this.onComment(e);break}case rn.DOCTYPE:{this.onDoctype(e);break}case rn.START_TAG:{this._processStartTag(e);break}case rn.END_TAG:{this.onEndTag(e);break}case rn.EOF:{this.onEof(e);break}case rn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const a=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return o8(e,a,s,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===Si.Marker||this.openElements.contains(a.element)),r=n===-1?e-1:n-1;for(let a=r;a>=0;a--){const s=this.activeFormattingElements.entries[a];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ie.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case E.TR:{this.insertionMode=ie.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=ie.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=ie.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=ie.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=ie.IN_TABLE;return}case E.BODY:{this.insertionMode=ie.IN_BODY;return}case E.FRAMESET:{this.insertionMode=ie.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(e);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?ie.AFTER_HEAD:ie.BEFORE_HEAD;return}case E.TD:case E.TH:{if(e>0){this.insertionMode=ie.IN_CELL;return}break}case E.HEAD:{if(e>0){this.insertionMode=ie.IN_HEAD;return}break}}this.insertionMode=ie.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===E.TEMPLATE)break;if(r===E.TABLE){this.insertionMode=ie.IN_SELECT_IN_TABLE;return}}this.insertionMode=ie.IN_SELECT}_isElementCausesFosterParenting(e){return ly.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ye.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case E.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return Ow[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){q5(this,e);return}switch(this.insertionMode){case ie.INITIAL:{ko(this,e);break}case ie.BEFORE_HTML:{$o(this,e);break}case ie.BEFORE_HEAD:{Qo(this,e);break}case ie.IN_HEAD:{Ko(this,e);break}case ie.IN_HEAD_NO_SCRIPT:{Jo(this,e);break}case ie.AFTER_HEAD:{el(this,e);break}case ie.IN_BODY:case ie.IN_CAPTION:case ie.IN_CELL:case ie.IN_TEMPLATE:{dy(this,e);break}case ie.TEXT:case ie.IN_SELECT:case ie.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case ie.IN_TABLE:case ie.IN_TABLE_BODY:case ie.IN_ROW:{x0(this,e);break}case ie.IN_TABLE_TEXT:{_y(this,e);break}case ie.IN_COLUMN_GROUP:{mf(this,e);break}case ie.AFTER_BODY:{gf(this,e);break}case ie.AFTER_AFTER_BODY:{Gc(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){H5(this,e);return}switch(this.insertionMode){case ie.INITIAL:{ko(this,e);break}case ie.BEFORE_HTML:{$o(this,e);break}case ie.BEFORE_HEAD:{Qo(this,e);break}case ie.IN_HEAD:{Ko(this,e);break}case ie.IN_HEAD_NO_SCRIPT:{Jo(this,e);break}case ie.AFTER_HEAD:{el(this,e);break}case ie.TEXT:{this._insertCharacters(e);break}case ie.IN_TABLE:case ie.IN_TABLE_BODY:case ie.IN_ROW:{x0(this,e);break}case ie.IN_COLUMN_GROUP:{mf(this,e);break}case ie.AFTER_BODY:{gf(this,e);break}case ie.AFTER_AFTER_BODY:{Gc(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){Mp(this,e);return}switch(this.insertionMode){case ie.INITIAL:case ie.BEFORE_HTML:case ie.BEFORE_HEAD:case ie.IN_HEAD:case ie.IN_HEAD_NO_SCRIPT:case ie.AFTER_HEAD:case ie.IN_BODY:case ie.IN_TABLE:case ie.IN_CAPTION:case ie.IN_COLUMN_GROUP:case ie.IN_TABLE_BODY:case ie.IN_ROW:case ie.IN_CELL:case ie.IN_SELECT:case ie.IN_SELECT_IN_TABLE:case ie.IN_TEMPLATE:case ie.IN_FRAMESET:case ie.AFTER_FRAMESET:{Mp(this,e);break}case ie.IN_TABLE_TEXT:{Lo(this,e);break}case ie.AFTER_BODY:{v8(this,e);break}case ie.AFTER_AFTER_BODY:case ie.AFTER_AFTER_FRAMESET:{E8(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case ie.INITIAL:{y8(this,e);break}case ie.BEFORE_HEAD:case ie.IN_HEAD:case ie.IN_HEAD_NO_SCRIPT:case ie.AFTER_HEAD:{this._err(e,Me.misplacedDoctype);break}case ie.IN_TABLE_TEXT:{Lo(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Me.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?j5(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case ie.INITIAL:{ko(this,e);break}case ie.BEFORE_HTML:{T8(this,e);break}case ie.BEFORE_HEAD:{x8(this,e);break}case ie.IN_HEAD:{bi(this,e);break}case ie.IN_HEAD_NO_SCRIPT:{C8(this,e);break}case ie.AFTER_HEAD:{D8(this,e);break}case ie.IN_BODY:{Er(this,e);break}case ie.IN_TABLE:{ys(this,e);break}case ie.IN_TABLE_TEXT:{Lo(this,e);break}case ie.IN_CAPTION:{S5(this,e);break}case ie.IN_COLUMN_GROUP:{Rm(this,e);break}case ie.IN_TABLE_BODY:{Gf(this,e);break}case ie.IN_ROW:{Wf(this,e);break}case ie.IN_CELL:{N5(this,e);break}case ie.IN_SELECT:{yy(this,e);break}case ie.IN_SELECT_IN_TABLE:{O5(this,e);break}case ie.IN_TEMPLATE:{I5(this,e);break}case ie.AFTER_BODY:{L5(this,e);break}case ie.IN_FRAMESET:{B5(this,e);break}case ie.AFTER_FRAMESET:{P5(this,e);break}case ie.AFTER_AFTER_BODY:{F5(this,e);break}case ie.AFTER_AFTER_FRAMESET:{z5(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?Y5(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case ie.INITIAL:{ko(this,e);break}case ie.BEFORE_HTML:{A8(this,e);break}case ie.BEFORE_HEAD:{S8(this,e);break}case ie.IN_HEAD:{w8(this,e);break}case ie.IN_HEAD_NO_SCRIPT:{N8(this,e);break}case ie.AFTER_HEAD:{O8(this,e);break}case ie.IN_BODY:{Zf(this,e);break}case ie.TEXT:{m5(this,e);break}case ie.IN_TABLE:{ll(this,e);break}case ie.IN_TABLE_TEXT:{Lo(this,e);break}case ie.IN_CAPTION:{w5(this,e);break}case ie.IN_COLUMN_GROUP:{C5(this,e);break}case ie.IN_TABLE_BODY:{Pp(this,e);break}case ie.IN_ROW:{Ey(this,e);break}case ie.IN_CELL:{D5(this,e);break}case ie.IN_SELECT:{Ty(this,e);break}case ie.IN_SELECT_IN_TABLE:{R5(this,e);break}case ie.IN_TEMPLATE:{k5(this,e);break}case ie.AFTER_BODY:{xy(this,e);break}case ie.IN_FRAMESET:{M5(this,e);break}case ie.AFTER_FRAMESET:{U5(this,e);break}case ie.AFTER_AFTER_BODY:{Gc(this,e);break}}}onEof(e){switch(this.insertionMode){case ie.INITIAL:{ko(this,e);break}case ie.BEFORE_HTML:{$o(this,e);break}case ie.BEFORE_HEAD:{Qo(this,e);break}case ie.IN_HEAD:{Ko(this,e);break}case ie.IN_HEAD_NO_SCRIPT:{Jo(this,e);break}case ie.AFTER_HEAD:{el(this,e);break}case ie.IN_BODY:case ie.IN_TABLE:case ie.IN_CAPTION:case ie.IN_COLUMN_GROUP:case ie.IN_TABLE_BODY:case ie.IN_ROW:case ie.IN_CELL:case ie.IN_SELECT:case ie.IN_SELECT_IN_TABLE:{gy(this,e);break}case ie.TEXT:{g5(this,e);break}case ie.IN_TABLE_TEXT:{Lo(this,e);break}case ie.IN_TEMPLATE:{Ay(this,e);break}case ie.AFTER_BODY:case ie.IN_FRAMESET:case ie.AFTER_FRAMESET:case ie.AFTER_AFTER_BODY:case ie.AFTER_AFTER_FRAMESET:{Om(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===G.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case ie.IN_HEAD:case ie.IN_HEAD_NO_SCRIPT:case ie.AFTER_HEAD:case ie.TEXT:case ie.IN_COLUMN_GROUP:case ie.IN_SELECT:case ie.IN_SELECT_IN_TABLE:case ie.IN_FRAMESET:case ie.AFTER_FRAMESET:{this._insertCharacters(e);break}case ie.IN_BODY:case ie.IN_CAPTION:case ie.IN_CELL:case ie.IN_TEMPLATE:case ie.AFTER_BODY:case ie.AFTER_AFTER_BODY:case ie.AFTER_AFTER_FRAMESET:{fy(this,e);break}case ie.IN_TABLE:case ie.IN_TABLE_BODY:case ie.IN_ROW:{x0(this,e);break}case ie.IN_TABLE_TEXT:{by(this,e);break}}}}function h8(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):my(t,e),n}function p8(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const a=t.openElements.items[r];if(a===e.element)break;t._isSpecialElement(a,t.openElements.tagIDs[r])&&(n=a)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function m8(t,e,n){let r=e,a=t.openElements.getCommonAncestor(e);for(let s=0,l=a;l!==n;s++,l=a){a=t.openElements.getCommonAncestor(l);const c=t.activeFormattingElements.getElementEntry(l),d=c&&s>=f8;!c||d?(d&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(l)):(l=g8(t,c),r===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(l,r),r=l)}return r}function g8(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function b8(t,e,n){const r=t.treeAdapter.getTagName(e),a=Yf(r);if(t._isElementCausesFosterParenting(a))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);a===E.TEMPLATE&&s===Ye.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function _8(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:a}=n,s=t.treeAdapter.createElement(a.tagName,r,a.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,a),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,a.tagID)}function Dm(t,e){for(let n=0;n<c8;n++){const r=h8(t,e);if(!r)break;const a=p8(t,r);if(!a)break;t.activeFormattingElements.bookmark=r;const s=m8(t,a,r.element),l=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(s),l&&b8(t,l,s),_8(t,a,r)}}function Mp(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function v8(t,e){t._appendCommentNode(e,t.openElements.items[0])}function E8(t,e){t._appendCommentNode(e,t.document)}function Om(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],a=t.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],l=t.treeAdapter.getNodeSourceCodeLocation(s);l&&!l.endTag&&t._setEndLocation(s,e)}}}}function y8(t,e){t._setDocumentType(e);const n=e.forceQuirks?Vr.QUIRKS:Qw(e);$w(e)||t._err(e,Me.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=ie.BEFORE_HTML}function ko(t,e){t._err(e,Me.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Vr.QUIRKS),t.insertionMode=ie.BEFORE_HTML,t._processToken(e)}function T8(t,e){e.tagID===E.HTML?(t._insertElement(e,Ye.HTML),t.insertionMode=ie.BEFORE_HEAD):$o(t,e)}function A8(t,e){const n=e.tagID;(n===E.HTML||n===E.HEAD||n===E.BODY||n===E.BR)&&$o(t,e)}function $o(t,e){t._insertFakeRootElement(),t.insertionMode=ie.BEFORE_HEAD,t._processToken(e)}function x8(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.HEAD:{t._insertElement(e,Ye.HTML),t.headElement=t.openElements.current,t.insertionMode=ie.IN_HEAD;break}default:Qo(t,e)}}function S8(t,e){const n=e.tagID;n===E.HEAD||n===E.BODY||n===E.HTML||n===E.BR?Qo(t,e):t._err(e,Me.endTagWithoutMatchingOpenElement)}function Qo(t,e){t._insertFakeElement(Se.HEAD,E.HEAD),t.headElement=t.openElements.current,t.insertionMode=ie.IN_HEAD,t._processToken(e)}function bi(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{t._appendElement(e,Ye.HTML),e.ackSelfClosing=!0;break}case E.TITLE:{t._switchToTextParsing(e,Lr.RCDATA);break}case E.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Lr.RAWTEXT):(t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{t._switchToTextParsing(e,Lr.RAWTEXT);break}case E.SCRIPT:{t._switchToTextParsing(e,Lr.SCRIPT_DATA);break}case E.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=ie.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(ie.IN_TEMPLATE);break}case E.HEAD:{t._err(e,Me.misplacedStartTagForHeadElement);break}default:Ko(t,e)}}function w8(t,e){switch(e.tagID){case E.HEAD:{t.openElements.pop(),t.insertionMode=ie.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{Ko(t,e);break}case E.TEMPLATE:{Au(t,e);break}default:t._err(e,Me.endTagWithoutMatchingOpenElement)}}function Au(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==E.TEMPLATE&&t._err(e,Me.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(E.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,Me.endTagWithoutMatchingOpenElement)}function Ko(t,e){t.openElements.pop(),t.insertionMode=ie.AFTER_HEAD,t._processToken(e)}function C8(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{bi(t,e);break}case E.NOSCRIPT:{t._err(e,Me.nestedNoscriptInHead);break}default:Jo(t,e)}}function N8(t,e){switch(e.tagID){case E.NOSCRIPT:{t.openElements.pop(),t.insertionMode=ie.IN_HEAD;break}case E.BR:{Jo(t,e);break}default:t._err(e,Me.endTagWithoutMatchingOpenElement)}}function Jo(t,e){const n=e.type===rn.EOF?Me.openElementsLeftAfterEof:Me.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=ie.IN_HEAD,t._processToken(e)}function D8(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.BODY:{t._insertElement(e,Ye.HTML),t.framesetOk=!1,t.insertionMode=ie.IN_BODY;break}case E.FRAMESET:{t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{t._err(e,Me.abandonedHeadElementChild),t.openElements.push(t.headElement,E.HEAD),bi(t,e),t.openElements.remove(t.headElement);break}case E.HEAD:{t._err(e,Me.misplacedStartTagForHeadElement);break}default:el(t,e)}}function O8(t,e){switch(e.tagID){case E.BODY:case E.HTML:case E.BR:{el(t,e);break}case E.TEMPLATE:{Au(t,e);break}default:t._err(e,Me.endTagWithoutMatchingOpenElement)}}function el(t,e){t._insertFakeElement(Se.BODY,E.BODY),t.insertionMode=ie.IN_BODY,Vf(t,e)}function Vf(t,e){switch(e.type){case rn.CHARACTER:{dy(t,e);break}case rn.WHITESPACE_CHARACTER:{fy(t,e);break}case rn.COMMENT:{Mp(t,e);break}case rn.START_TAG:{Er(t,e);break}case rn.END_TAG:{Zf(t,e);break}case rn.EOF:{gy(t,e);break}}}function fy(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function dy(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function R8(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function I8(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function k8(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_FRAMESET)}function L8(t,e){t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._insertElement(e,Ye.HTML)}function B8(t,e){t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&Bp.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Ye.HTML)}function M8(t,e){t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._insertElement(e,Ye.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function P8(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._insertElement(e,Ye.HTML),n||(t.formElement=t.openElements.current))}function U8(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const a=t.openElements.tagIDs[r];if(n===E.LI&&a===E.LI||(n===E.DD||n===E.DT)&&(a===E.DD||a===E.DT)){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.popUntilTagNamePopped(a);break}if(a!==E.ADDRESS&&a!==E.DIV&&a!==E.P&&t._isSpecialElement(t.openElements.items[r],a))break}t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._insertElement(e,Ye.HTML)}function F8(t,e){t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._insertElement(e,Ye.HTML),t.tokenizer.state=Lr.PLAINTEXT}function z8(t,e){t.openElements.hasInScope(E.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(E.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ye.HTML),t.framesetOk=!1}function H8(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(Se.A);n&&(Dm(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ye.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function q8(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ye.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function j8(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(E.NOBR)&&(Dm(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Ye.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Y8(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ye.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function V8(t,e){t.treeAdapter.getDocumentMode(t.document)!==Vr.QUIRKS&&t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._insertElement(e,Ye.HTML),t.framesetOk=!1,t.insertionMode=ie.IN_TABLE}function hy(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ye.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function py(t){const e=ty(t,bu.TYPE);return e!=null&&e.toLowerCase()===l8}function Z8(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ye.HTML),py(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function G8(t,e){t._appendElement(e,Ye.HTML),e.ackSelfClosing=!0}function W8(t,e){t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._appendElement(e,Ye.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function X8(t,e){e.tagName=Se.IMG,e.tagID=E.IMG,hy(t,e)}function $8(t,e){t._insertElement(e,Ye.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Lr.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=ie.TEXT}function Q8(t,e){t.openElements.hasInButtonScope(E.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Lr.RAWTEXT)}function K8(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Lr.RAWTEXT)}function E_(t,e){t._switchToTextParsing(e,Lr.RAWTEXT)}function J8(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ye.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===ie.IN_TABLE||t.insertionMode===ie.IN_CAPTION||t.insertionMode===ie.IN_TABLE_BODY||t.insertionMode===ie.IN_ROW||t.insertionMode===ie.IN_CELL?ie.IN_SELECT_IN_TABLE:ie.IN_SELECT}function e5(t,e){t.openElements.currentTagId===E.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Ye.HTML)}function t5(t,e){t.openElements.hasInScope(E.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Ye.HTML)}function n5(t,e){t.openElements.hasInScope(E.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(E.RTC),t._insertElement(e,Ye.HTML)}function r5(t,e){t._reconstructActiveFormattingElements(),sy(e),Nm(e),e.selfClosing?t._appendElement(e,Ye.MATHML):t._insertElement(e,Ye.MATHML),e.ackSelfClosing=!0}function i5(t,e){t._reconstructActiveFormattingElements(),oy(e),Nm(e),e.selfClosing?t._appendElement(e,Ye.SVG):t._insertElement(e,Ye.SVG),e.ackSelfClosing=!0}function y_(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ye.HTML)}function Er(t,e){switch(e.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{q8(t,e);break}case E.A:{H8(t,e);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{B8(t,e);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{L8(t,e);break}case E.LI:case E.DD:case E.DT:{U8(t,e);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{hy(t,e);break}case E.HR:{W8(t,e);break}case E.RB:case E.RTC:{t5(t,e);break}case E.RT:case E.RP:{n5(t,e);break}case E.PRE:case E.LISTING:{M8(t,e);break}case E.XMP:{Q8(t,e);break}case E.SVG:{i5(t,e);break}case E.HTML:{R8(t,e);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{bi(t,e);break}case E.BODY:{I8(t,e);break}case E.FORM:{P8(t,e);break}case E.NOBR:{j8(t,e);break}case E.MATH:{r5(t,e);break}case E.TABLE:{V8(t,e);break}case E.INPUT:{Z8(t,e);break}case E.PARAM:case E.TRACK:case E.SOURCE:{G8(t,e);break}case E.IMAGE:{X8(t,e);break}case E.BUTTON:{z8(t,e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{Y8(t,e);break}case E.IFRAME:{K8(t,e);break}case E.SELECT:{J8(t,e);break}case E.OPTION:case E.OPTGROUP:{e5(t,e);break}case E.NOEMBED:case E.NOFRAMES:{E_(t,e);break}case E.FRAMESET:{k8(t,e);break}case E.TEXTAREA:{$8(t,e);break}case E.NOSCRIPT:{t.options.scriptingEnabled?E_(t,e):y_(t,e);break}case E.PLAINTEXT:{F8(t,e);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:y_(t,e)}}function a5(t,e){if(t.openElements.hasInScope(E.BODY)&&(t.insertionMode=ie.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function u5(t,e){t.openElements.hasInScope(E.BODY)&&(t.insertionMode=ie.AFTER_BODY,xy(t,e))}function s5(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function o5(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(E.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(E.FORM):n&&t.openElements.remove(n))}function l5(t){t.openElements.hasInButtonScope(E.P)||t._insertFakeElement(Se.P,E.P),t._closePElement()}function c5(t){t.openElements.hasInListItemScope(E.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(E.LI),t.openElements.popUntilTagNamePopped(E.LI))}function f5(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function d5(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function h5(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function p5(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(Se.BR,E.BR),t.openElements.pop(),t.framesetOk=!1}function my(t,e){const n=e.tagName,r=e.tagID;for(let a=t.openElements.stackTop;a>0;a--){const s=t.openElements.items[a],l=t.openElements.tagIDs[a];if(r===l&&(r!==E.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=a&&t.openElements.shortenToLength(a);break}if(t._isSpecialElement(s,l))break}}function Zf(t,e){switch(e.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{Dm(t,e);break}case E.P:{l5(t);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{s5(t,e);break}case E.LI:{c5(t);break}case E.DD:case E.DT:{f5(t,e);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{d5(t);break}case E.BR:{p5(t);break}case E.BODY:{a5(t,e);break}case E.HTML:{u5(t,e);break}case E.FORM:{o5(t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{h5(t,e);break}case E.TEMPLATE:{Au(t,e);break}default:my(t,e)}}function gy(t,e){t.tmplInsertionModeStack.length>0?Ay(t,e):Om(t,e)}function m5(t,e){var n;e.tagID===E.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function g5(t,e){t._err(e,Me.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function x0(t,e){if(t.openElements.currentTagId!==void 0&&ly.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=ie.IN_TABLE_TEXT,e.type){case rn.CHARACTER:{_y(t,e);break}case rn.WHITESPACE_CHARACTER:{by(t,e);break}}else El(t,e)}function b5(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_CAPTION}function _5(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_COLUMN_GROUP}function v5(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Se.COLGROUP,E.COLGROUP),t.insertionMode=ie.IN_COLUMN_GROUP,Rm(t,e)}function E5(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_TABLE_BODY}function y5(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Se.TBODY,E.TBODY),t.insertionMode=ie.IN_TABLE_BODY,Gf(t,e)}function T5(t,e){t.openElements.hasInTableScope(E.TABLE)&&(t.openElements.popUntilTagNamePopped(E.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function A5(t,e){py(e)?t._appendElement(e,Ye.HTML):El(t,e),e.ackSelfClosing=!0}function x5(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Ye.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function ys(t,e){switch(e.tagID){case E.TD:case E.TH:case E.TR:{y5(t,e);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{bi(t,e);break}case E.COL:{v5(t,e);break}case E.FORM:{x5(t,e);break}case E.TABLE:{T5(t,e);break}case E.TBODY:case E.TFOOT:case E.THEAD:{E5(t,e);break}case E.INPUT:{A5(t,e);break}case E.CAPTION:{b5(t,e);break}case E.COLGROUP:{_5(t,e);break}default:El(t,e)}}function ll(t,e){switch(e.tagID){case E.TABLE:{t.openElements.hasInTableScope(E.TABLE)&&(t.openElements.popUntilTagNamePopped(E.TABLE),t._resetInsertionMode());break}case E.TEMPLATE:{Au(t,e);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:El(t,e)}}function El(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Vf(t,e),t.fosterParentingEnabled=n}function by(t,e){t.pendingCharacterTokens.push(e)}function _y(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Lo(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)El(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const vy=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function S5(t,e){const n=e.tagID;vy.has(n)?t.openElements.hasInTableScope(E.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(E.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=ie.IN_TABLE,ys(t,e)):Er(t,e)}function w5(t,e){const n=e.tagID;switch(n){case E.CAPTION:case E.TABLE:{t.openElements.hasInTableScope(E.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(E.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=ie.IN_TABLE,n===E.TABLE&&ll(t,e));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Zf(t,e)}}function Rm(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.COL:{t._appendElement(e,Ye.HTML),e.ackSelfClosing=!0;break}case E.TEMPLATE:{bi(t,e);break}default:mf(t,e)}}function C5(t,e){switch(e.tagID){case E.COLGROUP:{t.openElements.currentTagId===E.COLGROUP&&(t.openElements.pop(),t.insertionMode=ie.IN_TABLE);break}case E.TEMPLATE:{Au(t,e);break}case E.COL:break;default:mf(t,e)}}function mf(t,e){t.openElements.currentTagId===E.COLGROUP&&(t.openElements.pop(),t.insertionMode=ie.IN_TABLE,t._processToken(e))}function Gf(t,e){switch(e.tagID){case E.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_ROW;break}case E.TH:case E.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(Se.TR,E.TR),t.insertionMode=ie.IN_ROW,Wf(t,e);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=ie.IN_TABLE,ys(t,e));break}default:ys(t,e)}}function Pp(t,e){const n=e.tagID;switch(e.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=ie.IN_TABLE);break}case E.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=ie.IN_TABLE,ll(t,e));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:ll(t,e)}}function Wf(t,e){switch(e.tagID){case E.TH:case E.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Ye.HTML),t.insertionMode=ie.IN_CELL,t.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{t.openElements.hasInTableScope(E.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=ie.IN_TABLE_BODY,Gf(t,e));break}default:ys(t,e)}}function Ey(t,e){switch(e.tagID){case E.TR:{t.openElements.hasInTableScope(E.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=ie.IN_TABLE_BODY);break}case E.TABLE:{t.openElements.hasInTableScope(E.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=ie.IN_TABLE_BODY,Pp(t,e));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(E.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=ie.IN_TABLE_BODY,Pp(t,e));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:ll(t,e)}}function N5(t,e){const n=e.tagID;vy.has(n)?(t.openElements.hasInTableScope(E.TD)||t.openElements.hasInTableScope(E.TH))&&(t._closeTableCell(),Wf(t,e)):Er(t,e)}function D5(t,e){const n=e.tagID;switch(n){case E.TD:case E.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=ie.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),Ey(t,e));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:Zf(t,e)}}function yy(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.OPTION:{t.openElements.currentTagId===E.OPTION&&t.openElements.pop(),t._insertElement(e,Ye.HTML);break}case E.OPTGROUP:{t.openElements.currentTagId===E.OPTION&&t.openElements.pop(),t.openElements.currentTagId===E.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Ye.HTML);break}case E.HR:{t.openElements.currentTagId===E.OPTION&&t.openElements.pop(),t.openElements.currentTagId===E.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Ye.HTML),e.ackSelfClosing=!0;break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{t.openElements.hasInSelectScope(E.SELECT)&&(t.openElements.popUntilTagNamePopped(E.SELECT),t._resetInsertionMode(),e.tagID!==E.SELECT&&t._processStartTag(e));break}case E.SCRIPT:case E.TEMPLATE:{bi(t,e);break}}}function Ty(t,e){switch(e.tagID){case E.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===E.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===E.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===E.OPTGROUP&&t.openElements.pop();break}case E.OPTION:{t.openElements.currentTagId===E.OPTION&&t.openElements.pop();break}case E.SELECT:{t.openElements.hasInSelectScope(E.SELECT)&&(t.openElements.popUntilTagNamePopped(E.SELECT),t._resetInsertionMode());break}case E.TEMPLATE:{Au(t,e);break}}}function O5(t,e){const n=e.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?(t.openElements.popUntilTagNamePopped(E.SELECT),t._resetInsertionMode(),t._processStartTag(e)):yy(t,e)}function R5(t,e){const n=e.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(E.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Ty(t,e)}function I5(t,e){switch(e.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{bi(t,e);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{t.tmplInsertionModeStack[0]=ie.IN_TABLE,t.insertionMode=ie.IN_TABLE,ys(t,e);break}case E.COL:{t.tmplInsertionModeStack[0]=ie.IN_COLUMN_GROUP,t.insertionMode=ie.IN_COLUMN_GROUP,Rm(t,e);break}case E.TR:{t.tmplInsertionModeStack[0]=ie.IN_TABLE_BODY,t.insertionMode=ie.IN_TABLE_BODY,Gf(t,e);break}case E.TD:case E.TH:{t.tmplInsertionModeStack[0]=ie.IN_ROW,t.insertionMode=ie.IN_ROW,Wf(t,e);break}default:t.tmplInsertionModeStack[0]=ie.IN_BODY,t.insertionMode=ie.IN_BODY,Er(t,e)}}function k5(t,e){e.tagID===E.TEMPLATE&&Au(t,e)}function Ay(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(E.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):Om(t,e)}function L5(t,e){e.tagID===E.HTML?Er(t,e):gf(t,e)}function xy(t,e){var n;if(e.tagID===E.HTML){if(t.fragmentContext||(t.insertionMode=ie.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===E.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else gf(t,e)}function gf(t,e){t.insertionMode=ie.IN_BODY,Vf(t,e)}function B5(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.FRAMESET:{t._insertElement(e,Ye.HTML);break}case E.FRAME:{t._appendElement(e,Ye.HTML),e.ackSelfClosing=!0;break}case E.NOFRAMES:{bi(t,e);break}}}function M5(t,e){e.tagID===E.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==E.FRAMESET&&(t.insertionMode=ie.AFTER_FRAMESET))}function P5(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.NOFRAMES:{bi(t,e);break}}}function U5(t,e){e.tagID===E.HTML&&(t.insertionMode=ie.AFTER_AFTER_FRAMESET)}function F5(t,e){e.tagID===E.HTML?Er(t,e):Gc(t,e)}function Gc(t,e){t.insertionMode=ie.IN_BODY,Vf(t,e)}function z5(t,e){switch(e.tagID){case E.HTML:{Er(t,e);break}case E.NOFRAMES:{bi(t,e);break}}}function H5(t,e){e.chars=Dn,t._insertCharacters(e)}function q5(t,e){t._insertCharacters(e),t.framesetOk=!1}function Sy(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Ye.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function j5(t,e){if(i8(e))Sy(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Ye.MATHML?sy(e):r===Ye.SVG&&(a8(e),oy(e)),Nm(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function Y5(t,e){if(e.tagID===E.P||e.tagID===E.BR){Sy(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Ye.HTML){t._endTagOutsideForeignContent(e);break}const a=t.treeAdapter.getTagName(r);if(a.toLowerCase()===e.tagName){e.tagName=a,t.openElements.shortenToLength(n);break}}}function wy(t,e){return function(r){let a,s=0,l="";for(;a=t.exec(r);)s!==a.index&&(l+=r.substring(s,a.index)),l+=e.get(a[0].charCodeAt(0)),s=a.index+1;return l+r.substring(s)}}const V5=wy(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Z5=wy(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),G5=new Set([Se.AREA,Se.BASE,Se.BASEFONT,Se.BGSOUND,Se.BR,Se.COL,Se.EMBED,Se.FRAME,Se.HR,Se.IMG,Se.INPUT,Se.KEYGEN,Se.LINK,Se.META,Se.PARAM,Se.SOURCE,Se.TRACK,Se.WBR]);function W5(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===Ye.HTML&&G5.has(e.treeAdapter.getTagName(t))}const X5={treeAdapter:Ki,scriptingEnabled:!0};function $5(t,e){const n={...X5,...e};return Cy(t,n)}function Q5(t,e){let n="";const r=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===Se.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===Ye.HTML?e.treeAdapter.getTemplateContent(t):t,a=e.treeAdapter.getChildNodes(r);if(a)for(const s of a)n+=Cy(s,e);return n}function Cy(t,e){return e.treeAdapter.isElementNode(t)?K5(t,e):e.treeAdapter.isTextNode(t)?eC(t,e):e.treeAdapter.isCommentNode(t)?tC(t,e):e.treeAdapter.isDocumentTypeNode(t)?nC(t,e):""}function K5(t,e){const n=e.treeAdapter.getTagName(t);return`<${n}${J5(t,e)}>${W5(t,e)?"":`${Q5(t,e)}</${n}>`}`}function J5(t,{treeAdapter:e}){let n="";for(const r of e.getAttrList(t)){if(n+=" ",r.namespace)switch(r.namespace){case Ye.XML:{n+=`xml:${r.name}`;break}case Ye.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case Ye.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${V5(r.value)}"`}return n}function eC(t,e){const{treeAdapter:n}=e,r=n.getTextNodeContent(t),a=n.getParentNode(t),s=a&&n.isElementNode(a)&&n.getTagName(a);return s&&n.getNamespaceURI(a)===Ye.HTML&&Iw(s,e.scriptingEnabled)?r:Z5(r)}function tC(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function nC(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}function rC(t,e){return cy.parse(t,e)}function iC(t,e,n){typeof t=="string"&&(n=e,e=t,t=null);const r=cy.getFragmentParser(t,n);return r.tokenizer.write(e,!0),r.getFragment()}function T_(t){const e=t.includes('"')?"'":'"';return e+t+e}function aC(t,e,n){let r="!DOCTYPE ";return t&&(r+=t),e?r+=` PUBLIC ${T_(e)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${T_(n)}`),r}const Ia={isCommentNode:Ff,isElementNode:It,isTextNode:Di,createDocument(){const t=new _u([]);return t["x-mode"]=Vr.NO_QUIRKS,t},createDocumentFragment(){return new _u([])},createElement(t,e,n){const r=Object.create(null),a=Object.create(null),s=Object.create(null);for(let c=0;c<n.length;c++){const d=n[c].name;r[d]=n[c].value,a[d]=n[c].namespace,s[d]=n[c].prefix}const l=new pm(t,r,[]);return l.namespace=e,l["x-attribsNamespace"]=a,l["x-attribsPrefix"]=s,l},createCommentNode(t){return new fm(t)},createTextNode(t){return new il(t)},appendChild(t,e){const n=t.children[t.children.length-1];n&&(n.next=e,e.prev=n),t.children.push(e),e.parent=t},insertBefore(t,e,n){const r=t.children.indexOf(n),{prev:a}=n;a&&(a.next=e,e.prev=a),n.prev=e,e.next=n,t.children.splice(r,0,e),e.parent=t},setTemplateContent(t,e){Ia.appendChild(t,e)},getTemplateContent(t){return t.children[0]},setDocumentType(t,e,n,r){const a=aC(e,n,r);let s=t.children.find(l=>Sp(l)&&l.name==="!doctype");s?s.data=a??null:(s=new dm("!doctype",a),Ia.appendChild(t,s)),s["x-name"]=e,s["x-publicId"]=n,s["x-systemId"]=r},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode(t){return t["x-mode"]},detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:n,next:r}=t;t.prev=null,t.next=null,n&&(n.next=r),r&&(r.prev=n),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const n=t.children[t.children.length-1];n&&Di(n)?n.data+=e:Ia.appendChild(t,Ia.createTextNode(e))},insertTextBefore(t,e,n){const r=t.children[t.children.indexOf(n)-1];r&&Di(r)?r.data+=e:Ia.insertBefore(t,Ia.createTextNode(e),n)},adoptAttributes(t,e){for(let n=0;n<e.length;n++){const r=e[n].name;t.attribs[r]===void 0&&(t.attribs[r]=e[n].value,t["x-attribsNamespace"][r]=e[n].namespace,t["x-attribsPrefix"][r]=e[n].prefix)}},getFirstChild(t){return t.children[0]},getChildNodes(t){return t.children},getParentNode(t){return t.parent},getAttrList(t){return t.attributes},getTagName(t){return t.name},getNamespaceURI(t){return t.namespace},getTextNodeContent(t){return t.data},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){var e;return(e=t["x-name"])!==null&&e!==void 0?e:""},getDocumentTypeNodePublicId(t){var e;return(e=t["x-publicId"])!==null&&e!==void 0?e:""},getDocumentTypeNodeSystemId(t){var e;return(e=t["x-systemId"])!==null&&e!==void 0?e:""},isDocumentTypeNode(t){return Sp(t)&&t.name==="!doctype"},setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){e.endOffset!=null&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function uC(t,e,n,r){var a;return(a=e.treeAdapter)!==null&&a!==void 0||(e.treeAdapter=Ia),e.scriptingEnabled!==!1&&(e.scriptingEnabled=!0),n?rC(t,e):iC(r,t,e)}const sC={treeAdapter:Ia};function oC(t){const e="length"in t?t:[t];for(let r=0;r<e.length;r+=1){const a=e[r];ja(a)&&Array.prototype.splice.call(e,r,1,...a.children)}let n="";for(let r=0;r<e.length;r+=1){const a=e[r];n+=$5(a,sC)}return n}const lC=LS((t,e,n,r)=>e._useHtmlParser2?ox(t,e):uC(t,e,n,r)),S0=hw(lC,(t,e)=>e._useHtmlParser2?zf(t,e):oC(t));function Bt(t,e,n,r,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function Re(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let Ny=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return Ny=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Up(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Fp=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Lt extends Error{}class mr extends Lt{constructor(e,n,r,a){super(`${mr.makeMessage(e,n,r)}`),this.status=e,this.headers=a,this.requestID=a?.get("x-request-id"),this.error=n;const s=n;this.code=s?.code,this.param=s?.param,this.type=s?.type}static makeMessage(e,n,r){const a=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,n,r,a){if(!e||!a)return new Xf({message:r,cause:Fp(n)});const s=n?.error;return e===400?new Dy(e,s,r,a):e===401?new Oy(e,s,r,a):e===403?new Ry(e,s,r,a):e===404?new Iy(e,s,r,a):e===409?new ky(e,s,r,a):e===422?new Ly(e,s,r,a):e===429?new By(e,s,r,a):e>=500?new My(e,s,r,a):new mr(e,s,r,a)}}class ri extends mr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Xf extends mr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Im extends Xf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Dy extends mr{}class Oy extends mr{}class Ry extends mr{}class Iy extends mr{}class ky extends mr{}class Ly extends mr{}class By extends mr{}class My extends mr{}class Py extends Lt{constructor(){super("Could not parse response content as the length limit was reached")}}class Uy extends Lt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Fo extends Error{constructor(e){super(e)}}const cC=/^[a-z][a-z0-9+.-]*:/i,fC=t=>cC.test(t);let kr=t=>(kr=Array.isArray,kr(t)),A_=kr;function dC(t){return typeof t!="object"?{}:t??{}}function hC(t){if(!t)return!0;for(const e in t)return!1;return!0}function pC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w0(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const mC=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Lt(`${t} must be an integer`);if(e<0)throw new Lt(`${t} must be a positive integer`);return e},gC=t=>{try{return JSON.parse(t)}catch{return}},yl=t=>new Promise(e=>setTimeout(e,t)),cs="5.8.2",bC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function _C(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const vC=()=>{const t=_C();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":S_(Deno.build.os),"X-Stainless-Arch":x_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":S_(globalThis.process.platform??"unknown"),"X-Stainless-Arch":x_(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=EC();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EC(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const a=r[1]||0,s=r[2]||0,l=r[3]||0;return{browser:e,version:`${a}.${s}.${l}`}}}return null}const x_=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",S_=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let w_;const yC=()=>w_??(w_=vC());function TC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Fy(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function zy(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Fy({start(){},async pull(n){const{done:r,value:a}=await e.next();r?n.close():n.enqueue(a)},async cancel(){await e.return?.()}})}function Hy(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function AC(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const xC=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),qy="RFC3986",jy=t=>String(t),C_={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:jy},SC="RFC1738";let zp=(t,e)=>(zp=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),zp(t,e));const Ai=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),C0=1024,wC=(t,e,n,r,a)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let l="";for(let c=0;c<s.length;c+=C0){const d=s.length>=C0?s.slice(c,c+C0):s,h=[];for(let m=0;m<d.length;++m){let g=d.charCodeAt(m);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||a===SC&&(g===40||g===41)){h[h.length]=d.charAt(m);continue}if(g<128){h[h.length]=Ai[g];continue}if(g<2048){h[h.length]=Ai[192|g>>6]+Ai[128|g&63];continue}if(g<55296||g>=57344){h[h.length]=Ai[224|g>>12]+Ai[128|g>>6&63]+Ai[128|g&63];continue}m+=1,g=65536+((g&1023)<<10|d.charCodeAt(m)&1023),h[h.length]=Ai[240|g>>18]+Ai[128|g>>12&63]+Ai[128|g>>6&63]+Ai[128|g&63]}l+=h.join("")}return l};function CC(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function N_(t,e){if(kr(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const Yy={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Vy=function(t,e){Array.prototype.push.apply(t,kr(e)?e:[e])};let D_;const er={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:wC,encodeValuesOnly:!1,format:qy,formatter:jy,indices:!1,serializeDate(t){return(D_??(D_=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function NC(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const N0={};function Zy(t,e,n,r,a,s,l,c,d,h,m,g,w,b,N,x,_,y){let S=t,D=y,k=0,C=!1;for(;(D=D.get(N0))!==void 0&&!C;){const H=D.get(t);if(k+=1,typeof H<"u"){if(H===k)throw new RangeError("Cyclic object value");C=!0}typeof D.get(N0)>"u"&&(k=0)}if(typeof h=="function"?S=h(e,S):S instanceof Date?S=w?.(S):n==="comma"&&kr(S)&&(S=N_(S,function(H){return H instanceof Date?w?.(H):H})),S===null){if(s)return d&&!x?d(e,er.encoder,_,"key",b):e;S=""}if(NC(S)||CC(S)){if(d){const H=x?e:d(e,er.encoder,_,"key",b);return[N?.(H)+"="+N?.(d(S,er.encoder,_,"value",b))]}return[N?.(e)+"="+N?.(String(S))]}const B=[];if(typeof S>"u")return B;let P;if(n==="comma"&&kr(S))x&&d&&(S=N_(S,d)),P=[{value:S.length>0?S.join(",")||null:void 0}];else if(kr(h))P=h;else{const H=Object.keys(S);P=m?H.sort(m):H}const F=c?String(e).replace(/\./g,"%2E"):String(e),M=r&&kr(S)&&S.length===1?F+"[]":F;if(a&&kr(S)&&S.length===0)return M+"[]";for(let H=0;H<P.length;++H){const ne=P[H],U=typeof ne=="object"&&typeof ne.value<"u"?ne.value:S[ne];if(l&&U===null)continue;const J=g&&c?ne.replace(/\./g,"%2E"):ne,R=kr(S)?typeof n=="function"?n(M,J):M:M+(g?"."+J:"["+J+"]");y.set(t,k);const se=new WeakMap;se.set(N0,y),Vy(B,Zy(U,R,n,r,a,s,l,c,n==="comma"&&x&&kr(S)?null:d,h,m,g,w,b,N,x,_,se))}return B}function DC(t=er){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||er.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=qy;if(typeof t.format<"u"){if(!zp(C_,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=C_[n];let a=er.filter;(typeof t.filter=="function"||kr(t.filter))&&(a=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in Yy?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=er.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:er.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:er.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:er.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:er.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?er.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:er.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:er.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:er.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:er.encodeValuesOnly,filter:a,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:er.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:er.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:er.strictNullHandling}}function OC(t,e={}){let n=t;const r=DC(e);let a,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):kr(r.filter)&&(s=r.filter,a=s);const l=[];if(typeof n!="object"||n===null)return"";const c=Yy[r.arrayFormat],d=c==="comma"&&r.commaRoundTrip;a||(a=Object.keys(n)),r.sort&&a.sort(r.sort);const h=new WeakMap;for(let w=0;w<a.length;++w){const b=a[w];r.skipNulls&&n[b]===null||Vy(l,Zy(n[b],b,c,d,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,h))}const m=l.join(r.delimiter);let g=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),m.length>0?g+m:""}function RC(t){let e=0;for(const a of t)e+=a.length;const n=new Uint8Array(e);let r=0;for(const a of t)n.set(a,r),r+=a.length;return n}let O_;function km(t){let e;return(O_??(e=new globalThis.TextEncoder,O_=e.encode.bind(e)))(t)}let R_;function I_(t){let e;return(R_??(e=new globalThis.TextDecoder,R_=e.decode.bind(e)))(t)}var qr,jr;class $f{constructor(){qr.set(this,void 0),jr.set(this,void 0),Bt(this,qr,new Uint8Array),Bt(this,jr,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?km(e):e;Bt(this,qr,RC([Re(this,qr,"f"),n]));const r=[];let a;for(;(a=IC(Re(this,qr,"f"),Re(this,jr,"f")))!=null;){if(a.carriage&&Re(this,jr,"f")==null){Bt(this,jr,a.index);continue}if(Re(this,jr,"f")!=null&&(a.index!==Re(this,jr,"f")+1||a.carriage)){r.push(I_(Re(this,qr,"f").subarray(0,Re(this,jr,"f")-1))),Bt(this,qr,Re(this,qr,"f").subarray(Re(this,jr,"f"))),Bt(this,jr,null);continue}const s=Re(this,jr,"f")!==null?a.preceding-1:a.preceding,l=I_(Re(this,qr,"f").subarray(0,s));r.push(l),Bt(this,qr,Re(this,qr,"f").subarray(a.index)),Bt(this,jr,null)}return r}flush(){return Re(this,qr,"f").length?this.decode(`
`):[]}}qr=new WeakMap,jr=new WeakMap;$f.NEWLINE_CHARS=new Set([`
`,"\r"]);$f.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function IC(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function kC(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class Ni{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*a(){if(r)throw new Lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const l of LC(e,n))if(!s){if(l.data.startsWith("[DONE]")){s=!0;continue}if(l.event===null||l.event.startsWith("response.")||l.event.startsWith("transcript.")){let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(c&&c.error)throw new mr(void 0,c.error,void 0,e.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(d){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),d}if(l.event=="error")throw new mr(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}s=!0}catch(l){if(Up(l))return;throw l}finally{s||n.abort()}}return new Ni(a,n)}static fromReadableStream(e,n){let r=!1;async function*a(){const l=new $f,c=Hy(e);for await(const d of c)for(const h of l.decode(d))yield h;for(const d of l.flush())yield d}async function*s(){if(r)throw new Lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const c of a())l||c&&(yield JSON.parse(c));l=!0}catch(c){if(Up(c))return;throw c}finally{l||n.abort()}}return new Ni(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),a=s=>({next:()=>{if(s.length===0){const l=r.next();e.push(l),n.push(l)}return s.shift()}});return[new Ni(()=>a(e),this.controller),new Ni(()=>a(n),this.controller)]}toReadableStream(){const e=this;let n;return Fy({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:s}=await n.next();if(s)return r.close();const l=km(JSON.stringify(a)+`
`);r.enqueue(l)}catch(a){r.error(a)}},async cancel(){await n.return?.()}})}}async function*LC(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Lt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Lt("Attempted to iterate over a response with no body");const n=new MC,r=new $f,a=Hy(t.body);for await(const s of BC(a))for(const l of r.decode(s)){const c=n.decode(l);c&&(yield c)}for(const s of r.flush()){const l=n.decode(s);l&&(yield l)}}async function*BC(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?km(n):n;let a=new Uint8Array(e.length+r.length);a.set(e),a.set(r,e.length),e=a;let s;for(;(s=kC(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class MC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,a]=PC(e,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function PC(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const bf={off:0,error:200,warn:300,info:400,debug:500},k_=(t,e,n)=>{if(t){if(pC(bf,t))return t;_r(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(bf))}`)}};function zo(){}function Mc(t,e,n){return!e||bf[t]>bf[n]?zo:e[t].bind(e)}const UC={error:zo,warn:zo,info:zo,debug:zo};let L_=new WeakMap;function _r(t){const e=t.logger,n=t.logLevel??"off";if(!e)return UC;const r=L_.get(e);if(r&&r[0]===n)return r[1];const a={error:Mc("error",e,n),warn:Mc("warn",e,n),info:Mc("info",e,n),debug:Mc("debug",e,n)};return L_.set(e,[n,a]),a}const du=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);async function Gy(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:a,startTime:s}=e,l=await(async()=>{if(e.options.stream)return _r(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):Ni.fromSSEResponse(n,e.controller);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type")?.split(";")[0]?.trim();if(d?.includes("application/json")||d?.endsWith("+json")){const g=await n.json();return Wy(g,n)}return await n.text()})();return _r(t).debug(`[${r}] response parsed`,du({retryOfRequestLogID:a,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}function Wy(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var Ho;class Qf extends Promise{constructor(e,n,r=Gy){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=r,Ho.set(this,void 0),Bt(this,Ho,e)}_thenUnwrap(e){return new Qf(Re(this,Ho,"f"),this.responsePromise,async(n,r)=>Wy(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(Re(this,Ho,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Ho=new WeakMap;var Pc;class Xy{constructor(e,n,r,a){Pc.set(this,void 0),Bt(this,Pc,e),this.options=a,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Lt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await Re(this,Pc,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Pc=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class FC extends Qf{constructor(e,n,r){super(e,n,async(a,s)=>new r(a,s.response,await Gy(a,s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class Kf extends Xy{constructor(e,n,r,a){super(e,n,r,a),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class $n extends Xy{constructor(e,n,r,a){super(e,n,r,a),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),n=e[e.length-1]?.id;return n?{...this.options,query:{...dC(this.options.query),after:n}}:null}}const $y=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tl(t,e,n){return $y(),new File(t,e??"unknown_file",n)}function Wc(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Qy=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Eu=async(t,e)=>({...t,body:await HC(t.body,e)}),B_=new WeakMap;function zC(t){const e=typeof t=="function"?t:t.fetch,n=B_.get(e);if(n)return n;const r=(async()=>{try{const a="Response"in e?e.Response:(await e("data:,")).constructor,s=new FormData;return s.toString()!==await new a(s).text()}catch{return!0}})();return B_.set(e,r),r}const HC=async(t,e)=>{if(!await zC(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,a])=>Hp(n,r,a))),n},qC=t=>t instanceof Blob&&"name"in t,Hp=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,tl([await n.blob()],Wc(n)));else if(Qy(n))t.append(e,tl([await new Response(zy(n)).blob()],Wc(n)));else if(qC(n))t.append(e,n,Wc(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Hp(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,a])=>Hp(t,`${e}[${r}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},Ky=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",jC=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Ky(t),YC=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function VC(t,e,n){if($y(),t=await t,jC(t))return t instanceof File?t:tl([await t.arrayBuffer()],t.name);if(YC(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),tl(await qp(a),e,n)}const r=await qp(t);if(e||(e=Wc(t)),!n?.type){const a=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof a=="string"&&(n={...n,type:a})}return tl(r,e,n)}async function qp(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Ky(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Qy(t))for await(const n of t)e.push(...await qp(n));else{const n=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${n?`; constructor: ${n}`:""}${ZC(t)}`)}return e}function ZC(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class Mt{constructor(e){this._client=e}}function Jy(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const GC=(t=Jy)=>function(n,...r){if(n.length===1)return n[0];let a=!1;const s=n.reduce((m,g,w)=>(/[?#]/.test(g)&&(a=!0),m+g+(w===r.length?"":(a?encodeURIComponent:t)(String(r[w])))),""),l=s.split(/[?#]/,1)[0],c=[],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=d.exec(l))!==null;)c.push({start:h.index,length:h[0].length});if(c.length>0){let m=0;const g=c.reduce((w,b)=>{const N=" ".repeat(b.start-m),x="^".repeat(b.length);return m=b.start+b.length,w+N+x},"");throw new Lt(`Path parameters result in path with invalid segments:
${s}
${g}`)}return s},st=GC(Jy);let e3=class extends Mt{list(e,n={},r){return this._client.getAPIList(st`/chat/completions/${e}/messages`,$n,{query:n,...r})}};function WC(t){return typeof t.parse=="function"}const _f=t=>t?.role==="assistant",t3=t=>t?.role==="tool";var jp,Xc,$c,qo,jo,Qc,Yo,Qi,Vo,vf,Ef,fs,n3;class Lm{constructor(){jp.add(this),this.controller=new AbortController,Xc.set(this,void 0),$c.set(this,()=>{}),qo.set(this,()=>{}),jo.set(this,void 0),Qc.set(this,()=>{}),Yo.set(this,()=>{}),Qi.set(this,{}),Vo.set(this,!1),vf.set(this,!1),Ef.set(this,!1),fs.set(this,!1),Bt(this,Xc,new Promise((e,n)=>{Bt(this,$c,e,"f"),Bt(this,qo,n,"f")})),Bt(this,jo,new Promise((e,n)=>{Bt(this,Qc,e,"f"),Bt(this,Yo,n,"f")})),Re(this,Xc,"f").catch(()=>{}),Re(this,jo,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Re(this,jp,"m",n3).bind(this))},0)}_connected(){this.ended||(Re(this,$c,"f").call(this),this._emit("connect"))}get ended(){return Re(this,Vo,"f")}get errored(){return Re(this,vf,"f")}get aborted(){return Re(this,Ef,"f")}abort(){this.controller.abort()}on(e,n){return(Re(this,Qi,"f")[e]||(Re(this,Qi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Re(this,Qi,"f")[e];if(!r)return this;const a=r.findIndex(s=>s.listener===n);return a>=0&&r.splice(a,1),this}once(e,n){return(Re(this,Qi,"f")[e]||(Re(this,Qi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Bt(this,fs,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Bt(this,fs,!0),await Re(this,jo,"f")}_emit(e,...n){if(Re(this,Vo,"f"))return;e==="end"&&(Bt(this,Vo,!0),Re(this,Qc,"f").call(this));const r=Re(this,Qi,"f")[e];if(r&&(Re(this,Qi,"f")[e]=r.filter(a=>!a.once),r.forEach(({listener:a})=>a(...n))),e==="abort"){const a=n[0];!Re(this,fs,"f")&&!r?.length&&Promise.reject(a),Re(this,qo,"f").call(this,a),Re(this,Yo,"f").call(this,a),this._emit("end");return}if(e==="error"){const a=n[0];!Re(this,fs,"f")&&!r?.length&&Promise.reject(a),Re(this,qo,"f").call(this,a),Re(this,Yo,"f").call(this,a),this._emit("end")}}_emitFinal(){}}Xc=new WeakMap,$c=new WeakMap,qo=new WeakMap,jo=new WeakMap,Qc=new WeakMap,Yo=new WeakMap,Qi=new WeakMap,Vo=new WeakMap,vf=new WeakMap,Ef=new WeakMap,fs=new WeakMap,jp=new WeakSet,n3=function(e){if(Bt(this,vf,!0),e instanceof Error&&e.name==="AbortError"&&(e=new ri),e instanceof ri)return Bt(this,Ef,!0),this._emit("abort",e);if(e instanceof Lt)return this._emit("error",e);if(e instanceof Error){const n=new Lt(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Lt(String(e)))};function XC(t,e){const n={...t};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),n}function Bm(t){return t?.$brand==="auto-parseable-response-format"}function Tl(t){return t?.$brand==="auto-parseable-tool"}function $C(t,e){return!e||!r3(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Mm(t,e)}function Mm(t,e){const n=t.choices.map(r=>{if(r.finish_reason==="length")throw new Py;if(r.finish_reason==="content_filter")throw new Uy;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:r.message.tool_calls?.map(a=>KC(e,a))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?QC(e,r.message.content):null}}});return{...t,choices:n}}function QC(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function KC(t,e){const n=t.tools?.find(r=>r.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Tl(n)?n.$parseRaw(e.function.arguments):n?.function.strict?JSON.parse(e.function.arguments):null}}}function JC(t,e){if(!t)return!1;const n=t.tools?.find(r=>r.function?.name===e.function.name);return Tl(n)||n?.function.strict||!1}function r3(t){return Bm(t.response_format)?!0:t.tools?.some(e=>Tl(e)||e.type==="function"&&e.function.strict===!0)??!1}function eN(t){for(const e of t??[]){if(e.type!=="function")throw new Lt(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Lt(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var xr,Yp,yf,Vp,Zp,Gp,i3,a3;const tN=10;class u3 extends Lm{constructor(){super(...arguments),xr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=e.choices[0]?.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),t3(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(_f(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Lt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Re(this,xr,"m",Yp).call(this)}async finalMessage(){return await this.done(),Re(this,xr,"m",yf).call(this)}async finalFunctionToolCall(){return await this.done(),Re(this,xr,"m",Vp).call(this)}async finalFunctionToolCallResult(){return await this.done(),Re(this,xr,"m",Zp).call(this)}async totalUsage(){return await this.done(),Re(this,xr,"m",Gp).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Re(this,xr,"m",yf).call(this);n&&this._emit("finalMessage",n);const r=Re(this,xr,"m",Yp).call(this);r&&this._emit("finalContent",r);const a=Re(this,xr,"m",Vp).call(this);a&&this._emit("finalFunctionToolCall",a);const s=Re(this,xr,"m",Zp).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(l=>l.usage)&&this._emit("totalUsage",Re(this,xr,"m",Gp).call(this))}async _createChatCompletion(e,n,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Re(this,xr,"m",i3).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Mm(s,n))}async _runChatCompletion(e,n,r){for(const a of n.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){const a="tool",{tool_choice:s="auto",stream:l,...c}=n,d=typeof s!="string"&&s?.function?.name,{maxChatCompletions:h=tN}=r||{},m=n.tools.map(b=>{if(Tl(b)){if(!b.$callback)throw new Lt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),g={};for(const b of m)b.type==="function"&&(g[b.function.name||b.function.function.name]=b.function);const w="tools"in n?m.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<h;++b){const x=(await this._createChatCompletion(e,{...c,tool_choice:s,tools:w,messages:[...this.messages]},r)).choices[0]?.message;if(!x)throw new Lt("missing message in ChatCompletion response");if(!x.tool_calls?.length)return;for(const _ of x.tool_calls){if(_.type!=="function")continue;const y=_.id,{name:S,arguments:D}=_.function,k=g[S];if(k){if(d&&d!==S){const F=`Invalid tool_call: ${JSON.stringify(S)}. ${JSON.stringify(d)} requested. Please try again`;this._addMessage({role:a,tool_call_id:y,content:F});continue}}else{const F=`Invalid tool_call: ${JSON.stringify(S)}. Available options are: ${Object.keys(g).map(M=>JSON.stringify(M)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:y,content:F});continue}let C;try{C=WC(k)?await k.parse(D):D}catch(F){const M=F instanceof Error?F.message:String(F);this._addMessage({role:a,tool_call_id:y,content:M});continue}const B=await k.function(C,this),P=Re(this,xr,"m",a3).call(this,B);if(this._addMessage({role:a,tool_call_id:y,content:P}),d)return}}}}xr=new WeakSet,Yp=function(){return Re(this,xr,"m",yf).call(this).content??null},yf=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(_f(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new Lt("stream ended without producing a ChatCompletionMessage with role=assistant")},Vp=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(_f(n)&&n?.tool_calls?.length)return n.tool_calls.at(-1)?.function}},Zp=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(t3(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>r.role==="assistant"&&r.tool_calls?.some(a=>a.type==="function"&&a.id===n.tool_call_id)))return n.content}},Gp=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},i3=function(e){if(e.n!=null&&e.n>1)throw new Lt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},a3=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Pm extends u3{static runTools(e,n,r){const a=new Pm,s={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,n,s)),a}_addMessage(e,n=!0){super._addMessage(e,n),_f(e)&&e.content&&this._emit("content",e.content)}}const s3=1,o3=2,l3=4,c3=8,f3=16,d3=32,h3=64,p3=128,m3=256,g3=p3|m3,b3=f3|d3|g3|h3,_3=s3|o3|b3,v3=l3|c3,nN=_3|v3,sr={STR:s3,NUM:o3,ARR:l3,OBJ:c3,NULL:f3,BOOL:d3,NAN:h3,INFINITY:p3,MINUS_INFINITY:m3,INF:g3,SPECIAL:b3,ATOM:_3,COLLECTION:v3,ALL:nN};class rN extends Error{}class iN extends Error{}function aN(t,e=sr.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return uN(t.trim(),e)}const uN=(t,e)=>{const n=t.length;let r=0;const a=w=>{throw new rN(`${w} at position ${r}`)},s=w=>{throw new iN(`${w} at position ${r}`)},l=()=>(g(),r>=n&&a("Unexpected end of input"),t[r]==='"'?c():t[r]==="{"?d():t[r]==="["?h():t.substring(r,r+4)==="null"||sr.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||sr.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||sr.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||sr.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||sr.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||sr.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):m()),c=()=>{const w=r;let b=!1;for(r++;r<n&&(t[r]!=='"'||b&&t[r-1]==="\\");)b=t[r]==="\\"?!b:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(w,++r-Number(b)))}catch(N){s(String(N))}else if(sr.STR&e)try{return JSON.parse(t.substring(w,r-Number(b))+'"')}catch{return JSON.parse(t.substring(w,t.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},d=()=>{r++,g();const w={};try{for(;t[r]!=="}";){if(g(),r>=n&&sr.OBJ&e)return w;const b=c();g(),r++;try{const N=l();Object.defineProperty(w,b,{value:N,writable:!0,enumerable:!0,configurable:!0})}catch(N){if(sr.OBJ&e)return w;throw N}g(),t[r]===","&&r++}}catch{if(sr.OBJ&e)return w;a("Expected '}' at end of object")}return r++,w},h=()=>{r++;const w=[];try{for(;t[r]!=="]";)w.push(l()),g(),t[r]===","&&r++}catch{if(sr.ARR&e)return w;a("Expected ']' at end of array")}return r++,w},m=()=>{if(r===0){t==="-"&&sr.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t)}catch(b){if(sr.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(b))}}const w=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(sr.NUM&e)&&a("Unterminated number literal");try{return JSON.parse(t.substring(w,r))}catch{t.substring(w,r)==="-"&&sr.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t.substring(w,t.lastIndexOf("e")))}catch(N){s(String(N))}}},g=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return l()},M_=t=>aN(t,sr.ALL^sr.NUM);var Jn,Wi,rs,Da,D0,Uc,O0,R0,I0,Fc,k0,P_;class cl extends u3{constructor(e){super(),Jn.add(this),Wi.set(this,void 0),rs.set(this,void 0),Da.set(this,void 0),Bt(this,Wi,e),Bt(this,rs,[])}get currentChatCompletionSnapshot(){return Re(this,Da,"f")}static fromReadableStream(e){const n=new cl(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const a=new cl(n);return a._run(()=>a._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(e,n,r){super._createChatCompletion;const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Re(this,Jn,"m",D0).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of s)Re(this,Jn,"m",O0).call(this,l);if(s.controller.signal?.aborted)throw new ri;return this._addChatCompletion(Re(this,Jn,"m",Fc).call(this))}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Re(this,Jn,"m",D0).call(this),this._connected();const a=Ni.fromReadableStream(e,this.controller);let s;for await(const l of a)s&&s!==l.id&&this._addChatCompletion(Re(this,Jn,"m",Fc).call(this)),Re(this,Jn,"m",O0).call(this,l),s=l.id;if(a.controller.signal?.aborted)throw new ri;return this._addChatCompletion(Re(this,Jn,"m",Fc).call(this))}[(Wi=new WeakMap,rs=new WeakMap,Da=new WeakMap,Jn=new WeakSet,D0=function(){this.ended||Bt(this,Da,void 0)},Uc=function(n){let r=Re(this,rs,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Re(this,rs,"f")[n.index]=r,r)},O0=function(n){if(this.ended)return;const r=Re(this,Jn,"m",P_).call(this,n);this._emit("chunk",n,r);for(const a of n.choices){const s=r.choices[a.index];a.delta.content!=null&&s.message?.role==="assistant"&&s.message?.content&&(this._emit("content",a.delta.content,s.message.content),this._emit("content.delta",{delta:a.delta.content,snapshot:s.message.content,parsed:s.message.parsed})),a.delta.refusal!=null&&s.message?.role==="assistant"&&s.message?.refusal&&this._emit("refusal.delta",{delta:a.delta.refusal,snapshot:s.message.refusal}),a.logprobs?.content!=null&&s.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:a.logprobs?.content,snapshot:s.logprobs?.content??[]}),a.logprobs?.refusal!=null&&s.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:a.logprobs?.refusal,snapshot:s.logprobs?.refusal??[]});const l=Re(this,Jn,"m",Uc).call(this,s);s.finish_reason&&(Re(this,Jn,"m",I0).call(this,s),l.current_tool_call_index!=null&&Re(this,Jn,"m",R0).call(this,s,l.current_tool_call_index));for(const c of a.delta.tool_calls??[])l.current_tool_call_index!==c.index&&(Re(this,Jn,"m",I0).call(this,s),l.current_tool_call_index!=null&&Re(this,Jn,"m",R0).call(this,s,l.current_tool_call_index)),l.current_tool_call_index=c.index;for(const c of a.delta.tool_calls??[]){const d=s.message.tool_calls?.[c.index];d?.type&&(d?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:d.function?.name,index:c.index,arguments:d.function.arguments,parsed_arguments:d.function.parsed_arguments,arguments_delta:c.function?.arguments??""}):(d?.type,void 0))}}},R0=function(n,r){if(Re(this,Jn,"m",Uc).call(this,n).done_tool_calls.has(r))return;const s=n.message.tool_calls?.[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const l=Re(this,Wi,"f")?.tools?.find(c=>c.type==="function"&&c.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Tl(l)?l.$parseRaw(s.function.arguments):l?.function.strict?JSON.parse(s.function.arguments):null})}else s.type},I0=function(n){const r=Re(this,Jn,"m",Uc).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=Re(this,Jn,"m",k0).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),n.logprobs?.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),n.logprobs?.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Fc=function(){if(this.ended)throw new Lt("stream has ended, this shouldn't happen");const n=Re(this,Da,"f");if(!n)throw new Lt("request ended without sending any chunks");return Bt(this,Da,void 0),Bt(this,rs,[]),sN(n,Re(this,Wi,"f"))},k0=function(){const n=Re(this,Wi,"f")?.response_format;return Bm(n)?n:null},P_=function(n){var r,a,s,l;let c=Re(this,Da,"f");const{choices:d,...h}=n;c?Object.assign(c,h):c=Bt(this,Da,{...h,choices:[]});for(const{delta:m,finish_reason:g,index:w,logprobs:b=null,...N}of n.choices){let x=c.choices[w];if(x||(x=c.choices[w]={finish_reason:g,index:w,message:{},logprobs:b,...N}),b)if(!x.logprobs)x.logprobs=Object.assign({},b);else{const{content:B,refusal:P,...F}=b;Object.assign(x.logprobs,F),B&&((r=x.logprobs).content??(r.content=[]),x.logprobs.content.push(...B)),P&&((a=x.logprobs).refusal??(a.refusal=[]),x.logprobs.refusal.push(...P))}if(g&&(x.finish_reason=g,Re(this,Wi,"f")&&r3(Re(this,Wi,"f")))){if(g==="length")throw new Py;if(g==="content_filter")throw new Uy}if(Object.assign(x,N),!m)continue;const{content:_,refusal:y,function_call:S,role:D,tool_calls:k,...C}=m;if(Object.assign(x.message,C),y&&(x.message.refusal=(x.message.refusal||"")+y),D&&(x.message.role=D),S&&(x.message.function_call?(S.name&&(x.message.function_call.name=S.name),S.arguments&&((s=x.message.function_call).arguments??(s.arguments=""),x.message.function_call.arguments+=S.arguments)):x.message.function_call=S),_&&(x.message.content=(x.message.content||"")+_,!x.message.refusal&&Re(this,Jn,"m",k0).call(this)&&(x.message.parsed=M_(x.message.content))),k){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:B,id:P,type:F,function:M,...H}of k){const ne=(l=x.message.tool_calls)[B]??(l[B]={});Object.assign(ne,H),P&&(ne.id=P),F&&(ne.type=F),M&&(ne.function??(ne.function={name:M.name??"",arguments:""})),M?.name&&(ne.function.name=M.name),M?.arguments&&(ne.function.arguments+=M.arguments,JC(Re(this,Wi,"f"),ne)&&(ne.function.parsed_arguments=M_(ne.function.arguments)))}}}return c},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",a=>{const s=n.shift();s?s.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,l)=>n.push({resolve:s,reject:l})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ni(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function sN(t,e){const{id:n,choices:r,created:a,model:s,system_fingerprint:l,...c}=t,d={...c,id:n,choices:r.map(({message:h,finish_reason:m,index:g,logprobs:w,...b})=>{if(!m)throw new Lt(`missing finish_reason for choice ${g}`);const{content:N=null,function_call:x,tool_calls:_,...y}=h,S=h.role;if(!S)throw new Lt(`missing role for choice ${g}`);if(x){const{arguments:D,name:k}=x;if(D==null)throw new Lt(`missing function_call.arguments for choice ${g}`);if(!k)throw new Lt(`missing function_call.name for choice ${g}`);return{...b,message:{content:N,function_call:{arguments:D,name:k},role:S,refusal:h.refusal??null},finish_reason:m,index:g,logprobs:w}}return _?{...b,index:g,finish_reason:m,logprobs:w,message:{...y,role:S,content:N,refusal:h.refusal??null,tool_calls:_.map((D,k)=>{const{function:C,type:B,id:P,...F}=D,{arguments:M,name:H,...ne}=C||{};if(P==null)throw new Lt(`missing choices[${g}].tool_calls[${k}].id
${zc(t)}`);if(B==null)throw new Lt(`missing choices[${g}].tool_calls[${k}].type
${zc(t)}`);if(H==null)throw new Lt(`missing choices[${g}].tool_calls[${k}].function.name
${zc(t)}`);if(M==null)throw new Lt(`missing choices[${g}].tool_calls[${k}].function.arguments
${zc(t)}`);return{...F,id:P,type:B,function:{...ne,name:H,arguments:M}}})}}:{...b,message:{...y,content:N,role:S,refusal:h.refusal??null},finish_reason:m,index:g,logprobs:w}}),created:a,model:s,object:"chat.completion",...l?{system_fingerprint:l}:{}};return $C(d,e)}function zc(t){return JSON.stringify(t)}class Tf extends cl{static fromReadableStream(e){const n=new Tf(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const a=new Tf(n),s={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,n,s)),a}}let Um=class extends Mt{constructor(){super(...arguments),this.messages=new e3(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(st`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(st`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",$n,{query:e,...n})}delete(e,n){return this._client.delete(st`/chat/completions/${e}`,n)}parse(e,n){return eN(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Mm(r,e))}runTools(e,n){return e.stream?Tf.runTools(this._client,e,n):Pm.runTools(this._client,e,n)}stream(e,n){return cl.createChatCompletion(this._client,e,n)}};Um.Messages=e3;class Fm extends Mt{constructor(){super(...arguments),this.completions=new Um(this._client)}}Fm.Completions=Um;const E3=Symbol("brand.privateNullableHeaders");function*oN(t){if(!t)return;if(E3 in t){const{values:r,nulls:a}=t;yield*r.entries();for(const s of a)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():A_(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const s=A_(r[1])?r[1]:[r[1]];let l=!1;for(const c of s)c!==void 0&&(e&&!l&&(l=!0,yield[a,null]),yield[a,c])}}const At=t=>{const e=new Headers,n=new Set;for(const r of t){const a=new Set;for(const[s,l]of oN(r)){const c=s.toLowerCase();a.has(c)||(e.delete(s),a.add(c)),l===null?(e.delete(s),n.add(c)):(e.append(s,l),n.delete(c))}}return{[E3]:!0,values:e,nulls:n}};class y3 extends Mt{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:At([{Accept:"application/octet-stream"},n?.headers]),__binaryResponse:!0})}}class T3 extends Mt{create(e,n){return this._client.post("/audio/transcriptions",Eu({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class A3 extends Mt{create(e,n){return this._client.post("/audio/translations",Eu({body:e,...n,__metadata:{model:e.model}},this._client))}}class Al extends Mt{constructor(){super(...arguments),this.transcriptions=new T3(this._client),this.translations=new A3(this._client),this.speech=new y3(this._client)}}Al.Transcriptions=T3;Al.Translations=A3;Al.Speech=y3;class x3 extends Mt{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(st`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",$n,{query:e,...n})}cancel(e,n){return this._client.post(st`/batches/${e}/cancel`,n)}}class S3 extends Mt{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(st`/assistants/${e}`,{...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(st`/assistants/${e}`,{body:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/assistants",$n,{query:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(st`/assistants/${e}`,{...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class w3 extends Mt{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class C3 extends Mt{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class Jf extends Mt{constructor(){super(...arguments),this.sessions=new w3(this._client),this.transcriptionSessions=new C3(this._client)}}Jf.Sessions=w3;Jf.TranscriptionSessions=C3;class N3 extends Mt{create(e,n,r){return this._client.post(st`/threads/${e}/messages`,{body:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{thread_id:a}=n;return this._client.get(st`/threads/${a}/messages/${e}`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{thread_id:a,...s}=n;return this._client.post(st`/threads/${a}/messages/${e}`,{body:s,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(st`/threads/${e}/messages`,$n,{query:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){const{thread_id:a}=n;return this._client.delete(st`/threads/${a}/messages/${e}`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class D3 extends Mt{retrieve(e,n,r){const{thread_id:a,run_id:s,...l}=n;return this._client.get(st`/threads/${a}/runs/${s}/steps/${e}`,{query:l,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n,r){const{thread_id:a,...s}=n;return this._client.getAPIList(st`/threads/${a}/runs/${e}/steps`,$n,{query:s,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}const lN=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let a=0;a<n;a++)r[a]=e.charCodeAt(a);return Array.from(new Float32Array(r.buffer))}};var cN={};const is=t=>{if(typeof globalThis.process<"u")return cN?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var hr,mu,Wp,xi,Kc,pi,gu,bs,pu,Af,Yr,Jc,ef,nl,Zo,Go,U_,F_,z_,H_,q_,j_,Y_;class rl extends Lm{constructor(){super(...arguments),hr.add(this),Wp.set(this,[]),xi.set(this,{}),Kc.set(this,{}),pi.set(this,void 0),gu.set(this,void 0),bs.set(this,void 0),pu.set(this,void 0),Af.set(this,void 0),Yr.set(this,void 0),Jc.set(this,void 0),ef.set(this,void 0),nl.set(this,void 0)}[(Wp=new WeakMap,xi=new WeakMap,Kc=new WeakMap,pi=new WeakMap,gu=new WeakMap,bs=new WeakMap,pu=new WeakMap,Af=new WeakMap,Yr=new WeakMap,Jc=new WeakMap,ef=new WeakMap,nl=new WeakMap,hr=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",a=>{const s=n.shift();s?s.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,l)=>n.push({resolve:s,reject:l})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new mu;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=Ni.fromReadableStream(e,this.controller);for await(const s of a)Re(this,hr,"m",Zo).call(this,s);if(a.controller.signal?.aborted)throw new ri;return this._addRun(Re(this,hr,"m",Go).call(this))}toReadableStream(){return new Ni(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,a){const s=new mu;return s._run(()=>s._runToolAssistantStream(e,n,r,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,n,r,a){const s=a?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},c=await e.submitToolOutputs(n,l,{...a,signal:this.controller.signal});this._connected();for await(const d of c)Re(this,hr,"m",Zo).call(this,d);if(c.controller.signal?.aborted)throw new ri;return this._addRun(Re(this,hr,"m",Go).call(this))}static createThreadAssistantStream(e,n,r){const a=new mu;return a._run(()=>a._threadAssistantStream(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(e,n,r,a){const s=new mu;return s._run(()=>s._runAssistantStream(e,n,r,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return Re(this,Jc,"f")}currentRun(){return Re(this,ef,"f")}currentMessageSnapshot(){return Re(this,pi,"f")}currentRunStepSnapshot(){return Re(this,nl,"f")}async finalRunSteps(){return await this.done(),Object.values(Re(this,xi,"f"))}async finalMessages(){return await this.done(),Object.values(Re(this,Kc,"f"))}async finalRun(){if(await this.done(),!Re(this,gu,"f"))throw Error("Final run was not received.");return Re(this,gu,"f")}async _createThreadAssistantStream(e,n,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},l=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const c of l)Re(this,hr,"m",Zo).call(this,c);if(l.controller.signal?.aborted)throw new ri;return this._addRun(Re(this,hr,"m",Go).call(this))}async _createAssistantStream(e,n,r,a){const s=a?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},c=await e.create(n,l,{...a,signal:this.controller.signal});this._connected();for await(const d of c)Re(this,hr,"m",Zo).call(this,d);if(c.controller.signal?.aborted)throw new ri;return this._addRun(Re(this,hr,"m",Go).call(this))}static accumulateDelta(e,n){for(const[r,a]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=a;continue}let s=e[r];if(s==null){e[r]=a;continue}if(r==="index"||r==="type"){e[r]=a;continue}if(typeof s=="string"&&typeof a=="string")s+=a;else if(typeof s=="number"&&typeof a=="number")s+=a;else if(w0(s)&&w0(a))s=this.accumulateDelta(s,a);else if(Array.isArray(s)&&Array.isArray(a)){if(s.every(l=>typeof l=="string"||typeof l=="number")){s.push(...a);continue}for(const l of a){if(!w0(l))throw new Error(`Expected array delta entry to be an object but got: ${l}`);const c=l.index;if(c==null)throw console.error(l),new Error("Expected array delta entry to have an `index` property");if(typeof c!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${c}`);const d=s[c];d==null?s.push(l):s[c]=this.accumulateDelta(d,l)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${a}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,a){return await this._createAssistantStream(n,e,r,a)}async _runToolAssistantStream(e,n,r,a){return await this._createToolAssistantStream(n,e,r,a)}}mu=rl,Zo=function(e){if(!this.ended)switch(Bt(this,Jc,e),Re(this,hr,"m",z_).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Re(this,hr,"m",Y_).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Re(this,hr,"m",F_).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Re(this,hr,"m",U_).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Go=function(){if(this.ended)throw new Lt("stream has ended, this shouldn't happen");if(!Re(this,gu,"f"))throw Error("Final run has not been received");return Re(this,gu,"f")},U_=function(e){const[n,r]=Re(this,hr,"m",q_).call(this,e,Re(this,pi,"f"));Bt(this,pi,n),Re(this,Kc,"f")[n.id]=n;for(const a of r){const s=n.content[a.index];s?.type=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const a of e.data.delta.content){if(a.type=="text"&&a.text){let s=a.text,l=n.content[a.index];if(l&&l.type=="text")this._emit("textDelta",s,l.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=Re(this,bs,"f")){if(Re(this,pu,"f"))switch(Re(this,pu,"f").type){case"text":this._emit("textDone",Re(this,pu,"f").text,Re(this,pi,"f"));break;case"image_file":this._emit("imageFileDone",Re(this,pu,"f").image_file,Re(this,pi,"f"));break}Bt(this,bs,a.index)}Bt(this,pu,n.content[a.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(Re(this,bs,"f")!==void 0){const a=e.data.content[Re(this,bs,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,Re(this,pi,"f"));break;case"text":this._emit("textDone",a.text,Re(this,pi,"f"));break}}Re(this,pi,"f")&&this._emit("messageDone",e.data),Bt(this,pi,void 0)}},F_=function(e){const n=Re(this,hr,"m",H_).call(this,e);switch(Bt(this,nl,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==Re(this,Af,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(Re(this,Yr,"f")&&this._emit("toolCallDone",Re(this,Yr,"f")),Bt(this,Af,s.index),Bt(this,Yr,n.step_details.tool_calls[s.index]),Re(this,Yr,"f")&&this._emit("toolCallCreated",Re(this,Yr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Bt(this,nl,void 0),e.data.step_details.type=="tool_calls"&&Re(this,Yr,"f")&&(this._emit("toolCallDone",Re(this,Yr,"f")),Bt(this,Yr,void 0)),this._emit("runStepDone",e.data,n);break}},z_=function(e){Re(this,Wp,"f").push(e),this._emit("event",e)},H_=function(e){switch(e.event){case"thread.run.step.created":return Re(this,xi,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Re(this,xi,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const a=mu.accumulateDelta(n,r.delta);Re(this,xi,"f")[e.data.id]=a}return Re(this,xi,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Re(this,xi,"f")[e.data.id]=e.data;break}if(Re(this,xi,"f")[e.data.id])return Re(this,xi,"f")[e.data.id];throw new Error("No snapshot available")},q_=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const s of a.delta.content)if(s.index in n.content){let l=n.content[s.index];n.content[s.index]=Re(this,hr,"m",j_).call(this,s,l)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},j_=function(e,n){return mu.accumulateDelta(n,e)},Y_=function(e){switch(Bt(this,ef,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Bt(this,gu,e.data),Re(this,Yr,"f")&&(this._emit("toolCallDone",Re(this,Yr,"f")),Bt(this,Yr,void 0));break}};let zm=class extends Mt{constructor(){super(...arguments),this.steps=new D3(this._client)}create(e,n,r){const{include:a,...s}=n;return this._client.post(st`/threads/${e}/runs`,{query:{include:a},body:s,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:a}=n;return this._client.get(st`/threads/${a}/runs/${e}`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{thread_id:a,...s}=n;return this._client.post(st`/threads/${a}/runs/${e}`,{body:s,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(st`/threads/${e}/runs`,$n,{query:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){const{thread_id:a}=n;return this._client.post(st`/threads/${a}/runs/${e}/cancel`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const a=await this.create(e,n,r);return await this.poll(a.id,{thread_id:e},r)}createAndStream(e,n,r){return rl.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const a=At([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:l}=await this.retrieve(e,n,{...r,headers:{...r?.headers,...a}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const d=l.headers.get("openai-poll-after-ms");if(d){const h=parseInt(d);isNaN(h)||(c=h)}}await yl(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return rl.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:a,...s}=n;return this._client.post(st`/threads/${a}/runs/${e}/submit_tool_outputs`,{body:s,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const a=await this.submitToolOutputs(e,n,r);return await this.poll(a.id,n,r)}submitToolOutputsStream(e,n,r){return rl.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};zm.Steps=D3;class ed extends Mt{constructor(){super(...arguments),this.runs=new zm(this._client),this.messages=new N3(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(st`/threads/${e}`,{...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(st`/threads/${e}`,{body:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n){return this._client.delete(st`/threads/${e}`,{...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return rl.createThreadAssistantStream(e,this._client.beta.threads,n)}}ed.Runs=zm;ed.Messages=N3;class xl extends Mt{constructor(){super(...arguments),this.realtime=new Jf(this._client),this.assistants=new S3(this._client),this.threads=new ed(this._client)}}xl.Realtime=Jf;xl.Assistants=S3;xl.Threads=ed;class O3 extends Mt{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class R3 extends Mt{retrieve(e,n,r){const{container_id:a}=n;return this._client.get(st`/containers/${a}/files/${e}/content`,{...r,headers:At([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}let Hm=class extends Mt{constructor(){super(...arguments),this.content=new R3(this._client)}create(e,n,r){return this._client.post(st`/containers/${e}/files`,Eu({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:a}=n;return this._client.get(st`/containers/${a}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(st`/containers/${e}/files`,$n,{query:n,...r})}delete(e,n,r){const{container_id:a}=n;return this._client.delete(st`/containers/${a}/files/${e}`,{...r,headers:At([{Accept:"*/*"},r?.headers])})}};Hm.Content=R3;class qm extends Mt{constructor(){super(...arguments),this.files=new Hm(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(st`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",$n,{query:e,...n})}delete(e,n){return this._client.delete(st`/containers/${e}`,{...n,headers:At([{Accept:"*/*"},n?.headers])})}}qm.Files=Hm;class I3 extends Mt{create(e,n){const r=!!e.encoding_format;let a=r?e.encoding_format:"base64";r&&_r(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:a},...n});return r?s:(_r(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(l=>(l&&l.data&&l.data.forEach(c=>{const d=c.embedding;c.embedding=lN(d)}),l)))}}class k3 extends Mt{retrieve(e,n,r){const{eval_id:a,run_id:s}=n;return this._client.get(st`/evals/${a}/runs/${s}/output_items/${e}`,r)}list(e,n,r){const{eval_id:a,...s}=n;return this._client.getAPIList(st`/evals/${a}/runs/${e}/output_items`,$n,{query:s,...r})}}class jm extends Mt{constructor(){super(...arguments),this.outputItems=new k3(this._client)}create(e,n,r){return this._client.post(st`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:a}=n;return this._client.get(st`/evals/${a}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(st`/evals/${e}/runs`,$n,{query:n,...r})}delete(e,n,r){const{eval_id:a}=n;return this._client.delete(st`/evals/${a}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:a}=n;return this._client.post(st`/evals/${a}/runs/${e}`,r)}}jm.OutputItems=k3;class Ym extends Mt{constructor(){super(...arguments),this.runs=new jm(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(st`/evals/${e}`,n)}update(e,n,r){return this._client.post(st`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",$n,{query:e,...n})}delete(e,n){return this._client.delete(st`/evals/${e}`,n)}}Ym.Runs=jm;let L3=class extends Mt{create(e,n){return this._client.post("/files",Eu({body:e,...n},this._client))}retrieve(e,n){return this._client.get(st`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",$n,{query:e,...n})}delete(e,n){return this._client.delete(st`/files/${e}`,n)}content(e,n){return this._client.get(st`/files/${e}/content`,{...n,headers:At([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),s=Date.now();let l=await this.retrieve(e);for(;!l.status||!a.has(l.status);)if(await yl(n),l=await this.retrieve(e),Date.now()-s>r)throw new Im({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return l}};class B3 extends Mt{}let M3=class extends Mt{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Vm extends Mt{constructor(){super(...arguments),this.graders=new M3(this._client)}}Vm.Graders=M3;class P3 extends Mt{create(e,n,r){return this._client.getAPIList(st`/fine_tuning/checkpoints/${e}/permissions`,Kf,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(st`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:a}=n;return this._client.delete(st`/fine_tuning/checkpoints/${a}/permissions/${e}`,r)}}let Zm=class extends Mt{constructor(){super(...arguments),this.permissions=new P3(this._client)}};Zm.Permissions=P3;class U3 extends Mt{list(e,n={},r){return this._client.getAPIList(st`/fine_tuning/jobs/${e}/checkpoints`,$n,{query:n,...r})}}class Gm extends Mt{constructor(){super(...arguments),this.checkpoints=new U3(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(st`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",$n,{query:e,...n})}cancel(e,n){return this._client.post(st`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(st`/fine_tuning/jobs/${e}/events`,$n,{query:n,...r})}pause(e,n){return this._client.post(st`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(st`/fine_tuning/jobs/${e}/resume`,n)}}Gm.Checkpoints=U3;class Os extends Mt{constructor(){super(...arguments),this.methods=new B3(this._client),this.jobs=new Gm(this._client),this.checkpoints=new Zm(this._client),this.alpha=new Vm(this._client)}}Os.Methods=B3;Os.Jobs=Gm;Os.Checkpoints=Zm;Os.Alpha=Vm;class F3 extends Mt{}class Wm extends Mt{constructor(){super(...arguments),this.graderModels=new F3(this._client)}}Wm.GraderModels=F3;class z3 extends Mt{createVariation(e,n){return this._client.post("/images/variations",Eu({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Eu({body:e,...n},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class H3 extends Mt{retrieve(e,n){return this._client.get(st`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Kf,e)}delete(e,n){return this._client.delete(st`/models/${e}`,n)}}class q3 extends Mt{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function fN(t,e){return!e||!hN(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:j3(t,e)}function j3(t,e){const n=t.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:gN(e,a)};if(a.type==="message"){const s=a.content.map(l=>l.type==="output_text"?{...l,parsed:dN(e,l.text)}:l);return{...a,content:s}}return a}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Xp(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const a of r.output)if(a.type==="message"){for(const s of a.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function dN(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function hN(t){return!!Bm(t.text?.format)}function pN(t){return t?.$brand==="auto-parseable-tool"}function mN(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function gN(t,e){const n=mN(t.tools??[],e.name);return{...e,...e,parsed_arguments:pN(n)?n.$parseRaw(e.arguments):n?.strict?JSON.parse(e.arguments):null}}function Xp(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var as,Hc,Oa,qc,V_,Z_,G_,W_;class Xm extends Lm{constructor(e){super(),as.add(this),Hc.set(this,void 0),Oa.set(this,void 0),qc.set(this,void 0),Bt(this,Hc,e)}static createResponse(e,n,r){const a=new Xm(n);return a._run(()=>a._createOrRetrieveResponse(e,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createOrRetrieveResponse(e,n,r){const a=r?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Re(this,as,"m",V_).call(this);let s,l=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),l=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const c of s)Re(this,as,"m",Z_).call(this,c,l);if(s.controller.signal?.aborted)throw new ri;return Re(this,as,"m",G_).call(this)}[(Hc=new WeakMap,Oa=new WeakMap,qc=new WeakMap,as=new WeakSet,V_=function(){this.ended||Bt(this,Oa,void 0)},Z_=function(n,r){if(this.ended)return;const a=(l,c)=>{(r==null||c.sequence_number>r)&&this._emit(l,c)},s=Re(this,as,"m",W_).call(this,n);switch(a("event",n),n.type){case"response.output_text.delta":{const l=s.output[n.output_index];if(!l)throw new Lt(`missing output at index ${n.output_index}`);if(l.type==="message"){const c=l.content[n.content_index];if(!c)throw new Lt(`missing content at index ${n.content_index}`);if(c.type!=="output_text")throw new Lt(`expected content to be 'output_text', got ${c.type}`);a("response.output_text.delta",{...n,snapshot:c.text})}break}case"response.function_call_arguments.delta":{const l=s.output[n.output_index];if(!l)throw new Lt(`missing output at index ${n.output_index}`);l.type==="function_call"&&a("response.function_call_arguments.delta",{...n,snapshot:l.arguments});break}default:a(n.type,n);break}},G_=function(){if(this.ended)throw new Lt("stream has ended, this shouldn't happen");const n=Re(this,Oa,"f");if(!n)throw new Lt("request ended without sending any events");Bt(this,Oa,void 0);const r=bN(n,Re(this,Hc,"f"));return Bt(this,qc,r),r},W_=function(n){let r=Re(this,Oa,"f");if(!r){if(n.type!=="response.created")throw new Lt(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Bt(this,Oa,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const a=r.output[n.output_index];if(!a)throw new Lt(`missing output at index ${n.output_index}`);a.type==="message"&&a.content.push(n.part);break}case"response.output_text.delta":{const a=r.output[n.output_index];if(!a)throw new Lt(`missing output at index ${n.output_index}`);if(a.type==="message"){const s=a.content[n.content_index];if(!s)throw new Lt(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new Lt(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const a=r.output[n.output_index];if(!a)throw new Lt(`missing output at index ${n.output_index}`);a.type==="function_call"&&(a.arguments+=n.delta);break}case"response.completed":{Bt(this,Oa,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",a=>{const s=n.shift();s?s.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const s of n)s.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,l)=>n.push({resolve:s,reject:l})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Re(this,qc,"f");if(!e)throw new Lt("stream ended without producing a ChatCompletion");return e}}function bN(t,e){return fN(t,e)}class Y3 extends Mt{list(e,n={},r){return this._client.getAPIList(st`/responses/${e}/input_items`,$n,{query:n,...r})}}class $m extends Mt{constructor(){super(...arguments),this.inputItems=new Y3(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Xp(r),r))}retrieve(e,n={},r){return this._client.get(st`/responses/${e}`,{query:n,...r,stream:n?.stream??!1})._thenUnwrap(a=>("object"in a&&a.object==="response"&&Xp(a),a))}delete(e,n){return this._client.delete(st`/responses/${e}`,{...n,headers:At([{Accept:"*/*"},n?.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>j3(r,e))}stream(e,n){return Xm.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(st`/responses/${e}/cancel`,n)}}$m.InputItems=Y3;class V3 extends Mt{create(e,n,r){return this._client.post(st`/uploads/${e}/parts`,Eu({body:n,...r},this._client))}}class Qm extends Mt{constructor(){super(...arguments),this.parts=new V3(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(st`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(st`/uploads/${e}/complete`,{body:n,...r})}}Qm.Parts=V3;const _N=async t=>{const e=await Promise.allSettled(t),n=e.filter(a=>a.status==="rejected");if(n.length){for(const a of n)console.error(a.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const a of e)a.status==="fulfilled"&&r.push(a.value);return r};class Z3 extends Mt{create(e,n,r){return this._client.post(st`/vector_stores/${e}/file_batches`,{body:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{vector_store_id:a}=n;return this._client.get(st`/vector_stores/${a}/file_batches/${e}`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,n,r){const{vector_store_id:a}=n;return this._client.post(st`/vector_stores/${a}/file_batches/${e}/cancel`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const a=await this.create(e,n);return await this.poll(e,a.id,r)}listFiles(e,n,r){const{vector_store_id:a,...s}=n;return this._client.getAPIList(st`/vector_stores/${a}/file_batches/${e}/files`,$n,{query:s,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,n,r){const a=At([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:s,response:l}=await this.retrieve(n,{vector_store_id:e},{...r,headers:a}).withResponse();switch(s.status){case"in_progress":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const d=l.headers.get("openai-poll-after-ms");if(d){const h=parseInt(d);isNaN(h)||(c=h)}}await yl(c);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},a){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=a?.maxConcurrency??5,l=Math.min(s,n.length),c=this._client,d=n.values(),h=[...r];async function m(w){for(let b of w){const N=await c.files.create({file:b,purpose:"assistants"},a);h.push(N.id)}}const g=Array(l).fill(d).map(m);return await _N(g),await this.createAndPoll(e,{file_ids:h})}}class G3 extends Mt{create(e,n,r){return this._client.post(st`/vector_stores/${e}/files`,{body:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,n,r){const{vector_store_id:a}=n;return this._client.get(st`/vector_stores/${a}/files/${e}`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,n,r){const{vector_store_id:a,...s}=n;return this._client.post(st`/vector_stores/${a}/files/${e}`,{body:s,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,n={},r){return this._client.getAPIList(st`/vector_stores/${e}/files`,$n,{query:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,n,r){const{vector_store_id:a}=n;return this._client.delete(st`/vector_stores/${a}/files/${e}`,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,n,r){const a=await this.create(e,n,r);return await this.poll(e,a.id,r)}async poll(e,n,r){const a=At([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){const s=await this.retrieve(n,{vector_store_id:e},{...r,headers:a}).withResponse(),l=s.data;switch(l.status){case"in_progress":let c=5e3;if(r?.pollIntervalMs)c=r.pollIntervalMs;else{const d=s.response.headers.get("openai-poll-after-ms");if(d){const h=parseInt(d);isNaN(h)||(c=h)}}await yl(c);break;case"failed":case"completed":return l}}}async upload(e,n,r){const a=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:a.id},r)}async uploadAndPoll(e,n,r){const a=await this.upload(e,n,r);return await this.poll(e,a.id,r)}content(e,n,r){const{vector_store_id:a}=n;return this._client.getAPIList(st`/vector_stores/${a}/files/${e}/content`,Kf,{...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class td extends Mt{constructor(){super(...arguments),this.files=new G3(this._client),this.fileBatches=new Z3(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,n){return this._client.get(st`/vector_stores/${e}`,{...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,n,r){return this._client.post(st`/vector_stores/${e}`,{body:n,...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",$n,{query:e,...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,n){return this._client.delete(st`/vector_stores/${e}`,{...n,headers:At([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}search(e,n,r){return this._client.getAPIList(st`/vector_stores/${e}/search`,Kf,{body:n,method:"post",...r,headers:At([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}td.Files=G3;td.FileBatches=Z3;var ds,W3,tf;class X3 extends Mt{constructor(){super(...arguments),ds.add(this)}async unwrap(e,n,r=this._client.webhookSecret,a=300){return await this.verifySignature(e,n,r,a),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,a=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");Re(this,ds,"m",W3).call(this,r);const s=At([n]).values,l=Re(this,ds,"m",tf).call(this,s,"webhook-signature"),c=Re(this,ds,"m",tf).call(this,s,"webhook-timestamp"),d=Re(this,ds,"m",tf).call(this,s,"webhook-id"),h=parseInt(c,10);if(isNaN(h))throw new Fo("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-h>a)throw new Fo("Webhook timestamp is too old");if(h>m+a)throw new Fo("Webhook timestamp is too new");const g=l.split(" ").map(x=>x.startsWith("v1,")?x.substring(3):x),w=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),b=d?`${d}.${c}.${e}`:`${c}.${e}`,N=await crypto.subtle.importKey("raw",w,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const x of g)try{const _=Buffer.from(x,"base64");if(await crypto.subtle.verify("HMAC",N,_,new TextEncoder().encode(b)))return}catch{continue}throw new Fo("The given webhook signature does not match the expected signature")}}ds=new WeakSet,W3=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},tf=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var $p,Km,nf,$3;class $t{constructor({baseURL:e=is("OPENAI_BASE_URL"),apiKey:n=is("OPENAI_API_KEY"),organization:r=is("OPENAI_ORG_ID")??null,project:a=is("OPENAI_PROJECT_ID")??null,webhookSecret:s=is("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if($p.add(this),nf.set(this,void 0),this.completions=new O3(this),this.chat=new Fm(this),this.embeddings=new I3(this),this.files=new L3(this),this.images=new z3(this),this.audio=new Al(this),this.moderations=new q3(this),this.models=new H3(this),this.fineTuning=new Os(this),this.graders=new Wm(this),this.vectorStores=new td(this),this.webhooks=new X3(this),this.beta=new xl(this),this.batches=new x3(this),this.uploads=new Qm(this),this.responses=new $m(this),this.evals=new Ym(this),this.containers=new qm(this),n===void 0)throw new Lt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const c={apiKey:n,organization:r,project:a,webhookSecret:s,...l,baseURL:e||"https://api.openai.com/v1"};if(!c.dangerouslyAllowBrowser&&bC())throw new Lt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=c.baseURL,this.timeout=c.timeout??Km.DEFAULT_TIMEOUT,this.logger=c.logger??console;const d="warn";this.logLevel=d,this.logLevel=k_(c.logLevel,"ClientOptions.logLevel",this)??k_(is("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??d,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??TC(),Bt(this,nf,xC),this._options=c,this.apiKey=n,this.organization=r,this.project=a,this.webhookSecret=s}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}authHeaders(e){return At([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return OC(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${cs}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ny()}`}makeStatusError(e,n,r,a){return mr.generate(e,n,r,a)}buildURL(e,n,r){const a=!Re(this,$p,"m",$3).call(this)&&r||this.baseURL,s=fC(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return hC(l)||(n={...l,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(a=>({method:e,path:n,...a})))}request(e,n=null){return new Qf(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){const a=await e,s=a.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(a);const{req:l,url:c,timeout:d}=this.buildRequest(a,{retryCount:s-n});await this.prepareRequest(l,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,g=Date.now();if(_r(this).debug(`[${h}] sending request`,du({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:l.headers})),a.signal?.aborted)throw new ri;const w=new AbortController,b=await this.fetchWithTimeout(c,l,d,w).catch(Fp),N=Date.now();if(b instanceof Error){const y=`retrying, ${n} attempts remaining`;if(a.signal?.aborted)throw new ri;const S=Up(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return _r(this).info(`[${h}] connection ${S?"timed out":"failed"} - ${y}`),_r(this).debug(`[${h}] connection ${S?"timed out":"failed"} (${y})`,du({retryOfRequestLogID:r,url:c,durationMs:N-g,message:b.message})),this.retryRequest(a,n,r??h);throw _r(this).info(`[${h}] connection ${S?"timed out":"failed"} - error; no more retries left`),_r(this).debug(`[${h}] connection ${S?"timed out":"failed"} (error; no more retries left)`,du({retryOfRequestLogID:r,url:c,durationMs:N-g,message:b.message})),S?new Im:new Xf({cause:b})}const x=[...b.headers.entries()].filter(([y])=>y==="x-request-id").map(([y,S])=>", "+y+": "+JSON.stringify(S)).join(""),_=`[${h}${m}${x}] ${l.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${N-g}ms`;if(!b.ok){const y=this.shouldRetry(b);if(n&&y){const P=`retrying, ${n} attempts remaining`;return await AC(b.body),_r(this).info(`${_} - ${P}`),_r(this).debug(`[${h}] response error (${P})`,du({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:N-g})),this.retryRequest(a,n,r??h,b.headers)}const S=y?"error; no more retries left":"error; not retryable";_r(this).info(`${_} - ${S}`);const D=await b.text().catch(P=>Fp(P).message),k=gC(D),C=k?void 0:D;throw _r(this).debug(`[${h}] response error (${S})`,du({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:C,durationMs:Date.now()-g})),this.makeStatusError(b.status,k,C,b.headers)}return _r(this).info(_),_r(this).debug(`[${h}] response start`,du({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:N-g})),{response:b,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:g}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new FC(this,r,e)}async fetchWithTimeout(e,n,r,a){const{signal:s,method:l,...c}=n||{};s&&s.addEventListener("abort",()=>a.abort());const d=setTimeout(()=>a.abort(),r),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m={signal:a.signal,...h?{duplex:"half"}:{},method:"GET",...c};l&&(m.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,a){let s;const l=a?.get("retry-after-ms");if(l){const d=parseFloat(l);Number.isNaN(d)||(s=d)}const c=a?.get("retry-after");if(c&&!s){const d=parseFloat(c);Number.isNaN(d)?s=Date.parse(c)-Date.now():s=d*1e3}if(!(s&&0<=s&&s<60*1e3)){const d=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,d)}return await yl(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:a,path:s,query:l,defaultBaseURL:c}=r,d=this.buildURL(s,l,c);"timeout"in r&&mC("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:r}),g=this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:{method:a,headers:g,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"},...m&&{body:m},...this.fetchOptions??{},...r.fetchOptions??{}},url:d,timeout:r.timeout}}buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:a}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const l=At([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...yC(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=At([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||e instanceof Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:zy(e)}:Re(this,nf,"f").call(this,{body:e,headers:r})}}Km=$t,nf=new WeakMap,$p=new WeakSet,$3=function(){return this.baseURL!=="https://api.openai.com/v1"};$t.OpenAI=Km;$t.DEFAULT_TIMEOUT=6e5;$t.OpenAIError=Lt;$t.APIError=mr;$t.APIConnectionError=Xf;$t.APIConnectionTimeoutError=Im;$t.APIUserAbortError=ri;$t.NotFoundError=Iy;$t.ConflictError=ky;$t.RateLimitError=By;$t.BadRequestError=Dy;$t.AuthenticationError=Oy;$t.InternalServerError=My;$t.PermissionDeniedError=Ry;$t.UnprocessableEntityError=Ly;$t.InvalidWebhookSignatureError=Fo;$t.toFile=VC;$t.Completions=O3;$t.Chat=Fm;$t.Embeddings=I3;$t.Files=L3;$t.Images=z3;$t.Audio=Al;$t.Moderations=q3;$t.Models=H3;$t.FineTuning=Os;$t.Graders=Wm;$t.VectorStores=td;$t.Webhooks=X3;$t.Beta=xl;$t.Batches=x3;$t.Uploads=Qm;$t.Responses=$m;$t.Evals=Ym;$t.Containers=qm;const vN=Symbol("Let zodToJsonSchema decide on which parser to use"),X_={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},EN=t=>typeof t=="string"?{...X_,basePath:["#"],definitions:{},name:t}:{...X_,basePath:["#"],definitions:{},...t},Qp=t=>"_def"in t?t._def:t;function yN(t){if(!t)return!0;for(const e in t)return!1;return!0}const TN=t=>{const e=EN(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[Qp(a),{def:Qp(a),path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Q3(t,e,n,r){r?.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function mn(t,e,n,r,a){t[e]=n,Q3(t,e,r,a)}var on;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const s={};for(const l of a)s[l]=l;return s},t.getValidEnumValues=a=>{const s=t.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),l={};for(const c of s)l[c]=a[c];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(s){return a[s]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&s.push(l);return s},t.find=(a,s)=>{for(const l of a)if(s(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(on||(on={}));var $_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($_||($_={}));const gt=on.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ka=t=>{switch(typeof t){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(t)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(t)?gt.array:t===null?gt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?gt.promise:typeof Map<"u"&&t instanceof Map?gt.map:typeof Set<"u"&&t instanceof Set?gt.set:typeof Date<"u"&&t instanceof Date?gt.date:gt.object;default:return gt.unknown}},nt=on.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ta extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},a=s=>{for(const l of s.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(l))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return a(this),r}static assert(e){if(!(e instanceof ta))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,on.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ta.create=t=>new ta(t);const Kp=(t,e)=>{let n;switch(t.code){case nt.invalid_type:t.received===gt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case nt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,on.jsonStringifyReplacer)}`;break;case nt.unrecognized_keys:n=`Unrecognized key(s) in object: ${on.joinValues(t.keys,", ")}`;break;case nt.invalid_union:n="Invalid input";break;case nt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${on.joinValues(t.options)}`;break;case nt.invalid_enum_value:n=`Invalid enum value. Expected ${on.joinValues(t.options)}, received '${t.received}'`;break;case nt.invalid_arguments:n="Invalid function arguments";break;case nt.invalid_return_type:n="Invalid function return type";break;case nt.invalid_date:n="Invalid date";break;case nt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:on.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case nt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case nt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case nt.custom:n="Invalid input";break;case nt.invalid_intersection_types:n="Intersection results could not be merged";break;case nt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case nt.not_finite:n="Number must be finite";break;default:n=e.defaultError,on.assertNever(t)}return{message:n}};let AN=Kp;function xN(){return AN}const SN=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,s=[...n,...a.path||[]],l={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(l,{data:e,defaultError:c}).message;return{...a,path:s,message:c}};function dt(t,e){const n=xN(),r=SN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Kp?void 0:Kp].filter(a=>!!a)});t.common.issues.push(r)}class Zr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return Ft;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const s=await a.key,l=await a.value;r.push({key:s,value:l})}return Zr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:s,value:l}=a;if(s.status==="aborted"||l.status==="aborted")return Ft;s.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(r[s.value]=l.value)}return{status:e.value,value:r}}}const Ft=Object.freeze({status:"aborted"}),Wo=t=>({status:"dirty",value:t}),ii=t=>({status:"valid",value:t}),Q_=t=>t.status==="aborted",K_=t=>t.status==="dirty",Ts=t=>t.status==="valid",xf=t=>typeof Promise<"u"&&t instanceof Promise;var _t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(_t||(_t={}));class za{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const J_=(t,e)=>{if(Ts(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ta(t.common.issues);return this._error=n,this._error}}};function Zt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(l,c)=>{const{message:d}=t;return l.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:d??n??c.defaultError}},description:a}}class an{get description(){return this._def.description}_getType(e){return ka(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zr,ctx:{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(xf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},a=this._parseSync({data:e,path:r.path,parent:r});return J_(r,a)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Ts(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Ts(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},a=this._parse({data:e,path:r.path,parent:r}),s=await(xf(a)?a:Promise.resolve(a));return J_(r,s)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,s)=>{const l=e(a),c=()=>s.addIssue({code:nt.custom,...r(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new xs({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fa.create(this,this._def)}nullable(){return Ss.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oi.create(this)}promise(){return Nf.create(this,this._def)}or(e){return wf.create([this,e],this._def)}and(e){return Cf.create(this,e,this._def)}transform(e){return new xs({...Zt(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new em({...Zt(this._def),innerType:this,defaultValue:n,typeName:at.ZodDefault})}brand(){return new WN({typeName:at.ZodBranded,type:this,...Zt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new tm({...Zt(this._def),innerType:this,catchValue:n,typeName:at.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Jm.create(this,e)}readonly(){return nm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wN=/^c[^\s-]{8,}$/i,CN=/^[0-9a-z]+$/,NN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ON=/^[a-z0-9_-]{21}$/i,RN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,LN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let L0;const BN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,PN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,UN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,K3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HN=new RegExp(`^${K3}$`);function J3(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function qN(t){return new RegExp(`^${J3(t)}$`)}function jN(t){let e=`${K3}T${J3(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function YN(t,e){return!!((e==="v4"||!e)&&BN.test(t)||(e==="v6"||!e)&&PN.test(t))}function VN(t,e){if(!RN.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function ZN(t,e){return!!((e==="v4"||!e)&&MN.test(t)||(e==="v6"||!e)&&UN.test(t))}class Pa extends an{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==gt.string){const s=this._getOrReturnCtx(e);return dt(s,{code:nt.invalid_type,expected:gt.string,received:s.parsedType}),Ft}const r=new Zr;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const l=e.data.length>s.value,c=e.data.length<s.value;(l||c)&&(a=this._getOrReturnCtx(e,a),l?dt(a,{code:nt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&dt(a,{code:nt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")kN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"email",code:nt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")L0||(L0=new RegExp(LN,"u")),L0.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"emoji",code:nt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")DN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"uuid",code:nt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")ON.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"nanoid",code:nt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")wN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"cuid",code:nt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")CN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"cuid2",code:nt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")NN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"ulid",code:nt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),dt(a,{validation:"url",code:nt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"regex",code:nt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?jN(s).test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?HN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?qN(s).test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?IN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"duration",code:nt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?YN(e.data,s.version)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"ip",code:nt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?VN(e.data,s.alg)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"jwt",code:nt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?ZN(e.data,s.version)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"cidr",code:nt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?FN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"base64",code:nt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?zN.test(e.data)||(a=this._getOrReturnCtx(e,a),dt(a,{validation:"base64url",code:nt.invalid_string,message:s.message}),r.dirty()):on.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:nt.invalid_string,..._t.errToObj(r)})}_addCheck(e){return new Pa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._t.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._t.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._t.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._t.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._t.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,..._t.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,..._t.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",..._t.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,..._t.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._t.errToObj(n)})}nonempty(e){return this.min(1,_t.errToObj(e))}trim(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Pa.create=t=>new Pa({checks:[],typeName:at.ZodString,coerce:t?.coerce??!1,...Zt(t)});function GN(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,s=Number.parseInt(t.toFixed(a).replace(".","")),l=Number.parseInt(e.toFixed(a).replace(".",""));return s%l/10**a}class fl extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==gt.number){const s=this._getOrReturnCtx(e);return dt(s,{code:nt.invalid_type,expected:gt.number,received:s.parsedType}),Ft}let r;const a=new Zr;for(const s of this._def.checks)s.kind==="int"?on.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?GN(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.not_finite,message:s.message}),a.dirty()):on.assertNever(s);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,a){return new fl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(a)}]})}_addCheck(e){return new fl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&on.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}fl.create=t=>new fl({checks:[],typeName:at.ZodNumber,coerce:t?.coerce||!1,...Zt(t)});class dl extends an{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==gt.bigint)return this._getInvalidInput(e);let r;const a=new Zr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),dt(r,{code:nt.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):on.assertNever(s);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:gt.bigint,received:n.parsedType}),Ft}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,a){return new dl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(a)}]})}_addCheck(e){return new dl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}dl.create=t=>new dl({checks:[],typeName:at.ZodBigInt,coerce:t?.coerce??!1,...Zt(t)});class ev extends an{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==gt.boolean){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:gt.boolean,received:r.parsedType}),Ft}return ii(e.data)}}ev.create=t=>new ev({typeName:at.ZodBoolean,coerce:t?.coerce||!1,...Zt(t)});class Sf extends an{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==gt.date){const s=this._getOrReturnCtx(e);return dt(s,{code:nt.invalid_type,expected:gt.date,received:s.parsedType}),Ft}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return dt(s,{code:nt.invalid_date}),Ft}const r=new Zr;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),dt(a,{code:nt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):on.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Sf.create=t=>new Sf({checks:[],coerce:t?.coerce||!1,typeName:at.ZodDate,...Zt(t)});class tv extends an{_parse(e){if(this._getType(e)!==gt.symbol){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:gt.symbol,received:r.parsedType}),Ft}return ii(e.data)}}tv.create=t=>new tv({typeName:at.ZodSymbol,...Zt(t)});class nv extends an{_parse(e){if(this._getType(e)!==gt.undefined){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:gt.undefined,received:r.parsedType}),Ft}return ii(e.data)}}nv.create=t=>new nv({typeName:at.ZodUndefined,...Zt(t)});class rv extends an{_parse(e){if(this._getType(e)!==gt.null){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:gt.null,received:r.parsedType}),Ft}return ii(e.data)}}rv.create=t=>new rv({typeName:at.ZodNull,...Zt(t)});class iv extends an{constructor(){super(...arguments),this._any=!0}_parse(e){return ii(e.data)}}iv.create=t=>new iv({typeName:at.ZodAny,...Zt(t)});class av extends an{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ii(e.data)}}av.create=t=>new av({typeName:at.ZodUnknown,...Zt(t)});class Ha extends an{_parse(e){const n=this._getOrReturnCtx(e);return dt(n,{code:nt.invalid_type,expected:gt.never,received:n.parsedType}),Ft}}Ha.create=t=>new Ha({typeName:at.ZodNever,...Zt(t)});class uv extends an{_parse(e){if(this._getType(e)!==gt.undefined){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:gt.void,received:r.parsedType}),Ft}return ii(e.data)}}uv.create=t=>new uv({typeName:at.ZodVoid,...Zt(t)});class Oi extends an{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==gt.array)return dt(n,{code:nt.invalid_type,expected:gt.array,received:n.parsedType}),Ft;if(a.exactLength!==null){const l=n.data.length>a.exactLength.value,c=n.data.length<a.exactLength.value;(l||c)&&(dt(n,{code:l?nt.too_big:nt.too_small,minimum:c?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(dt(n,{code:nt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(dt(n,{code:nt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>a.type._parseAsync(new za(n,l,n.path,c)))).then(l=>Zr.mergeArray(r,l));const s=[...n.data].map((l,c)=>a.type._parseSync(new za(n,l,n.path,c)));return Zr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Oi({...this._def,minLength:{value:e,message:_t.toString(n)}})}max(e,n){return new Oi({...this._def,maxLength:{value:e,message:_t.toString(n)}})}length(e,n){return new Oi({...this._def,exactLength:{value:e,message:_t.toString(n)}})}nonempty(e){return this.min(1,e)}}Oi.create=(t,e)=>new Oi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...Zt(e)});function hs(t){if(t instanceof Xn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Fa.create(hs(r))}return new Xn({...t._def,shape:()=>e})}else return t instanceof Oi?new Oi({...t._def,type:hs(t.element)}):t instanceof Fa?Fa.create(hs(t.unwrap())):t instanceof Ss?Ss.create(hs(t.unwrap())):t instanceof yu?yu.create(t.items.map(e=>hs(e))):t}class Xn extends an{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=on.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==gt.object){const h=this._getOrReturnCtx(e);return dt(h,{code:nt.invalid_type,expected:gt.object,received:h.parsedType}),Ft}const{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ha&&this._def.unknownKeys==="strip"))for(const h in a.data)l.includes(h)||c.push(h);const d=[];for(const h of l){const m=s[h],g=a.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new za(a,g,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof Ha){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)d.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(h==="strict")c.length>0&&(dt(a,{code:nt.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const g=a.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new za(a,g,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const g=await m.key,w=await m.value;h.push({key:g,value:w,alwaysSet:m.alwaysSet})}return h}).then(h=>Zr.mergeObjectSync(r,h)):Zr.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return _t.errToObj,new Xn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const a=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:_t.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Xn({...this._def,unknownKeys:"strip"})}passthrough(){return new Xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:at.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Xn({...this._def,catchall:e})}pick(e){const n={};for(const r of on.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Xn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of on.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Xn({...this._def,shape:()=>n})}deepPartial(){return hs(this)}partial(e){const n={};for(const r of on.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}return new Xn({...this._def,shape:()=>n})}required(e){const n={};for(const r of on.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Fa;)s=s._def.innerType;n[r]=s}return new Xn({...this._def,shape:()=>n})}keyof(){return eT(on.objectKeys(this.shape))}}Xn.create=(t,e)=>new Xn({shape:()=>t,unknownKeys:"strip",catchall:Ha.create(),typeName:at.ZodObject,...Zt(e)});Xn.strictCreate=(t,e)=>new Xn({shape:()=>t,unknownKeys:"strict",catchall:Ha.create(),typeName:at.ZodObject,...Zt(e)});Xn.lazycreate=(t,e)=>new Xn({shape:t,unknownKeys:"strip",catchall:Ha.create(),typeName:at.ZodObject,...Zt(e)});class wf extends an{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=s.map(c=>new ta(c.ctx.common.issues));return dt(n,{code:nt.invalid_union,unionErrors:l}),Ft}if(n.common.async)return Promise.all(r.map(async s=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(a);{let s;const l=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=l.map(d=>new ta(d));return dt(n,{code:nt.invalid_union,unionErrors:c}),Ft}}get options(){return this._def.options}}wf.create=(t,e)=>new wf({options:t,typeName:at.ZodUnion,...Zt(e)});function Jp(t,e){const n=ka(t),r=ka(e);if(t===e)return{valid:!0,data:t};if(n===gt.object&&r===gt.object){const a=on.objectKeys(e),s=on.objectKeys(t).filter(c=>a.indexOf(c)!==-1),l={...t,...e};for(const c of s){const d=Jp(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===gt.array&&r===gt.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<t.length;s++){const l=t[s],c=e[s],d=Jp(l,c);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return n===gt.date&&r===gt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Cf extends an{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(s,l)=>{if(Q_(s)||Q_(l))return Ft;const c=Jp(s.value,l.value);return c.valid?((K_(s)||K_(l))&&n.dirty(),{status:n.value,value:c.data}):(dt(r,{code:nt.invalid_intersection_types}),Ft)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,l])=>a(s,l)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Cf.create=(t,e,n)=>new Cf({left:t,right:e,typeName:at.ZodIntersection,...Zt(n)});class yu extends an{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==gt.array)return dt(r,{code:nt.invalid_type,expected:gt.array,received:r.parsedType}),Ft;if(r.data.length<this._def.items.length)return dt(r,{code:nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&r.data.length>this._def.items.length&&(dt(r,{code:nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new za(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(s).then(l=>Zr.mergeArray(n,l)):Zr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new yu({...this._def,rest:e})}}yu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yu({items:t,typeName:at.ZodTuple,rest:null,...Zt(e)})};class sv extends an{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==gt.map)return dt(r,{code:nt.invalid_type,expected:gt.map,received:r.parsedType}),Ft;const a=this._def.keyType,s=this._def.valueType,l=[...r.data.entries()].map(([c,d],h)=>({key:a._parse(new za(r,c,r.path,[h,"key"])),value:s._parse(new za(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return Ft;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return Ft;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}}}}sv.create=(t,e,n)=>new sv({valueType:e,keyType:t,typeName:at.ZodMap,...Zt(n)});class hl extends an{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==gt.set)return dt(r,{code:nt.invalid_type,expected:gt.set,received:r.parsedType}),Ft;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(dt(r,{code:nt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(dt(r,{code:nt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function l(d){const h=new Set;for(const m of d){if(m.status==="aborted")return Ft;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((d,h)=>s._parse(new za(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,n){return new hl({...this._def,minSize:{value:e,message:_t.toString(n)}})}max(e,n){return new hl({...this._def,maxSize:{value:e,message:_t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}hl.create=(t,e)=>new hl({valueType:t,minSize:null,maxSize:null,typeName:at.ZodSet,...Zt(e)});class ov extends an{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ov.create=(t,e)=>new ov({getter:t,typeName:at.ZodLazy,...Zt(e)});class lv extends an{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return dt(n,{received:n.data,code:nt.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:e.data}}get value(){return this._def.value}}lv.create=(t,e)=>new lv({value:t,typeName:at.ZodLiteral,...Zt(e)});function eT(t,e){return new As({values:t,typeName:at.ZodEnum,...Zt(e)})}class As extends an{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return dt(n,{expected:on.joinValues(r),received:n.parsedType,code:nt.invalid_type}),Ft}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return dt(n,{received:n.data,code:nt.invalid_enum_value,options:r}),Ft}return ii(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return As.create(e,{...this._def,...n})}exclude(e,n=this._def){return As.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}As.create=eT;class cv extends an{_parse(e){const n=on.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==gt.string&&r.parsedType!==gt.number){const a=on.objectValues(n);return dt(r,{expected:on.joinValues(a),received:r.parsedType,code:nt.invalid_type}),Ft}if(this._cache||(this._cache=new Set(on.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=on.objectValues(n);return dt(r,{received:r.data,code:nt.invalid_enum_value,options:a}),Ft}return ii(e.data)}get enum(){return this._def.values}}cv.create=(t,e)=>new cv({values:t,typeName:at.ZodNativeEnum,...Zt(e)});class Nf extends an{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==gt.promise&&n.common.async===!1)return dt(n,{code:nt.invalid_type,expected:gt.promise,received:n.parsedType}),Ft;const r=n.parsedType===gt.promise?n.data:Promise.resolve(n.data);return ii(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Nf.create=(t,e)=>new Nf({type:t,typeName:at.ZodPromise,...Zt(e)});class xs extends an{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:l=>{dt(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const l=a.transform(r.data,s);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return Ft;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?Ft:d.status==="dirty"||n.value==="dirty"?Wo(d.value):d});{if(n.value==="aborted")return Ft;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ft:c.status==="dirty"||n.value==="dirty"?Wo(c.value):c}}if(a.type==="refinement"){const l=c=>{const d=a.refinement(c,s);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Ft:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Ft:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(a.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ts(l))return Ft;const c=a.transform(l.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Ts(l)?Promise.resolve(a.transform(l.value,s)).then(c=>({status:n.value,value:c})):Ft);on.assertNever(a)}}xs.create=(t,e,n)=>new xs({schema:t,typeName:at.ZodEffects,effect:e,...Zt(n)});xs.createWithPreprocess=(t,e,n)=>new xs({schema:e,effect:{type:"preprocess",transform:t},typeName:at.ZodEffects,...Zt(n)});class Fa extends an{_parse(e){return this._getType(e)===gt.undefined?ii(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fa.create=(t,e)=>new Fa({innerType:t,typeName:at.ZodOptional,...Zt(e)});class Ss extends an{_parse(e){return this._getType(e)===gt.null?ii(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ss.create=(t,e)=>new Ss({innerType:t,typeName:at.ZodNullable,...Zt(e)});class em extends an{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===gt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}em.create=(t,e)=>new em({innerType:t,typeName:at.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Zt(e)});class tm extends an{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return xf(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ta(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ta(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tm.create=(t,e)=>new tm({innerType:t,typeName:at.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Zt(e)});class fv extends an{_parse(e){if(this._getType(e)!==gt.nan){const r=this._getOrReturnCtx(e);return dt(r,{code:nt.invalid_type,expected:gt.nan,received:r.parsedType}),Ft}return{status:"valid",value:e.data}}}fv.create=t=>new fv({typeName:at.ZodNaN,...Zt(t)});class WN extends an{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Jm extends an{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ft:s.status==="dirty"?(n.dirty(),Wo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ft:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new Jm({in:e,out:n,typeName:at.ZodPipeline})}}class nm extends an{_parse(e){const n=this._def.innerType._parse(e),r=a=>(Ts(a)&&(a.value=Object.freeze(a.value)),a);return xf(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}nm.create=(t,e)=>new nm({innerType:t,typeName:at.ZodReadonly,...Zt(e)});var at;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(at||(at={}));const XN=Pa.create;Ha.create;const $N=Oi.create,QN=Xn.create;wf.create;Cf.create;yu.create;As.create;Nf.create;Fa.create;Ss.create;function KN(){return{}}function JN(t,e){const n={type:"array"};return t.type?._def?.typeName!==at.ZodAny&&(n.items=ln(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&mn(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&mn(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(mn(n,"minItems",t.exactLength.value,t.exactLength.message,e),mn(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function eD(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?mn(n,"minimum",r.value,r.message,e):mn(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),mn(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?mn(n,"maximum",r.value,r.message,e):mn(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),mn(n,"maximum",r.value,r.message,e));break;case"multipleOf":mn(n,"multipleOf",r.value,r.message,e);break}return n}function tD(){return{type:"boolean"}}function nD(t,e){return ln(t.type._def,e)}const rD=(t,e)=>ln(t.innerType._def,e);function tT(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,s)=>tT(t,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return iD(t,e)}}const iD=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":mn(n,"minimum",r.value,r.message,e);break;case"max":mn(n,"maximum",r.value,r.message,e);break}return n};function aD(t,e){return{...ln(t.innerType._def,e),default:t.defaultValue()}}function uD(t,e,n){return e.effectStrategy==="input"?ln(t.schema._def,e,n):{}}function sD(t){return{type:"string",enum:[...t.values]}}const oD=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function lD(t,e){const n=[ln(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),ln(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(s=>!!s);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(s=>{if(oD(s))a.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let l=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:c,...d}=s;l=d}else r=void 0;a.push(l)}}),a.length?{allOf:a,...r}:void 0}function cD(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let B0;const fu={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(B0===void 0&&(B0=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),B0),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function nT(t,e){const n={type:"string"};function r(a){return e.patternStrategy==="escape"?fD(a):a}if(t.checks)for(const a of t.checks)switch(a.kind){case"min":mn(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e);break;case"max":mn(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":ci(n,"email",a.message,e);break;case"format:idn-email":ci(n,"idn-email",a.message,e);break;case"pattern:zod":fi(n,fu.email,a.message,e);break}break;case"url":ci(n,"uri",a.message,e);break;case"uuid":ci(n,"uuid",a.message,e);break;case"regex":fi(n,a.regex,a.message,e);break;case"cuid":fi(n,fu.cuid,a.message,e);break;case"cuid2":fi(n,fu.cuid2,a.message,e);break;case"startsWith":fi(n,RegExp(`^${r(a.value)}`),a.message,e);break;case"endsWith":fi(n,RegExp(`${r(a.value)}$`),a.message,e);break;case"datetime":ci(n,"date-time",a.message,e);break;case"date":ci(n,"date",a.message,e);break;case"time":ci(n,"time",a.message,e);break;case"duration":ci(n,"duration",a.message,e);break;case"length":mn(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e),mn(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"includes":{fi(n,RegExp(r(a.value)),a.message,e);break}case"ip":{a.version!=="v6"&&ci(n,"ipv4",a.message,e),a.version!=="v4"&&ci(n,"ipv6",a.message,e);break}case"emoji":fi(n,fu.emoji,a.message,e);break;case"ulid":{fi(n,fu.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{ci(n,"binary",a.message,e);break}case"contentEncoding:base64":{mn(n,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{fi(n,fu.base64,a.message,e);break}}break}case"nanoid":fi(n,fu.nanoid,a.message,e)}return n}const fD=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),ci=(t,e,n,r)=>{t.format||t.anyOf?.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):mn(t,"format",e,n,r)},fi=(t,e,n,r)=>{t.pattern||t.allOf?.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:dv(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):mn(t,"pattern",dv(e,r),n,r)},dv=(t,e)=>{const n=typeof t=="function"?t():t;if(!e.applyRegexFlags||!n.flags)return n.source;const r={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},a=r.i?n.source.toLowerCase():n.source;let s="",l=!1,c=!1,d=!1;for(let h=0;h<a.length;h++){if(l){s+=a[h],l=!1;continue}if(r.i){if(c){if(a[h].match(/[a-z]/)){d?(s+=a[h],s+=`${a[h-2]}-${a[h]}`.toUpperCase(),d=!1):a[h+1]==="-"&&a[h+2]?.match(/[a-z]/)?(s+=a[h],d=!0):s+=`${a[h]}${a[h].toUpperCase()}`;continue}}else if(a[h].match(/[a-z]/)){s+=`[${a[h]}${a[h].toUpperCase()}]`;continue}}if(r.m){if(a[h]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[h]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[h]==="."){s+=c?`${a[h]}\r
`:`[${a[h]}\r
]`;continue}s+=a[h],a[h]==="\\"?l=!0:c&&a[h]==="]"?c=!1:!c&&a[h]==="["&&(c=!0)}try{const h=new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return s};function rT(t,e){if(e.target==="openApi3"&&t.keyType?._def.typeName===at.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((r,a)=>({...r,[a]:ln(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",a]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:ln(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(t.keyType?._def.typeName===at.ZodString&&t.keyType._def.checks?.length){const r=Object.entries(nT(t.keyType._def,e)).reduce((a,[s,l])=>s==="type"?a:{...a,[s]:l},{});return{...n,propertyNames:r}}else if(t.keyType?._def.typeName===at.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};return n}function dD(t,e){if(e.mapStrategy==="record")return rT(t,e);const n=ln(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=ln(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function hD(t){const e=t.values,r=Object.keys(t.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),a=Array.from(new Set(r.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function pD(){return{not:{}}}function mD(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Df={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function gD(t,e){if(e.target==="openApi3")return hv(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Df&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,s)=>{const l=Df[s._def.typeName];return l&&!a.includes(l)?[...a,l]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,s)=>{const l=typeof s._def.value;switch(l){case"string":case"number":case"boolean":return[...a,l];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((s,l,c)=>c.indexOf(s)===l);return{type:a.length>1?a:a[0],enum:n.reduce((s,l)=>s.includes(l._def.value)?s:[...s,l._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(s=>!r.includes(s))],[])};return hv(t,e)}const hv=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,a)=>ln(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function bD(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:Df[t.innerType._def.typeName],nullable:!0}:{type:[Df[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=ln(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=ln(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function _D(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",Q3(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?mn(n,"minimum",r.value,r.message,e):mn(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),mn(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?mn(n,"maximum",r.value,r.message,e):mn(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),mn(n,"maximum",r.value,r.message,e));break;case"multipleOf":mn(n,"multipleOf",r.value,r.message,e);break}return n}function vD(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":ln(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":ln(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function ED(t,e){const n={type:"object",...Object.entries(t.shape()).reduce((r,[a,s])=>{if(s===void 0||s._def===void 0)return r;const l=[...e.currentPath,"properties",a],c=ln(s._def,{...e,currentPath:l,propertyPath:l});if(c===void 0)return r;if(e.openaiStrictMode&&s.isOptional()&&!s.isNullable()&&typeof s._def?.defaultValue>"u")throw new Error(`Zod field at \`${l.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...r.properties,[a]:c},required:s.isOptional()&&!e.openaiStrictMode?r.required:[...r.required,a]}},{properties:{},required:[]}),additionalProperties:vD(t,e)};return n.required.length||delete n.required,n}const yD=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return ln(t.innerType._def,e);const n=ln(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},TD=(t,e)=>{if(e.pipeStrategy==="input")return ln(t.in._def,e);if(e.pipeStrategy==="output")return ln(t.out._def,e);const n=ln(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=ln(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function AD(t,e){return ln(t.type._def,e)}function xD(t,e){const r={type:"array",uniqueItems:!0,items:ln(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&mn(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&mn(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function SD(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>ln(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:ln(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>ln(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function wD(){return{not:{}}}function CD(){return{}}const ND=(t,e)=>ln(t.innerType._def,e);function ln(t,e,n=!1){const r=e.seen.get(t);if(e.override){const l=e.override?.(t,e,r,n);if(l!==vN)return l}if(r&&!n){const l=DD(r,e);if(l!==void 0)return"$ref"in l&&e.seenRefs.add(l.$ref),l}const a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);const s=RD(t,t.typeName,e,n);return s&&ID(t,e,s),a.jsonSchema=s,s}const DD=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"extract-to-root":const n=t.path.slice(e.basePath.length+1).join("_");return n!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[n]=t.def),{$ref:[...e.basePath,e.definitionPath,n].join("/")};case"relative":return{$ref:OD(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,a)=>e.currentPath[a]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},OD=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},RD=(t,e,n,r)=>{switch(e){case at.ZodString:return nT(t,n);case at.ZodNumber:return _D(t,n);case at.ZodObject:return ED(t,n);case at.ZodBigInt:return eD(t,n);case at.ZodBoolean:return tD();case at.ZodDate:return tT(t,n);case at.ZodUndefined:return wD();case at.ZodNull:return mD(n);case at.ZodArray:return JN(t,n);case at.ZodUnion:case at.ZodDiscriminatedUnion:return gD(t,n);case at.ZodIntersection:return lD(t,n);case at.ZodTuple:return SD(t,n);case at.ZodRecord:return rT(t,n);case at.ZodLiteral:return cD(t,n);case at.ZodEnum:return sD(t);case at.ZodNativeEnum:return hD(t);case at.ZodNullable:return bD(t,n);case at.ZodOptional:return yD(t,n);case at.ZodMap:return dD(t,n);case at.ZodSet:return xD(t,n);case at.ZodLazy:return ln(t.getter()._def,n);case at.ZodPromise:return AD(t,n);case at.ZodNaN:case at.ZodNever:return pD();case at.ZodEffects:return uD(t,n,r);case at.ZodAny:return KN();case at.ZodUnknown:return CD();case at.ZodDefault:return aD(t,n);case at.ZodBranded:return nD(t,n);case at.ZodReadonly:return ND(t,n);case at.ZodCatch:return rD(t,n);case at.ZodPipeline:return TD(t,n);case at.ZodFunction:case at.ZodVoid:case at.ZodSymbol:return;default:return(a=>{})()}},ID=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),kD=(t,e)=>{const n=TN(e),r=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,a=ln(t._def,r===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,r]},!1)??{},s=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;s!==void 0&&(a.title=s);const l=(()=>{if(yN(n.definitions))return;const d={},h=new Set;for(let m=0;m<500;m++){const g=Object.entries(n.definitions).filter(([w])=>!h.has(w));if(g.length===0)break;for(const[w,b]of g)d[w]=ln(Qp(b),{...n,currentPath:[...n.basePath,n.definitionPath,w]},!0)??{},h.add(w)}return d})(),c=r===void 0?l?{...a,[n.definitionPath]:l}:a:n.nameStrategy==="duplicate-ref"?{...a,...l||n.seenRefs.size?{[n.definitionPath]:{...l,...n.seenRefs.size?{[r]:a}:void 0}}:void 0}:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,r].join("/"),[n.definitionPath]:{...l,[r]:a}};return n.target==="jsonSchema7"?c.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(c.$schema="https://json-schema.org/draft/2019-09/schema#"),c};function LD(t,e){return kD(t,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function BD(t,e,n){return XC({type:"json_schema",json_schema:{...n,name:e,strict:!0,schema:LD(t,{name:e})}},r=>t.parse(JSON.parse(r)))}const MD="You are a book translator.",PD=QN({translation_paragraphs:$N(XN())}),UD=async({apiKey:t,epubFile:e,chunkSize:n,translationMode:r,setStatus:a,baseUrl:s,targetLanguage:l,modelName:c,abortSignal:d,onProgress:h,getPausePromise:m})=>{a("Initializing...");const g=new $t({apiKey:t,dangerouslyAllowBrowser:!0,baseURL:s||void 0});try{a("Unpacking EPUB...");const w=await zA.loadAsync(e),b=await w.file("META-INF/container.xml")?.async("string");if(!b)throw new Error("META-INF/container.xml not found.");const x=S0(b,{xmlMode:!0})("rootfile").attr("full-path");if(!x)throw new Error("OPF file path not found in container.xml.");const _=await w.file(x)?.async("string");if(!_)throw new Error(`OPF file not found: ${x}`);const y=S0(_,{xmlMode:!0}),S=new Map,D=x.includes("/")?x.substring(0,x.lastIndexOf("/")):"";y("manifest > item").each((B,P)=>{const F=y(P).attr("id"),M=y(P).attr("href");if(F&&M){const H=D?`${D}/${M}`:M;S.set(F,H)}});const k=y("spine > itemref").map((B,P)=>{const F=y(P).attr("idref");return S.get(F||"")}).get().filter(Boolean);for(const B of k){a(`Processing: ${B}`);const P=await w.file(B)?.async("string"),F=S0(P,{xmlMode:!0}),M=F("p").toArray();if(M.length===0)continue;const H=[];for(let ne=0;ne<M.length;ne+=n)H.push(M.slice(ne,ne+n));for(let ne=0;ne<H.length;ne++){const U=H[ne];a(`Translating chunk ${ne+1}/${H.length} of ${B}...`);const R=`\`\`\`
${U.map(ee=>F(ee).text()).join(`

`).replace(/&#xa0;/g," ")}

\`\`\`

${l}`,re=(await g.chat.completions.parse({model:c,messages:[{role:"system",content:MD},{role:"user",content:R}],response_format:BD(PD,"translation_paragraphs")},{signal:d?.signal})).choices[0].message.parsed?.translation_paragraphs||[];U.forEach((ee,ge)=>{const de=re[ge]||"";r==="replace"?F(ee).html(de):F(ee).after(`<p class="translated-bilingual">${de}</p>`)})}if(w.file(B,F.html({xmlMode:!0})),h){const ne=await w.generateAsync({type:"blob"});h({currentFile:B,fileIndex:k.indexOf(B)+1,totalFiles:k.length,status:`Processed ${B}`,translatedBlob:ne,htmlContent:F("body").html()})}m&&await m()}return await w.generateAsync({type:"blob"})}catch(w){throw console.error("Error during translation:",w),w}};var jc={exports:{}},M0={exports:{}},P0,pv;function iT(){if(pv)return P0;pv=1;var t=void 0;return P0=function(e){return e!==t&&e!==null},P0}var U0,mv;function FD(){if(mv)return U0;mv=1;var t=iT(),e={object:!0,function:!0,undefined:!0};return U0=function(n){return t(n)?hasOwnProperty.call(e,typeof n):!1},U0}var F0,gv;function zD(){if(gv)return F0;gv=1;var t=FD();return F0=function(e){if(!t(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},F0}var z0,bv;function HD(){if(bv)return z0;bv=1;var t=zD();return z0=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!t(e)},z0}var H0,_v;function qD(){if(_v)return H0;_v=1;var t=HD(),e=/^\s*class[\s{/}]/,n=Function.prototype.toString;return H0=function(r){return!(!t(r)||e.test(n.call(r)))},H0}var q0,vv;function jD(){return vv||(vv=1,q0=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),q0}var j0,Ev;function YD(){return Ev||(Ev=1,j0=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),j0}var Y0,yv;function VD(){return yv||(yv=1,Y0=function(){}),Y0}var V0,Tv;function e1(){if(Tv)return V0;Tv=1;var t=VD()();return V0=function(e){return e!==t&&e!==null},V0}var Z0,Av;function ZD(){if(Av)return Z0;Av=1;var t=e1(),e=Object.keys;return Z0=function(n){return e(t(n)?Object(n):n)},Z0}var G0,xv;function GD(){return xv||(xv=1,G0=YD()()?Object.keys:ZD()),G0}var W0,Sv;function WD(){if(Sv)return W0;Sv=1;var t=e1();return W0=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e},W0}var X0,wv;function XD(){if(wv)return X0;wv=1;var t=GD(),e=WD(),n=Math.max;return X0=function(r,a){var s,l,c=n(arguments.length,2),d;for(r=Object(e(r)),d=function(h){try{r[h]=a[h]}catch(m){s||(s=m)}},l=1;l<c;++l)a=arguments[l],t(a).forEach(d);if(s!==void 0)throw s;return r},X0}var $0,Cv;function $D(){return Cv||(Cv=1,$0=jD()()?Object.assign:XD()),$0}var Q0,Nv;function QD(){if(Nv)return Q0;Nv=1;var t=e1(),e=Array.prototype.forEach,n=Object.create,r=function(a,s){var l;for(l in a)s[l]=a[l]};return Q0=function(a){var s=n(null);return e.call(arguments,function(l){t(l)&&r(Object(l),s)}),s},Q0}var K0,Dv;function KD(){if(Dv)return K0;Dv=1;var t="razdwatrzy";return K0=function(){return typeof t.contains!="function"?!1:t.contains("dwa")===!0&&t.contains("foo")===!1},K0}var J0,Ov;function JD(){if(Ov)return J0;Ov=1;var t=String.prototype.indexOf;return J0=function(e){return t.call(this,e,arguments[1])>-1},J0}var ep,Rv;function eO(){return Rv||(Rv=1,ep=KD()()?String.prototype.contains:JD()),ep}var Iv;function tO(){if(Iv)return M0.exports;Iv=1;var t=iT(),e=qD(),n=$D(),r=QD(),a=eO(),s=M0.exports=function(l,c){var d,h,m,g,w;return arguments.length<2||typeof l!="string"?(g=c,c=l,l=null):g=arguments[2],t(l)?(d=a.call(l,"c"),h=a.call(l,"e"),m=a.call(l,"w")):(d=m=!0,h=!1),w={value:c,configurable:d,enumerable:h,writable:m},g?n(r(g),w):w};return s.gs=function(l,c,d){var h,m,g,w;return typeof l!="string"?(g=d,d=c,c=l,l=null):g=arguments[3],t(c)?e(c)?t(d)?e(d)||(g=d,d=void 0):d=void 0:(g=c,c=d=void 0):c=void 0,t(l)?(h=a.call(l,"c"),m=a.call(l,"e")):(h=!0,m=!1),w={get:c,set:d,configurable:h,enumerable:m},g?n(r(g),w):w},M0.exports}var tp,kv;function nO(){return kv||(kv=1,tp=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}),tp}var Lv;function rO(){return Lv||(Lv=1,function(t,e){var n=tO(),r=nO(),a=Function.prototype.apply,s=Function.prototype.call,l=Object.create,c=Object.defineProperty,d=Object.defineProperties,h=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0},g,w,b,N,x,_,y;g=function(S,D){var k;return r(D),h.call(this,"__ee__")?k=this.__ee__:(k=m.value=l(null),c(this,"__ee__",m),m.value=null),k[S]?typeof k[S]=="object"?k[S].push(D):k[S]=[k[S],D]:k[S]=D,this},w=function(S,D){var k,C;return r(D),C=this,g.call(this,S,k=function(){b.call(C,S,k),a.call(D,this,arguments)}),k.__eeOnceListener__=D,this},b=function(S,D){var k,C,B,P;if(r(D),!h.call(this,"__ee__"))return this;if(k=this.__ee__,!k[S])return this;if(C=k[S],typeof C=="object")for(P=0;B=C[P];++P)(B===D||B.__eeOnceListener__===D)&&(C.length===2?k[S]=C[P?0:1]:C.splice(P,1));else(C===D||C.__eeOnceListener__===D)&&delete k[S];return this},N=function(S){var D,k,C,B,P;if(h.call(this,"__ee__")&&(B=this.__ee__[S],!!B))if(typeof B=="object"){for(k=arguments.length,P=new Array(k-1),D=1;D<k;++D)P[D-1]=arguments[D];for(B=B.slice(),D=0;C=B[D];++D)a.call(C,this,P)}else switch(arguments.length){case 1:s.call(B,this);break;case 2:s.call(B,this,arguments[1]);break;case 3:s.call(B,this,arguments[1],arguments[2]);break;default:for(k=arguments.length,P=new Array(k-1),D=1;D<k;++D)P[D-1]=arguments[D];a.call(B,this,P)}},x={on:g,once:w,off:b,emit:N},_={on:n(g),once:n(w),off:n(b),emit:n(N)},y=d({},_),t.exports=e=function(S){return S==null?l(y):d(Object(S),_)},e.methods=x}(jc,jc.exports)),jc.exports}var iO=rO();const Ii=qa(iO);var Bo={},Xi={},us={},Bv;function nd(){if(Bv)return us;Bv=1;function t(a,s,l){if(l===void 0&&(l=Array.prototype),a&&typeof l.find=="function")return l.find.call(a,s);for(var c=0;c<a.length;c++)if(Object.prototype.hasOwnProperty.call(a,c)){var d=a[c];if(s.call(void 0,d,c,a))return d}}function e(a,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(a):a}var n=e({HTML:"text/html",isHTML:function(a){return a===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return us.find=t,us.freeze=e,us.MIME_TYPE=n,us.NAMESPACE=r,us}var Mv;function aT(){if(Mv)return Xi;Mv=1;var t=nd(),e=t.find,n=t.NAMESPACE;function r(T){return T!==""}function a(T){return T?T.split(/[\t\n\f\r ]+/).filter(r):[]}function s(T,L){return T.hasOwnProperty(L)||(T[L]=!0),T}function l(T){if(!T)return[];var L=a(T);return Object.keys(L.reduce(s,{}))}function c(T){return function(L){return T&&T.indexOf(L)!==-1}}function d(T,L){for(var K in T)Object.prototype.hasOwnProperty.call(T,K)&&(L[K]=T[K])}function h(T,L){var K=T.prototype;if(!(K instanceof L)){let ue=function(){};var A=ue;ue.prototype=L.prototype,ue=new ue,d(K,ue),T.prototype=K=ue}K.constructor!=T&&(typeof T!="function"&&console.error("unknown Class:"+T),K.constructor=T)}var m={},g=m.ELEMENT_NODE=1,w=m.ATTRIBUTE_NODE=2,b=m.TEXT_NODE=3,N=m.CDATA_SECTION_NODE=4,x=m.ENTITY_REFERENCE_NODE=5,_=m.ENTITY_NODE=6,y=m.PROCESSING_INSTRUCTION_NODE=7,S=m.COMMENT_NODE=8,D=m.DOCUMENT_NODE=9,k=m.DOCUMENT_TYPE_NODE=10,C=m.DOCUMENT_FRAGMENT_NODE=11,B=m.NOTATION_NODE=12,P={},F={};P.INDEX_SIZE_ERR=(F[1]="Index size error",1),P.DOMSTRING_SIZE_ERR=(F[2]="DOMString size error",2);var M=P.HIERARCHY_REQUEST_ERR=(F[3]="Hierarchy request error",3);P.WRONG_DOCUMENT_ERR=(F[4]="Wrong document",4),P.INVALID_CHARACTER_ERR=(F[5]="Invalid character",5),P.NO_DATA_ALLOWED_ERR=(F[6]="No data allowed",6),P.NO_MODIFICATION_ALLOWED_ERR=(F[7]="No modification allowed",7);var H=P.NOT_FOUND_ERR=(F[8]="Not found",8);P.NOT_SUPPORTED_ERR=(F[9]="Not supported",9);var ne=P.INUSE_ATTRIBUTE_ERR=(F[10]="Attribute in use",10);P.INVALID_STATE_ERR=(F[11]="Invalid state",11),P.SYNTAX_ERR=(F[12]="Syntax error",12),P.INVALID_MODIFICATION_ERR=(F[13]="Invalid modification",13),P.NAMESPACE_ERR=(F[14]="Invalid namespace",14),P.INVALID_ACCESS_ERR=(F[15]="Invalid access",15);function U(T,L){if(L instanceof Error)var K=L;else K=this,Error.call(this,F[T]),this.message=F[T],Error.captureStackTrace&&Error.captureStackTrace(this,U);return K.code=T,L&&(this.message=this.message+": "+L),K}U.prototype=Error.prototype,d(P,U);function J(){}J.prototype={length:0,item:function(T){return T>=0&&T<this.length?this[T]:null},toString:function(T,L){for(var K=[],A=0;A<this.length;A++)ze(this[A],K,T,L);return K.join("")},filter:function(T){return Array.prototype.filter.call(this,T)},indexOf:function(T){return Array.prototype.indexOf.call(this,T)}};function R(T,L){this._node=T,this._refresh=L,se(this)}function se(T){var L=T._node._inc||T._node.ownerDocument._inc;if(T._inc!==L){var K=T._refresh(T._node);if(fe(T,"length",K.length),!T.$$length||K.length<T.$$length)for(var A=K.length;A in T;A++)Object.prototype.hasOwnProperty.call(T,A)&&delete T[A];d(K,T),T._inc=L}}R.prototype.item=function(T){return se(this),this[T]||null},h(R,J);function re(){}function ee(T,L){for(var K=T.length;K--;)if(T[K]===L)return K}function ge(T,L,K,A){if(A?L[ee(L,A)]=K:L[L.length++]=K,T){K.ownerElement=T;var ue=T.ownerDocument;ue&&(A&&Qe(ue,T,A),Ne(ue,T,K))}}function de(T,L,K){var A=ee(L,K);if(A>=0){for(var ue=L.length-1;A<ue;)L[A]=L[++A];if(L.length=ue,T){var _e=T.ownerDocument;_e&&(Qe(_e,T,K),K.ownerElement=null)}}else throw new U(H,new Error(T.tagName+"@"+K))}re.prototype={length:0,item:J.prototype.item,getNamedItem:function(T){for(var L=this.length;L--;){var K=this[L];if(K.nodeName==T)return K}},setNamedItem:function(T){var L=T.ownerElement;if(L&&L!=this._ownerElement)throw new U(ne);var K=this.getNamedItem(T.nodeName);return ge(this._ownerElement,this,T,K),K},setNamedItemNS:function(T){var L=T.ownerElement,K;if(L&&L!=this._ownerElement)throw new U(ne);return K=this.getNamedItemNS(T.namespaceURI,T.localName),ge(this._ownerElement,this,T,K),K},removeNamedItem:function(T){var L=this.getNamedItem(T);return de(this._ownerElement,this,L),L},removeNamedItemNS:function(T,L){var K=this.getNamedItemNS(T,L);return de(this._ownerElement,this,K),K},getNamedItemNS:function(T,L){for(var K=this.length;K--;){var A=this[K];if(A.localName==L&&A.namespaceURI==T)return A}return null}};function Z(){}Z.prototype={hasFeature:function(T,L){return!0},createDocument:function(T,L,K){var A=new ce;if(A.implementation=this,A.childNodes=new J,A.doctype=K||null,K&&A.appendChild(K),L){var ue=A.createElementNS(T,L);A.appendChild(ue)}return A},createDocumentType:function(T,L,K){var A=new bt;return A.name=T,A.nodeName=T,A.publicId=L||"",A.systemId=K||"",A}};function Y(){}Y.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(T,L){return pe(this,T,L)},replaceChild:function(T,L){pe(this,T,L,W),L&&this.removeChild(L)},removeChild:function(T){return Ue(this,T)},appendChild:function(T){return this.insertBefore(T,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(T){return ut(this.ownerDocument||this,this,T)},normalize:function(){for(var T=this.firstChild;T;){var L=T.nextSibling;L&&L.nodeType==b&&T.nodeType==b?(this.removeChild(L),T.appendData(L.data)):(T.normalize(),T=L)}},isSupported:function(T,L){return this.ownerDocument.implementation.hasFeature(T,L)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(T){for(var L=this;L;){var K=L._nsMap;if(K){for(var A in K)if(Object.prototype.hasOwnProperty.call(K,A)&&K[A]===T)return A}L=L.nodeType==w?L.ownerDocument:L.parentNode}return null},lookupNamespaceURI:function(T){for(var L=this;L;){var K=L._nsMap;if(K&&T in K&&Object.prototype.hasOwnProperty.call(K,T))return K[T];L=L.nodeType==w?L.ownerDocument:L.parentNode}return null},isDefaultNamespace:function(T){var L=this.lookupPrefix(T);return L==null}};function $(T){return T=="<"&&"&lt;"||T==">"&&"&gt;"||T=="&"&&"&amp;"||T=='"'&&"&quot;"||"&#"+T.charCodeAt()+";"}d(m,Y),d(m,Y.prototype);function xe(T,L){if(L(T))return!0;if(T=T.firstChild)do if(xe(T,L))return!0;while(T=T.nextSibling)}function ce(){this.ownerDocument=this}function Ne(T,L,K){T&&T._inc++;var A=K.namespaceURI;A===n.XMLNS&&(L._nsMap[K.prefix?K.localName:""]=K.value)}function Qe(T,L,K,A){T&&T._inc++;var ue=K.namespaceURI;ue===n.XMLNS&&delete L._nsMap[K.prefix?K.localName:""]}function ht(T,L,K){if(T&&T._inc){T._inc++;var A=L.childNodes;if(K)A[A.length++]=K;else{for(var ue=L.firstChild,_e=0;ue;)A[_e++]=ue,ue=ue.nextSibling;A.length=_e,delete A[A.length]}}}function Ue(T,L){var K=L.previousSibling,A=L.nextSibling;return K?K.nextSibling=A:T.firstChild=A,A?A.previousSibling=K:T.lastChild=K,L.parentNode=null,L.previousSibling=null,L.nextSibling=null,ht(T.ownerDocument,T),L}function ct(T){return T&&(T.nodeType===Y.DOCUMENT_NODE||T.nodeType===Y.DOCUMENT_FRAGMENT_NODE||T.nodeType===Y.ELEMENT_NODE)}function wt(T){return T&&(xt(T)||Tt(T)||ft(T)||T.nodeType===Y.DOCUMENT_FRAGMENT_NODE||T.nodeType===Y.COMMENT_NODE||T.nodeType===Y.PROCESSING_INSTRUCTION_NODE)}function ft(T){return T&&T.nodeType===Y.DOCUMENT_TYPE_NODE}function xt(T){return T&&T.nodeType===Y.ELEMENT_NODE}function Tt(T){return T&&T.nodeType===Y.TEXT_NODE}function O(T,L){var K=T.childNodes||[];if(e(K,xt)||ft(L))return!1;var A=e(K,ft);return!(L&&A&&K.indexOf(A)>K.indexOf(L))}function ke(T,L){var K=T.childNodes||[];function A(_e){return xt(_e)&&_e!==L}if(e(K,A))return!1;var ue=e(K,ft);return!(L&&ue&&K.indexOf(ue)>K.indexOf(L))}function Ae(T,L,K){if(!ct(T))throw new U(M,"Unexpected parent node type "+T.nodeType);if(K&&K.parentNode!==T)throw new U(H,"child not in parent");if(!wt(L)||ft(L)&&T.nodeType!==Y.DOCUMENT_NODE)throw new U(M,"Unexpected node type "+L.nodeType+" for parent node type "+T.nodeType)}function X(T,L,K){var A=T.childNodes||[],ue=L.childNodes||[];if(L.nodeType===Y.DOCUMENT_FRAGMENT_NODE){var _e=ue.filter(xt);if(_e.length>1||e(ue,Tt))throw new U(M,"More than one element or text in fragment");if(_e.length===1&&!O(T,K))throw new U(M,"Element in fragment can not be inserted before doctype")}if(xt(L)&&!O(T,K))throw new U(M,"Only one element can be added and only after doctype");if(ft(L)){if(e(A,ft))throw new U(M,"Only one doctype is allowed");var z=e(A,xt);if(K&&A.indexOf(z)<A.indexOf(K))throw new U(M,"Doctype can only be inserted before an element");if(!K&&z)throw new U(M,"Doctype can not be appended since element is present")}}function W(T,L,K){var A=T.childNodes||[],ue=L.childNodes||[];if(L.nodeType===Y.DOCUMENT_FRAGMENT_NODE){var _e=ue.filter(xt);if(_e.length>1||e(ue,Tt))throw new U(M,"More than one element or text in fragment");if(_e.length===1&&!ke(T,K))throw new U(M,"Element in fragment can not be inserted before doctype")}if(xt(L)&&!ke(T,K))throw new U(M,"Only one element can be added and only after doctype");if(ft(L)){let Te=function(et){return ft(et)&&et!==K};var oe=Te;if(e(A,Te))throw new U(M,"Only one doctype is allowed");var z=e(A,xt);if(K&&A.indexOf(z)<A.indexOf(K))throw new U(M,"Doctype can only be inserted before an element")}}function pe(T,L,K,A){Ae(T,L,K),T.nodeType===Y.DOCUMENT_NODE&&(A||X)(T,L,K);var ue=L.parentNode;if(ue&&ue.removeChild(L),L.nodeType===C){var _e=L.firstChild;if(_e==null)return L;var z=L.lastChild}else _e=z=L;var oe=K?K.previousSibling:T.lastChild;_e.previousSibling=oe,z.nextSibling=K,oe?oe.nextSibling=_e:T.firstChild=_e,K==null?T.lastChild=z:K.previousSibling=z;do _e.parentNode=T;while(_e!==z&&(_e=_e.nextSibling));return ht(T.ownerDocument||T,T),L.nodeType==C&&(L.firstChild=L.lastChild=null),L}function Pe(T,L){return L.parentNode&&L.parentNode.removeChild(L),L.parentNode=T,L.previousSibling=T.lastChild,L.nextSibling=null,L.previousSibling?L.previousSibling.nextSibling=L:T.firstChild=L,T.lastChild=L,ht(T.ownerDocument,T,L),L}ce.prototype={nodeName:"#document",nodeType:D,doctype:null,documentElement:null,_inc:1,insertBefore:function(T,L){if(T.nodeType==C){for(var K=T.firstChild;K;){var A=K.nextSibling;this.insertBefore(K,L),K=A}return T}return pe(this,T,L),T.ownerDocument=this,this.documentElement===null&&T.nodeType===g&&(this.documentElement=T),T},removeChild:function(T){return this.documentElement==T&&(this.documentElement=null),Ue(this,T)},replaceChild:function(T,L){pe(this,T,L,W),T.ownerDocument=this,L&&this.removeChild(L),xt(T)&&(this.documentElement=T)},importNode:function(T,L){return Ze(this,T,L)},getElementById:function(T){var L=null;return xe(this.documentElement,function(K){if(K.nodeType==g&&K.getAttribute("id")==T)return L=K,!0}),L},getElementsByClassName:function(T){var L=l(T);return new R(this,function(K){var A=[];return L.length>0&&xe(K.documentElement,function(ue){if(ue!==K&&ue.nodeType===g){var _e=ue.getAttribute("class");if(_e){var z=T===_e;if(!z){var oe=l(_e);z=L.every(c(oe))}z&&A.push(ue)}}}),A})},createElement:function(T){var L=new De;L.ownerDocument=this,L.nodeName=T,L.tagName=T,L.localName=T,L.childNodes=new J;var K=L.attributes=new re;return K._ownerElement=L,L},createDocumentFragment:function(){var T=new En;return T.ownerDocument=this,T.childNodes=new J,T},createTextNode:function(T){var L=new tt;return L.ownerDocument=this,L.appendData(T),L},createComment:function(T){var L=new We;return L.ownerDocument=this,L.appendData(T),L},createCDATASection:function(T){var L=new lt;return L.ownerDocument=this,L.appendData(T),L},createProcessingInstruction:function(T,L){var K=new On;return K.ownerDocument=this,K.tagName=K.nodeName=K.target=T,K.nodeValue=K.data=L,K},createAttribute:function(T){var L=new me;return L.ownerDocument=this,L.name=T,L.nodeName=T,L.localName=T,L.specified=!0,L},createEntityReference:function(T){var L=new Sn;return L.ownerDocument=this,L.nodeName=T,L},createElementNS:function(T,L){var K=new De,A=L.split(":"),ue=K.attributes=new re;return K.childNodes=new J,K.ownerDocument=this,K.nodeName=L,K.tagName=L,K.namespaceURI=T,A.length==2?(K.prefix=A[0],K.localName=A[1]):K.localName=L,ue._ownerElement=K,K},createAttributeNS:function(T,L){var K=new me,A=L.split(":");return K.ownerDocument=this,K.nodeName=L,K.name=L,K.namespaceURI=T,K.specified=!0,A.length==2?(K.prefix=A[0],K.localName=A[1]):K.localName=L,K}},h(ce,Y);function De(){this._nsMap={}}De.prototype={nodeType:g,hasAttribute:function(T){return this.getAttributeNode(T)!=null},getAttribute:function(T){var L=this.getAttributeNode(T);return L&&L.value||""},getAttributeNode:function(T){return this.attributes.getNamedItem(T)},setAttribute:function(T,L){var K=this.ownerDocument.createAttribute(T);K.value=K.nodeValue=""+L,this.setAttributeNode(K)},removeAttribute:function(T){var L=this.getAttributeNode(T);L&&this.removeAttributeNode(L)},appendChild:function(T){return T.nodeType===C?this.insertBefore(T,null):Pe(this,T)},setAttributeNode:function(T){return this.attributes.setNamedItem(T)},setAttributeNodeNS:function(T){return this.attributes.setNamedItemNS(T)},removeAttributeNode:function(T){return this.attributes.removeNamedItem(T.nodeName)},removeAttributeNS:function(T,L){var K=this.getAttributeNodeNS(T,L);K&&this.removeAttributeNode(K)},hasAttributeNS:function(T,L){return this.getAttributeNodeNS(T,L)!=null},getAttributeNS:function(T,L){var K=this.getAttributeNodeNS(T,L);return K&&K.value||""},setAttributeNS:function(T,L,K){var A=this.ownerDocument.createAttributeNS(T,L);A.value=A.nodeValue=""+K,this.setAttributeNode(A)},getAttributeNodeNS:function(T,L){return this.attributes.getNamedItemNS(T,L)},getElementsByTagName:function(T){return new R(this,function(L){var K=[];return xe(L,function(A){A!==L&&A.nodeType==g&&(T==="*"||A.tagName==T)&&K.push(A)}),K})},getElementsByTagNameNS:function(T,L){return new R(this,function(K){var A=[];return xe(K,function(ue){ue!==K&&ue.nodeType===g&&(T==="*"||ue.namespaceURI===T)&&(L==="*"||ue.localName==L)&&A.push(ue)}),A})}},ce.prototype.getElementsByTagName=De.prototype.getElementsByTagName,ce.prototype.getElementsByTagNameNS=De.prototype.getElementsByTagNameNS,h(De,Y);function me(){}me.prototype.nodeType=w,h(me,Y);function Le(){}Le.prototype={data:"",substringData:function(T,L){return this.data.substring(T,T+L)},appendData:function(T){T=this.data+T,this.nodeValue=this.data=T,this.length=T.length},insertData:function(T,L){this.replaceData(T,0,L)},appendChild:function(T){throw new Error(F[M])},deleteData:function(T,L){this.replaceData(T,L,"")},replaceData:function(T,L,K){var A=this.data.substring(0,T),ue=this.data.substring(T+L);K=A+K+ue,this.nodeValue=this.data=K,this.length=K.length}},h(Le,Y);function tt(){}tt.prototype={nodeName:"#text",nodeType:b,splitText:function(T){var L=this.data,K=L.substring(T);L=L.substring(0,T),this.data=this.nodeValue=L,this.length=L.length;var A=this.ownerDocument.createTextNode(K);return this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling),A}},h(tt,Le);function We(){}We.prototype={nodeName:"#comment",nodeType:S},h(We,Le);function lt(){}lt.prototype={nodeName:"#cdata-section",nodeType:N},h(lt,Le);function bt(){}bt.prototype.nodeType=k,h(bt,Y);function yt(){}yt.prototype.nodeType=B,h(yt,Y);function zt(){}zt.prototype.nodeType=_,h(zt,Y);function Sn(){}Sn.prototype.nodeType=x,h(Sn,Y);function En(){}En.prototype.nodeName="#document-fragment",En.prototype.nodeType=C,h(En,Y);function On(){}On.prototype.nodeType=y,h(On,Y);function Ot(){}Ot.prototype.serializeToString=function(T,L,K){return yn.call(T,L,K)},Y.prototype.toString=yn;function yn(T,L){var K=[],A=this.nodeType==9&&this.documentElement||this,ue=A.prefix,_e=A.namespaceURI;if(_e&&ue==null){var ue=A.lookupPrefix(_e);if(ue==null)var z=[{namespace:_e,prefix:null}]}return ze(this,K,T,L,z),K.join("")}function Rn(T,L,K){var A=T.prefix||"",ue=T.namespaceURI;if(!ue||A==="xml"&&ue===n.XML||ue===n.XMLNS)return!1;for(var _e=K.length;_e--;){var z=K[_e];if(z.prefix===A)return z.namespace!==ue}return!0}function V(T,L,K){T.push(" ",L,'="',K.replace(/[<&"]/g,$),'"')}function ze(T,L,K,A,ue){if(ue||(ue=[]),A)if(T=A(T),T){if(typeof T=="string"){L.push(T);return}}else return;switch(T.nodeType){case g:var _e=T.attributes,z=_e.length,qt=T.firstChild,oe=T.tagName;K=n.isHTML(T.namespaceURI)||K;var Te=oe;if(!K&&!T.prefix&&T.namespaceURI){for(var et,Xe=0;Xe<_e.length;Xe++)if(_e.item(Xe).name==="xmlns"){et=_e.item(Xe).value;break}if(!et)for(var it=ue.length-1;it>=0;it--){var Rt=ue[it];if(Rt.prefix===""&&Rt.namespace===T.namespaceURI){et=Rt.namespace;break}}if(et!==T.namespaceURI)for(var it=ue.length-1;it>=0;it--){var Rt=ue[it];if(Rt.namespace===T.namespaceURI){Rt.prefix&&(Te=Rt.prefix+":"+oe);break}}}L.push("<",Te);for(var Fn=0;Fn<z;Fn++){var Gt=_e.item(Fn);Gt.prefix=="xmlns"?ue.push({prefix:Gt.localName,namespace:Gt.value}):Gt.nodeName=="xmlns"&&ue.push({prefix:"",namespace:Gt.value})}for(var Fn=0;Fn<z;Fn++){var Gt=_e.item(Fn);if(Rn(Gt,K,ue)){var Pt=Gt.prefix||"",en=Gt.namespaceURI;V(L,Pt?"xmlns:"+Pt:"xmlns",en),ue.push({prefix:Pt,namespace:en})}ze(Gt,L,K,A,ue)}if(oe===Te&&Rn(T,K,ue)){var Pt=T.prefix||"",en=T.namespaceURI;V(L,Pt?"xmlns:"+Pt:"xmlns",en),ue.push({prefix:Pt,namespace:en})}if(qt||K&&!/^(?:meta|link|img|br|hr|input)$/i.test(oe)){if(L.push(">"),K&&/^script$/i.test(oe))for(;qt;)qt.data?L.push(qt.data):ze(qt,L,K,A,ue.slice()),qt=qt.nextSibling;else for(;qt;)ze(qt,L,K,A,ue.slice()),qt=qt.nextSibling;L.push("</",Te,">")}else L.push("/>");return;case D:case C:for(var qt=T.firstChild;qt;)ze(qt,L,K,A,ue.slice()),qt=qt.nextSibling;return;case w:return V(L,T.name,T.value);case b:return L.push(T.data.replace(/[<&]/g,$).replace(/]]>/g,"]]&gt;"));case N:return L.push("<![CDATA[",T.data,"]]>");case S:return L.push("<!--",T.data,"-->");case k:var wn=T.publicId,Yn=T.systemId;if(L.push("<!DOCTYPE ",T.name),wn)L.push(" PUBLIC ",wn),Yn&&Yn!="."&&L.push(" ",Yn),L.push(">");else if(Yn&&Yn!=".")L.push(" SYSTEM ",Yn,">");else{var yr=T.internalSubset;yr&&L.push(" [",yr,"]"),L.push(">")}return;case y:return L.push("<?",T.target," ",T.data,"?>");case x:return L.push("&",T.nodeName,";");default:L.push("??",T.nodeName)}}function Ze(T,L,K){var A;switch(L.nodeType){case g:A=L.cloneNode(!1),A.ownerDocument=T;case C:break;case w:K=!0;break}if(A||(A=L.cloneNode(!1)),A.ownerDocument=T,A.parentNode=null,K)for(var ue=L.firstChild;ue;)A.appendChild(Ze(T,ue,K)),ue=ue.nextSibling;return A}function ut(T,L,K){var A=new L.constructor;for(var ue in L)if(Object.prototype.hasOwnProperty.call(L,ue)){var _e=L[ue];typeof _e!="object"&&_e!=A[ue]&&(A[ue]=_e)}switch(L.childNodes&&(A.childNodes=new J),A.ownerDocument=T,A.nodeType){case g:var z=L.attributes,oe=A.attributes=new re,Te=z.length;oe._ownerElement=A;for(var et=0;et<Te;et++)A.setAttributeNode(ut(T,z.item(et),!0));break;case w:K=!0}if(K)for(var Xe=L.firstChild;Xe;)A.appendChild(ut(T,Xe,K)),Xe=Xe.nextSibling;return A}function fe(T,L,K){T[L]=K}try{if(Object.defineProperty){let T=function(L){switch(L.nodeType){case g:case C:var K=[];for(L=L.firstChild;L;)L.nodeType!==7&&L.nodeType!==8&&K.push(T(L)),L=L.nextSibling;return K.join("");default:return L.nodeValue}};var Be=T;Object.defineProperty(R.prototype,"length",{get:function(){return se(this),this.$$length}}),Object.defineProperty(Y.prototype,"textContent",{get:function(){return T(this)},set:function(L){switch(this.nodeType){case g:case C:for(;this.firstChild;)this.removeChild(this.firstChild);(L||String(L))&&this.appendChild(this.ownerDocument.createTextNode(L));break;default:this.data=L,this.value=L,this.nodeValue=L}}}),fe=function(L,K,A){L["$$"+K]=A}}}catch{}return Xi.DocumentType=bt,Xi.DOMException=U,Xi.DOMImplementation=Z,Xi.Element=De,Xi.Node=Y,Xi.NodeList=J,Xi.XMLSerializer=Ot,Xi}var ss={},np={},Pv;function aO(){return Pv||(Pv=1,function(t){var e=nd().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES}(np)),np}var Yc={},Uv;function uO(){if(Uv)return Yc;Uv=1;var t=nd().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),a=0,s=1,l=2,c=3,d=4,h=5,m=6,g=7;function w(M,H){this.message=M,this.locator=H,Error.captureStackTrace&&Error.captureStackTrace(this,w)}w.prototype=new Error,w.prototype.name=w.name;function b(){}b.prototype={parse:function(M,H,ne){var U=this.domBuilder;U.startDocument(),k(H,H={}),N(M,H,ne,U,this.errorHandler),U.endDocument()}};function N(M,H,ne,U,J){function R(De){if(De>65535){De-=65536;var me=55296+(De>>10),Le=56320+(De&1023);return String.fromCharCode(me,Le)}else return String.fromCharCode(De)}function se(De){var me=De.slice(1,-1);return me in ne?ne[me]:me.charAt(0)==="#"?R(parseInt(me.substr(1).replace("x","0x"))):(J.error("entity not found:"+De),De)}function re(De){if(De>ce){var me=M.substring(ce,De).replace(/&#?\w+;/g,se);Y&&ee(ce),U.characters(me,0,De-ce),ce=De}}function ee(De,me){for(;De>=de&&(me=Z.exec(M));)ge=me.index,de=ge+me[0].length,Y.lineNumber++;Y.columnNumber=De-ge+1}for(var ge=0,de=0,Z=/.*(?:\r\n?|\n)|.*$/g,Y=U.locator,$=[{currentNSMap:H}],xe={},ce=0;;){try{var Ne=M.indexOf("<",ce);if(Ne<0){if(!M.substr(ce).match(/^\s*$/)){var Qe=U.doc,ht=Qe.createTextNode(M.substr(ce));Qe.appendChild(ht),U.currentElement=ht}return}switch(Ne>ce&&re(Ne),M.charAt(Ne+1)){case"/":var Ae=M.indexOf(">",Ne+3),Ue=M.substring(Ne+2,Ae).replace(/[ \t\n\r]+$/g,""),ct=$.pop();Ae<0?(Ue=M.substring(Ne+2).replace(/[\s<].*/,""),J.error("end tag name: "+Ue+" is not complete:"+ct.tagName),Ae=Ne+1+Ue.length):Ue.match(/\s</)&&(Ue=Ue.replace(/[\s<].*/,""),J.error("end tag name: "+Ue+" maybe not complete"),Ae=Ne+1+Ue.length);var wt=ct.localNSMap,ft=ct.tagName==Ue,xt=ft||ct.tagName&&ct.tagName.toLowerCase()==Ue.toLowerCase();if(xt){if(U.endElement(ct.uri,ct.localName,Ue),wt)for(var Tt in wt)Object.prototype.hasOwnProperty.call(wt,Tt)&&U.endPrefixMapping(Tt);ft||J.fatalError("end tag name: "+Ue+" is not match the current start tagName:"+ct.tagName)}else $.push(ct);Ae++;break;case"?":Y&&ee(Ne),Ae=B(M,Ne,U);break;case"!":Y&&ee(Ne),Ae=C(M,Ne,U,J);break;default:Y&&ee(Ne);var O=new P,ke=$[$.length-1].currentNSMap,Ae=_(M,Ne,O,ke,se,J),X=O.length;if(!O.closed&&D(M,Ae,O.tagName,xe)&&(O.closed=!0,ne.nbsp||J.warning("unclosed xml attribute")),Y&&X){for(var W=x(Y,{}),pe=0;pe<X;pe++){var Pe=O[pe];ee(Pe.offset),Pe.locator=x(Y,{})}U.locator=W,y(O,U,ke)&&$.push(O),U.locator=Y}else y(O,U,ke)&&$.push(O);t.isHTML(O.uri)&&!O.closed?Ae=S(M,Ae,O.tagName,se,U):Ae++}}catch(De){if(De instanceof w)throw De;J.error("element parse error: "+De),Ae=-1}Ae>ce?ce=Ae:re(Math.max(Ne,ce)+1)}}function x(M,H){return H.lineNumber=M.lineNumber,H.columnNumber=M.columnNumber,H}function _(M,H,ne,U,J,R){function se(Y,$,xe){ne.attributeNames.hasOwnProperty(Y)&&R.fatalError("Attribute "+Y+" redefined"),ne.addValue(Y,$,xe)}for(var re,ee,ge=++H,de=a;;){var Z=M.charAt(ge);switch(Z){case"=":if(de===s)re=M.slice(H,ge),de=c;else if(de===l)de=c;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(de===c||de===s)if(de===s&&(R.warning('attribute value must after "="'),re=M.slice(H,ge)),H=ge+1,ge=M.indexOf(Z,H),ge>0)ee=M.slice(H,ge).replace(/&#?\w+;/g,J),se(re,ee,H-1),de=h;else throw new Error("attribute value no end '"+Z+"' match");else if(de==d)ee=M.slice(H,ge).replace(/&#?\w+;/g,J),se(re,ee,H),R.warning('attribute "'+re+'" missed start quot('+Z+")!!"),H=ge+1,de=h;else throw new Error('attribute value must after "="');break;case"/":switch(de){case a:ne.setTagName(M.slice(H,ge));case h:case m:case g:de=g,ne.closed=!0;case d:case s:break;case l:ne.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return R.error("unexpected end of input"),de==a&&ne.setTagName(M.slice(H,ge)),ge;case">":switch(de){case a:ne.setTagName(M.slice(H,ge));case h:case m:case g:break;case d:case s:ee=M.slice(H,ge),ee.slice(-1)==="/"&&(ne.closed=!0,ee=ee.slice(0,-1));case l:de===l&&(ee=re),de==d?(R.warning('attribute "'+ee+'" missed quot(")!'),se(re,ee.replace(/&#?\w+;/g,J),H)):((!t.isHTML(U[""])||!ee.match(/^(?:disabled|checked|selected)$/i))&&R.warning('attribute "'+ee+'" missed value!! "'+ee+'" instead!!'),se(ee,ee,H));break;case c:throw new Error("attribute value missed!!")}return ge;case"":Z=" ";default:if(Z<=" ")switch(de){case a:ne.setTagName(M.slice(H,ge)),de=m;break;case s:re=M.slice(H,ge),de=l;break;case d:var ee=M.slice(H,ge).replace(/&#?\w+;/g,J);R.warning('attribute "'+ee+'" missed quot(")!!'),se(re,ee,H);case h:de=m;break}else switch(de){case l:ne.tagName,(!t.isHTML(U[""])||!re.match(/^(?:disabled|checked|selected)$/i))&&R.warning('attribute "'+re+'" missed value!! "'+re+'" instead2!!'),se(re,re,H),H=ge,de=s;break;case h:R.warning('attribute space is required"'+re+'"!!');case m:de=s,H=ge;break;case c:de=d,H=ge;break;case g:throw new Error("elements closed character '/' and '>' must be connected to")}}ge++}}function y(M,H,ne){for(var U=M.tagName,J=null,Z=M.length;Z--;){var R=M[Z],se=R.qName,re=R.value,Y=se.indexOf(":");if(Y>0)var ee=R.prefix=se.slice(0,Y),ge=se.slice(Y+1),de=ee==="xmlns"&&ge;else ge=se,ee=null,de=se==="xmlns"&&"";R.localName=ge,de!==!1&&(J==null&&(J={},k(ne,ne={})),ne[de]=J[de]=re,R.uri=t.XMLNS,H.startPrefixMapping(de,re))}for(var Z=M.length;Z--;){R=M[Z];var ee=R.prefix;ee&&(ee==="xml"&&(R.uri=t.XML),ee!=="xmlns"&&(R.uri=ne[ee||""]))}var Y=U.indexOf(":");Y>0?(ee=M.prefix=U.slice(0,Y),ge=M.localName=U.slice(Y+1)):(ee=null,ge=M.localName=U);var $=M.uri=ne[ee||""];if(H.startElement($,ge,U,M),M.closed){if(H.endElement($,ge,U),J)for(ee in J)Object.prototype.hasOwnProperty.call(J,ee)&&H.endPrefixMapping(ee)}else return M.currentNSMap=ne,M.localNSMap=J,!0}function S(M,H,ne,U,J){if(/^(?:script|textarea)$/i.test(ne)){var R=M.indexOf("</"+ne+">",H),se=M.substring(H+1,R);if(/[&<]/.test(se))return/^script$/i.test(ne)?(J.characters(se,0,se.length),R):(se=se.replace(/&#?\w+;/g,U),J.characters(se,0,se.length),R)}return H+1}function D(M,H,ne,U){var J=U[ne];return J==null&&(J=M.lastIndexOf("</"+ne+">"),J<H&&(J=M.lastIndexOf("</"+ne)),U[ne]=J),J<H}function k(M,H){for(var ne in M)Object.prototype.hasOwnProperty.call(M,ne)&&(H[ne]=M[ne])}function C(M,H,ne,U){var J=M.charAt(H+2);switch(J){case"-":if(M.charAt(H+3)==="-"){var R=M.indexOf("-->",H+4);return R>H?(ne.comment(M,H+4,R-H-4),R+3):(U.error("Unclosed comment"),-1)}else return-1;default:if(M.substr(H+3,6)=="CDATA["){var R=M.indexOf("]]>",H+9);return ne.startCDATA(),ne.characters(M,H+9,R-H-9),ne.endCDATA(),R+3}var se=F(M,H),re=se.length;if(re>1&&/!doctype/i.test(se[0][0])){var ee=se[1][0],ge=!1,de=!1;re>3&&(/^public$/i.test(se[2][0])?(ge=se[3][0],de=re>4&&se[4][0]):/^system$/i.test(se[2][0])&&(de=se[3][0]));var Z=se[re-1];return ne.startDTD(ee,ge,de),ne.endDTD(),Z.index+Z[0].length}}return-1}function B(M,H,ne){var U=M.indexOf("?>",H);if(U){var J=M.substring(H,U).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return J?(J[0].length,ne.processingInstruction(J[1],J[2]),U+2):-1}return-1}function P(){this.attributeNames={}}P.prototype={setTagName:function(M){if(!r.test(M))throw new Error("invalid tagName:"+M);this.tagName=M},addValue:function(M,H,ne){if(!r.test(M))throw new Error("invalid attribute:"+M);this.attributeNames[M]=this.length,this[this.length++]={qName:M,value:H,offset:ne}},length:0,getLocalName:function(M){return this[M].localName},getLocator:function(M){return this[M].locator},getQName:function(M){return this[M].qName},getURI:function(M){return this[M].uri},getValue:function(M){return this[M].value}};function F(M,H){var ne,U=[],J=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(J.lastIndex=H,J.exec(M);ne=J.exec(M);)if(U.push(ne),ne[1])return U}return Yc.XMLReader=b,Yc.ParseError=w,Yc}var Fv;function sO(){if(Fv)return ss;Fv=1;var t=nd(),e=aT(),n=aO(),r=uO(),a=e.DOMImplementation,s=t.NAMESPACE,l=r.ParseError,c=r.XMLReader;function d(x){this.options=x||{locator:{}}}d.prototype.parseFromString=function(x,_){var y=this.options,S=new c,D=y.domBuilder||new m,k=y.errorHandler,C=y.locator,B=y.xmlns||{},P=/\/x?html?$/.test(_),F=P?n.HTML_ENTITIES:n.XML_ENTITIES;return C&&D.setDocumentLocator(C),S.errorHandler=h(k,D,C),S.domBuilder=y.domBuilder||D,P&&(B[""]=s.HTML),B.xml=B.xml||s.XML,x&&typeof x=="string"?S.parse(x,B,F):S.errorHandler.error("invalid doc source"),D.doc};function h(x,_,y){if(!x){if(_ instanceof m)return _;x=_}var S={},D=x instanceof Function;y=y||{};function k(C){var B=x[C];!B&&D&&(B=x.length==2?function(P){x(C,P)}:x),S[C]=B&&function(P){B("[xmldom "+C+"]	"+P+w(y))}||function(){}}return k("warning"),k("error"),k("fatalError"),S}function m(){this.cdata=!1}function g(x,_){_.lineNumber=x.lineNumber,_.columnNumber=x.columnNumber}m.prototype={startDocument:function(){this.doc=new a().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(x,_,y,S){var D=this.doc,k=D.createElementNS(x,y||_),C=S.length;N(this,k),this.currentElement=k,this.locator&&g(this.locator,k);for(var B=0;B<C;B++){var x=S.getURI(B),P=S.getValue(B),y=S.getQName(B),F=D.createAttributeNS(x,y);this.locator&&g(S.getLocator(B),F),F.value=F.nodeValue=P,k.setAttributeNode(F)}},endElement:function(x,_,y){var S=this.currentElement;S.tagName,this.currentElement=S.parentNode},startPrefixMapping:function(x,_){},endPrefixMapping:function(x){},processingInstruction:function(x,_){var y=this.doc.createProcessingInstruction(x,_);this.locator&&g(this.locator,y),N(this,y)},ignorableWhitespace:function(x,_,y){},characters:function(x,_,y){if(x=b.apply(this,arguments),x){if(this.cdata)var S=this.doc.createCDATASection(x);else var S=this.doc.createTextNode(x);this.currentElement?this.currentElement.appendChild(S):/^\s*$/.test(x)&&this.doc.appendChild(S),this.locator&&g(this.locator,S)}},skippedEntity:function(x){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(x){(this.locator=x)&&(x.lineNumber=0)},comment:function(x,_,y){x=b.apply(this,arguments);var S=this.doc.createComment(x);this.locator&&g(this.locator,S),N(this,S)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(x,_,y){var S=this.doc.implementation;if(S&&S.createDocumentType){var D=S.createDocumentType(x,_,y);this.locator&&g(this.locator,D),N(this,D),this.doc.doctype=D}},warning:function(x){console.warn("[xmldom warning]	"+x,w(this.locator))},error:function(x){console.error("[xmldom error]	"+x,w(this.locator))},fatalError:function(x){throw new l(x,this.locator)}};function w(x){if(x)return`
@`+(x.systemId||"")+"#[line:"+x.lineNumber+",col:"+x.columnNumber+"]"}function b(x,_,y){return typeof x=="string"?x.substr(_,y):x.length>=_+y||_?new java.lang.String(x,_,y)+"":x}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(x){m.prototype[x]=function(){return null}});function N(x,_){x.currentElement?x.currentElement.appendChild(_):x.doc.appendChild(_)}return ss.__DOMHandler=m,ss.DOMParser=d,ss.DOMImplementation=e.DOMImplementation,ss.XMLSerializer=e.XMLSerializer,ss}var zv;function oO(){if(zv)return Bo;zv=1;var t=aT();return Bo.DOMImplementation=t.DOMImplementation,Bo.XMLSerializer=t.XMLSerializer,Bo.DOMParser=sO().DOMParser,Bo}var uT=oO();const t1=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,lO=1,cO=3,sT=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function rd(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?r:r&7|8).toString(16)});return e}function fO(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function oT(t){return!!(t&&t.nodeType==1)}function Un(t){return!isNaN(parseFloat(t))&&isFinite(t)}function lT(t){let e=parseFloat(t);return Un(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function ps(t){var e=["Webkit","webkit","Moz","O","ms"],n=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=t.toLowerCase(),a=e.length;if(typeof document>"u"||typeof document.body.style[r]<"u")return t;for(var s=0;s<a;s++)if(typeof document.body.style[n[s]+r]<"u")return n[s]+r;return t}function cT(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var a in r)t[a]===void 0&&(t[a]=r[a])}return t}function pr(t){var e=[].slice.call(arguments,1);return e.forEach(function(n){n&&Object.getOwnPropertyNames(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}),t}function dO(t,e,n){var r=ws(t,e,n);return e.splice(r,0,t),r}function ws(t,e,n,r,a){var s=r||0,l=a||e.length,c=parseInt(s+(l-s)/2),d;return n||(n=function(h,m){if(h>m)return 1;if(h<m)return-1;if(h==m)return 0}),l-s<=0?c:(d=n(e[c],t),l-s===1?d>=0?c:c+1:d===0?c:d===-1?ws(t,e,n,c,l):ws(t,e,n,s,c))}function Of(t,e,n,r,a){var s=r||0,l=a||e.length,c=parseInt(s+(l-s)/2),d;return n||(n=function(h,m){if(h>m)return 1;if(h<m)return-1;if(h==m)return 0}),l-s<=0?-1:(d=n(e[c],t),l-s===1?d===0?c:-1:d===0?c:d===-1?Of(t,e,n,c,l):Of(t,e,n,s,c))}function rf(t){var e=window.getComputedStyle(t),n=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,s=0;return n.forEach(function(l){a+=parseFloat(e[l])||0}),r.forEach(function(l){s+=parseFloat(e[l])||0}),{height:s,width:a}}function Rf(t){var e=window.getComputedStyle(t),n=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,s=0;return n.forEach(function(l){a+=parseFloat(e[l])||0}),r.forEach(function(l){s+=parseFloat(e[l])||0}),{height:s,width:a}}function rm(t){let e,n=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let r=n.createRange();r.selectNodeContents(t),e=r.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function If(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function n1(t,e){for(var n=t.parentNode,r=n.childNodes,a,s=-1,l=0;l<r.length&&(a=r[l],a.nodeType===e&&s++,a!=t);l++);return s}function hO(t){return n1(t,cO)}function fT(t){return n1(t,lO)}function pl(t){return["xml","opf","ncx"].indexOf(t)>-1}function dT(t,e){return new Blob([t],{type:e})}function kf(t,e){var n,r=dT(t,e);return n=sT.createObjectURL(r),n}function hT(t){return sT.revokeObjectURL(t)}function im(t,e){var n,r;if(typeof t=="string")return n=btoa(t),r="data:"+e+";base64,"+n,r}function pT(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ri(t,e,n){var r,a;return typeof DOMParser>"u"||n?a=uT.DOMParser:a=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),r=new a().parseFromString(t,e),r}function xn(t,e){var n;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector<"u")return t.querySelector(e);if(n=t.getElementsByTagName(e),n.length)return n[0]}function na(t,e){return typeof t.querySelector<"u"?t.querySelectorAll(e):t.getElementsByTagName(e)}function ms(t,e,n){var r,a;if(typeof t.querySelector<"u"){e+="[";for(var s in n)e+=s+"~='"+n[s]+"'";return e+="]",t.querySelector(e)}else if(r=t.getElementsByTagName(e),a=Array.prototype.slice.call(r,0).filter(function(l){for(var c in n)if(l.getAttribute(c)===n[c])return!0;return!1}),a)return a[0]}function Lf(t,e){var n=t.ownerDocument||t;typeof n.createTreeWalker<"u"?mT(t,e,NodeFilter.SHOW_TEXT):r1(t,function(r){r&&r.nodeType===3&&e(r)})}function mT(t,e,n){var r=document.createTreeWalker(t,n,null,!1);let a;for(;a=r.nextNode();)e(a)}function r1(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(r1(t,e))return!0;t=t.nextSibling}while(t)}function gT(t){return new Promise(function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onloadend=function(){e(r.result)}})}function Qt(){this.resolve=null,this.reject=null,this.id=rd(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function Bf(t,e,n){var r;if(typeof t.querySelector<"u"&&(r=t.querySelector(`${e}[*|type="${n}"]`)),!r||r.length===0){r=na(t,e);for(var a=0;a<r.length;a++)if(r[a].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||r[a].getAttribute("epub:type")===n)return r[a]}else return r}function am(t){for(var e=[],n=t.childNodes,r=0;r<n.length;r++){let a=n[r];a.nodeType===1&&e.push(a)}return e}function um(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function gs(t,e,n){for(var r=[],a=t.childNodes,s=0;s<a.length;s++){let l=a[s];if(l.nodeType===1&&l.nodeName.toLowerCase()===e){if(n)return l;r.push(l)}}if(!n)return r}function pO(t,e){let n;if(!(t===null||e===""))for(n=t.parentNode;n.nodeType===1;){if(n.tagName.toLowerCase()===e)return n;n=n.parentNode}}class bT{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,n){this.startContainer=e,this.startOffset=n,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,n){this.endContainer=e,this.endOffset=n,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let n=e.parentNode,r=Array.prototype.indexOf.call(n.childNodes,e);this.setStart(n,r),this.setEnd(n,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let n=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,n)}_commonAncestorContainer(e,n){var r=um(e||this.startContainer),a=um(n||this.endContainer);if(r[0]==a[0]){for(var s=0;s<r.length;s++)if(r[s]!=a[s])return r[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const mO=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:bT,blob2base64:gT,borders:Rf,bounds:rf,createBase64Url:im,createBlob:dT,createBlobUrl:kf,defaults:cT,defer:Qt,documentHeight:fO,extend:pr,filterChildren:gs,findChildren:am,getParentByTagName:pO,indexOfElementNode:fT,indexOfNode:n1,indexOfSorted:Of,indexOfTextNode:hO,insert:dO,isElement:oT,isFloat:lT,isNumber:Un,isXml:pl,locationOf:ws,nodeBounds:rm,parents:um,parse:Ri,prefixed:ps,qs:xn,qsa:na,qsp:ms,querySelectorByType:Bf,requestAnimationFrame:t1,revokeBlobUrl:hT,sprint:Lf,treeWalker:mT,type:pT,uuid:rd,walk:r1,windowBounds:If},Symbol.toStringTag,{value:"Module"}));var rp,Hv;function gO(){if(Hv)return rp;if(Hv=1,!t)var t={cwd:function(){return"/"}};function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+s)}function n(s,l){for(var c="",d=-1,h=0,m,g=0;g<=s.length;++g){if(g<s.length)m=s.charCodeAt(g);else{if(m===47)break;m=47}if(m===47){if(!(d===g-1||h===1))if(d!==g-1&&h===2){if(c.length<2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){for(var w=c.length-1,b=w;b>=0&&c.charCodeAt(b)!==47;--b);if(b!==w){b===-1?c="":c=c.slice(0,b),d=g,h=0;continue}}else if(c.length===2||c.length===1){c="",d=g,h=0;continue}}l&&(c.length>0?c+="/..":c="..")}else c.length>0?c+="/"+s.slice(d+1,g):c=s.slice(d+1,g);d=g,h=0}else m===46&&h!==-1?++h:h=-1}return c}function r(s,l){var c=l.dir||l.root,d=l.base||(l.name||"")+(l.ext||"");return c?c===l.root?c+d:c+s+d:d}var a={resolve:function(){for(var l="",c=!1,d,h=arguments.length-1;h>=-1&&!c;h--){var m;h>=0?m=arguments[h]:(d===void 0&&(d=t.cwd()),m=d),e(m),m.length!==0&&(l=m+"/"+l,c=m.charCodeAt(0)===47)}return l=n(l,!c),c?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(l){if(e(l),l.length===0)return".";var c=l.charCodeAt(0)===47,d=l.charCodeAt(l.length-1)===47;return l=n(l,!c),l.length===0&&!c&&(l="."),l.length>0&&d&&(l+="/"),c?"/"+l:l},isAbsolute:function(l){return e(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,c=0;c<arguments.length;++c){var d=arguments[c];e(d),d.length>0&&(l===void 0?l=d:l+="/"+d)}return l===void 0?".":a.normalize(l)},relative:function(l,c){if(e(l),e(c),l===c||(l=a.resolve(l),c=a.resolve(c),l===c))return"";for(var d=1;d<l.length&&l.charCodeAt(d)===47;++d);for(var h=l.length,m=h-d,g=1;g<c.length&&c.charCodeAt(g)===47;++g);for(var w=c.length,b=w-g,N=m<b?m:b,x=-1,_=0;_<=N;++_){if(_===N){if(b>N){if(c.charCodeAt(g+_)===47)return c.slice(g+_+1);if(_===0)return c.slice(g+_)}else m>N&&(l.charCodeAt(d+_)===47?x=_:_===0&&(x=0));break}var y=l.charCodeAt(d+_),S=c.charCodeAt(g+_);if(y!==S)break;y===47&&(x=_)}var D="";for(_=d+x+1;_<=h;++_)(_===h||l.charCodeAt(_)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+c.slice(g+x):(g+=x,c.charCodeAt(g)===47&&++g,c.slice(g))},_makeLong:function(l){return l},dirname:function(l){if(e(l),l.length===0)return".";for(var c=l.charCodeAt(0),d=c===47,h=-1,m=!0,g=l.length-1;g>=1;--g)if(c=l.charCodeAt(g),c===47){if(!m){h=g;break}}else m=!1;return h===-1?d?"/":".":d&&h===1?"//":l.slice(0,h)},basename:function(l,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');e(l);var d=0,h=-1,m=!0,g;if(c!==void 0&&c.length>0&&c.length<=l.length){if(c.length===l.length&&c===l)return"";var w=c.length-1,b=-1;for(g=l.length-1;g>=0;--g){var N=l.charCodeAt(g);if(N===47){if(!m){d=g+1;break}}else b===-1&&(m=!1,b=g+1),w>=0&&(N===c.charCodeAt(w)?--w===-1&&(h=g):(w=-1,h=b))}return d===h?h=b:h===-1&&(h=l.length),l.slice(d,h)}else{for(g=l.length-1;g>=0;--g)if(l.charCodeAt(g)===47){if(!m){d=g+1;break}}else h===-1&&(m=!1,h=g+1);return h===-1?"":l.slice(d,h)}},extname:function(l){e(l);for(var c=-1,d=0,h=-1,m=!0,g=0,w=l.length-1;w>=0;--w){var b=l.charCodeAt(w);if(b===47){if(!m){d=w+1;break}continue}h===-1&&(m=!1,h=w+1),b===46?c===-1?c=w:g!==1&&(g=1):c!==-1&&(g=-1)}return c===-1||h===-1||g===0||g===1&&c===h-1&&c===d+1?"":l.slice(c,h)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof l);return r("/",l)},parse:function(l){e(l);var c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;var d=l.charCodeAt(0),h=d===47,m;h?(c.root="/",m=1):m=0;for(var g=-1,w=0,b=-1,N=!0,x=l.length-1,_=0;x>=m;--x){if(d=l.charCodeAt(x),d===47){if(!N){w=x+1;break}continue}b===-1&&(N=!1,b=x+1),d===46?g===-1?g=x:_!==1&&(_=1):g!==-1&&(_=-1)}return g===-1||b===-1||_===0||_===1&&g===b-1&&g===w+1?b!==-1&&(w===0&&h?c.base=c.name=l.slice(1,b):c.base=c.name=l.slice(w,b)):(w===0&&h?(c.name=l.slice(1,g),c.base=l.slice(1,b)):(c.name=l.slice(w,g),c.base=l.slice(w,b)),c.ext=l.slice(g,b)),w>0?c.dir=l.slice(0,w-1):h&&(c.dir="/"),c},sep:"/",delimiter:":",posix:null};return rp=a,rp}var bO=gO();const Ua=qa(bO);class ra{constructor(e){var n,r;n=e.indexOf("://"),n>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Ua.parse(e)}isAbsolute(e){return Ua.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Ua.resolve(this.directory,e)}relative(e){var n=e&&e.indexOf("://")>-1;return n?e:Ua.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class mi{constructor(e,n){var r=e.indexOf("://")>-1,a=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!r&&n!==!1&&typeof n!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,a=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new ra(this.base),a=s.resolve(a))}this.Path=new ra(a),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var n=e.indexOf("://")>-1,r;return n?e:(r=Ua.resolve(this.directory,e),this.origin+r)}relative(e){return Ua.relative(e,this.directory)}toString(){return this.href}}const os=1,ei=3,_O=9;class Kt{constructor(e,n,r){var a;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Kt))return new Kt(e,n,r);if(typeof n=="string"?this.base=this.parseComponent(n):typeof n=="object"&&n.steps&&(this.base=n),a=this.checkType(e),a==="string")return this.str=e,pr(this,this.parse(e));if(a==="range")return pr(this,this.fromRange(e,this.base,r));if(a==="node")return pr(this,this.fromNode(e,this.base,r));if(a==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(pT(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Kt?"EpubCFI":!1}parse(e){var n={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,a,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(n.base=this.parseComponent(r),a=this.getPathComponent(e),n.path=this.parseComponent(a),s=this.getRange(e),s&&(n.range=!0,n.start=this.parseComponent(s[0]),n.end=this.parseComponent(s[1])),n.spinePos=n.base.steps[1].index,n):{spinePos:-1})}parseComponent(e){var n={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),a=r[0].split("/"),s;return r.length>1&&(s=r[1],n.terminal=this.parseTerminal(s)),a[0]===""&&a.shift(),n.steps=a.map((function(l){return this.parseStep(l)}).bind(this)),n}parseStep(e){var n,r,a,s,l;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(l=s[1]),r=parseInt(e),!isNaN(r))return r%2===0?(n="element",a=r/2-1):(n="text",a=(r-1)/2),{type:n,index:a,id:l||null}}parseTerminal(e){var n,r,a=e.match(/\[(.*)\]/);return a&&a[1]?(n=parseInt(e.split("[")[0]),r=a[1]):n=parseInt(e),Un(n)||(n=null),{offset:n,assertion:r}}getChapterComponent(e){var n=e.split("!");return n[0]}getPathComponent(e){var n=e.split("!");if(n[1])return n[1].split(",")[0]}getRange(e){var n=e.split(",");return n.length===3?[n[1],n[2]]:!1}getCharecterOffsetComponent(e){var n=e.split(":");return n[1]||""}joinSteps(e){return e?e.map(function(n){var r="";return n.type==="element"&&(r+=(n.index+1)*2),n.type==="text"&&(r+=1+2*n.index),n.id&&(r+="["+n.id+"]"),r}).join("/"):""}segmentString(e){var n="/";return n+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(n+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(n+="["+e.terminal.assertion+"]"),n}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,n){var r,a,s,l;if(typeof e=="string"&&(e=new Kt(e)),typeof n=="string"&&(n=new Kt(n)),e.spinePos>n.spinePos)return 1;if(e.spinePos<n.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),s=e.start.terminal):(r=e.path.steps,s=e.path.terminal),n.range?(a=n.path.steps.concat(n.start.steps),l=n.start.terminal):(a=n.path.steps,l=n.path.terminal);for(var c=0;c<r.length;c++){if(!r[c])return-1;if(!a[c]||r[c].index>a[c].index)return 1;if(r[c].index<a[c].index)return-1}return r.length<a.length?-1:s.offset>l.offset?1:s.offset<l.offset?-1:0}step(e){var n=e.nodeType===ei?"text":"element";return{id:e.id,tagName:e.tagName,type:n,index:this.position(e)}}filteredStep(e,n){var r=this.filter(e,n),a;if(r)return a=r.nodeType===ei?"text":"element",{id:r.id,tagName:r.tagName,type:a,index:this.filteredPosition(r,n)}}pathTo(e,n,r){for(var a={steps:[],terminal:{offset:null,assertion:null}},s=e,l;s&&s.parentNode&&s.parentNode.nodeType!=_O;)r?l=this.filteredStep(s,r):l=this.step(s),l&&a.steps.unshift(l),s=s.parentNode;return n!=null&&n>=0&&(a.terminal.offset=n,a.steps[a.steps.length-1].type!="text"&&a.steps.push({type:"text",index:0})),a}equalStep(e,n){return!e||!n?!1:e.index===n.index&&e.id===n.id&&e.type===n.type}fromRange(e,n,r){var a={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,l=e.endContainer,c=e.startOffset,d=e.endOffset,h=!1;if(r&&(h=s.ownerDocument.querySelector("."+r)!=null),typeof n=="string"?(a.base=this.parseComponent(n),a.spinePos=a.base.steps[1].index):typeof n=="object"&&(a.base=n),e.collapsed)h&&(c=this.patchOffset(s,c,r)),a.path=this.pathTo(s,c,r);else{a.range=!0,h&&(c=this.patchOffset(s,c,r)),a.start=this.pathTo(s,c,r),h&&(d=this.patchOffset(l,d,r)),a.end=this.pathTo(l,d,r),a.path={steps:[],terminal:null};var m=a.start.steps.length,g;for(g=0;g<m&&this.equalStep(a.start.steps[g],a.end.steps[g]);g++)g===m-1?a.start.terminal===a.end.terminal&&(a.path.steps.push(a.start.steps[g]),a.range=!1):a.path.steps.push(a.start.steps[g]);a.start.steps=a.start.steps.slice(a.path.steps.length),a.end.steps=a.end.steps.slice(a.path.steps.length)}return a}fromNode(e,n,r){var a={range:!1,base:{},path:{},start:null,end:null};return typeof n=="string"?(a.base=this.parseComponent(n),a.spinePos=a.base.steps[1].index):typeof n=="object"&&(a.base=n),a.path=this.pathTo(e,null,r),a}filter(e,n){var r,a,s,l,c,d=!1;return e.nodeType===ei?(d=!0,s=e.parentNode,r=e.parentNode.classList.contains(n)):(d=!1,r=e.classList.contains(n)),r&&d?(l=s.previousSibling,c=s.nextSibling,l&&l.nodeType===ei?a=l:c&&c.nodeType===ei&&(a=c),a||e):r&&!d?!1:e}patchOffset(e,n,r){if(e.nodeType!=ei)throw new Error("Anchor must be a text node");var a=e,s=n;for(e.parentNode.classList.contains(r)&&(a=e.parentNode);a.previousSibling;){if(a.previousSibling.nodeType===os)if(a.previousSibling.classList.contains(r))s+=a.previousSibling.textContent.length;else break;else s+=a.previousSibling.textContent.length;a=a.previousSibling}return s}normalizedMap(e,n,r){var a={},s=-1,l,c=e.length,d,h;for(l=0;l<c;l++)d=e[l].nodeType,d===os&&e[l].classList.contains(r)&&(d=ei),l>0&&d===ei&&h===ei?a[l]=s:n===d&&(s=s+1,a[l]=s),h=d;return a}position(e){var n,r;return e.nodeType===os?(n=e.parentNode.children,n||(n=am(e.parentNode)),r=Array.prototype.indexOf.call(n,e)):(n=this.textNodes(e.parentNode),r=n.indexOf(e)),r}filteredPosition(e,n){var r,a,s;return e.nodeType===os?(r=e.parentNode.children,s=this.normalizedMap(r,os,n)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(n)&&(e=e.parentNode,r=e.parentNode.childNodes),s=this.normalizedMap(r,ei,n)),a=Array.prototype.indexOf.call(r,e),s[a]}stepsToXpath(e){var n=[".","*"];return e.forEach(function(r){var a=r.index+1;r.id?n.push("*[position()="+a+" and @id='"+r.id+"']"):r.type==="text"?n.push("text()["+a+"]"):n.push("*["+a+"]")}),n.join("/")}stepsToQuerySelector(e){var n=["html"];return e.forEach(function(r){var a=r.index+1;r.id?n.push("#"+r.id):r.type==="text"||n.push("*:nth-child("+a+")")}),n.join(">")}textNodes(e,n){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===ei?!0:!!(n&&r.classList.contains(n))})}walkToNode(e,n,r){var a=n||document,s=a.documentElement,l,c,d=e.length,h;for(h=0;h<d&&(c=e[h],c.type==="element"?c.id?s=a.getElementById(c.id):(l=s.children||am(s),s=l[c.index]):c.type==="text"&&(s=this.textNodes(s,r)[c.index]),!!s);h++);return s}findNode(e,n,r){var a=n||document,s,l;return!r&&typeof a.evaluate<"u"?(l=this.stepsToXpath(e),s=a.evaluate(l,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?s=this.walkToNode(e,a,r):s=this.walkToNode(e,a),s}fixMiss(e,n,r,a){var s=this.findNode(e.slice(0,-1),r,a),l=s.childNodes,c=this.normalizedMap(l,ei,a),d,h,m=e[e.length-1].index;for(let g in c){if(!c.hasOwnProperty(g))return;if(c[g]===m)if(d=l[g],h=d.textContent.length,n>h)n=n-h;else{d.nodeType===os?s=d.childNodes[0]:s=d;break}}return{container:s,offset:n}}toRange(e,n){var r=e||document,a,s,l,c,d,h=this,m,g,w=n?r.querySelector("."+n)!=null:!1,b;if(typeof r.createRange<"u"?a=r.createRange():a=new bT,h.range?(s=h.start,m=h.path.steps.concat(s.steps),c=this.findNode(m,r,w?n:null),l=h.end,g=h.path.steps.concat(l.steps),d=this.findNode(g,r,w?n:null)):(s=h.path,m=h.path.steps,c=this.findNode(h.path.steps,r,w?n:null)),c)try{s.terminal.offset!=null?a.setStart(c,s.terminal.offset):a.setStart(c,0)}catch{b=this.fixMiss(m,s.terminal.offset,r,w?n:null),a.setStart(b.container,b.offset)}else return console.log("No startContainer found for",this.toString()),null;if(d)try{l.terminal.offset!=null?a.setEnd(d,l.terminal.offset):a.setEnd(d,0)}catch{b=this.fixMiss(g,h.end.terminal.offset,r,w?n:null),a.setEnd(b.container,b.offset)}return a}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,n,r){var a=parseInt(n),s=(e+1)*2,l="/"+s+"/";return l+=(a+1)*2,r&&(l+="["+r+"]"),l}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class gi{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var n=0;n<arguments[e].length;++n)this.hooks.push(arguments[e][n])}deregister(e){let n;for(let r=0;r<this.hooks.length;r++)if(n=this.hooks[r],n===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,n=this.context,r=[];return this.hooks.forEach(function(a){try{var s=a.apply(n,e)}catch(l){console.log(l)}s&&typeof s.then=="function"&&r.push(s)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function _T(t,e){var n,r,a=e.url,s=a.indexOf("://")>-1;t&&(r=xn(t,"head"),n=xn(r,"base"),n||(n=t.createElement("base"),r.insertBefore(n,r.firstChild)),!s&&window&&window.location&&(a=window.location.origin+a),n.setAttribute("href",a))}function vO(t,e){var n,r,a=e.canonical;t&&(n=xn(t,"head"),r=xn(n,"link[rel='canonical']"),r?r.setAttribute("href",a):(r=t.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",a),n.appendChild(r)))}function EO(t,e){var n,r,a=e.idref;t&&(n=xn(t,"head"),r=xn(n,"link[property='dc.identifier']"),r?r.setAttribute("content",a):(r=t.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",a),n.appendChild(r)))}function yO(t,e){var n=t.querySelectorAll("a[href]");if(n.length)for(var r=xn(t.ownerDocument,"base"),a=r?r.getAttribute("href"):void 0,s=(function(c){var d=c.getAttribute("href");if(d.indexOf("mailto:")!==0){var h=d.indexOf("://")>-1;if(h)c.setAttribute("target","_blank");else{var m;try{m=new mi(d,a)}catch{}c.onclick=function(){return m&&m.hash?e(m.Path.path+m.hash):e(m?m.Path.path:d),!1}}}}).bind(this),l=0;l<n.length;l++)s(n[l])}function qv(t,e,n){return e.forEach(function(r,a){r&&n[a]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(r,"g"),n[a]))}),t}function ml(t,e,n,r){var a=typeof window<"u"?window.URL:!1,s=a?"blob":"arraybuffer",l=new Qt,c=new XMLHttpRequest,d=XMLHttpRequest.prototype,h;"overrideMimeType"in d||Object.defineProperty(d,"overrideMimeType",{value:function(){}}),n&&(c.withCredentials=!0),c.onreadystatechange=g,c.onerror=m,c.open("GET",t,!0);for(h in r)c.setRequestHeader(h,r[h]);e=="json"&&c.setRequestHeader("Accept","application/json"),e||(e=new ra(t).extension),e=="blob"&&(c.responseType=s),pl(e)&&c.overrideMimeType("text/xml"),e=="binary"&&(c.responseType="arraybuffer"),c.send();function m(w){l.reject(w)}function g(){if(this.readyState===XMLHttpRequest.DONE){var w=!1;if((this.responseType===""||this.responseType==="document")&&(w=this.responseXML),this.status===200||this.status===0||w){var b;if(!this.response&&!w)return l.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),l.promise;if(this.status===403)return l.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),l.promise;w?b=this.responseXML:pl(e)?b=Ri(this.response,"text/xml"):e=="xhtml"?b=Ri(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?b=Ri(this.response,"text/html"):e=="json"?b=JSON.parse(this.response):e=="blob"?a?b=this.response:b=new Blob([this.response]):b=this.response,l.resolve(b)}else l.reject({status:this.status,message:this.response,stack:new Error().stack})}}return l.promise}class TO{constructor(e,n){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new gi(this),this.hooks.content=new gi(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var n=e||this.request||ml,r=new Qt,a=r.promise;return this.contents?r.resolve(this.contents):n(this.url).then((function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){r.resolve(this.contents)}).bind(this)).catch(function(s){r.reject(s)}),a}base(){return _T(this.document,this)}render(e){var n=new Qt,r=n.promise;return this.output,this.load(e).then((function(a){var s=typeof navigator<"u"&&navigator.userAgent||"",l=s.indexOf("Trident")>=0,c;typeof XMLSerializer>"u"||l?c=uT.DOMParser:c=XMLSerializer;var d=new c;return this.output=d.serializeToString(a),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){n.resolve(this.output)}).bind(this)).catch(function(a){n.reject(a)}),r}find(e){var n=this,r=[],a=e.toLowerCase(),s=function(l){for(var c=l.textContent.toLowerCase(),d=n.document.createRange(),h,m,g=-1,w,b=150;m!=-1;)m=c.indexOf(a,g+1),m!=-1&&(d=n.document.createRange(),d.setStart(l,m),d.setEnd(l,m+a.length),h=n.cfiFromRange(d),l.textContent.length<b?w=l.textContent:(w=l.textContent.substring(m-b/2,m+b/2),w="..."+w+"..."),r.push({cfi:h,excerpt:w})),g=m};return Lf(n.document,function(l){s(l)}),r}search(e,n=5){if(typeof document.createTreeWalker>"u")return this.find(e);let r=[];const a=150,s=this,l=e.toLowerCase(),c=function(g){const N=g.reduce((x,_)=>x+_.textContent,"").toLowerCase().indexOf(l);if(N!=-1){const _=N+l.length;let y=0,S=0;if(N<g[0].length){let D;for(;y<g.length-1&&(S+=g[y].length,!(_<=S));)y+=1;let k=g[0],C=g[y],B=s.document.createRange();B.setStart(k,N);let P=g.slice(0,y).reduce((M,H)=>M+H.textContent.length,0);B.setEnd(C,P>_?_:_-P),D=s.cfiFromRange(B);let F=g.slice(0,y+1).reduce((M,H)=>M+H.textContent,"");F.length>a&&(F=F.substring(N-a/2,N+a/2),F="..."+F+"..."),r.push({cfi:D,excerpt:F})}}},d=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let h,m=[];for(;h=d.nextNode();)m.push(h),m.length==n&&(c(m.slice(0,n)),m=m.slice(1,n));return m.length>0&&c(m),r}reconcileLayoutSettings(e){var n={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var a=r.replace("rendition:",""),s=a.indexOf("-"),l,c;s!=-1&&(l=a.slice(0,s),c=a.slice(s+1),n[l]=c)}),n}cfiFromRange(e){return new Kt(e,this.cfiBase).toString()}cfiFromElement(e){return new Kt(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class AO{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new gi,this.hooks.content=new gi,this.hooks.content.register(_T),this.hooks.content.register(vO),this.hooks.content.register(EO),this.epubcfi=new Kt,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,n,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((a,s)=>{var l=this.manifest[a.idref],c;a.index=s,a.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,a.index,a.id),a.href&&(a.url=n(a.href,!0),a.canonical=r(a.href)),l&&(a.href=l.href,a.url=n(a.href,!0),a.canonical=r(a.href),l.properties.length&&a.properties.push.apply(a.properties,l.properties)),a.linear==="yes"?(a.prev=(function(){let d=a.index;for(;d>0;){let h=this.get(d-1);if(h&&h.linear)return h;d-=1}}).bind(this),a.next=(function(){let d=a.index;for(;d<this.spineItems.length-1;){let h=this.get(d+1);if(h&&h.linear)return h;d+=1}}).bind(this)):(a.prev=function(){},a.next=function(){}),c=new TO(a,this.hooks),this.append(c)}),this.loaded=!0}get(e){var n=0;if(typeof e>"u")for(;n<this.spineItems.length;){let r=this.spineItems[n];if(r&&r.linear)break;n+=1}else this.epubcfi.isCfiString(e)?n=new Kt(e).spinePos:typeof e=="number"||isNaN(e)===!1?n=e:typeof e=="string"&&e.indexOf("#")===0?n=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],n=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[n]||null}append(e){var n=this.spineItems.length;return e.index=n,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=n,this.spineByHref[encodeURI(e.href)]=n,this.spineByHref[e.href]=n,this.spineById[e.idref]=n,n}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(n,r){n.index=r}),0}remove(e){var n=this.spineItems.indexOf(e);if(n>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(n,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let n=this.get(e);if(n&&n.linear)return n;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let n=this.get(e);if(n&&n.linear)return n;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class i1{constructor(e){this._q=[],this.context=e,this.tick=t1,this.running=!1,this.paused=!1}enqueue(){var e,n,r,a=[].shift.call(arguments),s=arguments;if(!a)throw new Error("No Task Provided");return typeof a=="function"?(e=new Qt,n=e.promise,r={task:a,args:s,deferred:e,promise:n}):r={promise:a},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,n,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),n=e.task,n)return r=n.apply(this.context,e.args),r&&typeof r.then=="function"?r.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new Qt,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Qt),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const id="0.3",af=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],ot={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class vT{constructor(e,n,r){this.spine=e,this.request=n,this.pause=r||100,this.q=new i1(this),this.epubcfi=new Kt,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(n){n.linear&&this.q.enqueue(this.process.bind(this),n)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(n){var r=new Qt,a=this.parse(n,e.cfiBase);return this._locations=this._locations.concat(a),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(a),this.pause),r.promise}).bind(this))}parse(e,n,r){var a=[],s,l=e.ownerDocument,c=xn(l,"body"),d=0,h,m=r||this.break,g=function(w){var b=w.length,N,x=0;if(w.textContent.trim().length===0)return!1;for(d==0&&(s=this.createRange(),s.startContainer=w,s.startOffset=0),N=m-d,N>b&&(d+=b,x=b);x<b;)if(N=m-d,d===0&&(x+=1,s=this.createRange(),s.startContainer=w,s.startOffset=x),x+N>=b)d+=b-x,x=b;else{x+=N,s.endContainer=w,s.endOffset=x;let _=new Kt(s,n).toString();a.push(_),d=0}h=w};if(Lf(c,g.bind(this)),s&&s.startContainer&&h){s.endContainer=h,s.endOffset=h.length;let w=new Kt(s,n).toString();a.push(w),d=0}return a}generateFromWords(e,n,r){var a=e?new Kt(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(s){s.linear&&(a?s.index>=a.spinePos&&this.q.enqueue(this.processWords.bind(this),s,n,a,r):this.q.enqueue(this.processWords.bind(this),s,n,a,r))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,n,r,a){return a&&this._locationsWords.length>=a?Promise.resolve():e.load(this.request).then((function(s){var l=new Qt,c=this.parseWords(s,e,n,r),d=a-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(c.length>=a?c.slice(0,d):c),e.unload(),this.processingTimeout=setTimeout(()=>l.resolve(c),this.pause),l.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,n,r,a){var s=n.cfiBase,l=[],c=e.ownerDocument,d=xn(c,"body"),h=r,m=a?a.spinePos!==n.index:!0,g;a&&n.index===a.spinePos&&(g=a.findNode(a.range?a.path.steps.concat(a.start.steps):a.path.steps,e.ownerDocument));var w=function(b){if(!m)if(b===g)m=!0;else return!1;if(b.textContent.length<10&&b.textContent.trim().length===0)return!1;var N=this.countWords(b.textContent),x,_=0;if(N===0)return!1;for(x=h-this._wordCounter,x>N&&(this._wordCounter+=N,_=N);_<N;)if(x=h-this._wordCounter,_+x>=N)this._wordCounter+=N-_,_=N;else{_+=x;let y=new Kt(b,s);l.push({cfi:y.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Lf(d,w.bind(this)),l}locationFromCfi(e){let n;return Kt.prototype.isCfiString(e)&&(e=new Kt(e)),this._locations.length===0?-1:(n=ws(e,this._locations,this.epubcfi.compare),n>this.total?this.total:n)}percentageFromCfi(e){if(this._locations.length===0)return null;var n=this.locationFromCfi(e);return this.percentageFromLocation(n)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var n=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(n=this._locations[e]),n}cfiFromPercentage(e){let n;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new Kt(this._locations[this.total]);return r.collapse(),r.toString()}return n=Math.ceil(this.total*e),this.cfiFromLocation(n)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var n;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(n=this.locationFromCfi(e),this._current=n):n=e,this.emit(ot.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(n)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}Ii(vT.prototype);class xO{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var n;if(!e)throw new Error("Container File Not Found");if(n=xn(e,"rootfile"),!n)throw new Error("No RootFile Found");this.packagePath=n.getAttribute("full-path"),this.directory=Ua.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class jv{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var n,r,a;if(!e)throw new Error("Package File Not Found");if(n=xn(e,"metadata"),!n)throw new Error("No Metadata Found");if(r=xn(e,"manifest"),!r)throw new Error("No Manifest Found");if(a=xn(e,"spine"),!a)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,a),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=fT(a),this.spine=this.parseSpine(a,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(n),this.metadata.direction=a.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var n={};return n.title=this.getElementText(e,"title"),n.creator=this.getElementText(e,"creator"),n.description=this.getElementText(e,"description"),n.pubdate=this.getElementText(e,"date"),n.publisher=this.getElementText(e,"publisher"),n.identifier=this.getElementText(e,"identifier"),n.language=this.getElementText(e,"language"),n.rights=this.getElementText(e,"rights"),n.modified_date=this.getPropertyText(e,"dcterms:modified"),n.layout=this.getPropertyText(e,"rendition:layout"),n.orientation=this.getPropertyText(e,"rendition:orientation"),n.flow=this.getPropertyText(e,"rendition:flow"),n.viewport=this.getPropertyText(e,"rendition:viewport"),n.media_active_class=this.getPropertyText(e,"media:active-class"),n.spread=this.getPropertyText(e,"rendition:spread"),n}parseManifest(e){var n={},r=na(e,"item"),a=Array.prototype.slice.call(r);return a.forEach(function(s){var l=s.getAttribute("id"),c=s.getAttribute("href")||"",d=s.getAttribute("media-type")||"",h=s.getAttribute("media-overlay")||"",m=s.getAttribute("properties")||"";n[l]={href:c,type:d,overlay:h,properties:m.length?m.split(" "):[]}}),n}parseSpine(e,n){var r=[],a=na(e,"itemref"),s=Array.prototype.slice.call(a);return s.forEach(function(l,c){var d=l.getAttribute("idref"),h=l.getAttribute("properties")||"",m=h.length?h.split(" "):[],g={id:l.getAttribute("id"),idref:d,linear:l.getAttribute("linear")||"yes",properties:m,index:c};r.push(g)}),r}findUniqueIdentifier(e){var n=e.documentElement.getAttribute("unique-identifier");if(!n)return"";var r=e.getElementById(n);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var n=ms(e,"item",{properties:"nav"});return n?n.getAttribute("href"):!1}findNcxPath(e,n){var r=ms(e,"item",{"media-type":"application/x-dtbncx+xml"}),a;return r||(a=n.getAttribute("toc"),a&&(r=e.querySelector(`#${a}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var n=xn(e,"package");n.getAttribute("version");var r=ms(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var a=ms(e,"meta",{name:"cover"});if(a){var s=a.getAttribute("content"),l=e.getElementById(s);return l?l.getAttribute("href"):""}else return!1}getElementText(e,n){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",n),a;return!r||r.length===0?"":(a=r[0],a.childNodes.length?a.childNodes[0].nodeValue:"")}getPropertyText(e,n){var r=ms(e,"meta",{property:n});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let n=e.readingOrder||e.spine;return this.spine=n.map((r,a)=>(r.index=a,r.linear=r.linear||"yes",r)),e.resources.forEach((r,a)=>{this.manifest[a]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,a)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class ip{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let n=e.nodeType,r,a;n&&(r=xn(e,"html"),a=xn(e,"ncx")),n?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):a&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var n,r=0;r<e.length;r++)n=e[r],n.href&&(this.tocByHref[n.href]=r),n.id&&(this.tocById[n.id]=r),this.length++,n.subitems.length&&this.unpack(n.subitems)}get(e){var n;return e?(e.indexOf("#")===0?n=this.tocById[e.substring(1)]:e in this.tocByHref&&(n=this.tocByHref[e]),this.getByIndex(e,n,this.toc)):this.toc}getByIndex(e,n,r){if(r.length===0)return;const a=r[n];if(a&&(e===a.id||e===a.href))return a;{let s;for(let l=0;l<r.length&&(s=this.getByIndex(e,n,r[l].subitems),!s);++l);return s}}landmark(e){var n;return e?(n=this.landmarksByType[e],this.landmarks[n]):this.landmarks}parseNav(e){var n=Bf(e,"nav","toc"),r=[];if(!n)return r;let a=gs(n,"ol",!0);return a&&(r=this.parseNavList(a)),r}parseNavList(e,n){const r=[];if(!e||!e.children)return r;for(let a=0;a<e.children.length;a++){const s=this.navItem(e.children[a],n);s&&r.push(s)}return r}navItem(e,n){let r=e.getAttribute("id")||void 0,a=gs(e,"a",!0)||gs(e,"span",!0);if(!a)return;let s=a.getAttribute("href")||"";r||(r=s);let l=a.textContent||"",c=[],d=gs(e,"ol",!0);return d&&(c=this.parseNavList(d,r)),{id:r,href:s,label:l,subitems:c,parent:n}}parseLandmarks(e){var n=Bf(e,"nav","landmarks"),r=n?na(n,"li"):[],a=r.length,s,l=[],c;if(!r||a===0)return l;for(s=0;s<a;++s)c=this.landmarkItem(r[s]),c&&(l.push(c),this.landmarksByType[c.type]=s);return l}landmarkItem(e){let n=gs(e,"a",!0);if(!n)return;let r=n.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,a=n.getAttribute("href")||"",s=n.textContent||"";return{href:a,label:s,type:r}}parseNcx(e){var n=na(e,"navPoint"),r=n.length,a,s={},l=[],c,d;if(!n||r===0)return l;for(a=0;a<r;++a)c=this.ncxItem(n[a]),s[c.id]=c,c.parent?(d=s[c.parent],d.subitems.push(c)):l.push(c);return l}ncxItem(e){var n=e.getAttribute("id")||!1,r=xn(e,"content"),a=r.getAttribute("src"),s=xn(e,"navLabel"),l=s.textContent?s.textContent:"",c=[],d=e.parentNode,h;return d&&(d.nodeName==="navPoint"||d.nodeName.split(":").slice(-1)[0]==="navPoint")&&(h=d.getAttribute("id")),{id:n,href:a,label:l,subitems:c,parent:h}}load(e){return e.map(n=>(n.label=n.title,n.subitems=n.children?this.load(n.children):[],n))}forEach(e){return this.toc.forEach(e)}}var Mo={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},SO=function(){var t,e,n,r,a={};for(t in Mo)if(Mo.hasOwnProperty(t)){for(e in Mo[t])if(Mo[t].hasOwnProperty(e))if(n=Mo[t][e],typeof n=="string")a[n]=t+"/"+e;else for(r=0;r<n.length;r++)a[n[r]]=t+"/"+e}return a}(),wO="text/plain";function CO(t){return t&&SO[t.split(".").pop().toLowerCase()]||wO}const vs={lookup:CO};class NO{constructor(e,n){this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(n){return e[n]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var n=new mi(e),r=vs.lookup(n.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(a=>gT(a)).then(a=>im(a,r)):this.settings.request(e,"blob").then(a=>kf(a,r))}replacements(){if(this.settings.replacements==="none")return new Promise((function(n){n(this.urls)}).bind(this));var e=this.urls.map(n=>{var r=this.settings.resolver(n);return this.createUrl(r).catch(a=>(console.error(a),null))});return Promise.all(e).then(n=>(this.replacementUrls=n.filter(r=>typeof r=="string"),n))}replaceCss(e,n){var r=[];return e=e||this.settings.archive,n=n||this.settings.resolver,this.cssUrls.forEach((function(a){var s=this.createCssFile(a,e,n).then((function(l){var c=this.urls.indexOf(a);c>-1&&(this.replacementUrls[c]=l)}).bind(this));r.push(s)}).bind(this)),Promise.all(r)}createCssFile(e){var n;if(Ua.isAbsolute(e))return new Promise(function(l){l()});var r=this.settings.resolver(e),a;this.settings.archive?a=this.settings.archive.getText(r):a=this.settings.request(r,"text");var s=this.urls.map(l=>{var c=this.settings.resolver(l),d=new ra(r).relative(c);return d});return a?a.then(l=>(l=qv(l,s,this.replacementUrls),this.settings.replacements==="base64"?n=im(l,"text/css"):n=kf(l,"text/css"),n),l=>new Promise(function(c){c()})):new Promise(function(l){l()})}relativeTo(e,n){return n=n||this.settings.resolver,this.urls.map((function(r){var a=n(r),s=new ra(e).relative(a);return s}).bind(this))}get(e){var n=this.urls.indexOf(e);if(n!==-1)return this.replacementUrls.length?new Promise((function(r,a){r(this.replacementUrls[n])}).bind(this)):this.createUrl(e)}substitute(e,n){var r;return n?r=this.relativeTo(n):r=this.urls,qv(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class ap{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Kt,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var n=xn(e,"html"),r=xn(e,"ncx");if(n)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var n=Bf(e,"nav","page-list"),r=n?na(n,"li"):[],a=r.length,s,l=[],c;if(!r||a===0)return l;for(s=0;s<a;++s)c=this.item(r[s]),l.push(c);return l}parseNcx(e){var n=[],r=0,a,s,l,c=0;if(s=xn(e,"pageList"),!s||(l=na(s,"pageTarget"),c=l.length,!l||l.length===0))return n;for(r=0;r<c;++r)a=this.ncxItem(l[r]),n.push(a);return n}ncxItem(e){var n=xn(e,"navLabel"),r=xn(n,"text"),a=r.textContent,s=xn(e,"content"),l=s.getAttribute("src"),c=parseInt(a,10);return{href:l,page:c}}item(e){var n=xn(e,"a"),r=n.getAttribute("href")||"",a=n.textContent||"",s=parseInt(a),l=r.indexOf("epubcfi"),c,d,h;return l!=-1?(c=r.split("#"),d=c[0],h=c.length>1?c[1]:!1,{cfi:h,href:r,packageUrl:d,page:s}):{href:r,page:s}}process(e){e.forEach(function(n){this.pages.push(n.page),n.cfi&&this.locations.push(n.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var n=-1;if(this.locations.length===0)return-1;var r=Of(e,this.locations,this.epubcfi.compare);return r!=-1?n=this.pages[r]:(r=ws(e,this.locations,this.epubcfi.compare),n=r-1>=0?this.pages[r-1]:this.pages[0],n!==void 0||(n=-1)),n}cfiFromPage(e){var n=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(n=this.locations[r]),n}pageFromPercentage(e){var n=Math.round(this.totalPages*e);return n}percentageFromPage(e){var n=(e-this.firstPage)/this.totalPages;return Math.round(n*1e3)/1e3}percentageFromCfi(e){var n=this.pageFromCfi(e),r=this.percentageFromPage(n);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class ET{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,n){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),n>=0&&(this._minSpreadWidth=n),this._spread}calculate(e,n,r){var a=1,s=r||0,l=e,c=n,d=Math.floor(l/12),h,m,g,w;this._spread&&l>=this._minSpreadWidth?a=2:a=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(s=d%2===0?d:d-1),this.name==="pre-paginated"&&(s=0),a>1?(h=l/a-s,g=h+s):(h=l,g=l),this.name==="pre-paginated"&&a>1&&(l=h),m=h*a+s,w=l,this.width=l,this.height=c,this.spreadWidth=m,this.pageWidth=g,this.delta=w,this.columnWidth=h,this.gap=s,this.divisor=a,this.update({width:l,height:c,spreadWidth:m,pageWidth:g,delta:w,columnWidth:h,gap:s,divisor:a})}format(e,n,r){var a;return this.name==="pre-paginated"?a=e.fit(this.columnWidth,this.height,n):this._flow==="paginated"?a=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?a=e.size(null,this.height):a=e.size(this.width,null),a}count(e,n){let r,a;return this.name==="pre-paginated"?(r=1,a=1):this._flow==="paginated"?(n=n||this.delta,r=Math.ceil(e/n),a=r*this.divisor):(n=n||this.height,r=Math.ceil(e/n),a=r),{spreads:r,pages:a}}update(e){if(Object.keys(e).forEach(n=>{this.props[n]===e[n]&&delete e[n]}),Object.keys(e).length>0){let n=pr(this.props,e);this.emit(ot.LAYOUT.UPDATED,n,e)}}}Ii(ET.prototype);class DO{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var n in e)e.hasOwnProperty(n)&&(typeof e[n]=="string"?this.registerUrl(n,e[n]):this.registerRules(n,e[n]))}registerCss(e,n){this._themes[e]={serialized:n},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,n){var r=new mi(n);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,n){this._themes[e]={rules:n},(this._injected[e]||e=="default")&&this.update(e)}select(e){var n=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(a=>{a.removeClass(n),a.addClass(e)})}update(e){var n=this.rendition.getContents();n.forEach(r=>{this.add(e,r)})}inject(e){var n=[],r=this._themes,a;for(var s in r)r.hasOwnProperty(s)&&(s===this._current||s==="default")&&(a=r[s],(a.rules&&Object.keys(a.rules).length>0||a.url&&n.indexOf(a.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,n){var r=this._themes[e];!r||!n||(r.url?n.addStylesheet(r.url):r.serialized?(n.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(n.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,n,r){var a=this.rendition.getContents();this._overrides[e]={value:n,priority:r===!0},a.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var n=this.rendition.getContents();delete this._overrides[e],n.forEach(r=>{r.css(e)})}overrides(e){var n=this._overrides;for(var r in n)n.hasOwnProperty(r)&&e.css(r,n[r].value,n[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Mf{constructor(e,n,r,a=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=n||"ltr",this._dev=a}section(e){var n=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,n);return r}page(e,n,r,a){var s=e&&e.document?e.document.body:!1,l;if(s){if(l=this.rangePairToCfiPair(n,{start:this.findStart(s,r,a),end:this.findEnd(s,r,a)}),this._dev===!0){let c=e.document,d=new Kt(l.start).toRange(c),h=new Kt(l.end).toRange(c),m=c.defaultView.getSelection(),g=c.createRange();m.removeAllRanges(),g.setStart(d.startContainer,d.startOffset),g.setEnd(h.endContainer,h.endOffset),m.addRange(g)}return l}}walk(e,n){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(d){return d.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},a=r.acceptNode;a.acceptNode=r.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,a,!1),l,c;(l=s.nextNode())&&(c=n(l),!c););return c}}findRanges(e){for(var n=[],r=e.contents.scrollWidth(),a=Math.ceil(r/this.layout.spreadWidth),s=a*this.layout.divisor,l=this.layout.columnWidth,c=this.layout.gap,d,h,m=0;m<s.pages;m++)d=(l+c)*m,h=l*(m+1)+c*m,n.push({start:this.findStart(e.document.body,d,h),end:this.findEnd(e.document.body,d,h)});return n}findStart(e,n,r){for(var a=[e],s,l,c=e;a.length;)if(s=a.shift(),l=this.walk(s,d=>{var h,m,g,w,b;if(b=rm(d),this.horizontal&&this.direction==="ltr"){if(h=this.horizontal?b.left:b.top,m=this.horizontal?b.right:b.bottom,h>=n&&h<=r)return d;if(m>n)return d;c=d,a.push(d)}else if(this.horizontal&&this.direction==="rtl"){if(h=b.left,m=b.right,m<=r&&m>=n)return d;if(h<r)return d;c=d,a.push(d)}else{if(g=b.top,w=b.bottom,g>=n&&g<=r)return d;if(w>n)return d;c=d,a.push(d)}}),l)return this.findTextStartRange(l,n,r);return this.findTextStartRange(c,n,r)}findEnd(e,n,r){for(var a=[e],s,l=e,c;a.length;)if(s=a.shift(),c=this.walk(s,d=>{var h,m,g,w,b;if(b=rm(d),this.horizontal&&this.direction==="ltr"){if(h=Math.round(b.left),m=Math.round(b.right),h>r&&l)return l;if(m>r)return d;l=d,a.push(d)}else if(this.horizontal&&this.direction==="rtl"){if(h=Math.round(this.horizontal?b.left:b.top),m=Math.round(this.horizontal?b.right:b.bottom),m<n&&l)return l;if(h<n)return d;l=d,a.push(d)}else{if(g=Math.round(b.top),w=Math.round(b.bottom),g>r&&l)return l;if(w>r)return d;l=d,a.push(d)}}),c)return this.findTextEndRange(c,n,r);return this.findTextEndRange(l,n,r)}findTextStartRange(e,n,r){for(var a=this.splitTextNodeIntoRanges(e),s,l,c,d,h,m=0;m<a.length;m++)if(s=a[m],l=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(c=l.left,c>=n)return s}else if(this.horizontal&&this.direction==="rtl"){if(h=l.right,h<=r)return s}else if(d=l.top,d>=n)return s;return a[0]}findTextEndRange(e,n,r){for(var a=this.splitTextNodeIntoRanges(e),s,l,c,d,h,m,g,w=0;w<a.length;w++){if(l=a[w],c=l.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(d=c.left,h=c.right,d>r&&s)return s;if(h>r)return l}else if(this.horizontal&&this.direction==="rtl"){if(d=c.left,h=c.right,h<n&&s)return s;if(d<n)return l}else{if(m=c.top,g=c.bottom,m>r&&s)return s;if(g>r)return l}s=l}return a[a.length-1]}splitTextNodeIntoRanges(e,n){var r=[],a=e.textContent||"",s=a.trim(),l,c=e.ownerDocument,d=n||" ",h=s.indexOf(d);if(h===-1||e.nodeType!=Node.TEXT_NODE)return l=c.createRange(),l.selectNodeContents(e),[l];for(l=c.createRange(),l.setStart(e,0),l.setEnd(e,h),r.push(l),l=!1;h!=-1;)h=s.indexOf(d,h+1),h>0&&(l&&(l.setEnd(e,h),r.push(l)),l=c.createRange(),l.setStart(e,h+1));return l&&(l.setEnd(e,s.length),r.push(l)),r}rangePairToCfiPair(e,n){var r=n.start,a=n.end;r.collapse(!0),a.collapse(!1);let s=new Kt(r,e).toString(),l=new Kt(a,e).toString();return{start:s,end:l}}rangeListToCfiList(e,n){for(var r=[],a,s=0;s<n.length;s++)a=this.rangePairToCfiPair(e,n[s]),r.push(a);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const yT=typeof navigator<"u",OO=yT&&/Chrome/.test(navigator.userAgent),Yv=yT&&!OO&&/AppleWebKit/.test(navigator.userAgent),RO=1;class a1{constructor(e,n,r,a){this.epubcfi=new Kt,this.document=e,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=a||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",id),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return af}width(e){var n=this.content;return e&&Un(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}height(e){var n=this.content;return e&&Un(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}contentWidth(e){var n=this.content||this.document.body;return e&&Un(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}contentHeight(e){var n=this.content||this.document.body;return e&&Un(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}textWidth(){let e,n,r=this.document.createRange(),a=this.content||this.document.body,s=Rf(a);return r.selectNodeContents(a),e=r.getBoundingClientRect(),n=e.width,s&&s.width&&(n+=s.width),Math.round(n)}textHeight(){let e,n,r=this.document.createRange(),a=this.content||this.document.body;return r.selectNodeContents(a),e=r.getBoundingClientRect(),n=e.bottom,Math.round(n)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,n,r){var a=this.content||this.document.body;return n?a.style.setProperty(e,n,r?"important":""):a.style.removeProperty(e),this.window.getComputedStyle(a)[e]}viewport(e){var n=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},a=[],s={};if(n&&n.hasAttribute("content")){let l=n.getAttribute("content"),c=l.match(/width\s*=\s*([^,]*)/),d=l.match(/height\s*=\s*([^,]*)/),h=l.match(/initial-scale\s*=\s*([^,]*)/),m=l.match(/minimum-scale\s*=\s*([^,]*)/),g=l.match(/maximum-scale\s*=\s*([^,]*)/),w=l.match(/user-scalable\s*=\s*([^,]*)/);c&&c.length&&typeof c[1]<"u"&&(r.width=c[1]),d&&d.length&&typeof d[1]<"u"&&(r.height=d[1]),h&&h.length&&typeof h[1]<"u"&&(r.scale=h[1]),m&&m.length&&typeof m[1]<"u"&&(r.minimum=m[1]),g&&g.length&&typeof g[1]<"u"&&(r.maximum=g[1]),w&&w.length&&typeof w[1]<"u"&&(r.scalable=w[1])}return s=cT(e||{},r),e&&(s.width&&a.push("width="+s.width),s.height&&a.push("height="+s.height),s.scale&&a.push("initial-scale="+s.scale),s.scalable==="no"?(a.push("minimum-scale="+s.scale),a.push("maximum-scale="+s.scale),a.push("user-scalable="+s.scalable)):(s.scalable&&a.push("user-scalable="+s.scalable),s.minimum&&a.push("minimum-scale="+s.minimum),s.maximum&&a.push("minimum-scale="+s.maximum)),n||(n=this.document.createElement("meta"),n.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",a.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(ot.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),n=this.textHeight();(e!=this._size.width||n!=this._size.height)&&(this._size={width:e,height:n},this.onResize&&this.onResize(this._size),this.emit(ot.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,n=(function(c){c.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),r=0;r<e.length;r+=1){var a;try{a=e[r].cssRules}catch{return}if(!a)return;for(var s=0;s<a.length;s+=1)if(a[s].media){var l=this.window.matchMedia(a[s].media.mediaText);l.addListener(n)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(n=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),n,r=0;r<e.length;r++)n=e[r],typeof n.naturalWidth<"u"&&n.naturalWidth===0&&(n.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,n){var r,a={left:0,top:0};if(!this.document)return a;if(this.epubcfi.isCfiString(e)){let s=new Kt(e).toRange(this.document,n);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let l=s.startContainer.textContent.indexOf(" ",s.startOffset);l==-1&&(l=s.startContainer.textContent.length),s.setEnd(s.startContainer,l)}}catch(l){console.error("setting end offset to start container length failed",l)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)r=s.startContainer.getBoundingClientRect(),a.left=r.left,a.top=r.top;else if(Yv){let l=s.startContainer,c=new Range;try{l.nodeType===RO?r=l.getBoundingClientRect():s.startOffset+2<l.length?(c.setStart(l,s.startOffset),c.setEnd(l,s.startOffset+2),r=c.getBoundingClientRect()):s.startOffset-2>0?(c.setStart(l,s.startOffset-2),c.setEnd(l,s.startOffset),r=c.getBoundingClientRect()):r=l.parentNode.getBoundingClientRect()}catch(d){console.error(d,d.stack)}}else r=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),l=this.document.getElementById(s);if(l)if(Yv){let c=new Range;c.selectNode(l),r=c.getBoundingClientRect()}else r=l.getBoundingClientRect()}return r&&(a.left=r.left,a.top=r.top),a}addStylesheet(e){return new Promise((function(n,r){var a,s=!1;if(!this.document){n(!1);return}if(a=this.document.querySelector("link[href='"+e+"']"),a){n(!0);return}a=this.document.createElement("link"),a.type="text/css",a.rel="stylesheet",a.href=e,a.onload=a.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{n(!0)},1))},this.document.head.appendChild(a)}).bind(this))}_getStylesheetNode(e){var n;return e="epubjs-inserted-css-"+(e||""),this.document?(n=this.document.getElementById(e),n||(n=this.document.createElement("style"),n.id=e,this.document.head.appendChild(n)),n):!1}addStylesheetCss(e,n){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(n),r.innerHTML=e,!0}addStylesheetRules(e,n){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(n).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var a=0,s=e.length;a<s;a++){var l=1,c=e[a],d=e[a][0],h="";Object.prototype.toString.call(c[1][0])==="[object Array]"&&(c=c[1],l=0);for(var m=c.length;l<m;l++){var g=c[l];h+=g[0]+":"+g[1]+(g[2]?" !important":"")+`;
`}r.insertRule(d+"{"+h+"}",r.cssRules.length)}else Object.keys(e).forEach(b=>{const N=e[b];if(Array.isArray(N))N.forEach(x=>{const y=Object.keys(x).map(S=>`${S}:${x[S]}`).join(";");r.insertRule(`${b}{${y}}`,r.cssRules.length)});else{const _=Object.keys(N).map(y=>`${y}:${N[y]}`).join(";");r.insertRule(`${b}{${_}}`,r.cssRules.length)}})}addScript(e){return new Promise((function(n,r){var a,s=!1;if(!this.document){n(!1);return}a=this.document.createElement("script"),a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){n(!0)},1))},this.document.head.appendChild(a)}).bind(this))}addClass(e){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.add(e))}removeClass(e){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),af.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(af.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var n=this.window.getSelection();this.triggerSelectedEvent(n)}).bind(this),250)}triggerSelectedEvent(e){var n,r;e&&e.rangeCount>0&&(n=e.getRangeAt(0),n.collapsed||(r=new Kt(n,this.cfiBase).toString(),this.emit(ot.CONTENTS.SELECTED,r),this.emit(ot.CONTENTS.SELECTED_RANGE,n)))}range(e,n){var r=new Kt(e);return r.toRange(this.document,n)}cfiFromRange(e,n){return new Kt(e,this.cfiBase,n).toString()}cfiFromNode(e,n){return new Kt(e,this.cfiBase,n).toString()}map(e){var n=new Mf(e);return n.section()}size(e,n){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),n>=0&&(this.height(n),r.height=n),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,n,r,a,s){let l=ps("column-axis"),c=ps("column-gap"),d=ps("column-width"),h=ps("column-fill"),g=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&g==="horizontal"&&this.direction(s),this.width(e),this.height(n),this.viewport({width:e,height:n,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),g==="vertical"?(this.css("padding-top",a/2+"px",!0),this.css("padding-bottom",a/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(l,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",a/2+"px",!0),this.css("padding-right",a/2+"px",!0),this.css(l,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(h,"auto"),this.css(c,a+"px"),this.css(d,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,n,r){var a="scale("+e+")",s="";this.css("transform-origin","top left"),(n>=0||r>=0)&&(s=" translate("+(n||0)+"px, "+(r||0)+"px )"),this.css("transform",a+s)}fit(e,n,r){var a=this.viewport(),s=parseInt(a.width),l=parseInt(a.height),c=e/s,d=n/l,h=c<d?c:d;if(this.layoutStyle("paginated"),this.width(s),this.height(l),this.overflow("hidden"),this.scaler(h,0,0),this.css("background-size",s*h+"px "+l*h+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var m=e-s*h;this.css("margin-left",m+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,n,r,a,s){var l=new Mf(n,s);return l.page(this,e,r,a)}linksHandler(){yO(this.content,e=>{this.emit(ot.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let n=ps("writing-mode");return e&&this.documentElement&&(this.documentElement.style[n]=e),this.window.getComputedStyle(this.documentElement)[n]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,n){return navigator.epubReadingSystem={name:e,version:n,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}Ii(a1.prototype);class IO{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,n,r,a,s,l){let c=encodeURI(n+e),h=new Kt(n).spinePos,m=new TT({type:e,cfiRange:n,data:r,sectionIndex:h,cb:a,className:s,styles:l});return this._annotations[c]=m,h in this._annotationsBySectionIndex?this._annotationsBySectionIndex[h].push(c):this._annotationsBySectionIndex[h]=[c],this.rendition.views().forEach(w=>{m.sectionIndex===w.index&&m.attach(w)}),m}remove(e,n){let r=encodeURI(e+n);if(r in this._annotations){let a=this._annotations[r];if(n&&a.type!==n)return;this.rendition.views().forEach(l=>{this._removeFromAnnotationBySectionIndex(a.sectionIndex,r),a.sectionIndex===l.index&&a.detach(l)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,n){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==n)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,n,r,a,s){return this.add("highlight",e,n,r,a,s)}underline(e,n,r,a,s){return this.add("underline",e,n,r,a,s)}mark(e,n,r){return this.add("mark",e,n,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(a=>{this._annotations[a].attach(e)})}clear(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(a=>{this._annotations[a].detach(e)})}show(){}hide(){}}class TT{constructor({type:e,cfiRange:n,data:r,sectionIndex:a,cb:s,className:l,styles:c}){this.type=e,this.cfiRange=n,this.data=r,this.sectionIndex=a,this.mark=void 0,this.cb=s,this.className=l,this.styles=c}update(e){this.data=e}attach(e){let{cfiRange:n,data:r,type:a,mark:s,cb:l,className:c,styles:d}=this,h;return a==="highlight"?h=e.highlight(n,r,l,c,d):a==="underline"?h=e.underline(n,r,l,c,d):a==="mark"&&(h=e.mark(n,r,l)),this.mark=h,this.emit(ot.ANNOTATION.ATTACH,h),h}detach(e){let{cfiRange:n,type:r}=this,a;return e&&(r==="highlight"?a=e.unhighlight(n):r==="underline"?a=e.ununderline(n):r==="mark"&&(a=e.unmark(n))),this.mark=void 0,this.emit(ot.ANNOTATION.DETACH,a),a}text(){}}Ii(TT.prototype);var di={},Po={},Vv;function kO(){if(Vv)return Po;Vv=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.createElement=t;function t(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return Po.default={createElement:t},Po}var ls={},Zv;function LO(){if(Zv)return ls;Zv=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.proxyMouse=t,ls.clone=e,ls.default={proxyMouse:t};function t(r,a){function s(h){for(var m=a.length-1;m>=0;m--){var g=a[m],w=h.clientX,b=h.clientY;if(h.touches&&h.touches.length&&(w=h.touches[0].clientX,b=h.touches[0].clientY),!!n(g,r,w,b)){g.dispatchEvent(e(h));break}}}if(r.nodeName==="iframe"||r.nodeName==="IFRAME")try{this.target=r.contentDocument}catch{this.target=r}else this.target=r;for(var l=["mouseup","mousedown","click","touchstart"],c=0;c<l.length;c++){var d=l[c];this.target.addEventListener(d,function(h){return s(h)},!1)}}function e(r){var a=Object.assign({},r,{bubbles:!1});try{return new MouseEvent(r.type,a)}catch{var s=document.createEvent("MouseEvents");return s.initMouseEvent(r.type,!1,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget),s}}function n(r,a,s,l){var c=a.getBoundingClientRect();function d(b,N,x){var _=b.top-c.top,y=b.left-c.left,S=_+b.height,D=y+b.width;return _<=x&&y<=N&&S>x&&D>N}var h=r.getBoundingClientRect();if(!d(h,s,l))return!1;for(var m=r.getClientRects(),g=0,w=m.length;g<w;g++)if(d(m[g],s,l))return!0;return!1}return ls}var Gv;function BO(){if(Gv)return di;Gv=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Underline=di.Highlight=di.Mark=di.Pane=void 0;var t=function x(_,y,S){_===null&&(_=Function.prototype);var D=Object.getOwnPropertyDescriptor(_,y);if(D===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:x(k,y,S)}else{if("value"in D)return D.value;var C=D.get;return C===void 0?void 0:C.call(S)}},e=function(){function x(_,y){for(var S=0;S<y.length;S++){var D=y[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}return function(_,y,S){return y&&x(_.prototype,y),S&&x(_,S),_}}(),n=kO(),r=l(n),a=LO(),s=l(a);function l(x){return x&&x.__esModule?x:{default:x}}function c(x,_){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:x}function d(x,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(x,_):x.__proto__=_)}function h(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}di.Pane=function(){function x(_){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;h(this,x),this.target=_,this.element=r.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),s.default.proxyMouse(this.target,this.marks),this.container=y,this.container.appendChild(this.element),this.render()}return e(x,[{key:"addMark",value:function(y){var S=r.default.createElement("g");return this.element.appendChild(S),y.bind(S,this.container),this.marks.push(y),y.render(),y}},{key:"removeMark",value:function(y){var S=this.marks.indexOf(y);if(S!==-1){var D=y.unbind();this.element.removeChild(D),this.marks.splice(S,1)}}},{key:"render",value:function(){b(this.element,w(this.target,this.container));var y=!0,S=!1,D=void 0;try{for(var k=this.marks[Symbol.iterator](),C;!(y=(C=k.next()).done);y=!0){var B=C.value;B.render()}}catch(P){S=!0,D=P}finally{try{!y&&k.return&&k.return()}finally{if(S)throw D}}}}]),x}();var m=di.Mark=function(){function x(){h(this,x),this.element=null}return e(x,[{key:"bind",value:function(y,S){this.element=y,this.container=S}},{key:"unbind",value:function(){var y=this.element;return this.element=null,y}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(y){this.element&&this.element.dispatchEvent(y)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var y=[],S=this.element.firstChild;S;)y.push(S.getBoundingClientRect()),S=S.nextSibling;return y}},{key:"filteredRanges",value:function(){var y=Array.from(this.range.getClientRects());return y.filter(function(S){for(var D=0;D<y.length;D++){if(y[D]===S)return!0;var k=N(y[D],S);if(k)return!1}return!0})}}]),x}(),g=di.Highlight=function(x){d(_,x);function _(y,S,D,k){h(this,_);var C=c(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return C.range=y,C.className=S,C.data=D||{},C.attributes=k||{},C}return e(_,[{key:"bind",value:function(S,D){t(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"bind",this).call(this,S,D);for(var k in this.data)this.data.hasOwnProperty(k)&&(this.element.dataset[k]=this.data[k]);for(var k in this.attributes)this.attributes.hasOwnProperty(k)&&this.element.setAttribute(k,this.attributes[k]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var S=this.element.ownerDocument.createDocumentFragment(),D=this.filteredRanges(),k=this.element.getBoundingClientRect(),C=this.container.getBoundingClientRect(),B=0,P=D.length;B<P;B++){var F=D[B],M=r.default.createElement("rect");M.setAttribute("x",F.left-k.left+C.left),M.setAttribute("y",F.top-k.top+C.top),M.setAttribute("height",F.height),M.setAttribute("width",F.width),S.appendChild(M)}this.element.appendChild(S)}}]),_}(m);di.Underline=function(x){d(_,x);function _(y,S,D,k){return h(this,_),c(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,y,S,D,k))}return e(_,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var S=this.element.ownerDocument.createDocumentFragment(),D=this.filteredRanges(),k=this.element.getBoundingClientRect(),C=this.container.getBoundingClientRect(),B=0,P=D.length;B<P;B++){var F=D[B],M=r.default.createElement("rect");M.setAttribute("x",F.left-k.left+C.left),M.setAttribute("y",F.top-k.top+C.top),M.setAttribute("height",F.height),M.setAttribute("width",F.width),M.setAttribute("fill","none");var H=r.default.createElement("line");H.setAttribute("x1",F.left-k.left+C.left),H.setAttribute("x2",F.left-k.left+C.left+F.width),H.setAttribute("y1",F.top-k.top+C.top+F.height-1),H.setAttribute("y2",F.top-k.top+C.top+F.height-1),H.setAttribute("stroke-width",1),H.setAttribute("stroke","black"),H.setAttribute("stroke-linecap","square"),S.appendChild(M),S.appendChild(H)}this.element.appendChild(S)}}]),_}(g);function w(x,_){var y=_.getBoundingClientRect(),S=x.getBoundingClientRect();return{top:S.top-y.top,left:S.left-y.left,height:x.scrollHeight,width:x.scrollWidth}}function b(x,_){x.style.setProperty("top",_.top+"px","important"),x.style.setProperty("left",_.left+"px","important"),x.style.setProperty("height",_.height+"px","important"),x.style.setProperty("width",_.width+"px","important")}function N(x,_){return _.right<=x.right&&_.left>=x.left&&_.top>=x.top&&_.bottom<=x.bottom}return di}var Vc=BO();class AT{constructor(e,n){this.settings=pr({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+rd(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Kt,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var n=document.createElement("div");return n.classList.add("epub-view"),n.style.height="0px",n.style.width="0px",n.style.overflow="hidden",n.style.position="relative",n.style.display="block",e&&e=="horizontal"?n.style.flex="none":n.style.flex="initial",n}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=rf(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,n){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(r){return this.load(r)}).bind(this)).then((function(){let r=this.contents.writingMode(),a;return this.settings.flow==="scrolled"?a=r.indexOf("vertical")===0?"horizontal":"vertical":a=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(a),this.emit(ot.VIEWS.AXIS,a),this.setWritingMode(r),this.emit(ot.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,l)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}).bind(this),(function(r){return this.emit(ot.VIEWS.LOAD_ERROR,r),new Promise((a,s)=>{s(r)})}).bind(this)).then((function(){this.emit(ot.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,n){var r=e||this.settings.width,a=n||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,a):this.settings.axis==="horizontal"?this.lock("height",r,a):this.lock("width",r,a),this.settings.width=r,this.settings.height=a}lock(e,n,r){var a=Rf(this.element),s;this.iframe?s=Rf(this.iframe):s={width:0,height:0},e=="width"&&Un(n)&&(this.lockedWidth=n-a.width-s.width),e=="height"&&Un(r)&&(this.lockedHeight=r-a.height-s.height),e==="both"&&Un(n)&&Un(r)&&(this.lockedWidth=n-a.width-s.width,this.lockedHeight=r-a.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var n=this.lockedWidth,r=this.lockedHeight,a;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(n=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(n=this.contents.textWidth(),n%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(a=n/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&a%2>0&&(n+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||r!=this._height)&&this.reframe(n,r),this._expanding=!1)}reframe(e,n){var r;Un(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),Un(n)&&(this.element.style.height=n+"px",this.iframe.style.height=n+"px",this._height=n);let a=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?n-this.prevBounds.height:n;r={width:e,height:n,widthDelta:a,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let l;for(let c in this.marks)this.marks.hasOwnProperty(c)&&(l=this.marks[c],this.placeMark(l.element,l.range))}),this.onResize(this,r),this.emit(ot.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=rf(this.element)}load(e){var n=new Qt,r=n.promise;if(!this.iframe)return n.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=(function(s){this.onLoad(s,n)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=kf(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return n.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var a=this;MSApp.execUnsafeLocalFunction(function(){a.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,n){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new a1(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(ot.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(ot.CONTENTS.RESIZE,a=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),n.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var n=new Qt;return this.displayed?n.resolve(this):this.render(e).then((function(){this.emit(ot.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,n.resolve(this)}).bind(this),function(r){n.reject(r,this)}),n.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(ot.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(ot.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var n=this.contents.locationOf(e,this.settings.ignoreClass);return{left:n.left,top:n.top}}onDisplayed(e){}onResize(e,n){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=rf(this.element)),this.elementBounds}highlight(e,n={},r,a="epubjs-hl",s={}){if(!this.contents)return;const l=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let c=this.contents.range(e),d=()=>{this.emit(ot.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Vc.Pane(this.iframe,this.element));let h=new Vc.Highlight(c,a,n,l),m=this.pane.addMark(h);return this.highlights[e]={mark:m,element:m.element,listeners:[d,r]},m.element.setAttribute("ref",a),m.element.addEventListener("click",d),m.element.addEventListener("touchstart",d),r&&(m.element.addEventListener("click",r),m.element.addEventListener("touchstart",r)),m}underline(e,n={},r,a="epubjs-ul",s={}){if(!this.contents)return;const l=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let c=this.contents.range(e),d=()=>{this.emit(ot.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new Vc.Pane(this.iframe,this.element));let h=new Vc.Underline(c,a,n,l),m=this.pane.addMark(h);return this.underlines[e]={mark:m,element:m.element,listeners:[d,r]},m.element.setAttribute("ref",a),m.element.addEventListener("click",d),m.element.addEventListener("touchstart",d),r&&(m.element.addEventListener("click",r),m.element.addEventListener("touchstart",r)),m}mark(e,n={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let a=this.contents.range(e);if(!a)return;let s=a.commonAncestorContainer,l=s.nodeType===1?s:s.parentNode,c=h=>{this.emit(ot.VIEWS.MARK_CLICKED,e,n)};a.collapsed&&s.nodeType===1?(a=new Range,a.selectNodeContents(s)):a.collapsed&&(a=new Range,a.selectNodeContents(l));let d=this.document.createElement("a");return d.setAttribute("ref","epubjs-mk"),d.style.position="absolute",d.dataset.epubcfi=e,n&&Object.keys(n).forEach(h=>{d.dataset[h]=n[h]}),r&&(d.addEventListener("click",r),d.addEventListener("touchstart",r)),d.addEventListener("click",c),d.addEventListener("touchstart",c),this.placeMark(d,a),this.element.appendChild(d),this.marks[e]={element:d,range:a,listeners:[c,r]},l}placeMark(e,n){let r,a,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let c=n.getBoundingClientRect();r=c.top,a=c.right}else{let c=n.getClientRects(),d;for(var l=0;l!=c.length;l++)d=c[l],(!s||d.left<s)&&(s=d.left,a=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=d.top)}e.style.top=`${r}px`,e.style.left=`${a}px`}unhighlight(e){let n;e in this.highlights&&(n=this.highlights[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let n;e in this.underlines&&(n=this.underlines[e],this.pane.removeMark(n.mark),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let n;e in this.marks&&(n=this.marks[e],this.element.removeChild(n.element),n.listeners.forEach(r=>{r&&(n.element.removeEventListener("click",r),n.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&hT(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}Ii(AT.prototype);function MO(){var t="reverse",e=PO();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function PO(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(n),e.appendChild(r),t.appendChild(e),t}var up,Wv;function u1(){if(Wv)return up;Wv=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return up=t,up}var sp,Xv;function UO(){if(Xv)return sp;Xv=1;var t=typeof vr=="object"&&vr&&vr.Object===Object&&vr;return sp=t,sp}var op,$v;function xT(){if($v)return op;$v=1;var t=UO(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return op=n,op}var lp,Qv;function FO(){if(Qv)return lp;Qv=1;var t=xT(),e=function(){return t.Date.now()};return lp=e,lp}var cp,Kv;function zO(){if(Kv)return cp;Kv=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return cp=e,cp}var fp,Jv;function HO(){if(Jv)return fp;Jv=1;var t=zO(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return fp=n,fp}var dp,eE;function ST(){if(eE)return dp;eE=1;var t=xT(),e=t.Symbol;return dp=e,dp}var hp,tE;function qO(){if(tE)return hp;tE=1;var t=ST(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function s(l){var c=n.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var m=r.call(l);return h&&(c?l[a]=d:delete l[a]),m}return hp=s,hp}var pp,nE;function jO(){if(nE)return pp;nE=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return pp=n,pp}var mp,rE;function YO(){if(rE)return mp;rE=1;var t=ST(),e=qO(),n=jO(),r="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?a:r:s&&s in Object(c)?e(c):n(c)}return mp=l,mp}var gp,iE;function VO(){if(iE)return gp;iE=1;function t(e){return e!=null&&typeof e=="object"}return gp=t,gp}var bp,aE;function ZO(){if(aE)return bp;aE=1;var t=YO(),e=VO(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return bp=r,bp}var _p,uE;function GO(){if(uE)return _p;uE=1;var t=HO(),e=u1(),n=ZO(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=e(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=t(h);var g=s.test(h);return g||l.test(h)?c(h.slice(2),g?2:8):a.test(h)?r:+h}return _p=d,_p}var vp,sE;function wT(){if(sE)return vp;sE=1;var t=u1(),e=FO(),n=GO(),r="Expected a function",a=Math.max,s=Math.min;function l(c,d,h){var m,g,w,b,N,x,_=0,y=!1,S=!1,D=!0;if(typeof c!="function")throw new TypeError(r);d=n(d)||0,t(h)&&(y=!!h.leading,S="maxWait"in h,w=S?a(n(h.maxWait)||0,d):w,D="trailing"in h?!!h.trailing:D);function k(J){var R=m,se=g;return m=g=void 0,_=J,b=c.apply(se,R),b}function C(J){return _=J,N=setTimeout(F,d),y?k(J):b}function B(J){var R=J-x,se=J-_,re=d-R;return S?s(re,w-se):re}function P(J){var R=J-x,se=J-_;return x===void 0||R>=d||R<0||S&&se>=w}function F(){var J=e();if(P(J))return M(J);N=setTimeout(F,B(J))}function M(J){return N=void 0,D&&m?k(J):(m=g=void 0,b)}function H(){N!==void 0&&clearTimeout(N),_=0,m=x=g=N=void 0}function ne(){return N===void 0?b:M(e())}function U(){var J=e(),R=P(J);if(m=arguments,g=this,x=J,R){if(N===void 0)return C(x);if(S)return clearTimeout(N),N=setTimeout(F,d),k(x)}return N===void 0&&(N=setTimeout(F,d)),b}return U.cancel=H,U.flush=ne,U}return vp=l,vp}var Ep,oE;function WO(){if(oE)return Ep;oE=1;var t=wT(),e=u1(),n="Expected a function";function r(a,s,l){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),t(a,s,{leading:c,maxWait:s,trailing:d})}return Ep=r,Ep}var XO=WO();const $O=qa(XO);class QO{constructor(e){this.settings=e||{},this.id="epubjs-container-"+rd(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let n=e.height,r=e.width,a=e.overflow||!1,s=e.axis||"vertical",l=e.direction;pr(this.settings,e),e.height&&Un(e.height)&&(n=e.height+"px"),e.width&&Un(e.width)&&(r=e.width+"px");let c=document.createElement("div");return c.id=this.id,c.classList.add("epub-container"),c.style.wordSpacing="0",c.style.lineHeight="0",c.style.verticalAlign="top",c.style.position="relative",s==="horizontal"&&(c.style.display="flex",c.style.flexDirection="row",c.style.flexWrap="nowrap"),r&&(c.style.width=r),n&&(c.style.height=n),a&&(a==="scroll"&&s==="vertical"?(c.style["overflow-y"]=a,c.style["overflow-x"]="hidden"):a==="scroll"&&s==="horizontal"?(c.style["overflow-y"]="hidden",c.style["overflow-x"]=a):c.style.overflow=a),l&&(c.dir=l,c.style.direction=l),l&&this.settings.fullsize&&(document.body.style.direction=l),c}wrap(e){var n=document.createElement("div");return n.style.visibility="hidden",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.appendChild(e),n}getElement(e){var n;if(oT(e)?n=e:typeof e=="string"&&(n=document.getElementById(e)),!n)throw new Error("Not an Element");return n}attachTo(e){var n=this.getElement(e),r;if(n)return this.settings.hidden?r=this.wrapper:r=this.container,n.appendChild(r),this.element=n,n}getContainer(){return this.container}onResize(e){(!Un(this.settings.width)||!Un(this.settings.height))&&(this.resizeFunc=$O(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,n){var r;let a=e||this.settings.width,s=n||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):Un(e)?this.container.style.width=e+"px":this.container.style.width=e,n===null?(r=r||this.element.getBoundingClientRect(),r.height&&(n=r.height,this.container.style.height=n+"px")):Un(n)?this.container.style.height=n+"px":this.container.style.height=n,Un(e)||(e=this.container.clientWidth),Un(n)||(n=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let l=If(),c=window.getComputedStyle(document.body),d={left:parseFloat(c["padding-left"])||0,right:parseFloat(c["padding-right"])||0,top:parseFloat(c["padding-top"])||0,bottom:parseFloat(c["padding-bottom"])||0};return a||(e=l.width-d.left-d.right),(this.settings.fullsize&&!s||!s)&&(n=l.height-d.top-d.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:n-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?If():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,n){var r="#"+this.id+" ",a="";this.sheet||(this.sheet=this.getSheet()),n.forEach(function(s){for(var l in s)s.hasOwnProperty(l)&&(a+=l+":"+s[l]+";")}),this.sheet.insertRule(r+e+" {"+a+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class KO{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,n){return this._views.splice(n,0,e),this.container&&(n<this.container.children.length?this.container.insertBefore(e.element,this.container.children[n]):this.container.appendChild(e.element)),this.length++,e}remove(e){var n=this._views.indexOf(e);n>-1&&this._views.splice(n,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,n=this.length;if(this.length){for(var r=0;r<n;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var n,r=this.length,a=0;a<r;a++)if(n=this._views[a],n.displayed&&n.section.index==e.index)return n}displayed(){for(var e=[],n,r=this.length,a=0;a<r;a++)n=this._views[a],n.displayed&&e.push(n);return e}show(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,n=this.length,r=0;r<n;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class Pf{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new i1(this),this.settings=pr(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),pr(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,n){let r=e.tagName;typeof this.settings.fullsize>"u"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=n,this.settings.rtlScrollType=MO(),this.stage=new QO({width:n.width,height:n.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new KO(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(n){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:n}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(ot.MANAGERS.ORIENTATION_CHANGE,n)}).bind(this),500)}onResized(e){this.resize()}resize(e,n,r){let a=this.stage.size(e,n);if(this.winBounds=If(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===a.width&&this._stageSize.height===a.height||(this._stageSize=a,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(ot.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,n){return new this.View(e,pr(this.viewSettings,{forceRight:n}))}handleNextPrePaginated(e,n,r){let a;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||n.index===0)return;if(a=n.next(),a&&!a.properties.includes("page-spread-left"))return r.call(this,a)}}display(e,n){var r=new Qt,a=r.promise;(n===e.href||Un(n))&&(n=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let c=s.offset();if(this.settings.direction==="ltr")this.scrollTo(c.left,c.top,!0);else{let d=s.width();this.scrollTo(c.left+d,c.top,!0)}if(n){let d=s.locationOf(n),h=s.width();this.moveTo(d,h)}return r.resolve(),a}this.clear();let l=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(l=!0),this.add(e,l).then((function(c){if(n){let d=c.locationOf(n),h=c.width();this.moveTo(d,h)}}).bind(this),c=>{r.reject(c)}).then((function(){return this.handleNextPrePaginated(l,e,this.add)}).bind(this)).then((function(){this.views.show(),r.resolve()}).bind(this)),a}afterDisplayed(e){this.emit(ot.MANAGERS.ADDED,e)}afterResized(e){this.emit(ot.MANAGERS.RESIZE,e.section)}moveTo(e,n){var r=0,a=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),a=Math.floor(e.top/this.layout.delta)*this.layout.delta,a+this.layout.delta>this.container.scrollHeight&&(a=this.container.scrollHeight-this.layout.delta)):a=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-n),this.scrollTo(r,a,!0)}add(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(ot.VIEWS.AXIS,a=>{this.updateAxis(a)}),r.on(ot.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),r.display(this.request)}append(e,n){var r=this.createView(e,n);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(ot.VIEWS.AXIS,a=>{this.updateAxis(a)}),r.on(ot.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),r.display(this.request)}prepend(e,n){var r=this.createView(e,n);return r.on(ot.VIEWS.RESIZED,a=>{this.counter(a)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(ot.VIEWS.AXIS,a=>{this.updateAxis(a)}),r.on(ot.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,n;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,n<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft,n>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(n=this.container.scrollLeft+this.layout.delta*-1,n>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.append(e,a).then((function(){return this.handleNextPrePaginated(a,e,this.append)}).bind(this),s=>s).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,n;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft,n>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft+this.container.offsetWidth,n<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(n=this.container.scrollLeft,n<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(a=!0),this.prepend(e,a).then((function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}).bind(this),s=>s).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=n.height<window.innerHeight?n.height:window.innerHeight,a=n.width<window.innerWidth?n.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let l=0,c=0;return this.settings.fullsize&&(l=s?window.scrollY:window.scrollX),e.map(h=>{let{index:m,href:g}=h.section,w=h.position(),b=h.width(),N=h.height(),x,_,y,S;s?(x=l+n.top-w.top+c,_=x+r-c,S=this.layout.count(N,r).pages,y=r):(x=l+n.left-w.left+c,_=x+a-c,S=this.layout.count(b,a).pages,y=a);let D=Math.ceil(x/y),k=[],C=Math.ceil(_/y);if(this.settings.direction==="rtl"&&!s){let F=D;D=S-C,C=S-F}k=[];for(var B=D;B<=C;B++){let F=B+1;k.push(F)}let P=this.mapping.page(h.contents,h.section.cfiBase,x,_);return{index:m,href:g,pages:k,totalPages:S,mapping:P}})}paginatedLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),r=0,a=0;return this.settings.fullsize&&(r=window.scrollX),e.map(l=>{let{index:c,href:d}=l.section,h,m=l.position(),g=l.width(),w,b,N;this.settings.direction==="rtl"?(h=n.right-r,N=Math.min(Math.abs(h-m.left),this.layout.width)-a,b=m.width-(m.right-h)-a,w=b-N):(h=n.left+r,N=Math.min(m.right-h,this.layout.width)-a,w=h-m.left+a,b=w+N),a+=N;let x=this.mapping.page(l.contents,l.section.cfiBase,w,b),_=this.layout.count(g).pages,y=Math.floor(w/this.layout.pageWidth),S=[],D=Math.floor(b/this.layout.pageWidth);if(y<0&&(y=0,D=D+1),this.settings.direction==="rtl"){let C=y;y=_-D,D=_-C}for(var k=y+1;k<=D;k++){let C=k;S.push(C)}return{index:c,href:d,pages:S,totalPages:_,mapping:x}})}isVisible(e,n,r,a){var s=e.position(),l=a||this.bounds();return this.settings.axis==="horizontal"&&s.right>l.left-n&&s.left<l.right+r?!0:this.settings.axis==="vertical"&&s.bottom>l.top-n&&s.top<l.bottom+r}visible(){for(var e=this.bounds(),n=this.views.displayed(),r=n.length,a=[],s,l,c=0;c<r;c++)l=n[c],s=this.isVisible(l,0,0,e),s===!0&&a.push(l);return a}scrollBy(e,n,r){let a=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*a,n*a):(e&&(this.container.scrollLeft+=e*a),n&&(this.container.scrollTop+=n)),this.scrolled=!0}scrollTo(e,n,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,n):(this.container.scrollLeft=e,this.container.scrollTop=n),this.scrolled=!0}onScroll(){let e,n;this.settings.fullsize?(e=window.scrollY,n=window.scrollX):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:(this.emit(ot.MANAGERS.SCROLL,{top:e,left:n}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(ot.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Mf(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(n){n&&n.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,n){!n&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Mf(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,n="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":n,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(n){const r=n&&n.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}Ii(Pf.prototype);const JO={easeInCubic:function(t){return Math.pow(t,3)}};class sm{constructor(e,n){this.settings=pr({duration:80,minVelocity:.2,minDistance:10,easing:JO.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(ot.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(ot.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let n=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{n.on(r,a=>this.triggerViewEvent(a,n))})}triggerViewEvent(e,n){this.emit(e.type,e,n)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:n,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:n,screenY:r}=e.touches[0],a=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&a<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let n=this.wasSwiped();n!==0?this.snap(n):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,n=this.endTouchX-this.startTouchX,r=Math.abs(n),a=this.endTime-this.startTime,s=n/a,l=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(s>l)return-1;if(s<-l)return 1}needsSnap(){let e=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor;return e%n!==0}snap(e=0){let n=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,a=Math.round(n/r)*r;return e&&(a+=e*r),this.smoothScrollTo(a)}smoothScrollTo(e){const n=new Qt,r=this.scrollLeft,a=this.now(),s=this.settings.duration,l=this.settings.easing;this.snapping=!0;function c(){const d=this.now(),h=Math.min(1,(d-a)/s);if(l(h),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,n.resolve();return}h<1?(window.requestAnimationFrame(c.bind(this)),this.scrollTo(r+(e-r)*h,0)):(this.scrollTo(e,0),this.snapping=!1,n.resolve())}return c.call(this),n.promise}scrollTo(e=0,n=0){this.fullsize?window.scroll(e,n):(this.scroller.scrollLeft=e,this.scroller.scrollTop=n)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}Ii(sm.prototype);var eR=wT();const tR=qa(eR);class nR extends Pf{constructor(e){super(e),this.name="continuous",this.settings=pr(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),pr(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,n){return Pf.prototype.display.call(this,e,n).then((function(){return this.fill()}).bind(this))}fill(e){var n=e||new Qt;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(n):n.resolve()}),n.promise}moveTo(e){var n=0,r=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(n>0||r>0)&&this.scrollBy(n,r,!0)}afterResized(e){this.emit(ot.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var n=this.createView(e);return this.views.append(n),n.on(ot.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(ot.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(ot.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}append(e){var n=this.createView(e);return n.on(ot.VIEWS.RESIZED,r=>{n.expanded=!0}),n.on(ot.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(ot.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}prepend(e){var n=this.createView(e);return n.on(ot.VIEWS.RESIZED,r=>{this.counter(r),n.expanded=!0}),n.on(ot.VIEWS.AXIS,r=>{this.updateAxis(r)}),n.on(ot.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var n=this.bounds(),r=this.views.all(),a=r.length,s=typeof e<"u"?e:this.settings.offset||0,l,c,d=new Qt,h=[],m=0;m<a;m++)if(c=r[m],l=this.isVisible(c,s,s,n),l===!0)if(c.displayed)c.show();else{let g=c.display(this.request).then(function(w){w.show()},w=>{c.hide()});h.push(g)}else this.q.enqueue(c.destroy.bind(c)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return h.length?Promise.all(h).catch(g=>{d.reject(g)}):(d.resolve(),d.promise)}check(e,n){var r=new Qt,a=[],s=this.settings.axis==="horizontal",l=this.settings.offset||0;e&&s&&(l=e),n&&!s&&(l=n);var c=this._bounds;let d=s?this.scrollLeft:this.scrollTop,h=s?Math.floor(c.width):c.height,m=s?this.container.scrollWidth:this.container.scrollHeight,g=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",w=this.settings.rtlScrollType,b=this.settings.direction==="rtl";this.settings.fullsize?(s&&b&&w==="negative"||!s&&b&&w==="default")&&(d=d*-1):(b&&w==="default"&&g==="horizontal"&&(d=m-h-d),b&&w==="negative"&&g==="horizontal"&&(d=d*-1));let N=()=>{let D=this.views.first(),k=D&&D.section.prev();k&&a.push(this.prepend(k))},x=()=>{let D=this.views.last(),k=D&&D.section.next();k&&a.push(this.append(k))},_=d+h+l,y=d-l;_>=m&&x(),y<0&&N();let S=a.map(D=>D.display(this.request));return a.length?Promise.all(S).then(()=>this.check()).then(()=>this.update(l),D=>D):(this.q.enqueue((function(){this.update()}).bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new Qt,n=this.views.displayed(),r=n[0],a=n[n.length-1],s=this.views.indexOf(r),l=this.views.indexOf(a),c=this.views.slice(0,s),d=this.views.slice(l+1),h=0;h<c.length-1;h++)this.erase(c[h],c);for(var m=1;m<d.length;m++)this.erase(d[m]);return e.resolve(),e.promise}erase(e,n){var r,a;this.settings.fullsize?(r=window.scrollY,a=window.scrollX):(r=this.container.scrollTop,a=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),n&&(this.settings.axis==="vertical"?this.scrollTo(0,r-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(a+Math.floor(s.width),0,!0):this.scrollTo(a,0,!0):this.scrollTo(a-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(n){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new sm(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=t1;let n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*n,this.scrollLeft=window.scrollX*n):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=tR(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,n,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,n=window.scrollX*r):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(n-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=n,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(ot.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(ot.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new sm(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class s1{constructor(e,n){this.settings=pr(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),pr(this.settings,n),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new gi(this),this.hooks.serialize=new gi(this),this.hooks.content=new gi(this),this.hooks.unloaded=new gi(this),this.hooks.layout=new gi(this),this.hooks.render=new gi(this),this.hooks.show=new gi(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new DO(this),this.annotations=new IO(this),this.epubcfi=new Kt,this.q=new i1(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Qt,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var n;return typeof e=="string"&&e==="default"?n=Pf:typeof e=="string"&&e==="continuous"?n=nR:n=e,n}requireView(e){var n;return typeof e=="string"&&e==="iframe"?n=AT:n=e,n}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(ot.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(ot.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(ot.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(ot.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(ot.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(ot.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(ot.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var n=new Qt,r=n.promise,a;return this.displaying=n,this.book.locations.length()&&lT(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),a=this.book.spine.get(e),a?(this.manager.display(a,e).then(()=>{n.resolve(a),this.displaying=void 0,this.emit(ot.RENDITION.DISPLAYED,a),this.reportLocation()},s=>{this.emit(ot.RENDITION.DISPLAY_ERROR,s)}),r):(n.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(ot.VIEWS.MARK_CLICKED,(n,r)=>this.triggerMarkEvent(n,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(ot.RENDITION.RENDERED,e.section,e)}):this.emit(ot.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(ot.RENDITION.REMOVED,e.section,e)})}onResized(e,n){this.emit(ot.RENDITION.RESIZED,{width:e.width,height:e.height},n),this.location&&this.location.start&&this.display(n||this.location.start.cfi)}onOrientationChange(e){this.emit(ot.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,n,r){e&&(this.settings.width=e),n&&(this.settings.height=n),this.manager.resize(e,n,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var n,r=this.settings.layout||e.layout||"reflowable",a=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",l=this.settings.flow||e.flow||"auto",c=e.viewport||"",d=this.settings.minSpreadWidth||e.minSpreadWidth||800,h=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),n={layout:r,spread:a,orientation:s,flow:l,viewport:c,minSpreadWidth:d,direction:h},n}flow(e){var n=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(n="scrolled"),(e==="auto"||e==="paginated")&&(n="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(n),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(n),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new ET(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(ot.LAYOUT.UPDATED,(n,r)=>{this.emit(ot.RENDITION.LAYOUT,n,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,n){this.settings.spread=e,n&&(this.settings.minSpreadWidth=n),this._layout&&this._layout.spread(e,n),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then((function(a){let s=this.located(a);!s||!s.start||!s.end||(this.location=s,this.emit(ot.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(ot.RENDITION.RELOCATED,this.location))}).bind(this));else if(r){let a=this.located(r);if(!a||!a.start||!a.end)return;this.location=a,this.emit(ot.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(ot.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(n){return this.located(n)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let n=e[0],r=e[e.length-1],a={start:{index:n.index,href:n.href,cfi:n.mapping.start,displayed:{page:n.pages[0]||1,total:n.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},s=this.book.locations.locationFromCfi(n.mapping.start),l=this.book.locations.locationFromCfi(r.mapping.end);s!=null&&(a.start.location=s,a.start.percentage=this.book.locations.percentageFromLocation(s)),l!=null&&(a.end.location=l,a.end.percentage=this.book.locations.percentageFromLocation(l));let c=this.book.pageList.pageFromCfi(n.mapping.start),d=this.book.pageList.pageFromCfi(r.mapping.end);return c!=-1&&(a.start.page=c),d!=-1&&(a.end.page=d),r.index===this.book.spine.last().index&&a.end.displayed.page>=a.end.displayed.total&&(a.atEnd=!0),n.index===this.book.spine.first().index&&a.start.displayed.page===1&&(a.atStart=!0),a}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){af.forEach(n=>{e.on(n,r=>this.triggerViewEvent(r,e))}),e.on(ot.CONTENTS.SELECTED,n=>this.triggerSelectedEvent(n,e))}triggerViewEvent(e,n){this.emit(e.type,e,n)}triggerSelectedEvent(e,n){this.emit(ot.RENDITION.SELECTED,e,n)}triggerMarkEvent(e,n,r){this.emit(ot.RENDITION.MARK_CLICKED,e,n,r)}getRange(e,n){var r=new Kt(e),a=this.manager.visible().filter(function(s){if(r.spinePos===s.index)return!0});if(a.length)return a[0].contents.range(r,n)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let n=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)))*.95,a=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,l){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(ot.CONTENTS.LINK_CLICKED,n=>{let r=this.book.path.relative(n);this.display(r)})}injectStylesheet(e,n){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,n){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,n){let r=this.book.packaging.metadata.identifier,a=e.createElement("meta");a.setAttribute("name","dc.relation.ispartof"),r&&a.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(a)}}Ii(s1.prototype);var yp={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var lE;function rR(){return lE||(lE=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,s){function l(h,m){if(!a[h]){if(!r[h]){var g=typeof ni=="function"&&ni;if(!m&&g)return g(h,!0);if(c)return c(h,!0);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}var b=a[h]={exports:{}};r[h][0].call(b.exports,function(N){var x=r[h][1][N];return l(x||N)},b,b.exports,n,r,a,s)}return a[h].exports}for(var c=typeof ni=="function"&&ni,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,a){var s=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var h=[],m,g,w,b,N,x,_,y=0,S=d.length,D=S,k=s.getTypeOf(d)!=="string";y<d.length;)D=S-y,k?(m=d[y++],g=y<S?d[y++]:0,w=y<S?d[y++]:0):(m=d.charCodeAt(y++),g=y<S?d.charCodeAt(y++):0,w=y<S?d.charCodeAt(y++):0),b=m>>2,N=(m&3)<<4|g>>4,x=D>1?(g&15)<<2|w>>6:64,_=D>2?w&63:64,h.push(c.charAt(b)+c.charAt(N)+c.charAt(x)+c.charAt(_));return h.join("")},a.decode=function(d){var h,m,g,w,b,N,x,_=0,y=0,S="data:";if(d.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");d=d.replace(/[^A-Za-z0-9+/=]/g,"");var D=d.length*3/4;if(d.charAt(d.length-1)===c.charAt(64)&&D--,d.charAt(d.length-2)===c.charAt(64)&&D--,D%1!==0)throw new Error("Invalid base64 input, bad content length.");var k;for(l.uint8array?k=new Uint8Array(D|0):k=new Array(D|0);_<d.length;)w=c.indexOf(d.charAt(_++)),b=c.indexOf(d.charAt(_++)),N=c.indexOf(d.charAt(_++)),x=c.indexOf(d.charAt(_++)),h=w<<2|b>>4,m=(b&15)<<4|N>>2,g=(N&3)<<6|x,k[y++]=h,N!==64&&(k[y++]=m),x!==64&&(k[y++]=g);return k}},{"./support":30,"./utils":32}],2:[function(n,r,a){var s=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function h(m,g,w,b,N){this.compressedSize=m,this.uncompressedSize=g,this.crc32=w,this.compression=b,this.compressedContent=N}h.prototype={getContentWorker:function(){var m=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return m.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(m,g,w){return m.pipe(new c).pipe(new d("uncompressedSize")).pipe(g.compressWorker(w)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var s=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var s=n("./utils");function l(){for(var m,g=[],w=0;w<256;w++){m=w;for(var b=0;b<8;b++)m=m&1?3988292384^m>>>1:m>>>1;g[w]=m}return g}var c=l();function d(m,g,w,b){var N=c,x=b+w;m=m^-1;for(var _=b;_<x;_++)m=m>>>8^N[(m^g[_])&255];return m^-1}function h(m,g,w,b){var N=c,x=b+w;m=m^-1;for(var _=b;_<x;_++)m=m>>>8^N[(m^g.charCodeAt(_))&255];return m^-1}r.exports=function(g,w){if(typeof g>"u"||!g.length)return 0;var b=s.getTypeOf(g)!=="string";return b?d(w|0,g,g.length,0):h(w|0,g,g.length,0)}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var s=null;typeof Promise<"u"?s=Promise:s=n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),d=n("./stream/GenericWorker"),h=s?"uint8array":"array";a.magic="\b\0";function m(g,w){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=w,this.meta={}}c.inherits(m,d),m.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,g.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(w){g.push({data:w,meta:g.meta})}},a.compressWorker=function(g){return new m("Deflate",g)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){var s=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),d=n("../crc32"),h=n("../signature"),m=function(y,S){var D="",k;for(k=0;k<S;k++)D+=String.fromCharCode(y&255),y=y>>>8;return D},g=function(y,S){var D=y;return y||(D=S?16893:33204),(D&65535)<<16},w=function(y){return(y||0)&63},b=function(y,S,D,k,C,B){var P=y.file,F=y.compression,M=B!==c.utf8encode,H=s.transformTo("string",B(P.name)),ne=s.transformTo("string",c.utf8encode(P.name)),U=P.comment,J=s.transformTo("string",B(U)),R=s.transformTo("string",c.utf8encode(U)),se=ne.length!==P.name.length,re=R.length!==U.length,ee,ge,de="",Z="",Y="",$=P.dir,xe=P.date,ce={crc32:0,compressedSize:0,uncompressedSize:0};(!S||D)&&(ce.crc32=y.crc32,ce.compressedSize=y.compressedSize,ce.uncompressedSize=y.uncompressedSize);var Ne=0;S&&(Ne|=8),!M&&(se||re)&&(Ne|=2048);var Qe=0,ht=0;$&&(Qe|=16),C==="UNIX"?(ht=798,Qe|=g(P.unixPermissions,$)):(ht=20,Qe|=w(P.dosPermissions)),ee=xe.getUTCHours(),ee=ee<<6,ee=ee|xe.getUTCMinutes(),ee=ee<<5,ee=ee|xe.getUTCSeconds()/2,ge=xe.getUTCFullYear()-1980,ge=ge<<4,ge=ge|xe.getUTCMonth()+1,ge=ge<<5,ge=ge|xe.getUTCDate(),se&&(Z=m(1,1)+m(d(H),4)+ne,de+="up"+m(Z.length,2)+Z),re&&(Y=m(1,1)+m(d(J),4)+R,de+="uc"+m(Y.length,2)+Y);var Ue="";Ue+=`
\0`,Ue+=m(Ne,2),Ue+=F.magic,Ue+=m(ee,2),Ue+=m(ge,2),Ue+=m(ce.crc32,4),Ue+=m(ce.compressedSize,4),Ue+=m(ce.uncompressedSize,4),Ue+=m(H.length,2),Ue+=m(de.length,2);var ct=h.LOCAL_FILE_HEADER+Ue+H+de,wt=h.CENTRAL_FILE_HEADER+m(ht,2)+Ue+m(J.length,2)+"\0\0\0\0"+m(Qe,4)+m(k,4)+H+de+J;return{fileRecord:ct,dirRecord:wt}},N=function(y,S,D,k,C){var B="",P=s.transformTo("string",C(k));return B=h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(y,2)+m(y,2)+m(S,4)+m(D,4)+m(P.length,2)+P,B},x=function(y){var S="";return S=h.DATA_DESCRIPTOR+m(y.crc32,4)+m(y.compressedSize,4)+m(y.uncompressedSize,4),S};function _(y,S,D,k){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=D,this.encodeFileName=k,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(_,l),_.prototype.push=function(y){var S=y.meta.percent||0,D=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,l.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:D?(S+100*(D-k-1))/D:100}}))},_.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var S=this.streamFiles&&!y.file.dir;if(S){var D=b(y,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:D.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(y){this.accumulate=!1;var S=this.streamFiles&&!y.file.dir,D=b(y,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(D.dirRecord),S)this.push({data:x(y),meta:{percent:100}});else for(this.push({data:D.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var y=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var D=this.bytesWritten-y,k=N(this.dirRecords.length,D,y,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(y){this._sources.push(y);var S=this;return y.on("data",function(D){S.processChunk(D)}),y.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),y.on("error",function(D){S.error(D)}),this},_.prototype.resume=function(){if(!l.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},_.prototype.error=function(y){var S=this._sources;if(!l.prototype.error.call(this,y))return!1;for(var D=0;D<S.length;D++)try{S[D].error(y)}catch{}return!0},_.prototype.lock=function(){l.prototype.lock.call(this);for(var y=this._sources,S=0;S<y.length;S++)y[S].lock()},r.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var s=n("../compressions"),l=n("./ZipFileWorker"),c=function(d,h){var m=d||h,g=s[m];if(!g)throw new Error(m+" is not a valid compression method !");return g};a.generateWorker=function(d,h,m){var g=new l(h.streamFiles,m,h.platform,h.encodeFileName),w=0;try{d.forEach(function(b,N){w++;var x=c(N.options.compression,h.compression),_=N.options.compressionOptions||h.compressionOptions||{},y=N.dir,S=N.date;N._compressWorker(x,_).withStreamInfo("file",{name:b,dir:y,date:S,comment:N.comment||"",unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions}).pipe(g)}),g.entriesCount=w}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}s.prototype=n("./object"),s.prototype.loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,c){return new s().loadAsync(l,c)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var s=n("./utils"),l=n("./external"),c=n("./utf8"),d=n("./zipEntries"),h=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function g(w){return new l.Promise(function(b,N){var x=w.decompressed.getContentWorker().pipe(new h);x.on("error",function(_){N(_)}).on("end",function(){x.streamInfo.crc32!==w.decompressed.crc32?N(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}r.exports=function(w,b){var N=this;return b=s.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(w)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",w,!0,b.optimizedBinaryString,b.base64).then(function(x){var _=new d(b);return _.load(x),_}).then(function(_){var y=[l.Promise.resolve(_)],S=_.files;if(b.checkCRC32)for(var D=0;D<S.length;D++)y.push(g(S[D]));return l.Promise.all(y)}).then(function(_){for(var y=_.shift(),S=y.files,D=0;D<S.length;D++){var k=S[D],C=k.fileNameStr,B=s.resolve(k.fileNameStr);N.file(B,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:b.createFolders}),k.dir||(N.file(B).unsafeOriginalName=C)}return y.zipComment.length&&(N.comment=y.zipComment),N})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var s=n("../utils"),l=n("../stream/GenericWorker");function c(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(c,l),c.prototype._bindStream=function(d){var h=this;this._stream=d,d.pause(),d.on("data",function(m){h.push({data:m,meta:{percent:0}})}).on("error",function(m){h.isPaused?this.generatedError=m:h.error(m)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return l.prototype.pause.call(this)?(this._stream.pause(),!0):!1},c.prototype.resume=function(){return l.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var s=n("readable-stream").Readable,l=n("../utils");l.inherits(c,s);function c(d,h,m){s.call(this,h),this._helper=d;var g=this;d.on("data",function(w,b){g.push(w)||g._helper.pause(),m&&m(b)}).on("error",function(w){g.emit("error",w)}).on("end",function(){g.push(null)})}c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,a){var s=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),h=n("./defaults"),m=n("./compressedObject"),g=n("./zipObject"),w=n("./generate"),b=n("./nodejsUtils"),N=n("./nodejs/NodejsStreamInputAdapter"),x=function(C,B,P){var F=l.getTypeOf(B),M,H=l.extend(P||{},h);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&H.unixPermissions&16384&&(H.dir=!0),H.dosPermissions&&H.dosPermissions&16&&(H.dir=!0),H.dir&&(C=y(C)),H.createFolders&&(M=_(C))&&S.call(this,M,!0);var ne=F==="string"&&H.binary===!1&&H.base64===!1;(!P||typeof P.binary>"u")&&(H.binary=!ne);var U=B instanceof m&&B.uncompressedSize===0;(U||H.dir||!B||B.length===0)&&(H.base64=!1,H.binary=!0,B="",H.compression="STORE",F="string");var J=null;B instanceof m||B instanceof c?J=B:b.isNode&&b.isStream(B)?J=new N(C,B):J=l.prepareContent(C,B,H.binary,H.optimizedBinaryString,H.base64);var R=new g(C,J,H);this.files[C]=R},_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var B=C.lastIndexOf("/");return B>0?C.substring(0,B):""},y=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},S=function(C,B){return B=typeof B<"u"?B:h.createFolders,C=y(C),this.files[C]||x.call(this,C,null,{dir:!0,createFolders:B}),this.files[C]};function D(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var B,P,F;for(B in this.files)F=this.files[B],P=B.slice(this.root.length,B.length),P&&B.slice(0,this.root.length)===this.root&&C(P,F)},filter:function(C){var B=[];return this.forEach(function(P,F){C(P,F)&&B.push(F)}),B},file:function(C,B,P){if(arguments.length===1)if(D(C)){var F=C;return this.filter(function(H,ne){return!ne.dir&&F.test(H)})}else{var M=this.files[this.root+C];return M&&!M.dir?M:null}else C=this.root+C,x.call(this,C,B,P);return this},folder:function(C){if(!C)return this;if(D(C))return this.filter(function(M,H){return H.dir&&C.test(M)});var B=this.root+C,P=S.call(this,B),F=this.clone();return F.root=P.name,F},remove:function(C){C=this.root+C;var B=this.files[C];if(B||(C.slice(-1)!=="/"&&(C+="/"),B=this.files[C]),B&&!B.dir)delete this.files[C];else for(var P=this.filter(function(M,H){return H.name.slice(0,C.length)===C}),F=0;F<P.length;F++)delete this.files[P[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var B,P={};try{if(P=l.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),P.type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");l.checkSupport(P.type),(P.platform==="darwin"||P.platform==="freebsd"||P.platform==="linux"||P.platform==="sunos")&&(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var F=P.comment||this.comment||"";B=w.generateWorker(this,P,F)}catch(M){B=new c("error"),B.error(M)}return new d(B,P.type||"string",P.mimeType)},generateAsync:function(C,B){return this.generateInternalStream(C).accumulate(B)},generateNodeStream:function(C,B){return C=C||{},C.type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(B)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var s=n("./DataReader"),l=n("../utils");function c(d){s.call(this,d);for(var h=0;h<this.data.length;h++)d[h]=d[h]&255}l.inherits(c,s),c.prototype.byteAt=function(d){return this.data[this.zero+d]},c.prototype.lastIndexOfSignature=function(d){for(var h=d.charCodeAt(0),m=d.charCodeAt(1),g=d.charCodeAt(2),w=d.charCodeAt(3),b=this.length-4;b>=0;--b)if(this.data[b]===h&&this.data[b+1]===m&&this.data[b+2]===g&&this.data[b+3]===w)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(d){var h=d.charCodeAt(0),m=d.charCodeAt(1),g=d.charCodeAt(2),w=d.charCodeAt(3),b=this.readData(4);return h===b[0]&&m===b[1]&&g===b[2]&&w===b[3]},c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var s=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d=0,h;for(this.checkOffset(c),h=this.index+c-1;h>=this.index;h--)d=(d<<8)+this.byteAt(h);return this.index+=c,d},readString:function(c){return s.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC((c>>25&127)+1980,(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(c&31)<<1))}},r.exports=l},{"../utils":32}],19:[function(n,r,a){var s=n("./Uint8ArrayReader"),l=n("../utils");function c(d){s.call(this,d)}l.inherits(c,s),c.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var s=n("./DataReader"),l=n("../utils");function c(d){s.call(this,d)}l.inherits(c,s),c.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},c.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},c.prototype.readAndCheckSignature=function(d){var h=this.readData(4);return d===h},c.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var s=n("./ArrayReader"),l=n("../utils");function c(d){s.call(this,d)}l.inherits(c,s),c.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var s=n("../utils"),l=n("../support"),c=n("./ArrayReader"),d=n("./StringReader"),h=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");r.exports=function(g){var w=s.getTypeOf(g);return s.checkSupport(w),w==="string"&&!l.uint8array?new d(g):w==="nodebuffer"?new h(g):l.uint8array?new m(s.transformTo("uint8array",g)):new c(s.transformTo("array",g))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var s=n("./GenericWorker"),l=n("../utils");function c(d){s.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,s),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var s=n("./GenericWorker"),l=n("../crc32"),c=n("../utils");function d(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c.inherits(d,s),d.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var s=n("../utils"),l=n("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(c,l),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var s=n("../utils"),l=n("./GenericWorker"),c=16*1024;function d(h){l.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(g){m.dataIsReady=!0,m.data=g,m.max=g&&g.length||0,m.type=s.getTypeOf(g),m.isPaused||m._tickAndRepeat()},function(g){m.error(g)})}s.inherits(d,l),d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return l.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=c,m=null,g=Math.min(this.max,this.index+h);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,g);break;case"uint8array":m=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":m=this.data.slice(this.index,g);break}return this.index=g,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return this.isFinished?!1:(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var l=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(n,r,a){var s=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),d=n("../base64"),h=n("../support"),m=n("../external"),g=null;if(h.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(_,y,S){switch(_){case"blob":return s.newBlob(s.transformTo("arraybuffer",y),S);case"base64":return d.encode(y);default:return s.transformTo(_,y)}}function b(_,y){var S,D=0,k=null,C=0;for(S=0;S<y.length;S++)C+=y[S].length;switch(_){case"string":return y.join("");case"array":return Array.prototype.concat.apply([],y);case"uint8array":for(k=new Uint8Array(C),S=0;S<y.length;S++)k.set(y[S],D),D+=y[S].length;return k;case"nodebuffer":return Buffer.concat(y);default:throw new Error("concat : unsupported type '"+_+"'")}}function N(_,y){return new m.Promise(function(S,D){var k=[],C=_._internalType,B=_._outputType,P=_._mimeType;_.on("data",function(F,M){k.push(F),y&&y(M)}).on("error",function(F){k=[],D(F)}).on("end",function(){try{var F=w(B,b(C,k),P);S(F)}catch(M){D(M)}k=[]}).resume()})}function x(_,y,S){var D=y;switch(y){case"blob":case"arraybuffer":D="uint8array";break;case"base64":D="string";break}try{this._internalType=D,this._outputType=y,this._mimeType=S,s.checkSupport(D),this._worker=_.pipe(new l(D)),_.lock()}catch(k){this._worker=new c("error"),this._worker.error(k)}}x.prototype={accumulate:function(_){return N(this,_)},on:function(_,y){var S=this;return _==="data"?this._worker.on(_,function(D){y.call(S,D.data,D.meta)}):this._worker.on(_,function(){s.delay(y,arguments,S)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},_)}},r.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,c=new l;c.append(s),a.blob=c.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var s=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),d=n("./stream/GenericWorker"),h=new Array(256),m=0;m<256;m++)h[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;h[254]=h[254]=1;var g=function(_){var y,S,D,k,C,B=_.length,P=0;for(k=0;k<B;k++)S=_.charCodeAt(k),(S&64512)===55296&&k+1<B&&(D=_.charCodeAt(k+1),(D&64512)===56320&&(S=65536+(S-55296<<10)+(D-56320),k++)),P+=S<128?1:S<2048?2:S<65536?3:4;for(l.uint8array?y=new Uint8Array(P):y=new Array(P),C=0,k=0;C<P;k++)S=_.charCodeAt(k),(S&64512)===55296&&k+1<B&&(D=_.charCodeAt(k+1),(D&64512)===56320&&(S=65536+(S-55296<<10)+(D-56320),k++)),S<128?y[C++]=S:S<2048?(y[C++]=192|S>>>6,y[C++]=128|S&63):S<65536?(y[C++]=224|S>>>12,y[C++]=128|S>>>6&63,y[C++]=128|S&63):(y[C++]=240|S>>>18,y[C++]=128|S>>>12&63,y[C++]=128|S>>>6&63,y[C++]=128|S&63);return y},w=function(_,y){var S;for(y=y||_.length,y>_.length&&(y=_.length),S=y-1;S>=0&&(_[S]&192)===128;)S--;return S<0||S===0?y:S+h[_[S]]>y?S:y},b=function(_){var y,S,D,k,C=_.length,B=new Array(C*2);for(S=0,y=0;y<C;){if(D=_[y++],D<128){B[S++]=D;continue}if(k=h[D],k>4){B[S++]=65533,y+=k-1;continue}for(D&=k===2?31:k===3?15:7;k>1&&y<C;)D=D<<6|_[y++]&63,k--;if(k>1){B[S++]=65533;continue}D<65536?B[S++]=D:(D-=65536,B[S++]=55296|D>>10&1023,B[S++]=56320|D&1023)}return B.length!==S&&(B.subarray?B=B.subarray(0,S):B.length=S),s.applyFromCharCode(B)};a.utf8encode=function(y){return l.nodebuffer?c.newBufferFrom(y,"utf-8"):g(y)},a.utf8decode=function(y){return l.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):(y=s.transformTo(l.uint8array?"uint8array":"array",y),b(y))};function N(){d.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(N,d),N.prototype.processChunk=function(_){var y=s.transformTo(l.uint8array?"uint8array":"array",_.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var S=y;y=new Uint8Array(S.length+this.leftOver.length),y.set(this.leftOver,0),y.set(S,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var D=w(y),k=y;D!==y.length&&(l.uint8array?(k=y.subarray(0,D),this.leftOver=y.subarray(D,y.length)):(k=y.slice(0,D),this.leftOver=y.slice(D,y.length))),this.push({data:a.utf8decode(k),meta:_.meta})},N.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=N;function x(){d.call(this,"utf-8 encode")}s.inherits(x,d),x.prototype.processChunk=function(_){this.push({data:a.utf8encode(_.data),meta:_.meta})},a.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var s=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),d=n("./external");n("setimmediate");function h(_){var y=null;return s.uint8array?y=new Uint8Array(_.length):y=new Array(_.length),g(_,y)}a.newBlob=function(_,y){a.checkSupport("blob");try{return new Blob([_],{type:y})}catch{try{var S=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,D=new S;return D.append(_),D.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};function m(_){return _}function g(_,y){for(var S=0;S<_.length;++S)y[S]=_.charCodeAt(S)&255;return y}var w={stringifyByChunk:function(_,y,S){var D=[],k=0,C=_.length;if(C<=S)return String.fromCharCode.apply(null,_);for(;k<C;)y==="array"||y==="nodebuffer"?D.push(String.fromCharCode.apply(null,_.slice(k,Math.min(k+S,C)))):D.push(String.fromCharCode.apply(null,_.subarray(k,Math.min(k+S,C)))),k+=S;return D.join("")},stringifyByChar:function(_){for(var y="",S=0;S<_.length;S++)y+=String.fromCharCode(_[S]);return y},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function b(_){var y=65536,S=a.getTypeOf(_),D=!0;if(S==="uint8array"?D=w.applyCanBeUsed.uint8array:S==="nodebuffer"&&(D=w.applyCanBeUsed.nodebuffer),D)for(;y>1;)try{return w.stringifyByChunk(_,S,y)}catch{y=Math.floor(y/2)}return w.stringifyByChar(_)}a.applyFromCharCode=b;function N(_,y){for(var S=0;S<_.length;S++)y[S]=_[S];return y}var x={};x.string={string:m,array:function(_){return g(_,new Array(_.length))},arraybuffer:function(_){return x.string.uint8array(_).buffer},uint8array:function(_){return g(_,new Uint8Array(_.length))},nodebuffer:function(_){return g(_,c.allocBuffer(_.length))}},x.array={string:b,array:m,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return c.newBufferFrom(_)}},x.arraybuffer={string:function(_){return b(new Uint8Array(_))},array:function(_){return N(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:m,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return c.newBufferFrom(new Uint8Array(_))}},x.uint8array={string:b,array:function(_){return N(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:m,nodebuffer:function(_){return c.newBufferFrom(_)}},x.nodebuffer={string:b,array:function(_){return N(_,new Array(_.length))},arraybuffer:function(_){return x.nodebuffer.uint8array(_).buffer},uint8array:function(_){return N(_,new Uint8Array(_.length))},nodebuffer:m},a.transformTo=function(_,y){if(y||(y=""),!_)return y;a.checkSupport(_);var S=a.getTypeOf(y),D=x[S][_](y);return D},a.resolve=function(_){for(var y=_.split("/"),S=[],D=0;D<y.length;D++){var k=y[D];k==="."||k===""&&D!==0&&D!==y.length-1||(k===".."?S.pop():S.push(k))}return S.join("/")},a.getTypeOf=function(_){if(typeof _=="string")return"string";if(Object.prototype.toString.call(_)==="[object Array]")return"array";if(s.nodebuffer&&c.isBuffer(_))return"nodebuffer";if(s.uint8array&&_ instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&_ instanceof ArrayBuffer)return"arraybuffer"},a.checkSupport=function(_){var y=s[_.toLowerCase()];if(!y)throw new Error(_+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(_){var y="",S,D;for(D=0;D<(_||"").length;D++)S=_.charCodeAt(D),y+="\\x"+(S<16?"0":"")+S.toString(16).toUpperCase();return y},a.delay=function(_,y,S){setImmediate(function(){_.apply(S||null,y||[])})},a.inherits=function(_,y){var S=function(){};S.prototype=y.prototype,_.prototype=new S},a.extend=function(){var _={},y,S;for(y=0;y<arguments.length;y++)for(S in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],S)&&typeof _[S]>"u"&&(_[S]=arguments[y][S]);return _},a.prepareContent=function(_,y,S,D,k){var C=d.Promise.resolve(y).then(function(B){var P=s.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1);return P&&typeof FileReader<"u"?new d.Promise(function(F,M){var H=new FileReader;H.onload=function(ne){F(ne.target.result)},H.onerror=function(ne){M(ne.target.error)},H.readAsArrayBuffer(B)}):B});return C.then(function(B){var P=a.getTypeOf(B);return P?(P==="arraybuffer"?B=a.transformTo("uint8array",B):P==="string"&&(k?B=l.decode(B):S&&D!==!0&&(B=h(B))),B):d.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var s=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),d=n("./zipEntry"),h=n("./support");function m(g){this.files=[],this.loadOptions=g}m.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(w)+", expected "+l.pretty(g)+")")}},isSignature:function(g,w){var b=this.reader.index;this.reader.setIndex(g);var N=this.reader.readString(4),x=N===w;return this.reader.setIndex(b),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),w=h.uint8array?"uint8array":"array",b=l.transformTo(w,g);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g=this.zip64EndOfCentralSize-44,w=0,b,N,x;w<g;)b=this.reader.readInt(2),N=this.reader.readInt(4),x=this.reader.readData(N),this.zip64ExtensibleData[b]={id:b,length:N,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,w;for(g=0;g<this.files.length;g++)w=this.files[g],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)g=new d({zip64:this.zip64},this.loadOptions),g.readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(g<0){var w=!this.isSignature(0,c.LOCAL_FILE_HEADER);throw w?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(g);var b=g;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,g=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),g<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var N=this.centralDirOffset+this.centralDirSize;this.zip64&&(N+=20,N+=12+this.zip64EndOfCentralSize);var x=b-N;if(x>0)this.isSignature(b,c.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var s=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),d=n("./crc32"),h=n("./utf8"),m=n("./compressions"),g=n("./support"),w=0,b=3,N=function(_){for(var y in m)if(Object.prototype.hasOwnProperty.call(m,y)&&m[y].magic===_)return m[y];return null};function x(_,y){this.options=_,this.loadOptions=y}x.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(_){var y,S;if(_.skip(22),this.fileNameLength=_.readInt(2),S=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(y=N(this.compressionMethod),y===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,y,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var y=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(y),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),_===w&&(this.dosPermissions=this.externalFileAttributes&63),_===b&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(_){var y=_.index+this.extraFieldsLength,S,D,k;for(this.extraFields||(this.extraFields={});_.index+4<y;)S=_.readInt(2),D=_.readInt(2),k=_.readData(D),this.extraFields[S]={id:S,length:D,value:k};_.setIndex(y)},handleUTF8:function(){var _=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var S=l.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var k=l.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var y=s(_.value);return y.readInt(1)!==1||d(this.fileName)!==y.readInt(4)?null:h.utf8decode(y.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var y=s(_.value);return y.readInt(1)!==1||d(this.fileComment)!==y.readInt(4)?null:h.utf8decode(y.readData(_.length-5))}return null}},r.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){var s=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),h=n("./stream/GenericWorker"),m=function(N,x,_){this.name=N,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=x,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}};m.prototype={internalStream:function(N){var x=null,_="string";try{if(!N)throw new Error("No output type specified.");_=N.toLowerCase();var y=_==="string"||_==="text";(_==="binarystring"||_==="text")&&(_="string"),x=this._decompressWorker();var S=!this._dataBinary;S&&!y&&(x=x.pipe(new c.Utf8EncodeWorker)),!S&&y&&(x=x.pipe(new c.Utf8DecodeWorker))}catch(D){x=new h("error"),x.error(D)}return new s(x,_,"")},async:function(N,x){return this.internalStream(N).accumulate(x)},nodeStream:function(N,x){return this.internalStream(N||"nodebuffer").toNodejsStream(x)},_compressWorker:function(N,x){if(this._data instanceof d&&this._data.compression.magic===N.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(_,N,x)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<g.length;b++)m.prototype[g[b]]=w;r.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(s){var l=s.MutationObserver||s.WebKitMutationObserver,c;if(l){var d=0,h=new l(N),m=s.document.createTextNode("");h.observe(m,{characterData:!0}),c=function(){m.data=d=++d%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var g=new s.MessageChannel;g.port1.onmessage=N,c=function(){g.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?c=function(){var _=s.document.createElement("script");_.onreadystatechange=function(){N(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:c=function(){setTimeout(N,0)};var w,b=[];function N(){w=!0;for(var _,y,S=b.length;S;){for(y=b,b=[],_=-1;++_<S;)y[_]();S=b.length}w=!1}r.exports=x;function x(_){b.push(_)===1&&!w&&c()}}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var s=n("immediate");function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];r.exports=g;function g(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,C!==l&&x(this,C)}g.prototype.finally=function(C){if(typeof C!="function")return this;var B=this.constructor;return this.then(P,F);function P(M){function H(){return M}return B.resolve(C()).then(H)}function F(M){function H(){throw M}return B.resolve(C()).then(H)}},g.prototype.catch=function(C){return this.then(null,C)},g.prototype.then=function(C,B){if(typeof C!="function"&&this.state===h||typeof B!="function"&&this.state===d)return this;var P=new this.constructor(l);if(this.state!==m){var F=this.state===h?C:B;b(P,F,this.outcome)}else this.queue.push(new w(P,C,B));return P};function w(C,B,P){this.promise=C,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(C){c.resolve(this.promise,C)},w.prototype.otherCallFulfilled=function(C){b(this.promise,this.onFulfilled,C)},w.prototype.callRejected=function(C){c.reject(this.promise,C)},w.prototype.otherCallRejected=function(C){b(this.promise,this.onRejected,C)};function b(C,B,P){s(function(){var F;try{F=B(P)}catch(M){return c.reject(C,M)}F===C?c.reject(C,new TypeError("Cannot resolve promise with itself")):c.resolve(C,F)})}c.resolve=function(C,B){var P=_(N,B);if(P.status==="error")return c.reject(C,P.value);var F=P.value;if(F)x(C,F);else{C.state=h,C.outcome=B;for(var M=-1,H=C.queue.length;++M<H;)C.queue[M].callFulfilled(B)}return C},c.reject=function(C,B){C.state=d,C.outcome=B;for(var P=-1,F=C.queue.length;++P<F;)C.queue[P].callRejected(B);return C};function N(C){var B=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof B=="function")return function(){B.apply(C,arguments)}}function x(C,B){var P=!1;function F(U){P||(P=!0,c.reject(C,U))}function M(U){P||(P=!0,c.resolve(C,U))}function H(){B(M,F)}var ne=_(H);ne.status==="error"&&F(ne.value)}function _(C,B){var P={};try{P.value=C(B),P.status="success"}catch(F){P.status="error",P.value=F}return P}g.resolve=y;function y(C){return C instanceof this?C:c.resolve(new this(l),C)}g.reject=S;function S(C){var B=new this(l);return c.reject(B,C)}g.all=D;function D(C){var B=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,F=!1;if(!P)return this.resolve([]);for(var M=new Array(P),H=0,ne=-1,U=new this(l);++ne<P;)J(C[ne],ne);return U;function J(R,se){B.resolve(R).then(re,function(ee){F||(F=!0,c.reject(U,ee))});function re(ee){M[se]=ee,++H===P&&!F&&(F=!0,c.resolve(U,M))}}}g.race=k;function k(C){var B=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,F=!1;if(!P)return this.resolve([]);for(var M=-1,H=new this(l);++M<P;)ne(C[M]);return H;function ne(U){B.resolve(U).then(function(J){F||(F=!0,c.resolve(H,J))},function(J){F||(F=!0,c.reject(H,J))})}}},{immediate:36}],38:[function(n,r,a){var s=n("./lib/utils/common").assign,l=n("./lib/deflate"),c=n("./lib/inflate"),d=n("./lib/zlib/constants"),h={};s(h,l,c,d),r.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var s=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/messages"),h=n("./zlib/zstream"),m=Object.prototype.toString,g=0,w=4,b=0,N=1,x=2,_=-1,y=0,S=8;function D(P){if(!(this instanceof D))return new D(P);this.options=l.assign({level:_,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},P||{});var F=this.options;F.raw&&F.windowBits>0?F.windowBits=-F.windowBits:F.gzip&&F.windowBits>0&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var M=s.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(M!==b)throw new Error(d[M]);if(F.header&&s.deflateSetHeader(this.strm,F.header),F.dictionary){var H;if(typeof F.dictionary=="string"?H=c.string2buf(F.dictionary):m.call(F.dictionary)==="[object ArrayBuffer]"?H=new Uint8Array(F.dictionary):H=F.dictionary,M=s.deflateSetDictionary(this.strm,H),M!==b)throw new Error(d[M]);this._dict_set=!0}}D.prototype.push=function(P,F){var M=this.strm,H=this.options.chunkSize,ne,U;if(this.ended)return!1;U=F===~~F?F:F===!0?w:g,typeof P=="string"?M.input=c.string2buf(P):m.call(P)==="[object ArrayBuffer]"?M.input=new Uint8Array(P):M.input=P,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new l.Buf8(H),M.next_out=0,M.avail_out=H),ne=s.deflate(M,U),ne!==N&&ne!==b)return this.onEnd(ne),this.ended=!0,!1;(M.avail_out===0||M.avail_in===0&&(U===w||U===x))&&(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(M.output,M.next_out))):this.onData(l.shrinkBuf(M.output,M.next_out)))}while((M.avail_in>0||M.avail_out===0)&&ne!==N);return U===w?(ne=s.deflateEnd(this.strm),this.onEnd(ne),this.ended=!0,ne===b):(U===x&&(this.onEnd(b),M.avail_out=0),!0)},D.prototype.onData=function(P){this.chunks.push(P)},D.prototype.onEnd=function(P){P===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg};function k(P,F){var M=new D(F);if(M.push(P,!0),M.err)throw M.msg||d[M.err];return M.result}function C(P,F){return F=F||{},F.raw=!0,k(P,F)}function B(P,F){return F=F||{},F.gzip=!0,k(P,F)}a.Deflate=D,a.deflate=k,a.deflateRaw=C,a.gzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var s=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/constants"),h=n("./zlib/messages"),m=n("./zlib/zstream"),g=n("./zlib/gzheader"),w=Object.prototype.toString;function b(_){if(!(this instanceof b))return new b(_);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},_||{});var y=this.options;y.raw&&y.windowBits>=0&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),y.windowBits>=0&&y.windowBits<16&&!(_&&_.windowBits)&&(y.windowBits+=32),y.windowBits>15&&y.windowBits<48&&(y.windowBits&15)===0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var S=s.inflateInit2(this.strm,y.windowBits);if(S!==d.Z_OK)throw new Error(h[S]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}b.prototype.push=function(_,y){var S=this.strm,D=this.options.chunkSize,k=this.options.dictionary,C,B,P,F,M,H,ne=!1;if(this.ended)return!1;B=y===~~y?y:y===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof _=="string"?S.input=c.binstring2buf(_):w.call(_)==="[object ArrayBuffer]"?S.input=new Uint8Array(_):S.input=_,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new l.Buf8(D),S.next_out=0,S.avail_out=D),C=s.inflate(S,d.Z_NO_FLUSH),C===d.Z_NEED_DICT&&k&&(typeof k=="string"?H=c.string2buf(k):w.call(k)==="[object ArrayBuffer]"?H=new Uint8Array(k):H=k,C=s.inflateSetDictionary(this.strm,H)),C===d.Z_BUF_ERROR&&ne===!0&&(C=d.Z_OK,ne=!1),C!==d.Z_STREAM_END&&C!==d.Z_OK)return this.onEnd(C),this.ended=!0,!1;S.next_out&&(S.avail_out===0||C===d.Z_STREAM_END||S.avail_in===0&&(B===d.Z_FINISH||B===d.Z_SYNC_FLUSH))&&(this.options.to==="string"?(P=c.utf8border(S.output,S.next_out),F=S.next_out-P,M=c.buf2string(S.output,P),S.next_out=F,S.avail_out=D-F,F&&l.arraySet(S.output,S.output,P,F,0),this.onData(M)):this.onData(l.shrinkBuf(S.output,S.next_out))),S.avail_in===0&&S.avail_out===0&&(ne=!0)}while((S.avail_in>0||S.avail_out===0)&&C!==d.Z_STREAM_END);return C===d.Z_STREAM_END&&(B=d.Z_FINISH),B===d.Z_FINISH?(C=s.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===d.Z_OK):(B===d.Z_SYNC_FLUSH&&(this.onEnd(d.Z_OK),S.avail_out=0),!0)},b.prototype.onData=function(_){this.chunks.push(_)},b.prototype.onEnd=function(_){_===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function N(_,y){var S=new b(y);if(S.push(_,!0),S.err)throw S.msg||h[S.err];return S.result}function x(_,y){return y=y||{},y.raw=!0,N(_,y)}a.Inflate=b,a.inflate=N,a.inflateRaw=x,a.ungzip=N},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var m=h.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var g in m)m.hasOwnProperty(g)&&(d[g]=m[g])}}return d},a.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,m,g,w){if(h.subarray&&d.subarray){d.set(h.subarray(m,m+g),w);return}for(var b=0;b<g;b++)d[w+b]=h[m+b]},flattenChunks:function(d){var h,m,g,w,b,N;for(g=0,h=0,m=d.length;h<m;h++)g+=d[h].length;for(N=new Uint8Array(g),w=0,h=0,m=d.length;h<m;h++)b=d[h],N.set(b,w),w+=b.length;return N}},c={arraySet:function(d,h,m,g,w){for(var b=0;b<g;b++)d[w+b]=h[m+b]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(s)},{}],42:[function(n,r,a){var s=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new s.Buf8(256),h=0;h<256;h++)d[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;d[254]=d[254]=1,a.string2buf=function(g){var w,b,N,x,_,y=g.length,S=0;for(x=0;x<y;x++)b=g.charCodeAt(x),(b&64512)===55296&&x+1<y&&(N=g.charCodeAt(x+1),(N&64512)===56320&&(b=65536+(b-55296<<10)+(N-56320),x++)),S+=b<128?1:b<2048?2:b<65536?3:4;for(w=new s.Buf8(S),_=0,x=0;_<S;x++)b=g.charCodeAt(x),(b&64512)===55296&&x+1<y&&(N=g.charCodeAt(x+1),(N&64512)===56320&&(b=65536+(b-55296<<10)+(N-56320),x++)),b<128?w[_++]=b:b<2048?(w[_++]=192|b>>>6,w[_++]=128|b&63):b<65536?(w[_++]=224|b>>>12,w[_++]=128|b>>>6&63,w[_++]=128|b&63):(w[_++]=240|b>>>18,w[_++]=128|b>>>12&63,w[_++]=128|b>>>6&63,w[_++]=128|b&63);return w};function m(g,w){if(w<65537&&(g.subarray&&c||!g.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(g,w));for(var b="",N=0;N<w;N++)b+=String.fromCharCode(g[N]);return b}a.buf2binstring=function(g){return m(g,g.length)},a.binstring2buf=function(g){for(var w=new s.Buf8(g.length),b=0,N=w.length;b<N;b++)w[b]=g.charCodeAt(b);return w},a.buf2string=function(g,w){var b,N,x,_,y=w||g.length,S=new Array(y*2);for(N=0,b=0;b<y;){if(x=g[b++],x<128){S[N++]=x;continue}if(_=d[x],_>4){S[N++]=65533,b+=_-1;continue}for(x&=_===2?31:_===3?15:7;_>1&&b<y;)x=x<<6|g[b++]&63,_--;if(_>1){S[N++]=65533;continue}x<65536?S[N++]=x:(x-=65536,S[N++]=55296|x>>10&1023,S[N++]=56320|x&1023)}return m(S,N)},a.utf8border=function(g,w){var b;for(w=w||g.length,w>g.length&&(w=g.length),b=w-1;b>=0&&(g[b]&192)===128;)b--;return b<0||b===0?w:b+d[g[b]]>w?b:w}},{"./common":41}],43:[function(n,r,a){function s(l,c,d,h){for(var m=l&65535|0,g=l>>>16&65535|0,w=0;d!==0;){w=d>2e3?2e3:d,d-=w;do m=m+c[h++]|0,g=g+m|0;while(--w);m%=65521,g%=65521}return m|g<<16|0}r.exports=s},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){function s(){for(var d,h=[],m=0;m<256;m++){d=m;for(var g=0;g<8;g++)d=d&1?3988292384^d>>>1:d>>>1;h[m]=d}return h}var l=s();function c(d,h,m,g){var w=l,b=g+m;d^=-1;for(var N=g;N<b;N++)d=d>>>8^w[(d^h[N])&255];return d^-1}r.exports=c},{}],46:[function(n,r,a){var s=n("../utils/common"),l=n("./trees"),c=n("./adler32"),d=n("./crc32"),h=n("./messages"),m=0,g=1,w=3,b=4,N=5,x=0,_=1,y=-2,S=-3,D=-5,k=-1,C=1,B=2,P=3,F=4,M=0,H=2,ne=8,U=9,J=15,R=8,se=29,re=256,ee=re+1+se,ge=30,de=19,Z=2*ee+1,Y=15,$=3,xe=258,ce=xe+$+1,Ne=32,Qe=42,ht=69,Ue=73,ct=91,wt=103,ft=113,xt=666,Tt=1,O=2,ke=3,Ae=4,X=3;function W(A,ue){return A.msg=h[ue],ue}function pe(A){return(A<<1)-(A>4?9:0)}function Pe(A){for(var ue=A.length;--ue>=0;)A[ue]=0}function De(A){var ue=A.state,_e=ue.pending;_e>A.avail_out&&(_e=A.avail_out),_e!==0&&(s.arraySet(A.output,ue.pending_buf,ue.pending_out,_e,A.next_out),A.next_out+=_e,ue.pending_out+=_e,A.total_out+=_e,A.avail_out-=_e,ue.pending-=_e,ue.pending===0&&(ue.pending_out=0))}function me(A,ue){l._tr_flush_block(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,ue),A.block_start=A.strstart,De(A.strm)}function Le(A,ue){A.pending_buf[A.pending++]=ue}function tt(A,ue){A.pending_buf[A.pending++]=ue>>>8&255,A.pending_buf[A.pending++]=ue&255}function We(A,ue,_e,z){var oe=A.avail_in;return oe>z&&(oe=z),oe===0?0:(A.avail_in-=oe,s.arraySet(ue,A.input,A.next_in,oe,_e),A.state.wrap===1?A.adler=c(A.adler,ue,oe,_e):A.state.wrap===2&&(A.adler=d(A.adler,ue,oe,_e)),A.next_in+=oe,A.total_in+=oe,oe)}function lt(A,ue){var _e=A.max_chain_length,z=A.strstart,oe,Te,et=A.prev_length,Xe=A.nice_match,it=A.strstart>A.w_size-ce?A.strstart-(A.w_size-ce):0,Rt=A.window,Fn=A.w_mask,Gt=A.prev,Pt=A.strstart+xe,en=Rt[z+et-1],qt=Rt[z+et];A.prev_length>=A.good_match&&(_e>>=2),Xe>A.lookahead&&(Xe=A.lookahead);do if(oe=ue,!(Rt[oe+et]!==qt||Rt[oe+et-1]!==en||Rt[oe]!==Rt[z]||Rt[++oe]!==Rt[z+1])){z+=2,oe++;do;while(Rt[++z]===Rt[++oe]&&Rt[++z]===Rt[++oe]&&Rt[++z]===Rt[++oe]&&Rt[++z]===Rt[++oe]&&Rt[++z]===Rt[++oe]&&Rt[++z]===Rt[++oe]&&Rt[++z]===Rt[++oe]&&Rt[++z]===Rt[++oe]&&z<Pt);if(Te=xe-(Pt-z),z=Pt-xe,Te>et){if(A.match_start=ue,et=Te,Te>=Xe)break;en=Rt[z+et-1],qt=Rt[z+et]}}while((ue=Gt[ue&Fn])>it&&--_e!==0);return et<=A.lookahead?et:A.lookahead}function bt(A){var ue=A.w_size,_e,z,oe,Te,et;do{if(Te=A.window_size-A.lookahead-A.strstart,A.strstart>=ue+(ue-ce)){s.arraySet(A.window,A.window,ue,ue,0),A.match_start-=ue,A.strstart-=ue,A.block_start-=ue,z=A.hash_size,_e=z;do oe=A.head[--_e],A.head[_e]=oe>=ue?oe-ue:0;while(--z);z=ue,_e=z;do oe=A.prev[--_e],A.prev[_e]=oe>=ue?oe-ue:0;while(--z);Te+=ue}if(A.strm.avail_in===0)break;if(z=We(A.strm,A.window,A.strstart+A.lookahead,Te),A.lookahead+=z,A.lookahead+A.insert>=$)for(et=A.strstart-A.insert,A.ins_h=A.window[et],A.ins_h=(A.ins_h<<A.hash_shift^A.window[et+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[et+$-1])&A.hash_mask,A.prev[et&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=et,et++,A.insert--,!(A.lookahead+A.insert<$)););}while(A.lookahead<ce&&A.strm.avail_in!==0)}function yt(A,ue){var _e=65535;for(_e>A.pending_buf_size-5&&(_e=A.pending_buf_size-5);;){if(A.lookahead<=1){if(bt(A),A.lookahead===0&&ue===m)return Tt;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var z=A.block_start+_e;if((A.strstart===0||A.strstart>=z)&&(A.lookahead=A.strstart-z,A.strstart=z,me(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-ce&&(me(A,!1),A.strm.avail_out===0))return Tt}return A.insert=0,ue===b?(me(A,!0),A.strm.avail_out===0?ke:Ae):(A.strstart>A.block_start&&(me(A,!1),A.strm.avail_out===0),Tt)}function zt(A,ue){for(var _e,z;;){if(A.lookahead<ce){if(bt(A),A.lookahead<ce&&ue===m)return Tt;if(A.lookahead===0)break}if(_e=0,A.lookahead>=$&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+$-1])&A.hash_mask,_e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),_e!==0&&A.strstart-_e<=A.w_size-ce&&(A.match_length=lt(A,_e)),A.match_length>=$)if(z=l._tr_tally(A,A.strstart-A.match_start,A.match_length-$),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=$){A.match_length--;do A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+$-1])&A.hash_mask,_e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;while(--A.match_length!==0);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else z=l._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(z&&(me(A,!1),A.strm.avail_out===0))return Tt}return A.insert=A.strstart<$-1?A.strstart:$-1,ue===b?(me(A,!0),A.strm.avail_out===0?ke:Ae):A.last_lit&&(me(A,!1),A.strm.avail_out===0)?Tt:O}function Sn(A,ue){for(var _e,z,oe;;){if(A.lookahead<ce){if(bt(A),A.lookahead<ce&&ue===m)return Tt;if(A.lookahead===0)break}if(_e=0,A.lookahead>=$&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+$-1])&A.hash_mask,_e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=$-1,_e!==0&&A.prev_length<A.max_lazy_match&&A.strstart-_e<=A.w_size-ce&&(A.match_length=lt(A,_e),A.match_length<=5&&(A.strategy===C||A.match_length===$&&A.strstart-A.match_start>4096)&&(A.match_length=$-1)),A.prev_length>=$&&A.match_length<=A.prev_length){oe=A.strstart+A.lookahead-$,z=l._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-$),A.lookahead-=A.prev_length-1,A.prev_length-=2;do++A.strstart<=oe&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+$-1])&A.hash_mask,_e=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart);while(--A.prev_length!==0);if(A.match_available=0,A.match_length=$-1,A.strstart++,z&&(me(A,!1),A.strm.avail_out===0))return Tt}else if(A.match_available){if(z=l._tr_tally(A,0,A.window[A.strstart-1]),z&&me(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return Tt}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(z=l._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<$-1?A.strstart:$-1,ue===b?(me(A,!0),A.strm.avail_out===0?ke:Ae):A.last_lit&&(me(A,!1),A.strm.avail_out===0)?Tt:O}function En(A,ue){for(var _e,z,oe,Te,et=A.window;;){if(A.lookahead<=xe){if(bt(A),A.lookahead<=xe&&ue===m)return Tt;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=$&&A.strstart>0&&(oe=A.strstart-1,z=et[oe],z===et[++oe]&&z===et[++oe]&&z===et[++oe])){Te=A.strstart+xe;do;while(z===et[++oe]&&z===et[++oe]&&z===et[++oe]&&z===et[++oe]&&z===et[++oe]&&z===et[++oe]&&z===et[++oe]&&z===et[++oe]&&oe<Te);A.match_length=xe-(Te-oe),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=$?(_e=l._tr_tally(A,1,A.match_length-$),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(_e=l._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),_e&&(me(A,!1),A.strm.avail_out===0))return Tt}return A.insert=0,ue===b?(me(A,!0),A.strm.avail_out===0?ke:Ae):A.last_lit&&(me(A,!1),A.strm.avail_out===0)?Tt:O}function On(A,ue){for(var _e;;){if(A.lookahead===0&&(bt(A),A.lookahead===0)){if(ue===m)return Tt;break}if(A.match_length=0,_e=l._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,_e&&(me(A,!1),A.strm.avail_out===0))return Tt}return A.insert=0,ue===b?(me(A,!0),A.strm.avail_out===0?ke:Ae):A.last_lit&&(me(A,!1),A.strm.avail_out===0)?Tt:O}function Ot(A,ue,_e,z,oe){this.good_length=A,this.max_lazy=ue,this.nice_length=_e,this.max_chain=z,this.func=oe}var yn;yn=[new Ot(0,0,0,0,yt),new Ot(4,4,8,4,zt),new Ot(4,5,16,8,zt),new Ot(4,6,32,32,zt),new Ot(4,4,16,16,Sn),new Ot(8,16,32,32,Sn),new Ot(8,16,128,128,Sn),new Ot(8,32,128,256,Sn),new Ot(32,128,258,1024,Sn),new Ot(32,258,258,4096,Sn)];function Rn(A){A.window_size=2*A.w_size,Pe(A.head),A.max_lazy_match=yn[A.level].max_lazy,A.good_match=yn[A.level].good_length,A.nice_match=yn[A.level].nice_length,A.max_chain_length=yn[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=$-1,A.match_available=0,A.ins_h=0}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ne,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(Z*2),this.dyn_dtree=new s.Buf16((2*ge+1)*2),this.bl_tree=new s.Buf16((2*de+1)*2),Pe(this.dyn_ltree),Pe(this.dyn_dtree),Pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(Y+1),this.heap=new s.Buf16(2*ee+1),Pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*ee+1),Pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ze(A){var ue;return!A||!A.state?W(A,y):(A.total_in=A.total_out=0,A.data_type=H,ue=A.state,ue.pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?Qe:ft,A.adler=ue.wrap===2?0:1,ue.last_flush=m,l._tr_init(ue),x)}function Ze(A){var ue=ze(A);return ue===x&&Rn(A.state),ue}function ut(A,ue){return!A||!A.state||A.state.wrap!==2?y:(A.state.gzhead=ue,x)}function fe(A,ue,_e,z,oe,Te){if(!A)return y;var et=1;if(ue===k&&(ue=6),z<0?(et=0,z=-z):z>15&&(et=2,z-=16),oe<1||oe>U||_e!==ne||z<8||z>15||ue<0||ue>9||Te<0||Te>F)return W(A,y);z===8&&(z=9);var Xe=new V;return A.state=Xe,Xe.strm=A,Xe.wrap=et,Xe.gzhead=null,Xe.w_bits=z,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=oe+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+$-1)/$),Xe.window=new s.Buf8(Xe.w_size*2),Xe.head=new s.Buf16(Xe.hash_size),Xe.prev=new s.Buf16(Xe.w_size),Xe.lit_bufsize=1<<oe+6,Xe.pending_buf_size=Xe.lit_bufsize*4,Xe.pending_buf=new s.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=3*Xe.lit_bufsize,Xe.level=ue,Xe.strategy=Te,Xe.method=_e,Ze(A)}function Be(A,ue){return fe(A,ue,ne,J,R,M)}function T(A,ue){var _e,z,oe,Te;if(!A||!A.state||ue>N||ue<0)return A?W(A,y):y;if(z=A.state,!A.output||!A.input&&A.avail_in!==0||z.status===xt&&ue!==b)return W(A,A.avail_out===0?D:y);if(z.strm=A,_e=z.last_flush,z.last_flush=ue,z.status===Qe)if(z.wrap===2)A.adler=0,Le(z,31),Le(z,139),Le(z,8),z.gzhead?(Le(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),Le(z,z.gzhead.time&255),Le(z,z.gzhead.time>>8&255),Le(z,z.gzhead.time>>16&255),Le(z,z.gzhead.time>>24&255),Le(z,z.level===9?2:z.strategy>=B||z.level<2?4:0),Le(z,z.gzhead.os&255),z.gzhead.extra&&z.gzhead.extra.length&&(Le(z,z.gzhead.extra.length&255),Le(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(A.adler=d(A.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=ht):(Le(z,0),Le(z,0),Le(z,0),Le(z,0),Le(z,0),Le(z,z.level===9?2:z.strategy>=B||z.level<2?4:0),Le(z,X),z.status=ft);else{var et=ne+(z.w_bits-8<<4)<<8,Xe=-1;z.strategy>=B||z.level<2?Xe=0:z.level<6?Xe=1:z.level===6?Xe=2:Xe=3,et|=Xe<<6,z.strstart!==0&&(et|=Ne),et+=31-et%31,z.status=ft,tt(z,et),z.strstart!==0&&(tt(z,A.adler>>>16),tt(z,A.adler&65535)),A.adler=1}if(z.status===ht)if(z.gzhead.extra){for(oe=z.pending;z.gzindex<(z.gzhead.extra.length&65535)&&!(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>oe&&(A.adler=d(A.adler,z.pending_buf,z.pending-oe,oe)),De(A),oe=z.pending,z.pending===z.pending_buf_size));)Le(z,z.gzhead.extra[z.gzindex]&255),z.gzindex++;z.gzhead.hcrc&&z.pending>oe&&(A.adler=d(A.adler,z.pending_buf,z.pending-oe,oe)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=Ue)}else z.status=Ue;if(z.status===Ue)if(z.gzhead.name){oe=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>oe&&(A.adler=d(A.adler,z.pending_buf,z.pending-oe,oe)),De(A),oe=z.pending,z.pending===z.pending_buf_size)){Te=1;break}z.gzindex<z.gzhead.name.length?Te=z.gzhead.name.charCodeAt(z.gzindex++)&255:Te=0,Le(z,Te)}while(Te!==0);z.gzhead.hcrc&&z.pending>oe&&(A.adler=d(A.adler,z.pending_buf,z.pending-oe,oe)),Te===0&&(z.gzindex=0,z.status=ct)}else z.status=ct;if(z.status===ct)if(z.gzhead.comment){oe=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>oe&&(A.adler=d(A.adler,z.pending_buf,z.pending-oe,oe)),De(A),oe=z.pending,z.pending===z.pending_buf_size)){Te=1;break}z.gzindex<z.gzhead.comment.length?Te=z.gzhead.comment.charCodeAt(z.gzindex++)&255:Te=0,Le(z,Te)}while(Te!==0);z.gzhead.hcrc&&z.pending>oe&&(A.adler=d(A.adler,z.pending_buf,z.pending-oe,oe)),Te===0&&(z.status=wt)}else z.status=wt;if(z.status===wt&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&De(A),z.pending+2<=z.pending_buf_size&&(Le(z,A.adler&255),Le(z,A.adler>>8&255),A.adler=0,z.status=ft)):z.status=ft),z.pending!==0){if(De(A),A.avail_out===0)return z.last_flush=-1,x}else if(A.avail_in===0&&pe(ue)<=pe(_e)&&ue!==b)return W(A,D);if(z.status===xt&&A.avail_in!==0)return W(A,D);if(A.avail_in!==0||z.lookahead!==0||ue!==m&&z.status!==xt){var it=z.strategy===B?On(z,ue):z.strategy===P?En(z,ue):yn[z.level].func(z,ue);if((it===ke||it===Ae)&&(z.status=xt),it===Tt||it===ke)return A.avail_out===0&&(z.last_flush=-1),x;if(it===O&&(ue===g?l._tr_align(z):ue!==N&&(l._tr_stored_block(z,0,0,!1),ue===w&&(Pe(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),De(A),A.avail_out===0))return z.last_flush=-1,x}return ue!==b?x:z.wrap<=0?_:(z.wrap===2?(Le(z,A.adler&255),Le(z,A.adler>>8&255),Le(z,A.adler>>16&255),Le(z,A.adler>>24&255),Le(z,A.total_in&255),Le(z,A.total_in>>8&255),Le(z,A.total_in>>16&255),Le(z,A.total_in>>24&255)):(tt(z,A.adler>>>16),tt(z,A.adler&65535)),De(A),z.wrap>0&&(z.wrap=-z.wrap),z.pending!==0?x:_)}function L(A){var ue;return!A||!A.state?y:(ue=A.state.status,ue!==Qe&&ue!==ht&&ue!==Ue&&ue!==ct&&ue!==wt&&ue!==ft&&ue!==xt?W(A,y):(A.state=null,ue===ft?W(A,S):x))}function K(A,ue){var _e=ue.length,z,oe,Te,et,Xe,it,Rt,Fn;if(!A||!A.state||(z=A.state,et=z.wrap,et===2||et===1&&z.status!==Qe||z.lookahead))return y;for(et===1&&(A.adler=c(A.adler,ue,_e,0)),z.wrap=0,_e>=z.w_size&&(et===0&&(Pe(z.head),z.strstart=0,z.block_start=0,z.insert=0),Fn=new s.Buf8(z.w_size),s.arraySet(Fn,ue,_e-z.w_size,z.w_size,0),ue=Fn,_e=z.w_size),Xe=A.avail_in,it=A.next_in,Rt=A.input,A.avail_in=_e,A.next_in=0,A.input=ue,bt(z);z.lookahead>=$;){oe=z.strstart,Te=z.lookahead-($-1);do z.ins_h=(z.ins_h<<z.hash_shift^z.window[oe+$-1])&z.hash_mask,z.prev[oe&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=oe,oe++;while(--Te);z.strstart=oe,z.lookahead=$-1,bt(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=$-1,z.match_available=0,A.next_in=it,A.input=Rt,A.avail_in=Xe,z.wrap=et,x}a.deflateInit=Be,a.deflateInit2=fe,a.deflateReset=Ze,a.deflateResetKeep=ze,a.deflateSetHeader=ut,a.deflate=T,a.deflateEnd=L,a.deflateSetDictionary=K,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=s},{}],48:[function(n,r,a){var s=30,l=12;r.exports=function(d,h){var m,g,w,b,N,x,_,y,S,D,k,C,B,P,F,M,H,ne,U,J,R,se,re,ee,ge;m=d.state,g=d.next_in,ee=d.input,w=g+(d.avail_in-5),b=d.next_out,ge=d.output,N=b-(h-d.avail_out),x=b+(d.avail_out-257),_=m.dmax,y=m.wsize,S=m.whave,D=m.wnext,k=m.window,C=m.hold,B=m.bits,P=m.lencode,F=m.distcode,M=(1<<m.lenbits)-1,H=(1<<m.distbits)-1;e:do{B<15&&(C+=ee[g++]<<B,B+=8,C+=ee[g++]<<B,B+=8),ne=P[C&M];t:for(;;){if(U=ne>>>24,C>>>=U,B-=U,U=ne>>>16&255,U===0)ge[b++]=ne&65535;else if(U&16){J=ne&65535,U&=15,U&&(B<U&&(C+=ee[g++]<<B,B+=8),J+=C&(1<<U)-1,C>>>=U,B-=U),B<15&&(C+=ee[g++]<<B,B+=8,C+=ee[g++]<<B,B+=8),ne=F[C&H];n:for(;;){if(U=ne>>>24,C>>>=U,B-=U,U=ne>>>16&255,U&16){if(R=ne&65535,U&=15,B<U&&(C+=ee[g++]<<B,B+=8,B<U&&(C+=ee[g++]<<B,B+=8)),R+=C&(1<<U)-1,R>_){d.msg="invalid distance too far back",m.mode=s;break e}if(C>>>=U,B-=U,U=b-N,R>U){if(U=R-U,U>S&&m.sane){d.msg="invalid distance too far back",m.mode=s;break e}if(se=0,re=k,D===0){if(se+=y-U,U<J){J-=U;do ge[b++]=k[se++];while(--U);se=b-R,re=ge}}else if(D<U){if(se+=y+D-U,U-=D,U<J){J-=U;do ge[b++]=k[se++];while(--U);if(se=0,D<J){U=D,J-=U;do ge[b++]=k[se++];while(--U);se=b-R,re=ge}}}else if(se+=D-U,U<J){J-=U;do ge[b++]=k[se++];while(--U);se=b-R,re=ge}for(;J>2;)ge[b++]=re[se++],ge[b++]=re[se++],ge[b++]=re[se++],J-=3;J&&(ge[b++]=re[se++],J>1&&(ge[b++]=re[se++]))}else{se=b-R;do ge[b++]=ge[se++],ge[b++]=ge[se++],ge[b++]=ge[se++],J-=3;while(J>2);J&&(ge[b++]=ge[se++],J>1&&(ge[b++]=ge[se++]))}}else if((U&64)===0){ne=F[(ne&65535)+(C&(1<<U)-1)];continue n}else{d.msg="invalid distance code",m.mode=s;break e}break}}else if((U&64)===0){ne=P[(ne&65535)+(C&(1<<U)-1)];continue t}else if(U&32){m.mode=l;break e}else{d.msg="invalid literal/length code",m.mode=s;break e}break}}while(g<w&&b<x);J=B>>3,g-=J,B-=J<<3,C&=(1<<B)-1,d.next_in=g,d.next_out=b,d.avail_in=g<w?5+(w-g):5-(g-w),d.avail_out=b<x?257+(x-b):257-(b-x),m.hold=C,m.bits=B}},{}],49:[function(n,r,a){var s=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),d=n("./inffast"),h=n("./inftrees"),m=0,g=1,w=2,b=4,N=5,x=6,_=0,y=1,S=2,D=-2,k=-3,C=-4,B=-5,P=8,F=1,M=2,H=3,ne=4,U=5,J=6,R=7,se=8,re=9,ee=10,ge=11,de=12,Z=13,Y=14,$=15,xe=16,ce=17,Ne=18,Qe=19,ht=20,Ue=21,ct=22,wt=23,ft=24,xt=25,Tt=26,O=27,ke=28,Ae=29,X=30,W=31,pe=32,Pe=852,De=592,me=15,Le=me;function tt(fe){return(fe>>>24&255)+(fe>>>8&65280)+((fe&65280)<<8)+((fe&255)<<24)}function We(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function lt(fe){var Be;return!fe||!fe.state?D:(Be=fe.state,fe.total_in=fe.total_out=Be.total=0,fe.msg="",Be.wrap&&(fe.adler=Be.wrap&1),Be.mode=F,Be.last=0,Be.havedict=0,Be.dmax=32768,Be.head=null,Be.hold=0,Be.bits=0,Be.lencode=Be.lendyn=new s.Buf32(Pe),Be.distcode=Be.distdyn=new s.Buf32(De),Be.sane=1,Be.back=-1,_)}function bt(fe){var Be;return!fe||!fe.state?D:(Be=fe.state,Be.wsize=0,Be.whave=0,Be.wnext=0,lt(fe))}function yt(fe,Be){var T,L;return!fe||!fe.state||(L=fe.state,Be<0?(T=0,Be=-Be):(T=(Be>>4)+1,Be<48&&(Be&=15)),Be&&(Be<8||Be>15))?D:(L.window!==null&&L.wbits!==Be&&(L.window=null),L.wrap=T,L.wbits=Be,bt(fe))}function zt(fe,Be){var T,L;return fe?(L=new We,fe.state=L,L.window=null,T=yt(fe,Be),T!==_&&(fe.state=null),T):D}function Sn(fe){return zt(fe,Le)}var En=!0,On,Ot;function yn(fe){if(En){var Be;for(On=new s.Buf32(512),Ot=new s.Buf32(32),Be=0;Be<144;)fe.lens[Be++]=8;for(;Be<256;)fe.lens[Be++]=9;for(;Be<280;)fe.lens[Be++]=7;for(;Be<288;)fe.lens[Be++]=8;for(h(g,fe.lens,0,288,On,0,fe.work,{bits:9}),Be=0;Be<32;)fe.lens[Be++]=5;h(w,fe.lens,0,32,Ot,0,fe.work,{bits:5}),En=!1}fe.lencode=On,fe.lenbits=9,fe.distcode=Ot,fe.distbits=5}function Rn(fe,Be,T,L){var K,A=fe.state;return A.window===null&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new s.Buf8(A.wsize)),L>=A.wsize?(s.arraySet(A.window,Be,T-A.wsize,A.wsize,0),A.wnext=0,A.whave=A.wsize):(K=A.wsize-A.wnext,K>L&&(K=L),s.arraySet(A.window,Be,T-L,K,A.wnext),L-=K,L?(s.arraySet(A.window,Be,T-L,L,0),A.wnext=L,A.whave=A.wsize):(A.wnext+=K,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=K))),0}function V(fe,Be){var T,L,K,A,ue,_e,z,oe,Te,et,Xe,it,Rt,Fn,Gt=0,Pt,en,qt,wn,Yn,yr,dn,tn,Bn=new s.Buf8(4),Sr,Vn,ai=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!fe||!fe.state||!fe.output||!fe.input&&fe.avail_in!==0)return D;T=fe.state,T.mode===de&&(T.mode=Z),ue=fe.next_out,K=fe.output,z=fe.avail_out,A=fe.next_in,L=fe.input,_e=fe.avail_in,oe=T.hold,Te=T.bits,et=_e,Xe=z,tn=_;e:for(;;)switch(T.mode){case F:if(T.wrap===0){T.mode=Z;break}for(;Te<16;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(T.wrap&2&&oe===35615){T.check=0,Bn[0]=oe&255,Bn[1]=oe>>>8&255,T.check=c(T.check,Bn,2,0),oe=0,Te=0,T.mode=M;break}if(T.flags=0,T.head&&(T.head.done=!1),!(T.wrap&1)||(((oe&255)<<8)+(oe>>8))%31){fe.msg="incorrect header check",T.mode=X;break}if((oe&15)!==P){fe.msg="unknown compression method",T.mode=X;break}if(oe>>>=4,Te-=4,dn=(oe&15)+8,T.wbits===0)T.wbits=dn;else if(dn>T.wbits){fe.msg="invalid window size",T.mode=X;break}T.dmax=1<<dn,fe.adler=T.check=1,T.mode=oe&512?ee:de,oe=0,Te=0;break;case M:for(;Te<16;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(T.flags=oe,(T.flags&255)!==P){fe.msg="unknown compression method",T.mode=X;break}if(T.flags&57344){fe.msg="unknown header flags set",T.mode=X;break}T.head&&(T.head.text=oe>>8&1),T.flags&512&&(Bn[0]=oe&255,Bn[1]=oe>>>8&255,T.check=c(T.check,Bn,2,0)),oe=0,Te=0,T.mode=H;case H:for(;Te<32;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}T.head&&(T.head.time=oe),T.flags&512&&(Bn[0]=oe&255,Bn[1]=oe>>>8&255,Bn[2]=oe>>>16&255,Bn[3]=oe>>>24&255,T.check=c(T.check,Bn,4,0)),oe=0,Te=0,T.mode=ne;case ne:for(;Te<16;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}T.head&&(T.head.xflags=oe&255,T.head.os=oe>>8),T.flags&512&&(Bn[0]=oe&255,Bn[1]=oe>>>8&255,T.check=c(T.check,Bn,2,0)),oe=0,Te=0,T.mode=U;case U:if(T.flags&1024){for(;Te<16;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}T.length=oe,T.head&&(T.head.extra_len=oe),T.flags&512&&(Bn[0]=oe&255,Bn[1]=oe>>>8&255,T.check=c(T.check,Bn,2,0)),oe=0,Te=0}else T.head&&(T.head.extra=null);T.mode=J;case J:if(T.flags&1024&&(it=T.length,it>_e&&(it=_e),it&&(T.head&&(dn=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),s.arraySet(T.head.extra,L,A,it,dn)),T.flags&512&&(T.check=c(T.check,L,it,A)),_e-=it,A+=it,T.length-=it),T.length))break e;T.length=0,T.mode=R;case R:if(T.flags&2048){if(_e===0)break e;it=0;do dn=L[A+it++],T.head&&dn&&T.length<65536&&(T.head.name+=String.fromCharCode(dn));while(dn&&it<_e);if(T.flags&512&&(T.check=c(T.check,L,it,A)),_e-=it,A+=it,dn)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=se;case se:if(T.flags&4096){if(_e===0)break e;it=0;do dn=L[A+it++],T.head&&dn&&T.length<65536&&(T.head.comment+=String.fromCharCode(dn));while(dn&&it<_e);if(T.flags&512&&(T.check=c(T.check,L,it,A)),_e-=it,A+=it,dn)break e}else T.head&&(T.head.comment=null);T.mode=re;case re:if(T.flags&512){for(;Te<16;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(oe!==(T.check&65535)){fe.msg="header crc mismatch",T.mode=X;break}oe=0,Te=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),fe.adler=T.check=0,T.mode=de;break;case ee:for(;Te<32;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}fe.adler=T.check=tt(oe),oe=0,Te=0,T.mode=ge;case ge:if(T.havedict===0)return fe.next_out=ue,fe.avail_out=z,fe.next_in=A,fe.avail_in=_e,T.hold=oe,T.bits=Te,S;fe.adler=T.check=1,T.mode=de;case de:if(Be===N||Be===x)break e;case Z:if(T.last){oe>>>=Te&7,Te-=Te&7,T.mode=O;break}for(;Te<3;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}switch(T.last=oe&1,oe>>>=1,Te-=1,oe&3){case 0:T.mode=Y;break;case 1:if(yn(T),T.mode=ht,Be===x){oe>>>=2,Te-=2;break e}break;case 2:T.mode=ce;break;case 3:fe.msg="invalid block type",T.mode=X}oe>>>=2,Te-=2;break;case Y:for(oe>>>=Te&7,Te-=Te&7;Te<32;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if((oe&65535)!==(oe>>>16^65535)){fe.msg="invalid stored block lengths",T.mode=X;break}if(T.length=oe&65535,oe=0,Te=0,T.mode=$,Be===x)break e;case $:T.mode=xe;case xe:if(it=T.length,it){if(it>_e&&(it=_e),it>z&&(it=z),it===0)break e;s.arraySet(K,L,A,it,ue),_e-=it,A+=it,z-=it,ue+=it,T.length-=it;break}T.mode=de;break;case ce:for(;Te<14;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(T.nlen=(oe&31)+257,oe>>>=5,Te-=5,T.ndist=(oe&31)+1,oe>>>=5,Te-=5,T.ncode=(oe&15)+4,oe>>>=4,Te-=4,T.nlen>286||T.ndist>30){fe.msg="too many length or distance symbols",T.mode=X;break}T.have=0,T.mode=Ne;case Ne:for(;T.have<T.ncode;){for(;Te<3;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}T.lens[ai[T.have++]]=oe&7,oe>>>=3,Te-=3}for(;T.have<19;)T.lens[ai[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Sr={bits:T.lenbits},tn=h(m,T.lens,0,19,T.lencode,0,T.work,Sr),T.lenbits=Sr.bits,tn){fe.msg="invalid code lengths set",T.mode=X;break}T.have=0,T.mode=Qe;case Qe:for(;T.have<T.nlen+T.ndist;){for(;Gt=T.lencode[oe&(1<<T.lenbits)-1],Pt=Gt>>>24,en=Gt>>>16&255,qt=Gt&65535,!(Pt<=Te);){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(qt<16)oe>>>=Pt,Te-=Pt,T.lens[T.have++]=qt;else{if(qt===16){for(Vn=Pt+2;Te<Vn;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(oe>>>=Pt,Te-=Pt,T.have===0){fe.msg="invalid bit length repeat",T.mode=X;break}dn=T.lens[T.have-1],it=3+(oe&3),oe>>>=2,Te-=2}else if(qt===17){for(Vn=Pt+3;Te<Vn;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}oe>>>=Pt,Te-=Pt,dn=0,it=3+(oe&7),oe>>>=3,Te-=3}else{for(Vn=Pt+7;Te<Vn;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}oe>>>=Pt,Te-=Pt,dn=0,it=11+(oe&127),oe>>>=7,Te-=7}if(T.have+it>T.nlen+T.ndist){fe.msg="invalid bit length repeat",T.mode=X;break}for(;it--;)T.lens[T.have++]=dn}}if(T.mode===X)break;if(T.lens[256]===0){fe.msg="invalid code -- missing end-of-block",T.mode=X;break}if(T.lenbits=9,Sr={bits:T.lenbits},tn=h(g,T.lens,0,T.nlen,T.lencode,0,T.work,Sr),T.lenbits=Sr.bits,tn){fe.msg="invalid literal/lengths set",T.mode=X;break}if(T.distbits=6,T.distcode=T.distdyn,Sr={bits:T.distbits},tn=h(w,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Sr),T.distbits=Sr.bits,tn){fe.msg="invalid distances set",T.mode=X;break}if(T.mode=ht,Be===x)break e;case ht:T.mode=Ue;case Ue:if(_e>=6&&z>=258){fe.next_out=ue,fe.avail_out=z,fe.next_in=A,fe.avail_in=_e,T.hold=oe,T.bits=Te,d(fe,Xe),ue=fe.next_out,K=fe.output,z=fe.avail_out,A=fe.next_in,L=fe.input,_e=fe.avail_in,oe=T.hold,Te=T.bits,T.mode===de&&(T.back=-1);break}for(T.back=0;Gt=T.lencode[oe&(1<<T.lenbits)-1],Pt=Gt>>>24,en=Gt>>>16&255,qt=Gt&65535,!(Pt<=Te);){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(en&&(en&240)===0){for(wn=Pt,Yn=en,yr=qt;Gt=T.lencode[yr+((oe&(1<<wn+Yn)-1)>>wn)],Pt=Gt>>>24,en=Gt>>>16&255,qt=Gt&65535,!(wn+Pt<=Te);){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}oe>>>=wn,Te-=wn,T.back+=wn}if(oe>>>=Pt,Te-=Pt,T.back+=Pt,T.length=qt,en===0){T.mode=Tt;break}if(en&32){T.back=-1,T.mode=de;break}if(en&64){fe.msg="invalid literal/length code",T.mode=X;break}T.extra=en&15,T.mode=ct;case ct:if(T.extra){for(Vn=T.extra;Te<Vn;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}T.length+=oe&(1<<T.extra)-1,oe>>>=T.extra,Te-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=wt;case wt:for(;Gt=T.distcode[oe&(1<<T.distbits)-1],Pt=Gt>>>24,en=Gt>>>16&255,qt=Gt&65535,!(Pt<=Te);){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if((en&240)===0){for(wn=Pt,Yn=en,yr=qt;Gt=T.distcode[yr+((oe&(1<<wn+Yn)-1)>>wn)],Pt=Gt>>>24,en=Gt>>>16&255,qt=Gt&65535,!(wn+Pt<=Te);){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}oe>>>=wn,Te-=wn,T.back+=wn}if(oe>>>=Pt,Te-=Pt,T.back+=Pt,en&64){fe.msg="invalid distance code",T.mode=X;break}T.offset=qt,T.extra=en&15,T.mode=ft;case ft:if(T.extra){for(Vn=T.extra;Te<Vn;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}T.offset+=oe&(1<<T.extra)-1,oe>>>=T.extra,Te-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){fe.msg="invalid distance too far back",T.mode=X;break}T.mode=xt;case xt:if(z===0)break e;if(it=Xe-z,T.offset>it){if(it=T.offset-it,it>T.whave&&T.sane){fe.msg="invalid distance too far back",T.mode=X;break}it>T.wnext?(it-=T.wnext,Rt=T.wsize-it):Rt=T.wnext-it,it>T.length&&(it=T.length),Fn=T.window}else Fn=K,Rt=ue-T.offset,it=T.length;it>z&&(it=z),z-=it,T.length-=it;do K[ue++]=Fn[Rt++];while(--it);T.length===0&&(T.mode=Ue);break;case Tt:if(z===0)break e;K[ue++]=T.length,z--,T.mode=Ue;break;case O:if(T.wrap){for(;Te<32;){if(_e===0)break e;_e--,oe|=L[A++]<<Te,Te+=8}if(Xe-=z,fe.total_out+=Xe,T.total+=Xe,Xe&&(fe.adler=T.check=T.flags?c(T.check,K,Xe,ue-Xe):l(T.check,K,Xe,ue-Xe)),Xe=z,(T.flags?oe:tt(oe))!==T.check){fe.msg="incorrect data check",T.mode=X;break}oe=0,Te=0}T.mode=ke;case ke:if(T.wrap&&T.flags){for(;Te<32;){if(_e===0)break e;_e--,oe+=L[A++]<<Te,Te+=8}if(oe!==(T.total&4294967295)){fe.msg="incorrect length check",T.mode=X;break}oe=0,Te=0}T.mode=Ae;case Ae:tn=y;break e;case X:tn=k;break e;case W:return C;case pe:default:return D}return fe.next_out=ue,fe.avail_out=z,fe.next_in=A,fe.avail_in=_e,T.hold=oe,T.bits=Te,(T.wsize||Xe!==fe.avail_out&&T.mode<X&&(T.mode<O||Be!==b))&&Rn(fe,fe.output,fe.next_out,Xe-fe.avail_out),et-=fe.avail_in,Xe-=fe.avail_out,fe.total_in+=et,fe.total_out+=Xe,T.total+=Xe,T.wrap&&Xe&&(fe.adler=T.check=T.flags?c(T.check,K,Xe,fe.next_out-Xe):l(T.check,K,Xe,fe.next_out-Xe)),fe.data_type=T.bits+(T.last?64:0)+(T.mode===de?128:0)+(T.mode===ht||T.mode===$?256:0),(et===0&&Xe===0||Be===b)&&tn===_&&(tn=B),tn}function ze(fe){if(!fe||!fe.state)return D;var Be=fe.state;return Be.window&&(Be.window=null),fe.state=null,_}function Ze(fe,Be){var T;return!fe||!fe.state||(T=fe.state,(T.wrap&2)===0)?D:(T.head=Be,Be.done=!1,_)}function ut(fe,Be){var T=Be.length,L,K,A;return!fe||!fe.state||(L=fe.state,L.wrap!==0&&L.mode!==ge)?D:L.mode===ge&&(K=1,K=l(K,Be,T,0),K!==L.check)?k:(A=Rn(fe,Be,T,T),A?(L.mode=W,C):(L.havedict=1,_))}a.inflateReset=bt,a.inflateReset2=yt,a.inflateResetKeep=lt,a.inflateInit=Sn,a.inflateInit2=zt,a.inflate=V,a.inflateEnd=ze,a.inflateGetHeader=Ze,a.inflateSetDictionary=ut,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var s=n("../utils/common"),l=15,c=852,d=592,h=0,m=1,g=2,w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],N=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(y,S,D,k,C,B,P,F){var M=F.bits,H=0,ne=0,U=0,J=0,R=0,se=0,re=0,ee=0,ge=0,de=0,Z,Y,$,xe,ce,Ne=null,Qe=0,ht,Ue=new s.Buf16(l+1),ct=new s.Buf16(l+1),wt=null,ft=0,xt,Tt,O;for(H=0;H<=l;H++)Ue[H]=0;for(ne=0;ne<k;ne++)Ue[S[D+ne]]++;for(R=M,J=l;J>=1&&Ue[J]===0;J--);if(R>J&&(R=J),J===0)return C[B++]=1<<24|64<<16|0,C[B++]=1<<24|64<<16|0,F.bits=1,0;for(U=1;U<J&&Ue[U]===0;U++);for(R<U&&(R=U),ee=1,H=1;H<=l;H++)if(ee<<=1,ee-=Ue[H],ee<0)return-1;if(ee>0&&(y===h||J!==1))return-1;for(ct[1]=0,H=1;H<l;H++)ct[H+1]=ct[H]+Ue[H];for(ne=0;ne<k;ne++)S[D+ne]!==0&&(P[ct[S[D+ne]]++]=ne);if(y===h?(Ne=wt=P,ht=19):y===m?(Ne=w,Qe-=257,wt=b,ft-=257,ht=256):(Ne=N,wt=x,ht=-1),de=0,ne=0,H=U,ce=B,se=R,re=0,$=-1,ge=1<<R,xe=ge-1,y===m&&ge>c||y===g&&ge>d)return 1;for(;;){xt=H-re,P[ne]<ht?(Tt=0,O=P[ne]):P[ne]>ht?(Tt=wt[ft+P[ne]],O=Ne[Qe+P[ne]]):(Tt=96,O=0),Z=1<<H-re,Y=1<<se,U=Y;do Y-=Z,C[ce+(de>>re)+Y]=xt<<24|Tt<<16|O|0;while(Y!==0);for(Z=1<<H-1;de&Z;)Z>>=1;if(Z!==0?(de&=Z-1,de+=Z):de=0,ne++,--Ue[H]===0){if(H===J)break;H=S[D+P[ne]]}if(H>R&&(de&xe)!==$){for(re===0&&(re=R),ce+=U,se=H-re,ee=1<<se;se+re<J&&(ee-=Ue[se+re],!(ee<=0));)se++,ee<<=1;if(ge+=1<<se,y===m&&ge>c||y===g&&ge>d)return 1;$=de&xe,C[$]=R<<24|se<<16|ce-B|0}}return de!==0&&(C[ce+de]=H-re<<24|64<<16|0),F.bits=R,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var s=n("../utils/common"),l=4,c=0,d=1,h=2;function m(V){for(var ze=V.length;--ze>=0;)V[ze]=0}var g=0,w=1,b=2,N=3,x=258,_=29,y=256,S=y+1+_,D=30,k=19,C=2*S+1,B=15,P=16,F=7,M=256,H=16,ne=17,U=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=512,ge=new Array((S+2)*2);m(ge);var de=new Array(D*2);m(de);var Z=new Array(ee);m(Z);var Y=new Array(x-N+1);m(Y);var $=new Array(_);m($);var xe=new Array(D);m(xe);function ce(V,ze,Ze,ut,fe){this.static_tree=V,this.extra_bits=ze,this.extra_base=Ze,this.elems=ut,this.max_length=fe,this.has_stree=V&&V.length}var Ne,Qe,ht;function Ue(V,ze){this.dyn_tree=V,this.max_code=0,this.stat_desc=ze}function ct(V){return V<256?Z[V]:Z[256+(V>>>7)]}function wt(V,ze){V.pending_buf[V.pending++]=ze&255,V.pending_buf[V.pending++]=ze>>>8&255}function ft(V,ze,Ze){V.bi_valid>P-Ze?(V.bi_buf|=ze<<V.bi_valid&65535,wt(V,V.bi_buf),V.bi_buf=ze>>P-V.bi_valid,V.bi_valid+=Ze-P):(V.bi_buf|=ze<<V.bi_valid&65535,V.bi_valid+=Ze)}function xt(V,ze,Ze){ft(V,Ze[ze*2],Ze[ze*2+1])}function Tt(V,ze){var Ze=0;do Ze|=V&1,V>>>=1,Ze<<=1;while(--ze>0);return Ze>>>1}function O(V){V.bi_valid===16?(wt(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):V.bi_valid>=8&&(V.pending_buf[V.pending++]=V.bi_buf&255,V.bi_buf>>=8,V.bi_valid-=8)}function ke(V,ze){var Ze=ze.dyn_tree,ut=ze.max_code,fe=ze.stat_desc.static_tree,Be=ze.stat_desc.has_stree,T=ze.stat_desc.extra_bits,L=ze.stat_desc.extra_base,K=ze.stat_desc.max_length,A,ue,_e,z,oe,Te,et=0;for(z=0;z<=B;z++)V.bl_count[z]=0;for(Ze[V.heap[V.heap_max]*2+1]=0,A=V.heap_max+1;A<C;A++)ue=V.heap[A],z=Ze[Ze[ue*2+1]*2+1]+1,z>K&&(z=K,et++),Ze[ue*2+1]=z,!(ue>ut)&&(V.bl_count[z]++,oe=0,ue>=L&&(oe=T[ue-L]),Te=Ze[ue*2],V.opt_len+=Te*(z+oe),Be&&(V.static_len+=Te*(fe[ue*2+1]+oe)));if(et!==0){do{for(z=K-1;V.bl_count[z]===0;)z--;V.bl_count[z]--,V.bl_count[z+1]+=2,V.bl_count[K]--,et-=2}while(et>0);for(z=K;z!==0;z--)for(ue=V.bl_count[z];ue!==0;)_e=V.heap[--A],!(_e>ut)&&(Ze[_e*2+1]!==z&&(V.opt_len+=(z-Ze[_e*2+1])*Ze[_e*2],Ze[_e*2+1]=z),ue--)}}function Ae(V,ze,Ze){var ut=new Array(B+1),fe=0,Be,T;for(Be=1;Be<=B;Be++)ut[Be]=fe=fe+Ze[Be-1]<<1;for(T=0;T<=ze;T++){var L=V[T*2+1];L!==0&&(V[T*2]=Tt(ut[L]++,L))}}function X(){var V,ze,Ze,ut,fe,Be=new Array(B+1);for(Ze=0,ut=0;ut<_-1;ut++)for($[ut]=Ze,V=0;V<1<<J[ut];V++)Y[Ze++]=ut;for(Y[Ze-1]=ut,fe=0,ut=0;ut<16;ut++)for(xe[ut]=fe,V=0;V<1<<R[ut];V++)Z[fe++]=ut;for(fe>>=7;ut<D;ut++)for(xe[ut]=fe<<7,V=0;V<1<<R[ut]-7;V++)Z[256+fe++]=ut;for(ze=0;ze<=B;ze++)Be[ze]=0;for(V=0;V<=143;)ge[V*2+1]=8,V++,Be[8]++;for(;V<=255;)ge[V*2+1]=9,V++,Be[9]++;for(;V<=279;)ge[V*2+1]=7,V++,Be[7]++;for(;V<=287;)ge[V*2+1]=8,V++,Be[8]++;for(Ae(ge,S+1,Be),V=0;V<D;V++)de[V*2+1]=5,de[V*2]=Tt(V,5);Ne=new ce(ge,J,y+1,S,B),Qe=new ce(de,R,0,D,B),ht=new ce(new Array(0),se,0,k,F)}function W(V){var ze;for(ze=0;ze<S;ze++)V.dyn_ltree[ze*2]=0;for(ze=0;ze<D;ze++)V.dyn_dtree[ze*2]=0;for(ze=0;ze<k;ze++)V.bl_tree[ze*2]=0;V.dyn_ltree[M*2]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function pe(V){V.bi_valid>8?wt(V,V.bi_buf):V.bi_valid>0&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function Pe(V,ze,Ze,ut){pe(V),wt(V,Ze),wt(V,~Ze),s.arraySet(V.pending_buf,V.window,ze,Ze,V.pending),V.pending+=Ze}function De(V,ze,Ze,ut){var fe=ze*2,Be=Ze*2;return V[fe]<V[Be]||V[fe]===V[Be]&&ut[ze]<=ut[Ze]}function me(V,ze,Ze){for(var ut=V.heap[Ze],fe=Ze<<1;fe<=V.heap_len&&(fe<V.heap_len&&De(ze,V.heap[fe+1],V.heap[fe],V.depth)&&fe++,!De(ze,ut,V.heap[fe],V.depth));)V.heap[Ze]=V.heap[fe],Ze=fe,fe<<=1;V.heap[Ze]=ut}function Le(V,ze,Ze){var ut,fe,Be=0,T,L;if(V.last_lit!==0)do ut=V.pending_buf[V.d_buf+Be*2]<<8|V.pending_buf[V.d_buf+Be*2+1],fe=V.pending_buf[V.l_buf+Be],Be++,ut===0?xt(V,fe,ze):(T=Y[fe],xt(V,T+y+1,ze),L=J[T],L!==0&&(fe-=$[T],ft(V,fe,L)),ut--,T=ct(ut),xt(V,T,Ze),L=R[T],L!==0&&(ut-=xe[T],ft(V,ut,L)));while(Be<V.last_lit);xt(V,M,ze)}function tt(V,ze){var Ze=ze.dyn_tree,ut=ze.stat_desc.static_tree,fe=ze.stat_desc.has_stree,Be=ze.stat_desc.elems,T,L,K=-1,A;for(V.heap_len=0,V.heap_max=C,T=0;T<Be;T++)Ze[T*2]!==0?(V.heap[++V.heap_len]=K=T,V.depth[T]=0):Ze[T*2+1]=0;for(;V.heap_len<2;)A=V.heap[++V.heap_len]=K<2?++K:0,Ze[A*2]=1,V.depth[A]=0,V.opt_len--,fe&&(V.static_len-=ut[A*2+1]);for(ze.max_code=K,T=V.heap_len>>1;T>=1;T--)me(V,Ze,T);A=Be;do T=V.heap[1],V.heap[1]=V.heap[V.heap_len--],me(V,Ze,1),L=V.heap[1],V.heap[--V.heap_max]=T,V.heap[--V.heap_max]=L,Ze[A*2]=Ze[T*2]+Ze[L*2],V.depth[A]=(V.depth[T]>=V.depth[L]?V.depth[T]:V.depth[L])+1,Ze[T*2+1]=Ze[L*2+1]=A,V.heap[1]=A++,me(V,Ze,1);while(V.heap_len>=2);V.heap[--V.heap_max]=V.heap[1],ke(V,ze),Ae(Ze,K,V.bl_count)}function We(V,ze,Ze){var ut,fe=-1,Be,T=ze[0*2+1],L=0,K=7,A=4;for(T===0&&(K=138,A=3),ze[(Ze+1)*2+1]=65535,ut=0;ut<=Ze;ut++)Be=T,T=ze[(ut+1)*2+1],!(++L<K&&Be===T)&&(L<A?V.bl_tree[Be*2]+=L:Be!==0?(Be!==fe&&V.bl_tree[Be*2]++,V.bl_tree[H*2]++):L<=10?V.bl_tree[ne*2]++:V.bl_tree[U*2]++,L=0,fe=Be,T===0?(K=138,A=3):Be===T?(K=6,A=3):(K=7,A=4))}function lt(V,ze,Ze){var ut,fe=-1,Be,T=ze[0*2+1],L=0,K=7,A=4;for(T===0&&(K=138,A=3),ut=0;ut<=Ze;ut++)if(Be=T,T=ze[(ut+1)*2+1],!(++L<K&&Be===T)){if(L<A)do xt(V,Be,V.bl_tree);while(--L!==0);else Be!==0?(Be!==fe&&(xt(V,Be,V.bl_tree),L--),xt(V,H,V.bl_tree),ft(V,L-3,2)):L<=10?(xt(V,ne,V.bl_tree),ft(V,L-3,3)):(xt(V,U,V.bl_tree),ft(V,L-11,7));L=0,fe=Be,T===0?(K=138,A=3):Be===T?(K=6,A=3):(K=7,A=4)}}function bt(V){var ze;for(We(V,V.dyn_ltree,V.l_desc.max_code),We(V,V.dyn_dtree,V.d_desc.max_code),tt(V,V.bl_desc),ze=k-1;ze>=3&&V.bl_tree[re[ze]*2+1]===0;ze--);return V.opt_len+=3*(ze+1)+5+5+4,ze}function yt(V,ze,Ze,ut){var fe;for(ft(V,ze-257,5),ft(V,Ze-1,5),ft(V,ut-4,4),fe=0;fe<ut;fe++)ft(V,V.bl_tree[re[fe]*2+1],3);lt(V,V.dyn_ltree,ze-1),lt(V,V.dyn_dtree,Ze-1)}function zt(V){var ze=4093624447,Ze;for(Ze=0;Ze<=31;Ze++,ze>>>=1)if(ze&1&&V.dyn_ltree[Ze*2]!==0)return c;if(V.dyn_ltree[9*2]!==0||V.dyn_ltree[10*2]!==0||V.dyn_ltree[13*2]!==0)return d;for(Ze=32;Ze<y;Ze++)if(V.dyn_ltree[Ze*2]!==0)return d;return c}var Sn=!1;function En(V){Sn||(X(),Sn=!0),V.l_desc=new Ue(V.dyn_ltree,Ne),V.d_desc=new Ue(V.dyn_dtree,Qe),V.bl_desc=new Ue(V.bl_tree,ht),V.bi_buf=0,V.bi_valid=0,W(V)}function On(V,ze,Ze,ut){ft(V,(g<<1)+(ut?1:0),3),Pe(V,ze,Ze)}function Ot(V){ft(V,w<<1,3),xt(V,M,ge),O(V)}function yn(V,ze,Ze,ut){var fe,Be,T=0;V.level>0?(V.strm.data_type===h&&(V.strm.data_type=zt(V)),tt(V,V.l_desc),tt(V,V.d_desc),T=bt(V),fe=V.opt_len+3+7>>>3,Be=V.static_len+3+7>>>3,Be<=fe&&(fe=Be)):fe=Be=Ze+5,Ze+4<=fe&&ze!==-1?On(V,ze,Ze,ut):V.strategy===l||Be===fe?(ft(V,(w<<1)+(ut?1:0),3),Le(V,ge,de)):(ft(V,(b<<1)+(ut?1:0),3),yt(V,V.l_desc.max_code+1,V.d_desc.max_code+1,T+1),Le(V,V.dyn_ltree,V.dyn_dtree)),W(V),ut&&pe(V)}function Rn(V,ze,Ze){return V.pending_buf[V.d_buf+V.last_lit*2]=ze>>>8&255,V.pending_buf[V.d_buf+V.last_lit*2+1]=ze&255,V.pending_buf[V.l_buf+V.last_lit]=Ze&255,V.last_lit++,ze===0?V.dyn_ltree[Ze*2]++:(V.matches++,ze--,V.dyn_ltree[(Y[Ze]+y+1)*2]++,V.dyn_dtree[ct(ze)*2]++),V.last_lit===V.lit_bufsize-1}a._tr_init=En,a._tr_stored_block=On,a._tr_flush_block=yn,a._tr_tally=Rn,a._tr_align=Ot},{"../utils/common":41}],53:[function(n,r,a){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=s},{}],54:[function(n,r,a){(function(s){(function(l,c){if(l.setImmediate)return;var d=1,h={},m=!1,g=l.document,w;function b(F){typeof F!="function"&&(F=new Function(""+F));for(var M=new Array(arguments.length-1),H=0;H<M.length;H++)M[H]=arguments[H+1];var ne={callback:F,args:M};return h[d]=ne,w(d),d++}function N(F){delete h[F]}function x(F){var M=F.callback,H=F.args;switch(H.length){case 0:M();break;case 1:M(H[0]);break;case 2:M(H[0],H[1]);break;case 3:M(H[0],H[1],H[2]);break;default:M.apply(c,H);break}}function _(F){if(m)setTimeout(_,0,F);else{var M=h[F];if(M){m=!0;try{x(M)}finally{N(F),m=!1}}}}function y(){w=function(F){process.nextTick(function(){_(F)})}}function S(){if(l.postMessage&&!l.importScripts){var F=!0,M=l.onmessage;return l.onmessage=function(){F=!1},l.postMessage("","*"),l.onmessage=M,F}}function D(){var F="setImmediate$"+Math.random()+"$",M=function(H){H.source===l&&typeof H.data=="string"&&H.data.indexOf(F)===0&&_(+H.data.slice(F.length))};l.addEventListener?l.addEventListener("message",M,!1):l.attachEvent("onmessage",M),w=function(H){l.postMessage(F+H,"*")}}function k(){var F=new MessageChannel;F.port1.onmessage=function(M){var H=M.data;_(H)},w=function(M){F.port2.postMessage(M)}}function C(){var F=g.documentElement;w=function(M){var H=g.createElement("script");H.onreadystatechange=function(){_(M),H.onreadystatechange=null,F.removeChild(H),H=null},F.appendChild(H)}}function B(){w=function(F){setTimeout(_,0,F)}}var P=Object.getPrototypeOf&&Object.getPrototypeOf(l);P=P&&P.setTimeout?P:l,{}.toString.call(l.process)==="[object process]"?y():S()?D():l.MessageChannel?k():g&&"onreadystatechange"in g.createElement("script")?C():B(),P.setImmediate=b,P.clearImmediate=N})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(yp)),yp.exports}var iR=rR();const aR=qa(iR);class uR{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new aR}catch{throw new Error("JSZip lib not loaded")}}open(e,n){return this.zip.loadAsync(e,{base64:n})}openUrl(e,n){return ml(e,"binary").then((function(r){return this.zip.loadAsync(r,{base64:n})}).bind(this))}request(e,n){var r=new Qt,a,s=new ra(e);return n||(n=s.extension),n=="blob"?a=this.getBlob(e):a=this.getText(e),a?a.then((function(l){let c=this.handleResponse(l,n);r.resolve(c)}).bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):pl(n)?r=Ri(e,"text/xml"):n=="xhtml"?r=Ri(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Ri(e,"text/html"):r=e,r}getBlob(e,n){var r=window.decodeURIComponent(e.substr(1)),a=this.zip.file(r);if(a)return n=n||vs.lookup(a.name),a.async("uint8array").then(function(s){return new Blob([s],{type:n})})}getText(e,n){var r=window.decodeURIComponent(e.substr(1)),a=this.zip.file(r);if(a)return a.async("string").then(function(s){return s})}getBase64(e,n){var r=window.decodeURIComponent(e.substr(1)),a=this.zip.file(r);if(a)return n=n||vs.lookup(a.name),a.async("base64").then(function(s){return"data:"+n+";base64,"+s})}createUrl(e,n){var r=new Qt,a=window.URL||window.webkitURL||window.mozURL,s,l,c=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(c?(l=this.getBase64(e),l&&l.then((function(d){this.urlCache[e]=d,r.resolve(d)}).bind(this))):(l=this.getBlob(e),l&&l.then((function(d){s=a.createObjectURL(d),this.urlCache[e]=s,r.resolve(s)}).bind(this))),l||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.zip=void 0,this.urlCache={}}}var Tp={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var cE;function sR(){return cE||(cE=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,s){function l(h,m){if(!a[h]){if(!r[h]){var g=typeof ni=="function"&&ni;if(!m&&g)return g(h,!0);if(c)return c(h,!0);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}var b=a[h]={exports:{}};r[h][0].call(b.exports,function(N){var x=r[h][1][N];return l(x||N)},b,b.exports,n,r,a,s)}return a[h].exports}for(var c=typeof ni=="function"&&ni,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,r,a){(function(s){var l=s.MutationObserver||s.WebKitMutationObserver,c;if(l){var d=0,h=new l(N),m=s.document.createTextNode("");h.observe(m,{characterData:!0}),c=function(){m.data=d=++d%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var g=new s.MessageChannel;g.port1.onmessage=N,c=function(){g.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?c=function(){var _=s.document.createElement("script");_.onreadystatechange=function(){N(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:c=function(){setTimeout(N,0)};var w,b=[];function N(){w=!0;for(var _,y,S=b.length;S;){for(y=b,b=[],_=-1;++_<S;)y[_]();S=b.length}w=!1}r.exports=x;function x(_){b.push(_)===1&&!w&&c()}}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,a){var s=n(1);function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];r.exports=g;function g(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,C!==l&&x(this,C)}g.prototype.catch=function(C){return this.then(null,C)},g.prototype.then=function(C,B){if(typeof C!="function"&&this.state===h||typeof B!="function"&&this.state===d)return this;var P=new this.constructor(l);if(this.state!==m){var F=this.state===h?C:B;b(P,F,this.outcome)}else this.queue.push(new w(P,C,B));return P};function w(C,B,P){this.promise=C,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(C){c.resolve(this.promise,C)},w.prototype.otherCallFulfilled=function(C){b(this.promise,this.onFulfilled,C)},w.prototype.callRejected=function(C){c.reject(this.promise,C)},w.prototype.otherCallRejected=function(C){b(this.promise,this.onRejected,C)};function b(C,B,P){s(function(){var F;try{F=B(P)}catch(M){return c.reject(C,M)}F===C?c.reject(C,new TypeError("Cannot resolve promise with itself")):c.resolve(C,F)})}c.resolve=function(C,B){var P=_(N,B);if(P.status==="error")return c.reject(C,P.value);var F=P.value;if(F)x(C,F);else{C.state=h,C.outcome=B;for(var M=-1,H=C.queue.length;++M<H;)C.queue[M].callFulfilled(B)}return C},c.reject=function(C,B){C.state=d,C.outcome=B;for(var P=-1,F=C.queue.length;++P<F;)C.queue[P].callRejected(B);return C};function N(C){var B=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof B=="function")return function(){B.apply(C,arguments)}}function x(C,B){var P=!1;function F(U){P||(P=!0,c.reject(C,U))}function M(U){P||(P=!0,c.resolve(C,U))}function H(){B(M,F)}var ne=_(H);ne.status==="error"&&F(ne.value)}function _(C,B){var P={};try{P.value=C(B),P.status="success"}catch(F){P.status="error",P.value=F}return P}g.resolve=y;function y(C){return C instanceof this?C:c.resolve(new this(l),C)}g.reject=S;function S(C){var B=new this(l);return c.reject(B,C)}g.all=D;function D(C){var B=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,F=!1;if(!P)return this.resolve([]);for(var M=new Array(P),H=0,ne=-1,U=new this(l);++ne<P;)J(C[ne],ne);return U;function J(R,se){B.resolve(R).then(re,function(ee){F||(F=!0,c.reject(U,ee))});function re(ee){M[se]=ee,++H===P&&!F&&(F=!0,c.resolve(U,M))}}}g.race=k;function k(C){var B=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,F=!1;if(!P)return this.resolve([]);for(var M=-1,H=new this(l);++M<P;)ne(C[M]);return H;function ne(U){B.resolve(U).then(function(J){F||(F=!0,c.resolve(H,J))},function(J){F||(F=!0,c.reject(H,J))})}}},{1:1}],3:[function(n,r,a){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,a){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function l(j,le){if(!(j instanceof le))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=c();function h(){try{if(!d||!d.open)return!1;var j=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),le=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!j||le)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(j,le){j=j||[],le=le||{};try{return new Blob(j,le)}catch(be){if(be.name!=="TypeError")throw be;for(var Q=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ve=new Q,ye=0;ye<j.length;ye+=1)ve.append(j[ye]);return ve.getBlob(le.type)}}typeof Promise>"u"&&n(3);var g=Promise;function w(j,le){le&&j.then(function(Q){le(null,Q)},function(Q){le(Q)})}function b(j,le,Q){typeof le=="function"&&j.then(le),typeof Q=="function"&&j.catch(Q)}function N(j){return typeof j!="string"&&(console.warn(j+" used as a key, but it is not a string."),j=String(j)),j}function x(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",y=void 0,S={},D=Object.prototype.toString,k="readonly",C="readwrite";function B(j){for(var le=j.length,Q=new ArrayBuffer(le),ve=new Uint8Array(Q),ye=0;ye<le;ye++)ve[ye]=j.charCodeAt(ye);return Q}function P(j){return new g(function(le){var Q=j.transaction(_,C),ve=m([""]);Q.objectStore(_).put(ve,"key"),Q.onabort=function(ye){ye.preventDefault(),ye.stopPropagation(),le(!1)},Q.oncomplete=function(){var ye=navigator.userAgent.match(/Chrome\/(\d+)/),be=navigator.userAgent.match(/Edge\//);le(be||!ye||parseInt(ye[1],10)>=43)}}).catch(function(){return!1})}function F(j){return typeof y=="boolean"?g.resolve(y):P(j).then(function(le){return y=le,y})}function M(j){var le=S[j.name],Q={};Q.promise=new g(function(ve,ye){Q.resolve=ve,Q.reject=ye}),le.deferredOperations.push(Q),le.dbReady?le.dbReady=le.dbReady.then(function(){return Q.promise}):le.dbReady=Q.promise}function H(j){var le=S[j.name],Q=le.deferredOperations.pop();if(Q)return Q.resolve(),Q.promise}function ne(j,le){var Q=S[j.name],ve=Q.deferredOperations.pop();if(ve)return ve.reject(le),ve.promise}function U(j,le){return new g(function(Q,ve){if(S[j.name]=S[j.name]||$(),j.db)if(le)M(j),j.db.close();else return Q(j.db);var ye=[j.name];le&&ye.push(j.version);var be=d.open.apply(d,ye);le&&(be.onupgradeneeded=function(He){var Ge=be.result;try{Ge.createObjectStore(j.storeName),He.oldVersion<=1&&Ge.createObjectStore(_)}catch(Ve){if(Ve.name==="ConstraintError")console.warn('The database "'+j.name+'" has been upgraded from version '+He.oldVersion+" to version "+He.newVersion+', but the storage "'+j.storeName+'" already exists.');else throw Ve}}),be.onerror=function(He){He.preventDefault(),ve(be.error)},be.onsuccess=function(){var He=be.result;He.onversionchange=function(Ge){Ge.target.close()},Q(He),H(j)}})}function J(j){return U(j,!1)}function R(j){return U(j,!0)}function se(j,le){if(!j.db)return!0;var Q=!j.db.objectStoreNames.contains(j.storeName),ve=j.version<j.db.version,ye=j.version>j.db.version;if(ve&&(j.version!==le&&console.warn('The database "'+j.name+`" can't be downgraded from version `+j.db.version+" to version "+j.version+"."),j.version=j.db.version),ye||Q){if(Q){var be=j.db.version+1;be>j.version&&(j.version=be)}return!0}return!1}function re(j){return new g(function(le,Q){var ve=new FileReader;ve.onerror=Q,ve.onloadend=function(ye){var be=btoa(ye.target.result||"");le({__local_forage_encoded_blob:!0,data:be,type:j.type})},ve.readAsBinaryString(j)})}function ee(j){var le=B(atob(j.data));return m([le],{type:j.type})}function ge(j){return j&&j.__local_forage_encoded_blob}function de(j){var le=this,Q=le._initReady().then(function(){var ve=S[le._dbInfo.name];if(ve&&ve.dbReady)return ve.dbReady});return b(Q,j,j),Q}function Z(j){M(j);for(var le=S[j.name],Q=le.forages,ve=0;ve<Q.length;ve++){var ye=Q[ve];ye._dbInfo.db&&(ye._dbInfo.db.close(),ye._dbInfo.db=null)}return j.db=null,J(j).then(function(be){return j.db=be,se(j)?R(j):be}).then(function(be){j.db=le.db=be;for(var He=0;He<Q.length;He++)Q[He]._dbInfo.db=be}).catch(function(be){throw ne(j,be),be})}function Y(j,le,Q,ve){ve===void 0&&(ve=1);try{var ye=j.db.transaction(j.storeName,le);Q(null,ye)}catch(be){if(ve>0&&(!j.db||be.name==="InvalidStateError"||be.name==="NotFoundError"))return g.resolve().then(function(){if(!j.db||be.name==="NotFoundError"&&!j.db.objectStoreNames.contains(j.storeName)&&j.version<=j.db.version)return j.db&&(j.version=j.db.version+1),R(j)}).then(function(){return Z(j).then(function(){Y(j,le,Q,ve-1)})}).catch(Q);Q(be)}}function $(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function xe(j){var le=this,Q={db:null};if(j)for(var ve in j)Q[ve]=j[ve];var ye=S[Q.name];ye||(ye=$(),S[Q.name]=ye),ye.forages.push(le),le._initReady||(le._initReady=le.ready,le.ready=de);var be=[];function He(){return g.resolve()}for(var Ge=0;Ge<ye.forages.length;Ge++){var Ve=ye.forages[Ge];Ve!==le&&be.push(Ve._initReady().catch(He))}var Je=ye.forages.slice(0);return g.all(be).then(function(){return Q.db=ye.db,J(Q)}).then(function(rt){return Q.db=rt,se(Q,le._defaultConfig.version)?R(Q):rt}).then(function(rt){Q.db=ye.db=rt,le._dbInfo=Q;for(var pt=0;pt<Je.length;pt++){var Ut=Je[pt];Ut!==le&&(Ut._dbInfo.db=Q.db,Ut._dbInfo.version=Q.version)}})}function ce(j,le){var Q=this;j=N(j);var ve=new g(function(ye,be){Q.ready().then(function(){Y(Q._dbInfo,k,function(He,Ge){if(He)return be(He);try{var Ve=Ge.objectStore(Q._dbInfo.storeName),Je=Ve.get(j);Je.onsuccess=function(){var rt=Je.result;rt===void 0&&(rt=null),ge(rt)&&(rt=ee(rt)),ye(rt)},Je.onerror=function(){be(Je.error)}}catch(rt){be(rt)}})}).catch(be)});return w(ve,le),ve}function Ne(j,le){var Q=this,ve=new g(function(ye,be){Q.ready().then(function(){Y(Q._dbInfo,k,function(He,Ge){if(He)return be(He);try{var Ve=Ge.objectStore(Q._dbInfo.storeName),Je=Ve.openCursor(),rt=1;Je.onsuccess=function(){var pt=Je.result;if(pt){var Ut=pt.value;ge(Ut)&&(Ut=ee(Ut));var nn=j(Ut,pt.key,rt++);nn!==void 0?ye(nn):pt.continue()}else ye()},Je.onerror=function(){be(Je.error)}}catch(pt){be(pt)}})}).catch(be)});return w(ve,le),ve}function Qe(j,le,Q){var ve=this;j=N(j);var ye=new g(function(be,He){var Ge;ve.ready().then(function(){return Ge=ve._dbInfo,D.call(le)==="[object Blob]"?F(Ge.db).then(function(Ve){return Ve?le:re(le)}):le}).then(function(Ve){Y(ve._dbInfo,C,function(Je,rt){if(Je)return He(Je);try{var pt=rt.objectStore(ve._dbInfo.storeName);Ve===null&&(Ve=void 0);var Ut=pt.put(Ve,j);rt.oncomplete=function(){Ve===void 0&&(Ve=null),be(Ve)},rt.onabort=rt.onerror=function(){var nn=Ut.error?Ut.error:Ut.transaction.error;He(nn)}}catch(nn){He(nn)}})}).catch(He)});return w(ye,Q),ye}function ht(j,le){var Q=this;j=N(j);var ve=new g(function(ye,be){Q.ready().then(function(){Y(Q._dbInfo,C,function(He,Ge){if(He)return be(He);try{var Ve=Ge.objectStore(Q._dbInfo.storeName),Je=Ve.delete(j);Ge.oncomplete=function(){ye()},Ge.onerror=function(){be(Je.error)},Ge.onabort=function(){var rt=Je.error?Je.error:Je.transaction.error;be(rt)}}catch(rt){be(rt)}})}).catch(be)});return w(ve,le),ve}function Ue(j){var le=this,Q=new g(function(ve,ye){le.ready().then(function(){Y(le._dbInfo,C,function(be,He){if(be)return ye(be);try{var Ge=He.objectStore(le._dbInfo.storeName),Ve=Ge.clear();He.oncomplete=function(){ve()},He.onabort=He.onerror=function(){var Je=Ve.error?Ve.error:Ve.transaction.error;ye(Je)}}catch(Je){ye(Je)}})}).catch(ye)});return w(Q,j),Q}function ct(j){var le=this,Q=new g(function(ve,ye){le.ready().then(function(){Y(le._dbInfo,k,function(be,He){if(be)return ye(be);try{var Ge=He.objectStore(le._dbInfo.storeName),Ve=Ge.count();Ve.onsuccess=function(){ve(Ve.result)},Ve.onerror=function(){ye(Ve.error)}}catch(Je){ye(Je)}})}).catch(ye)});return w(Q,j),Q}function wt(j,le){var Q=this,ve=new g(function(ye,be){if(j<0){ye(null);return}Q.ready().then(function(){Y(Q._dbInfo,k,function(He,Ge){if(He)return be(He);try{var Ve=Ge.objectStore(Q._dbInfo.storeName),Je=!1,rt=Ve.openKeyCursor();rt.onsuccess=function(){var pt=rt.result;if(!pt){ye(null);return}j===0||Je?ye(pt.key):(Je=!0,pt.advance(j))},rt.onerror=function(){be(rt.error)}}catch(pt){be(pt)}})}).catch(be)});return w(ve,le),ve}function ft(j){var le=this,Q=new g(function(ve,ye){le.ready().then(function(){Y(le._dbInfo,k,function(be,He){if(be)return ye(be);try{var Ge=He.objectStore(le._dbInfo.storeName),Ve=Ge.openKeyCursor(),Je=[];Ve.onsuccess=function(){var rt=Ve.result;if(!rt){ve(Je);return}Je.push(rt.key),rt.continue()},Ve.onerror=function(){ye(Ve.error)}}catch(rt){ye(rt)}})}).catch(ye)});return w(Q,j),Q}function xt(j,le){le=x.apply(this,arguments);var Q=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||Q.name,j.storeName=j.storeName||Q.storeName);var ve=this,ye;if(!j.name)ye=g.reject("Invalid arguments");else{var be=j.name===Q.name&&ve._dbInfo.db,He=be?g.resolve(ve._dbInfo.db):J(j).then(function(Ge){var Ve=S[j.name],Je=Ve.forages;Ve.db=Ge;for(var rt=0;rt<Je.length;rt++)Je[rt]._dbInfo.db=Ge;return Ge});j.storeName?ye=He.then(function(Ge){if(Ge.objectStoreNames.contains(j.storeName)){var Ve=Ge.version+1;M(j);var Je=S[j.name],rt=Je.forages;Ge.close();for(var pt=0;pt<rt.length;pt++){var Ut=rt[pt];Ut._dbInfo.db=null,Ut._dbInfo.version=Ve}var nn=new g(function(un,Tn){var In=d.open(j.name,Ve);In.onerror=function(Tr){var ua=In.result;ua.close(),Tn(Tr)},In.onupgradeneeded=function(){var Tr=In.result;Tr.deleteObjectStore(j.storeName)},In.onsuccess=function(){var Tr=In.result;Tr.close(),un(Tr)}});return nn.then(function(un){Je.db=un;for(var Tn=0;Tn<rt.length;Tn++){var In=rt[Tn];In._dbInfo.db=un,H(In._dbInfo)}}).catch(function(un){throw(ne(j,un)||g.resolve()).catch(function(){}),un})}}):ye=He.then(function(Ge){M(j);var Ve=S[j.name],Je=Ve.forages;Ge.close();for(var rt=0;rt<Je.length;rt++){var pt=Je[rt];pt._dbInfo.db=null}var Ut=new g(function(nn,un){var Tn=d.deleteDatabase(j.name);Tn.onerror=function(){var In=Tn.result;In&&In.close(),un(Tn.error)},Tn.onblocked=function(){console.warn('dropInstance blocked for database "'+j.name+'" until all open connections are closed')},Tn.onsuccess=function(){var In=Tn.result;In&&In.close(),nn(In)}});return Ut.then(function(nn){Ve.db=nn;for(var un=0;un<Je.length;un++){var Tn=Je[un];H(Tn._dbInfo)}}).catch(function(nn){throw(ne(j,nn)||g.resolve()).catch(function(){}),nn})})}return w(ye,le),ye}var Tt={_driver:"asyncStorage",_initStorage:xe,_support:h(),iterate:Ne,getItem:ce,setItem:Qe,removeItem:ht,clear:Ue,length:ct,key:wt,keys:ft,dropInstance:xt};function O(){return typeof openDatabase=="function"}var ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,W="__lfsc__:",pe=W.length,Pe="arbf",De="blob",me="si08",Le="ui08",tt="uic8",We="si16",lt="si32",bt="ur16",yt="ui32",zt="fl32",Sn="fl64",En=pe+Pe.length,On=Object.prototype.toString;function Ot(j){var le=j.length*.75,Q=j.length,ve,ye=0,be,He,Ge,Ve;j[j.length-1]==="="&&(le--,j[j.length-2]==="="&&le--);var Je=new ArrayBuffer(le),rt=new Uint8Array(Je);for(ve=0;ve<Q;ve+=4)be=ke.indexOf(j[ve]),He=ke.indexOf(j[ve+1]),Ge=ke.indexOf(j[ve+2]),Ve=ke.indexOf(j[ve+3]),rt[ye++]=be<<2|He>>4,rt[ye++]=(He&15)<<4|Ge>>2,rt[ye++]=(Ge&3)<<6|Ve&63;return Je}function yn(j){var le=new Uint8Array(j),Q="",ve;for(ve=0;ve<le.length;ve+=3)Q+=ke[le[ve]>>2],Q+=ke[(le[ve]&3)<<4|le[ve+1]>>4],Q+=ke[(le[ve+1]&15)<<2|le[ve+2]>>6],Q+=ke[le[ve+2]&63];return le.length%3===2?Q=Q.substring(0,Q.length-1)+"=":le.length%3===1&&(Q=Q.substring(0,Q.length-2)+"=="),Q}function Rn(j,le){var Q="";if(j&&(Q=On.call(j)),j&&(Q==="[object ArrayBuffer]"||j.buffer&&On.call(j.buffer)==="[object ArrayBuffer]")){var ve,ye=W;j instanceof ArrayBuffer?(ve=j,ye+=Pe):(ve=j.buffer,Q==="[object Int8Array]"?ye+=me:Q==="[object Uint8Array]"?ye+=Le:Q==="[object Uint8ClampedArray]"?ye+=tt:Q==="[object Int16Array]"?ye+=We:Q==="[object Uint16Array]"?ye+=bt:Q==="[object Int32Array]"?ye+=lt:Q==="[object Uint32Array]"?ye+=yt:Q==="[object Float32Array]"?ye+=zt:Q==="[object Float64Array]"?ye+=Sn:le(new Error("Failed to get type for BinaryArray"))),le(ye+yn(ve))}else if(Q==="[object Blob]"){var be=new FileReader;be.onload=function(){var He=Ae+j.type+"~"+yn(this.result);le(W+De+He)},be.readAsArrayBuffer(j)}else try{le(JSON.stringify(j))}catch(He){console.error("Couldn't convert value into a JSON string: ",j),le(null,He)}}function V(j){if(j.substring(0,pe)!==W)return JSON.parse(j);var le=j.substring(En),Q=j.substring(pe,En),ve;if(Q===De&&X.test(le)){var ye=le.match(X);ve=ye[1],le=le.substring(ye[0].length)}var be=Ot(le);switch(Q){case Pe:return be;case De:return m([be],{type:ve});case me:return new Int8Array(be);case Le:return new Uint8Array(be);case tt:return new Uint8ClampedArray(be);case We:return new Int16Array(be);case bt:return new Uint16Array(be);case lt:return new Int32Array(be);case yt:return new Uint32Array(be);case zt:return new Float32Array(be);case Sn:return new Float64Array(be);default:throw new Error("Unkown type: "+Q)}}var ze={serialize:Rn,deserialize:V,stringToBuffer:Ot,bufferToString:yn};function Ze(j,le,Q,ve){j.executeSql("CREATE TABLE IF NOT EXISTS "+le.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Q,ve)}function ut(j){var le=this,Q={db:null};if(j)for(var ve in j)Q[ve]=typeof j[ve]!="string"?j[ve].toString():j[ve];var ye=new g(function(be,He){try{Q.db=openDatabase(Q.name,String(Q.version),Q.description,Q.size)}catch(Ge){return He(Ge)}Q.db.transaction(function(Ge){Ze(Ge,Q,function(){le._dbInfo=Q,be()},function(Ve,Je){He(Je)})},He)});return Q.serializer=ze,ye}function fe(j,le,Q,ve,ye,be){j.executeSql(Q,ve,ye,function(He,Ge){Ge.code===Ge.SYNTAX_ERR?He.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[le.storeName],function(Ve,Je){Je.rows.length?be(Ve,Ge):Ze(Ve,le,function(){Ve.executeSql(Q,ve,ye,be)},be)},be):be(He,Ge)},be)}function Be(j,le){var Q=this;j=N(j);var ve=new g(function(ye,be){Q.ready().then(function(){var He=Q._dbInfo;He.db.transaction(function(Ge){fe(Ge,He,"SELECT * FROM "+He.storeName+" WHERE key = ? LIMIT 1",[j],function(Ve,Je){var rt=Je.rows.length?Je.rows.item(0).value:null;rt&&(rt=He.serializer.deserialize(rt)),ye(rt)},function(Ve,Je){be(Je)})})}).catch(be)});return w(ve,le),ve}function T(j,le){var Q=this,ve=new g(function(ye,be){Q.ready().then(function(){var He=Q._dbInfo;He.db.transaction(function(Ge){fe(Ge,He,"SELECT * FROM "+He.storeName,[],function(Ve,Je){for(var rt=Je.rows,pt=rt.length,Ut=0;Ut<pt;Ut++){var nn=rt.item(Ut),un=nn.value;if(un&&(un=He.serializer.deserialize(un)),un=j(un,nn.key,Ut+1),un!==void 0){ye(un);return}}ye()},function(Ve,Je){be(Je)})})}).catch(be)});return w(ve,le),ve}function L(j,le,Q,ve){var ye=this;j=N(j);var be=new g(function(He,Ge){ye.ready().then(function(){le===void 0&&(le=null);var Ve=le,Je=ye._dbInfo;Je.serializer.serialize(le,function(rt,pt){pt?Ge(pt):Je.db.transaction(function(Ut){fe(Ut,Je,"INSERT OR REPLACE INTO "+Je.storeName+" (key, value) VALUES (?, ?)",[j,rt],function(){He(Ve)},function(nn,un){Ge(un)})},function(Ut){if(Ut.code===Ut.QUOTA_ERR){if(ve>0){He(L.apply(ye,[j,Ve,Q,ve-1]));return}Ge(Ut)}})})}).catch(Ge)});return w(be,Q),be}function K(j,le,Q){return L.apply(this,[j,le,Q,1])}function A(j,le){var Q=this;j=N(j);var ve=new g(function(ye,be){Q.ready().then(function(){var He=Q._dbInfo;He.db.transaction(function(Ge){fe(Ge,He,"DELETE FROM "+He.storeName+" WHERE key = ?",[j],function(){ye()},function(Ve,Je){be(Je)})})}).catch(be)});return w(ve,le),ve}function ue(j){var le=this,Q=new g(function(ve,ye){le.ready().then(function(){var be=le._dbInfo;be.db.transaction(function(He){fe(He,be,"DELETE FROM "+be.storeName,[],function(){ve()},function(Ge,Ve){ye(Ve)})})}).catch(ye)});return w(Q,j),Q}function _e(j){var le=this,Q=new g(function(ve,ye){le.ready().then(function(){var be=le._dbInfo;be.db.transaction(function(He){fe(He,be,"SELECT COUNT(key) as c FROM "+be.storeName,[],function(Ge,Ve){var Je=Ve.rows.item(0).c;ve(Je)},function(Ge,Ve){ye(Ve)})})}).catch(ye)});return w(Q,j),Q}function z(j,le){var Q=this,ve=new g(function(ye,be){Q.ready().then(function(){var He=Q._dbInfo;He.db.transaction(function(Ge){fe(Ge,He,"SELECT key FROM "+He.storeName+" WHERE id = ? LIMIT 1",[j+1],function(Ve,Je){var rt=Je.rows.length?Je.rows.item(0).key:null;ye(rt)},function(Ve,Je){be(Je)})})}).catch(be)});return w(ve,le),ve}function oe(j){var le=this,Q=new g(function(ve,ye){le.ready().then(function(){var be=le._dbInfo;be.db.transaction(function(He){fe(He,be,"SELECT key FROM "+be.storeName,[],function(Ge,Ve){for(var Je=[],rt=0;rt<Ve.rows.length;rt++)Je.push(Ve.rows.item(rt).key);ve(Je)},function(Ge,Ve){ye(Ve)})})}).catch(ye)});return w(Q,j),Q}function Te(j){return new g(function(le,Q){j.transaction(function(ve){ve.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ye,be){for(var He=[],Ge=0;Ge<be.rows.length;Ge++)He.push(be.rows.item(Ge).name);le({db:j,storeNames:He})},function(ye,be){Q(be)})},function(ve){Q(ve)})})}function et(j,le){le=x.apply(this,arguments);var Q=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||Q.name,j.storeName=j.storeName||Q.storeName);var ve=this,ye;return j.name?ye=new g(function(be){var He;j.name===Q.name?He=ve._dbInfo.db:He=openDatabase(j.name,"","",0),j.storeName?be({db:He,storeNames:[j.storeName]}):be(Te(He))}).then(function(be){return new g(function(He,Ge){be.db.transaction(function(Ve){function Je(nn){return new g(function(un,Tn){Ve.executeSql("DROP TABLE IF EXISTS "+nn,[],function(){un()},function(In,Tr){Tn(Tr)})})}for(var rt=[],pt=0,Ut=be.storeNames.length;pt<Ut;pt++)rt.push(Je(be.storeNames[pt]));g.all(rt).then(function(){He()}).catch(function(nn){Ge(nn)})},function(Ve){Ge(Ve)})})}):ye=g.reject("Invalid arguments"),w(ye,le),ye}var Xe={_driver:"webSQLStorage",_initStorage:ut,_support:O(),iterate:T,getItem:Be,setItem:K,removeItem:A,clear:ue,length:_e,key:z,keys:oe,dropInstance:et};function it(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Rt(j,le){var Q=j.name+"/";return j.storeName!==le.storeName&&(Q+=j.storeName+"/"),Q}function Fn(){var j="_localforage_support_test";try{return localStorage.setItem(j,!0),localStorage.removeItem(j),!1}catch{return!0}}function Gt(){return!Fn()||localStorage.length>0}function Pt(j){var le=this,Q={};if(j)for(var ve in j)Q[ve]=j[ve];return Q.keyPrefix=Rt(j,le._defaultConfig),Gt()?(le._dbInfo=Q,Q.serializer=ze,g.resolve()):g.reject()}function en(j){var le=this,Q=le.ready().then(function(){for(var ve=le._dbInfo.keyPrefix,ye=localStorage.length-1;ye>=0;ye--){var be=localStorage.key(ye);be.indexOf(ve)===0&&localStorage.removeItem(be)}});return w(Q,j),Q}function qt(j,le){var Q=this;j=N(j);var ve=Q.ready().then(function(){var ye=Q._dbInfo,be=localStorage.getItem(ye.keyPrefix+j);return be&&(be=ye.serializer.deserialize(be)),be});return w(ve,le),ve}function wn(j,le){var Q=this,ve=Q.ready().then(function(){for(var ye=Q._dbInfo,be=ye.keyPrefix,He=be.length,Ge=localStorage.length,Ve=1,Je=0;Je<Ge;Je++){var rt=localStorage.key(Je);if(rt.indexOf(be)===0){var pt=localStorage.getItem(rt);if(pt&&(pt=ye.serializer.deserialize(pt)),pt=j(pt,rt.substring(He),Ve++),pt!==void 0)return pt}}});return w(ve,le),ve}function Yn(j,le){var Q=this,ve=Q.ready().then(function(){var ye=Q._dbInfo,be;try{be=localStorage.key(j)}catch{be=null}return be&&(be=be.substring(ye.keyPrefix.length)),be});return w(ve,le),ve}function yr(j){var le=this,Q=le.ready().then(function(){for(var ve=le._dbInfo,ye=localStorage.length,be=[],He=0;He<ye;He++){var Ge=localStorage.key(He);Ge.indexOf(ve.keyPrefix)===0&&be.push(Ge.substring(ve.keyPrefix.length))}return be});return w(Q,j),Q}function dn(j){var le=this,Q=le.keys().then(function(ve){return ve.length});return w(Q,j),Q}function tn(j,le){var Q=this;j=N(j);var ve=Q.ready().then(function(){var ye=Q._dbInfo;localStorage.removeItem(ye.keyPrefix+j)});return w(ve,le),ve}function Bn(j,le,Q){var ve=this;j=N(j);var ye=ve.ready().then(function(){le===void 0&&(le=null);var be=le;return new g(function(He,Ge){var Ve=ve._dbInfo;Ve.serializer.serialize(le,function(Je,rt){if(rt)Ge(rt);else try{localStorage.setItem(Ve.keyPrefix+j,Je),He(be)}catch(pt){(pt.name==="QuotaExceededError"||pt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ge(pt),Ge(pt)}})})});return w(ye,Q),ye}function Sr(j,le){if(le=x.apply(this,arguments),j=typeof j!="function"&&j||{},!j.name){var Q=this.config();j.name=j.name||Q.name,j.storeName=j.storeName||Q.storeName}var ve=this,ye;return j.name?ye=new g(function(be){j.storeName?be(Rt(j,ve._defaultConfig)):be(j.name+"/")}).then(function(be){for(var He=localStorage.length-1;He>=0;He--){var Ge=localStorage.key(He);Ge.indexOf(be)===0&&localStorage.removeItem(Ge)}}):ye=g.reject("Invalid arguments"),w(ye,le),ye}var Vn={_driver:"localStorageWrapper",_initStorage:Pt,_support:it(),iterate:wn,getItem:qt,setItem:Bn,removeItem:tn,clear:en,length:dn,key:Yn,keys:yr,dropInstance:Sr},ai=function(le,Q){return le===Q||typeof le=="number"&&typeof Q=="number"&&isNaN(le)&&isNaN(Q)},ad=function(le,Q){for(var ve=le.length,ye=0;ye<ve;){if(ai(le[ye],Q))return!0;ye++}return!1},Rs=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"},ia={},Sl={},ui={INDEXEDDB:Tt,WEBSQL:Xe,LOCALSTORAGE:Vn},Su=[ui.INDEXEDDB._driver,ui.WEBSQL._driver,ui.LOCALSTORAGE._driver],wr=["dropInstance"],Va=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(wr),wl={description:"",driver:Su.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function aa(j,le){j[le]=function(){var Q=arguments;return j.ready().then(function(){return j[le].apply(j,Q)})}}function Za(){for(var j=1;j<arguments.length;j++){var le=arguments[j];if(le)for(var Q in le)le.hasOwnProperty(Q)&&(Rs(le[Q])?arguments[0][Q]=le[Q].slice():arguments[0][Q]=le[Q])}return arguments[0]}var Is=function(){function j(le){l(this,j);for(var Q in ui)if(ui.hasOwnProperty(Q)){var ve=ui[Q],ye=ve._driver;this[Q]=ye,ia[ye]||this.defineDriver(ve)}this._defaultConfig=Za({},wl),this._config=Za({},this._defaultConfig,le),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return j.prototype.config=function(Q){if((typeof Q>"u"?"undefined":s(Q))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ve in Q){if(ve==="storeName"&&(Q[ve]=Q[ve].replace(/\W/g,"_")),ve==="version"&&typeof Q[ve]!="number")return new Error("Database version must be a number.");this._config[ve]=Q[ve]}return"driver"in Q&&Q.driver?this.setDriver(this._config.driver):!0}else return typeof Q=="string"?this._config[Q]:this._config},j.prototype.defineDriver=function(Q,ve,ye){var be=new g(function(He,Ge){try{var Ve=Q._driver,Je=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Q._driver){Ge(Je);return}for(var rt=Va.concat("_initStorage"),pt=0,Ut=rt.length;pt<Ut;pt++){var nn=rt[pt],un=!ad(wr,nn);if((un||Q[nn])&&typeof Q[nn]!="function"){Ge(Je);return}}var Tn=function(){for(var ua=function(Bs){return function(){var Ms=new Error("Method "+Bs+" is not implemented by the current driver"),ki=g.reject(Ms);return w(ki,arguments[arguments.length-1]),ki}},Ga=0,sd=wr.length;Ga<sd;Ga++){var ks=wr[Ga];Q[ks]||(Q[ks]=ua(ks))}};Tn();var In=function(ua){ia[Ve]&&console.info("Redefining LocalForage driver: "+Ve),ia[Ve]=Q,Sl[Ve]=ua,He()};"_support"in Q?Q._support&&typeof Q._support=="function"?Q._support().then(In,Ge):In(!!Q._support):In(!0)}catch(Tr){Ge(Tr)}});return b(be,ve,ye),be},j.prototype.driver=function(){return this._driver||null},j.prototype.getDriver=function(Q,ve,ye){var be=ia[Q]?g.resolve(ia[Q]):g.reject(new Error("Driver not found."));return b(be,ve,ye),be},j.prototype.getSerializer=function(Q){var ve=g.resolve(ze);return b(ve,Q),ve},j.prototype.ready=function(Q){var ve=this,ye=ve._driverSet.then(function(){return ve._ready===null&&(ve._ready=ve._initDriver()),ve._ready});return b(ye,Q,Q),ye},j.prototype.setDriver=function(Q,ve,ye){var be=this;Rs(Q)||(Q=[Q]);var He=this._getSupportedDrivers(Q);function Ge(){be._config.driver=be.driver()}function Ve(pt){return be._extend(pt),Ge(),be._ready=be._initStorage(be._config),be._ready}function Je(pt){return function(){var Ut=0;function nn(){for(;Ut<pt.length;){var un=pt[Ut];return Ut++,be._dbInfo=null,be._ready=null,be.getDriver(un).then(Ve).catch(nn)}Ge();var Tn=new Error("No available storage method found.");return be._driverSet=g.reject(Tn),be._driverSet}return nn()}}var rt=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=rt.then(function(){var pt=He[0];return be._dbInfo=null,be._ready=null,be.getDriver(pt).then(function(Ut){be._driver=Ut._driver,Ge(),be._wrapLibraryMethodsWithReady(),be._initDriver=Je(He)})}).catch(function(){Ge();var pt=new Error("No available storage method found.");return be._driverSet=g.reject(pt),be._driverSet}),b(this._driverSet,ve,ye),this._driverSet},j.prototype.supports=function(Q){return!!Sl[Q]},j.prototype._extend=function(Q){Za(this,Q)},j.prototype._getSupportedDrivers=function(Q){for(var ve=[],ye=0,be=Q.length;ye<be;ye++){var He=Q[ye];this.supports(He)&&ve.push(He)}return ve},j.prototype._wrapLibraryMethodsWithReady=function(){for(var Q=0,ve=Va.length;Q<ve;Q++)aa(this,Va[Q])},j.prototype.createInstance=function(Q){return new j(Q)},j}(),ud=new Is;r.exports=ud},{3:3}]},{},[4])(4)})}(Tp)),Tp.exports}var oR=sR();const fE=qa(oR);class CT{constructor(e,n,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=n||ml,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof fE>"u"&&(e=fE),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let n=navigator.onLine;this.online=n,n?this.emit("online",this):this.emit("offline",this)}add(e,n){let r=e.resources.map(a=>{let{href:s}=a,l=this.resolver(s),c=window.encodeURIComponent(l);return this.storage.getItem(c).then(d=>!d||n?this.requester(l,"binary").then(h=>this.storage.setItem(c,h)):d)});return Promise.all(r)}put(e,n,r){let a=window.encodeURIComponent(e);return this.storage.getItem(a).then(s=>s||this.requester(e,"binary",n,r).then(l=>this.storage.setItem(a,l)))}request(e,n,r,a){return this.online?this.requester(e,n,r,a).then(s=>(this.put(e),s)):this.retrieve(e,n)}retrieve(e,n){new Qt;var r,a=new ra(e);return n||(n=a.extension),n=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(s=>{var l=new Qt,c;return s?(c=this.handleResponse(s,n),l.resolve(c)):l.reject({message:"File not found in storage: "+e,stack:new Error().stack}),l.promise})}handleResponse(e,n){var r;return n=="json"?r=JSON.parse(e):pl(n)?r=Ri(e,"text/xml"):n=="xhtml"?r=Ri(e,"application/xhtml+xml"):n=="html"||n=="htm"?r=Ri(e,"text/html"):r=e,r}getBlob(e,n){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(a){if(a)return n=n||vs.lookup(e),new Blob([a],{type:n})})}getText(e,n){let r=window.encodeURIComponent(e);return n=n||vs.lookup(e),this.storage.getItem(r).then(function(a){var s=new Qt,l=new FileReader,c;if(a)return c=new Blob([a],{type:n}),l.addEventListener("loadend",()=>{s.resolve(l.result)}),l.readAsText(c,n),s.promise})}getBase64(e,n){let r=window.encodeURIComponent(e);return n=n||vs.lookup(e),this.storage.getItem(r).then(a=>{var s=new Qt,l=new FileReader,c;if(a)return c=new Blob([a],{type:n}),l.addEventListener("loadend",()=>{s.resolve(l.result)}),l.readAsDataURL(c,n),s.promise})}createUrl(e,n){var r=new Qt,a=window.URL||window.webkitURL||window.mozURL,s,l,c=n&&n.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(c?(l=this.getBase64(e),l&&l.then((function(d){this.urlCache[e]=d,r.resolve(d)}).bind(this))):(l=this.getBlob(e),l&&l.then((function(d){s=a.createObjectURL(d),this.urlCache[e]=s,r.resolve(s)}).bind(this))),l||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&n.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.urlCache={},this.removeListeners()}}Ii(CT.prototype);class Ap{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const n=xn(e,"display_options");return n?(na(n,"option").forEach(a=>{let s="";switch(a.childNodes.length&&(s=a.childNodes[0].nodeValue),a.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const dE="META-INF/container.xml",lR="META-INF/com.apple.ibooks.display-options.xml",hi={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class o1{constructor(e,n){typeof n>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(n=e,e=void 0),this.settings=pr(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),pr(this.settings,n),this.opening=new Qt,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Qt,spine:new Qt,metadata:new Qt,cover:new Qt,navigation:new Qt,pageList:new Qt,resources:new Qt,displayOptions:new Qt},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||ml,this.spine=new AO,this.locations=new vT(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var a=new Error("Cannot load book at "+e);this.emit(ot.BOOK.OPEN_FAILED,a)})}open(e,n){var r,a=n||this.determineType(e);return a===hi.BINARY?(this.archived=!0,this.url=new mi("/",""),r=this.openEpub(e)):a===hi.BASE64?(this.archived=!0,this.url=new mi("/",""),r=this.openEpub(e,a)):a===hi.EPUB?(this.archived=!0,this.url=new mi("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):a==hi.OPF?(this.url=new mi(e),r=this.openPackaging(this.url.Path.toString())):a==hi.MANIFEST?(this.url=new mi(e),r=this.openManifest(this.url.Path.toString())):(this.url=new mi(e),r=this.openContainer(dE).then(this.openPackaging.bind(this))),r}openEpub(e,n){return this.unarchive(e,n||this.settings.encoding).then(()=>this.openContainer(dE)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(n=>(this.container=new xO(n),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new ra(e),this.load(e).then(n=>(this.packaging=new jv(n),this.unpack(this.packaging)))}openManifest(e){return this.path=new ra(e),this.load(e).then(n=>(this.packaging=new jv,this.packaging.load(n),this.unpack(this.packaging)))}load(e){var n=this.resolve(e);return this.archived?this.archive.request(n):this.request(n,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,n){if(e){var r=e,a=e.indexOf("://")>-1;return a?e:(this.path&&(r=this.path.resolve(e)),n!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var n=e;return e?(this.settings.canonical?n=this.settings.canonical(e):n=this.resolve(e,!0),n):""}determineType(e){var n,r,a;if(this.settings.encoding==="base64")return hi.BASE64;if(typeof e!="string")return hi.BINARY;if(n=new mi(e),r=n.path(),a=r.extension,a&&(a=a.replace(/\?.*$/,"")),!a)return hi.DIRECTORY;if(a==="epub")return hi.EPUB;if(a==="opf")return hi.OPF;if(a==="json")return hi.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(lR)).then(n=>{this.displayOptions=new Ap(n),this.loading.displayOptions.resolve(this.displayOptions)}).catch(n=>{this.displayOptions=new Ap,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new Ap,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new NO(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(n=>{console.error(n)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let n=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((a,s)=>{this.navigation=new ip(r),e.pageList&&(this.pageList=new ap(e.pageList)),a(this.navigation)}):n?this.load(n,"xml").then(a=>(this.navigation=new ip(a),this.pageList=new ap(a),this.navigation)):new Promise((a,s)=>{this.navigation=new ip,this.pageList=new ap,a(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,n){return this.rendition=new s1(this,n),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,n){return this.archive=new uR,this.archive.open(e,n)}store(e){let n=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,a=this.settings.requestMethod||ml.bind(this);return this.storage=new CT(e,a,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(l,c)=>{c.output=this.resources.substitute(l,c.url)};this.resources.settings.replacements=n||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new mi("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,n)=>{n.output=this.resources.substitute(e,n.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var n=new Kt(e),r=this.spine.get(n.spinePos),a=this.load.bind(this);return r?r.load(a).then(function(s){var l=n.toRange(r.document);return l}):new Promise((s,l)=>{l("CFI could not be found")})}key(e){var n=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${id}:${n}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}Ii(o1.prototype);function xu(t,e){return new o1(t,e)}xu.VERSION=id;typeof global<"u"&&(global.EPUBJS_VERSION=id);xu.Book=o1;xu.Rendition=s1;xu.Contents=a1;xu.CFI=Kt;xu.utils=mO;function cR(){const[t,e]=qn.useState(()=>localStorage.getItem("openaiApiKey")||""),[n,r]=qn.useState(null),[a,s]=qn.useState(10),[l,c]=qn.useState("replace"),[d,h]=qn.useState(()=>localStorage.getItem("openaiBaseUrl")||""),[m,g]=qn.useState(()=>localStorage.getItem("targetLanguage")||"Translate this text into English"),[w,b]=qn.useState("gpt-4.1-nano"),[N,x]=qn.useState("Ready"),[_,y]=qn.useState(!1),[S,D]=qn.useState(null),[k,C]=qn.useState(!1),[B,P]=qn.useState(!1),[F,M]=qn.useState({currentFile:"",fileIndex:0,totalFiles:0,status:""}),[H,ne]=qn.useState(null),[U,J]=qn.useState(null),[R,se]=qn.useState(null),[re,ee]=qn.useState(!1),ge=async()=>{if(!n){x("Error: No EPUB file selected for preview.");return}x("Loading original EPUB for preview..."),ee(!1);try{const ce=new FileReader;ce.onload=async Ne=>{if(Ne.target?.result){const ht=xu(Ne.target.result).renderTo("original-epub-preview",{width:"100%",height:"100%",spread:"none"});x("Original EPUB preview loaded."),ee(!0),await ht.display()}},ce.readAsArrayBuffer(n)}catch(ce){x(`Error loading original EPUB for preview: ${ce instanceof Error?ce.message:String(ce)}`),ee(!1)}},de=ce=>{ce&&ce.name.endsWith(".epub")?(r(ce),x(`File selected: ${ce.name}`),ee(!1)):(r(null),x("Error: Please select a valid EPUB file."),ee(!1))};qn.useEffect(()=>{localStorage.setItem("openaiApiKey",t)},[t]),qn.useEffect(()=>{localStorage.setItem("openaiBaseUrl",d)},[d]),qn.useEffect(()=>{localStorage.setItem("targetLanguage",m)},[m]);const Z=ce=>{ce.preventDefault(),C(!0)},Y=ce=>{ce.preventDefault(),C(!1)},$=ce=>{ce.preventDefault(),C(!1),ce.dataTransfer.files&&ce.dataTransfer.files.length>0&&de(ce.dataTransfer.files[0])},xe=async()=>{if(!t||!n){x("Error: API key and EPUB file are required.");return}y(!0);const ce=new AbortController;D(ce);try{const Ne=await UD({apiKey:t,epubFile:n,chunkSize:a,translationMode:l,setStatus:x,baseUrl:d,targetLanguage:m,modelName:w,abortSignal:ce,onProgress:Ue=>{M({currentFile:Ue.currentFile,fileIndex:Ue.fileIndex,totalFiles:Ue.totalFiles,status:Ue.status}),ne(Ue.translatedBlob),se(Ue.htmlContent)},getPausePromise:()=>new Promise(Ue=>{J(()=>Ue),P(!0)})}),Qe=URL.createObjectURL(Ne),ht=document.createElement("a");ht.href=Qe,ht.download=`translated-${n?.name||"epub"}`,document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),URL.revokeObjectURL(Qe),x("Translation complete!")}catch(Ne){Ne instanceof DOMException&&Ne.name==="AbortError"?(x("Translation cancelled."),ne(null),se(null),P(!1),J(null)):(x(`Error: ${Ne instanceof Error?Ne.message:"Unknown error"}`),ne(null),se(null),P(!1),J(null))}finally{y(!1),D(null),P(!1),J(null),M({currentFile:"",fileIndex:0,totalFiles:0,status:""})}};return Et.jsx(Et.Fragment,{children:Et.jsxs("div",{className:"App",children:[Et.jsxs("header",{className:"App-header",children:[Et.jsx("h1",{children:"EPUB Translator"}),Et.jsx("p",{children:"Translate EPUB books using OpenAI"})]}),Et.jsxs("main",{className:"App-main",children:[Et.jsxs("div",{className:"settings-column",children:[Et.jsx("label",{htmlFor:"api-key",children:"OpenAI API Key"}),Et.jsx("input",{id:"api-key",type:"password",value:t,onChange:ce=>e(ce.target.value),placeholder:"sk-..."}),Et.jsxs("div",{className:"setting-item",children:[Et.jsx("label",{htmlFor:"base-url",children:"OpenAI Base URL"}),Et.jsx("input",{id:"base-url",type:"text",value:d,onChange:ce=>h(ce.target.value)})]}),Et.jsxs("div",{className:"setting-item",children:[Et.jsx("label",{htmlFor:"target-language",children:"Target Language Prompt"}),Et.jsx("input",{id:"target-language",type:"text",value:m,onChange:ce=>g(ce.target.value),placeholder:"Translate this text into English"})]}),Et.jsxs("div",{className:"setting-item",children:[Et.jsx("label",{htmlFor:"model-name",children:"Model Name"}),Et.jsx("input",{id:"model-name",type:"text",value:w,onChange:ce=>b(ce.target.value),placeholder:"gpt-4.1-nano"})]}),Et.jsxs("div",{className:"setting-group",children:[Et.jsxs("div",{className:`drag-drop-area ${k?"dragging":""}`,onDragOver:Z,onDragLeave:Y,onDrop:$,onClick:()=>document.getElementById("epub-file-input")?.click(),children:[Et.jsx("p",{children:"Drag & Drop EPUB file here, or click to select"}),Et.jsx("input",{id:"epub-file-input",type:"file",accept:".epub",onChange:ce=>de(ce.target.files?ce.target.files[0]:null),style:{display:"none"}}),n&&Et.jsxs("p",{children:["Selected: ",n.name]})]}),n&&Et.jsx("button",{onClick:ge,disabled:!n,children:"Preview Original EPUB"}),Et.jsxs("div",{className:"setting-item",children:[Et.jsx("label",{htmlFor:"chunk-size",children:"Paragraphs per Request (N)"}),Et.jsx("input",{id:"chunk-size",type:"number",value:a,onChange:ce=>s(Number(ce.target.value))})]}),Et.jsxs("div",{className:"setting-item",children:[Et.jsx("label",{children:"Translation Mode"}),Et.jsxs("div",{className:"radio-group",children:[Et.jsxs("label",{children:[Et.jsx("input",{type:"radio",name:"translation-mode",value:"replace",checked:l==="replace",onChange:()=>c("replace")}),"Replacement ()"]}),Et.jsxs("label",{children:[Et.jsx("input",{type:"radio",name:"translation-mode",value:"bilingual",checked:l==="bilingual",onChange:()=>c("bilingual")}),"Bilingual ()"]})]})]})]}),Et.jsxs("div",{className:"actions",children:[Et.jsx("button",{onClick:xe,disabled:!t||!n||_||B,children:"Translate"}),_&&!B&&Et.jsx("button",{onClick:()=>P(!0),children:"Pause"}),_&&B&&U&&Et.jsx("button",{onClick:()=>{U(),J(null),P(!1)},children:"Resume"}),Et.jsx("button",{onClick:()=>S?.abort(),disabled:!_||!S,children:"Cancel"})]}),Et.jsxs("div",{className:"status",children:[Et.jsx("h2",{children:"Status"}),Et.jsx("p",{children:N}),_&&Et.jsxs("p",{children:["Translating file ",F.fileIndex," of ",F.totalFiles,":"," ",F.currentFile," (",F.status,")"]})]})]}),Et.jsxs("div",{className:"preview-column",children:[H&&Et.jsxs("div",{className:"translated-epub-download",children:[Et.jsx("h2",{children:"Translated EPUB Preview"}),Et.jsx("p",{children:"Download partially translated EPUB:"}),Et.jsx("a",{href:URL.createObjectURL(H),download:`partially-translated-${n?.name||"epub"}`,children:"Download Partial EPUB"})]}),re&&Et.jsxs("div",{className:"original-epub-preview",children:[Et.jsx("h2",{children:"Original EPUB Preview"}),Et.jsx("div",{id:"original-epub-preview",style:{height:"500px",overflowY:"scroll",border:"1px solid #ccc"}})]}),R&&Et.jsxs("div",{className:"real-time-preview",children:[Et.jsx("h2",{children:"Real-time Preview"}),Et.jsx("div",{className:"preview-content",dangerouslySetInnerHTML:{__html:R}})]})]})]})]})})}PA.createRoot(document.getElementById("root")).render(Et.jsx(qn.StrictMode,{children:Et.jsx(cR,{})}));
