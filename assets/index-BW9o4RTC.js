(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function u(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=u(a);fetch(a.href,l)}})();var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dd={exports:{}},js={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function m_(){if(hm)return js;hm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function u(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return js.Fragment=e,js.jsx=u,js.jsxs=u,js}var pm;function g_(){return pm||(pm=1,Dd.exports=m_()),Dd.exports}var tt=g_(),wd={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function b_(){if(mm)return yt;mm=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),_=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,w={};function y(G,ie,_e){this.props=G,this.context=ie,this.refs=w,this.updater=_e||S}y.prototype.isReactComponent={},y.prototype.setState=function(G,ie){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ie,"setState")},y.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function A(){}A.prototype=y.prototype;function N(G,ie,_e){this.props=G,this.context=ie,this.refs=w,this.updater=_e||S}var I=N.prototype=new A;I.constructor=N,B(I,y.prototype),I.isPureReactComponent=!0;var V=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function z(G,ie,_e,Ne,Ee,Ve){return _e=Ve.ref,{$$typeof:t,type:G,key:ie,ref:_e!==void 0?_e:null,props:Ve}}function q(G,ie){return z(G.type,ie,void 0,void 0,void 0,G.props)}function H(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function Y(G){var ie={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(_e){return ie[_e]})}var oe=/\/+/g;function J(G,ie){return typeof G=="object"&&G!==null&&G.key!=null?Y(""+G.key):ie.toString(36)}function de(){}function Re(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(de,de):(G.status="pending",G.then(function(ie){G.status==="pending"&&(G.status="fulfilled",G.value=ie)},function(ie){G.status==="pending"&&(G.status="rejected",G.reason=ie)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Se(G,ie,_e,Ne,Ee){var Ve=typeof G;(Ve==="undefined"||Ve==="boolean")&&(G=null);var Ge=!1;if(G===null)Ge=!0;else switch(Ve){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(G.$$typeof){case t:case e:Ge=!0;break;case E:return Ge=G._init,Se(Ge(G._payload),ie,_e,Ne,Ee)}}if(Ge)return Ee=Ee(G),Ge=Ne===""?"."+J(G,0):Ne,V(Ee)?(_e="",Ge!=null&&(_e=Ge.replace(oe,"$&/")+"/"),Se(Ee,ie,_e,"",function(Tt){return Tt})):Ee!=null&&(H(Ee)&&(Ee=q(Ee,_e+(Ee.key==null||G&&G.key===Ee.key?"":(""+Ee.key).replace(oe,"$&/")+"/")+Ge)),ie.push(Ee)),1;Ge=0;var ut=Ne===""?".":Ne+":";if(V(G))for(var He=0;He<G.length;He++)Ne=G[He],Ve=ut+J(Ne,He),Ge+=Se(Ne,ie,_e,Ve,Ee);else if(He=x(G),typeof He=="function")for(G=He.call(G),He=0;!(Ne=G.next()).done;)Ne=Ne.value,Ve=ut+J(Ne,He++),Ge+=Se(Ne,ie,_e,Ve,Ee);else if(Ve==="object"){if(typeof G.then=="function")return Se(Re(G),ie,_e,Ne,Ee);throw ie=String(G),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function te(G,ie,_e){if(G==null)return G;var Ne=[],Ee=0;return Se(G,Ne,"","",function(Ve){return ie.call(_e,Ve,Ee++)}),Ne}function le(G){if(G._status===-1){var ie=G._result;ie=ie(),ie.then(function(_e){(G._status===0||G._status===-1)&&(G._status=1,G._result=_e)},function(_e){(G._status===0||G._status===-1)&&(G._status=2,G._result=_e)}),G._status===-1&&(G._status=0,G._result=ie)}if(G._status===1)return G._result.default;throw G._result}var ge=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function De(){}return yt.Children={map:te,forEach:function(G,ie,_e){te(G,function(){ie.apply(this,arguments)},_e)},count:function(G){var ie=0;return te(G,function(){ie++}),ie},toArray:function(G){return te(G,function(ie){return ie})||[]},only:function(G){if(!H(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},yt.Component=y,yt.Fragment=u,yt.Profiler=a,yt.PureComponent=N,yt.StrictMode=i,yt.Suspense=h,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,yt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return D.H.useMemoCache(G)}},yt.cache=function(G){return function(){return G.apply(null,arguments)}},yt.cloneElement=function(G,ie,_e){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Ne=B({},G.props),Ee=G.key,Ve=void 0;if(ie!=null)for(Ge in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(Ee=""+ie.key),ie)!U.call(ie,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ie.ref===void 0||(Ne[Ge]=ie[Ge]);var Ge=arguments.length-2;if(Ge===1)Ne.children=_e;else if(1<Ge){for(var ut=Array(Ge),He=0;He<Ge;He++)ut[He]=arguments[He+2];Ne.children=ut}return z(G.type,Ee,void 0,void 0,Ve,Ne)},yt.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},yt.createElement=function(G,ie,_e){var Ne,Ee={},Ve=null;if(ie!=null)for(Ne in ie.key!==void 0&&(Ve=""+ie.key),ie)U.call(ie,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Ee[Ne]=ie[Ne]);var Ge=arguments.length-2;if(Ge===1)Ee.children=_e;else if(1<Ge){for(var ut=Array(Ge),He=0;He<Ge;He++)ut[He]=arguments[He+2];Ee.children=ut}if(G&&G.defaultProps)for(Ne in Ge=G.defaultProps,Ge)Ee[Ne]===void 0&&(Ee[Ne]=Ge[Ne]);return z(G,Ve,void 0,void 0,null,Ee)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(G){return{$$typeof:f,render:G}},yt.isValidElement=H,yt.lazy=function(G){return{$$typeof:E,_payload:{_status:-1,_result:G},_init:le}},yt.memo=function(G,ie){return{$$typeof:p,type:G,compare:ie===void 0?null:ie}},yt.startTransition=function(G){var ie=D.T,_e={};D.T=_e;try{var Ne=G(),Ee=D.S;Ee!==null&&Ee(_e,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(De,ge)}catch(Ve){ge(Ve)}finally{D.T=ie}},yt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},yt.use=function(G){return D.H.use(G)},yt.useActionState=function(G,ie,_e){return D.H.useActionState(G,ie,_e)},yt.useCallback=function(G,ie){return D.H.useCallback(G,ie)},yt.useContext=function(G){return D.H.useContext(G)},yt.useDebugValue=function(){},yt.useDeferredValue=function(G,ie){return D.H.useDeferredValue(G,ie)},yt.useEffect=function(G,ie,_e){var Ne=D.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ne.useEffect(G,ie)},yt.useId=function(){return D.H.useId()},yt.useImperativeHandle=function(G,ie,_e){return D.H.useImperativeHandle(G,ie,_e)},yt.useInsertionEffect=function(G,ie){return D.H.useInsertionEffect(G,ie)},yt.useLayoutEffect=function(G,ie){return D.H.useLayoutEffect(G,ie)},yt.useMemo=function(G,ie){return D.H.useMemo(G,ie)},yt.useOptimistic=function(G,ie){return D.H.useOptimistic(G,ie)},yt.useReducer=function(G,ie,_e){return D.H.useReducer(G,ie,_e)},yt.useRef=function(G){return D.H.useRef(G)},yt.useState=function(G){return D.H.useState(G)},yt.useSyncExternalStore=function(G,ie,_e){return D.H.useSyncExternalStore(G,ie,_e)},yt.useTransition=function(){return D.H.useTransition()},yt.version="19.1.0",yt}var gm;function lh(){return gm||(gm=1,wd.exports=b_()),wd.exports}var wu=lh(),Od={exports:{}},Ys={},Rd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function v_(){return bm||(bm=1,function(t){function e(te,le){var ge=te.length;te.push(le);e:for(;0<ge;){var De=ge-1>>>1,G=te[De];if(0<a(G,le))te[De]=le,te[ge]=G,ge=De;else break e}}function u(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var le=te[0],ge=te.pop();if(ge!==le){te[0]=ge;e:for(var De=0,G=te.length,ie=G>>>1;De<ie;){var _e=2*(De+1)-1,Ne=te[_e],Ee=_e+1,Ve=te[Ee];if(0>a(Ne,ge))Ee<G&&0>a(Ve,Ne)?(te[De]=Ve,te[Ee]=ge,De=Ee):(te[De]=Ne,te[_e]=ge,De=_e);else if(Ee<G&&0>a(Ve,ge))te[De]=Ve,te[Ee]=ge,De=Ee;else break e}}return le}function a(te,le){var ge=te.sortIndex-le.sortIndex;return ge!==0?ge:te.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],p=[],E=1,_=null,x=3,S=!1,B=!1,w=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function V(te){for(var le=u(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=te)i(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=u(p)}}function D(te){if(w=!1,V(te),!B)if(u(h)!==null)B=!0,U||(U=!0,J());else{var le=u(p);le!==null&&Se(D,le.startTime-te)}}var U=!1,z=-1,q=5,H=-1;function Y(){return y?!0:!(t.unstable_now()-H<q)}function oe(){if(y=!1,U){var te=t.unstable_now();H=te;var le=!0;try{e:{B=!1,w&&(w=!1,N(z),z=-1),S=!0;var ge=x;try{t:{for(V(te),_=u(h);_!==null&&!(_.expirationTime>te&&Y());){var De=_.callback;if(typeof De=="function"){_.callback=null,x=_.priorityLevel;var G=De(_.expirationTime<=te);if(te=t.unstable_now(),typeof G=="function"){_.callback=G,V(te),le=!0;break t}_===u(h)&&i(h),V(te)}else i(h);_=u(h)}if(_!==null)le=!0;else{var ie=u(p);ie!==null&&Se(D,ie.startTime-te),le=!1}}break e}finally{_=null,x=ge,S=!1}le=void 0}}finally{le?J():U=!1}}}var J;if(typeof I=="function")J=function(){I(oe)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Re=de.port2;de.port1.onmessage=oe,J=function(){Re.postMessage(null)}}else J=function(){A(oe,0)};function Se(te,le){z=A(function(){te(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(te){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ge=x;x=le;try{return te()}finally{x=ge}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(te,le){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ge=x;x=te;try{return le()}finally{x=ge}},t.unstable_scheduleCallback=function(te,le,ge){var De=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,te){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ge+G,te={id:E++,callback:le,priorityLevel:te,startTime:ge,expirationTime:G,sortIndex:-1},ge>De?(te.sortIndex=ge,e(p,te),u(h)===null&&te===u(p)&&(w?(N(z),z=-1):w=!0,Se(D,ge-De))):(te.sortIndex=G,e(h,te),B||S||(B=!0,U||(U=!0,J()))),te},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(te){var le=x;return function(){var ge=x;x=le;try{return te.apply(this,arguments)}finally{x=ge}}}}(Id)),Id}var vm;function E_(){return vm||(vm=1,Rd.exports=v_()),Rd.exports}var Ld={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function __(){if(Em)return un;Em=1;var t=lh();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var i={d:{f:u,r:function(){throw Error(e(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,p,E){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:p,implementation:E}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(h,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,E)},un.flushSync=function(h){var p=c.T,E=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=p,i.p=E,i.d.f()}},un.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},un.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},un.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var E=p.as,_=f(E,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:S}):E==="script"&&i.d.X(h,{crossOrigin:_,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},un.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=f(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},un.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,_=f(E,p.crossOrigin);i.d.L(h,E,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},un.preloadModule=function(h,p){if(typeof h=="string")if(p){var E=f(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},un.requestFormReset=function(h){i.d.r(h)},un.unstable_batchedUpdates=function(h,p){return h(p)},un.useFormState=function(h,p,E){return c.H.useFormState(h,p,E)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.1.0",un}var _m;function y_(){if(_m)return Ld.exports;_m=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ld.exports=__(),Ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function T_(){if(ym)return Ys;ym=1;var t=E_(),e=lh(),u=y_();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(i(188))}function h(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var s=n,o=r;;){var d=s.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===s)return f(d),n;if(m===o)return f(d),r;m=m.sibling}throw Error(i(188))}if(s.return!==o.return)s=d,o=m;else{for(var C=!1,R=d.child;R;){if(R===s){C=!0,s=d,o=m;break}if(R===o){C=!0,o=d,s=m;break}R=R.sibling}if(!C){for(R=m.child;R;){if(R===s){C=!0,s=m,o=d;break}if(R===o){C=!0,o=m,s=d;break}R=R.sibling}if(!C)throw Error(i(189))}}if(s.alternate!==o)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),I=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function J(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var de=Symbol.for("react.client.reference");function Re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===de?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case y:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case U:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case I:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case V:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return r=n.displayName||null,r!==null?r:Re(n.type)||"Memo";case q:r=n._payload,n=n._init;try{return Re(n(r))}catch{}}return null}var Se=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},De=[],G=-1;function ie(n){return{current:n}}function _e(n){0>G||(n.current=De[G],De[G]=null,G--)}function Ne(n,r){G++,De[G]=n.current,n.current=r}var Ee=ie(null),Ve=ie(null),Ge=ie(null),ut=ie(null);function He(n,r){switch(Ne(Ge,r),Ne(Ve,n),Ne(Ee,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?zp(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=zp(r),n=qp(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}_e(Ee),Ne(Ee,n)}function Tt(){_e(Ee),_e(Ve),_e(Ge)}function Ht(n){n.memoizedState!==null&&Ne(ut,n);var r=Ee.current,s=qp(r,n.type);r!==s&&(Ne(Ve,n),Ne(Ee,s))}function ft(n){Ve.current===n&&(_e(Ee),_e(Ve)),ut.current===n&&(_e(ut),Ps._currentValue=ge)}var _t=Object.prototype.hasOwnProperty,Et=t.unstable_scheduleCallback,At=t.unstable_cancelCallback,Zt=t.unstable_shouldYield,It=t.unstable_requestPaint,ht=t.unstable_now,lu=t.unstable_getCurrentPriorityLevel,mu=t.unstable_ImmediatePriority,fu=t.unstable_UserBlockingPriority,nt=t.unstable_NormalPriority,pt=t.unstable_LowPriority,rt=t.unstable_IdlePriority,xu=t.log,rn=t.unstable_setDisableYieldValue,Su=null,Lt=null;function Cu(n){if(typeof xu=="function"&&rn(n),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Su,n)}catch{}}var Jt=Math.clz32?Math.clz32:Xu,Ru=Math.log,Ju=Math.LN2;function Xu(n){return n>>>=0,n===0?32:31-(Ru(n)/Ju|0)|0}var iu=256,Eu=4194304;function Uu(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function M(n,r,s){var o=n.pendingLanes;if(o===0)return 0;var d=0,m=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var R=o&134217727;return R!==0?(o=R&~m,o!==0?d=Uu(o):(C&=R,C!==0?d=Uu(C):s||(s=R&~n,s!==0&&(d=Uu(s))))):(R=o&~m,R!==0?d=Uu(R):C!==0?d=Uu(C):s||(s=o&~n,s!==0&&(d=Uu(s)))),d===0?0:r!==0&&r!==d&&(r&m)===0&&(m=d&-d,s=r&-r,m>=s||m===32&&(s&4194048)!==0)?r:d}function xe(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ke(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ze(){var n=iu;return iu<<=1,(iu&4194048)===0&&(iu=256),n}function K(){var n=Eu;return Eu<<=1,(Eu&62914560)===0&&(Eu=4194304),n}function T(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function b(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function L(n,r,s,o,d,m){var C=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var R=n.entanglements,X=n.expirationTimes,me=n.hiddenUpdates;for(s=C&~s;0<s;){var Te=31-Jt(s),we=1<<Te;R[Te]=0,X[Te]=-1;var be=me[Te];if(be!==null)for(me[Te]=null,Te=0;Te<be.length;Te++){var ve=be[Te];ve!==null&&(ve.lane&=-536870913)}s&=~we}o!==0&&ee(n,o,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(C&~r))}function ee(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var o=31-Jt(r);n.entangledLanes|=r,n.entanglements[o]=n.entanglements[o]|1073741824|s&4194090}function v(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var o=31-Jt(s),d=1<<o;d&r|n[o]&r&&(n[o]|=r),s&=~d}}function ue(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fe(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function O(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:sm(n.type))}function Q(n,r){var s=le.p;try{return le.p=n,r()}finally{le.p=s}}var ce=Math.random().toString(36).slice(2),ze="__reactFiber$"+ce,Me="__reactProps$"+ce,je="__reactContainer$"+ce,ot="__reactEvents$"+ce,du="__reactListeners$"+ce,kt="__reactHandles$"+ce,gt="__reactResources$"+ce,bt="__reactMarker$"+ce;function cu(n){delete n[ze],delete n[Me],delete n[ot],delete n[du],delete n[kt]}function Xt(n){var r=n[ze];if(r)return r;for(var s=n.parentNode;s;){if(r=s[je]||s[ze]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=Gp(n);n!==null;){if(s=n[ze])return s;n=Gp(n)}return r}n=s,s=n.parentNode}return null}function en(n){if(n=n[ze]||n[je]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Nn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Wt(n){var r=n[gt];return r||(r=n[gt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Mt(n){n[bt]=!0}var _u=new Set,ln={};function Iu(n,r){Fn(n,r),Fn(n+"Capture",r)}function Fn(n,r){for(ln[n]=r,n=0;n<r.length;n++)_u.add(r[n])}var Cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Va={},Ii={};function Tl(n){return _t.call(Ii,n)?!0:_t.call(Va,n)?!1:Cc.test(n)?Ii[n]=!0:(Va[n]=!0,!1)}function Hn(n,r,s){if(Tl(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function Zr(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function on(n,r,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+o)}}var br,Al;function Li(n){if(br===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);br=r&&r[1]||"",Al=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+n+Al}var vr=!1;function Ga(n,r){if(!n||vr)return"";vr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ve){var be=ve}Reflect.construct(n,[],we)}else{try{we.call()}catch(ve){be=ve}n.call(we.prototype)}}else{try{throw Error()}catch(ve){be=ve}(we=n())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ve){if(ve&&be&&typeof ve.stack=="string")return[ve.stack,be.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),C=m[0],R=m[1];if(C&&R){var X=C.split(`
`),me=R.split(`
`);for(d=o=0;o<X.length&&!X[o].includes("DetermineComponentFrameRoot");)o++;for(;d<me.length&&!me[d].includes("DetermineComponentFrameRoot");)d++;if(o===X.length||d===me.length)for(o=X.length-1,d=me.length-1;1<=o&&0<=d&&X[o]!==me[d];)d--;for(;1<=o&&0<=d;o--,d--)if(X[o]!==me[d]){if(o!==1||d!==1)do if(o--,d--,0>d||X[o]!==me[d]){var Te=`
`+X[o].replace(" at new "," at ");return n.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",n.displayName)),Te}while(1<=o&&0<=d);break}}}finally{vr=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Li(s):""}function Nc(n){switch(n.tag){case 26:case 27:case 5:return Li(n.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return Ga(n.type,!1);case 11:return Ga(n.type.render,!1);case 1:return Ga(n.type,!0);case 31:return Li("Activity");default:return""}}function k(n){try{var r="";do r+=Nc(n),n=n.return;while(n);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function W(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function F(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function re(n){var r=F(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),o=""+n[r];if(!n.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(C){o=""+C,m.call(this,C)}}),Object.defineProperty(n,r,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function se(n){n._valueTracker||(n._valueTracker=re(n))}function ne(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),o="";return n&&(o=F(n)?n.checked?"true":"false":n.value),n=o,n!==s?(r.setValue(n),!0):!1}function Ae(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Le=/[\n"\\]/g;function Ie(n){return n.replace(Le,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pe(n,r,s,o,d,m,C,R){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),r!=null?C==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+W(r)):n.value!==""+W(r)&&(n.value=""+W(r)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),r!=null?Qe(n,C,W(r)):s!=null?Qe(n,C,W(s)):o!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+W(R):n.removeAttribute("name")}function qe(n,r,s,o,d,m,C,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;s=s!=null?""+W(s):"",r=r!=null?""+W(r):s,R||r===n.value||(n.value=r),n.defaultValue=r}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,n.checked=R?n.checked:!!o,n.defaultChecked=!!o,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C)}function Qe(n,r,s){r==="number"&&Ae(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function mt(n,r,s,o){if(n=n.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=r.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&o&&(n[s].defaultSelected=!0)}else{for(s=""+W(s),r=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,o&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function Ut(n,r,s){if(r!=null&&(r=""+W(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+W(s):""}function zt(n,r,s,o){if(r==null){if(o!=null){if(s!=null)throw Error(i(92));if(Se(o)){if(1<o.length)throw Error(i(93));o=o[0]}s=o}s==null&&(s=""),r=s}s=W(r),n.defaultValue=s,o=n.textContent,o===s&&o!==""&&o!==null&&(n.value=o)}function ru(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function an(n,r,s){var o=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":o?n.setProperty(r,s):typeof s!="number"||s===0||gu.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function ki(n,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="");for(var d in r)o=r[d],r.hasOwnProperty(d)&&s[d]!==o&&an(n,d,o)}else for(var m in r)r.hasOwnProperty(m)&&an(n,m,r[m])}function Er(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Za=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(n){return Za.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wa=null;function Qa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var oi=null,Xr=null;function jh(n){var r=en(n);if(r&&(n=r.stateNode)){var s=n[Me]||null;e:switch(n=r.stateNode,r.type){case"input":if(Pe(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ie(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var o=s[r];if(o!==n&&o.form===n.form){var d=o[Me]||null;if(!d)throw Error(i(90));Pe(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)o=s[r],o.form===n.form&&ne(o)}break e;case"textarea":Ut(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&mt(n,!!s.multiple,r,!1)}}}var wc=!1;function Yh(n,r,s){if(wc)return n(r,s);wc=!0;try{var o=n(r);return o}finally{if(wc=!1,(oi!==null||Xr!==null)&&(lo(),oi&&(r=oi,n=Xr,Xr=oi=null,jh(r),n)))for(r=0;r<n.length;r++)jh(n[r])}}function Ka(n,r){var s=n.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(ci)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Oc=!1}var Bi=null,Rc=null,xl=null;function Vh(){if(xl)return xl;var n,r=Rc,s=r.length,o,d="value"in Bi?Bi.value:Bi.textContent,m=d.length;for(n=0;n<s&&r[n]===d[n];n++);var C=s-n;for(o=1;o<=C&&r[s-o]===d[m-o];o++);return xl=d.slice(n,1<o?1-o:void 0)}function Sl(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Cl(){return!0}function Gh(){return!1}function cn(n){function r(s,o,d,m,C){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(s=n[R],this[R]=s?s(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Cl:Gh,this.isPropagationStopped=Gh,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),r}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=cn(_r),Ja=E({},_r,{view:0,detail:0}),mE=cn(Ja),Ic,Lc,es,Dl=E({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==es&&(es&&n.type==="mousemove"?(Ic=n.screenX-es.screenX,Lc=n.screenY-es.screenY):Lc=Ic=0,es=n),Ic)},movementY:function(n){return"movementY"in n?n.movementY:Lc}}),Zh=cn(Dl),gE=E({},Dl,{dataTransfer:0}),bE=cn(gE),vE=E({},Ja,{relatedTarget:0}),kc=cn(vE),EE=E({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),_E=cn(EE),yE=E({},_r,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),TE=cn(yE),AE=E({},_r,{data:0}),Xh=cn(AE),xE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NE(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=CE[n])?!!r[n]:!1}function Bc(){return NE}var DE=E({},Ja,{key:function(n){if(n.key){var r=xE[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Sl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?SE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(n){return n.type==="keypress"?Sl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wE=cn(DE),OE=E({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wh=cn(OE),RE=E({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),IE=cn(RE),LE=E({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=cn(LE),BE=E({},Dl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ME=cn(BE),UE=E({},_r,{newState:0,oldState:0}),PE=cn(UE),FE=[9,13,27,32],Mc=ci&&"CompositionEvent"in window,ts=null;ci&&"documentMode"in document&&(ts=document.documentMode);var HE=ci&&"TextEvent"in window&&!ts,Qh=ci&&(!Mc||ts&&8<ts&&11>=ts),Kh=" ",$h=!1;function Jh(n,r){switch(n){case"keyup":return FE.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wr=!1;function zE(n,r){switch(n){case"compositionend":return e1(r);case"keypress":return r.which!==32?null:($h=!0,Kh);case"textInput":return n=r.data,n===Kh&&$h?null:n;default:return null}}function qE(n,r){if(Wr)return n==="compositionend"||!Mc&&Jh(n,r)?(n=Vh(),xl=Rc=Bi=null,Wr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Qh&&r.locale!=="ko"?null:r.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!jE[n.type]:r==="textarea"}function u1(n,r,s,o){oi?Xr?Xr.push(o):Xr=[o]:oi=o,r=mo(r,"onChange"),0<r.length&&(s=new Nl("onChange","change",null,s,o),n.push({event:s,listeners:r}))}var us=null,ns=null;function YE(n){Mp(n,0)}function wl(n){var r=Nn(n);if(ne(r))return n}function n1(n,r){if(n==="change")return r}var i1=!1;if(ci){var Uc;if(ci){var Pc="oninput"in document;if(!Pc){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Pc=typeof r1.oninput=="function"}Uc=Pc}else Uc=!1;i1=Uc&&(!document.documentMode||9<document.documentMode)}function a1(){us&&(us.detachEvent("onpropertychange",s1),ns=us=null)}function s1(n){if(n.propertyName==="value"&&wl(ns)){var r=[];u1(r,ns,n,Qa(n)),Yh(YE,r)}}function VE(n,r,s){n==="focusin"?(a1(),us=r,ns=s,us.attachEvent("onpropertychange",s1)):n==="focusout"&&a1()}function GE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wl(ns)}function ZE(n,r){if(n==="click")return wl(r)}function XE(n,r){if(n==="input"||n==="change")return wl(r)}function WE(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var bn=typeof Object.is=="function"?Object.is:WE;function is(n,r){if(bn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),o=Object.keys(r);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!_t.call(r,d)||!bn(n[d],r[d]))return!1}return!0}function l1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function o1(n,r){var s=l1(n);n=0;for(var o;s;){if(s.nodeType===3){if(o=n+s.textContent.length,n<=r&&o>=r)return{node:s,offset:r-n};n=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=l1(s)}}function c1(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?c1(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function f1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ae(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=Ae(n.document)}return r}function Fc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var QE=ci&&"documentMode"in document&&11>=document.documentMode,Qr=null,Hc=null,rs=null,zc=!1;function d1(n,r,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zc||Qr==null||Qr!==Ae(o)||(o=Qr,"selectionStart"in o&&Fc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rs&&is(rs,o)||(rs=o,o=mo(Hc,"onSelect"),0<o.length&&(r=new Nl("onSelect","select",null,r,s),n.push({event:r,listeners:o}),r.target=Qr)))}function yr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Kr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionrun:yr("Transition","TransitionRun"),transitionstart:yr("Transition","TransitionStart"),transitioncancel:yr("Transition","TransitionCancel"),transitionend:yr("Transition","TransitionEnd")},qc={},h1={};ci&&(h1=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Tr(n){if(qc[n])return qc[n];if(!Kr[n])return n;var r=Kr[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in h1)return qc[n]=r[s];return n}var p1=Tr("animationend"),m1=Tr("animationiteration"),g1=Tr("animationstart"),KE=Tr("transitionrun"),$E=Tr("transitionstart"),JE=Tr("transitioncancel"),b1=Tr("transitionend"),v1=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function zn(n,r){v1.set(n,r),Iu(r,[n])}var E1=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var s=E1.get(n);return s!==void 0?s:(r={value:n,source:r,stack:k(r)},E1.set(n,r),r)}return{value:n,source:r,stack:k(r)}}var wn=[],$r=0,Yc=0;function Ol(){for(var n=$r,r=Yc=$r=0;r<n;){var s=wn[r];wn[r++]=null;var o=wn[r];wn[r++]=null;var d=wn[r];wn[r++]=null;var m=wn[r];if(wn[r++]=null,o!==null&&d!==null){var C=o.pending;C===null?d.next=d:(d.next=C.next,C.next=d),o.pending=d}m!==0&&_1(s,d,m)}}function Rl(n,r,s,o){wn[$r++]=n,wn[$r++]=r,wn[$r++]=s,wn[$r++]=o,Yc|=o,n.lanes|=o,n=n.alternate,n!==null&&(n.lanes|=o)}function Vc(n,r,s,o){return Rl(n,r,s,o),Il(n)}function Jr(n,r){return Rl(n,null,null,r),Il(n)}function _1(n,r,s){n.lanes|=s;var o=n.alternate;o!==null&&(o.lanes|=s);for(var d=!1,m=n.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&r!==null&&(d=31-Jt(s),n=m.hiddenUpdates,o=n[d],o===null?n[d]=[r]:o.push(r),r.lane=s|536870912),m):null}function Il(n){if(50<Os)throw Os=0,$f=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var ea={};function e3(n,r,s,o){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,r,s,o){return new e3(n,r,s,o)}function Gc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fi(n,r){var s=n.alternate;return s===null?(s=vn(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function y1(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ll(n,r,s,o,d,m){var C=0;if(o=n,typeof n=="function")Gc(n)&&(C=1);else if(typeof n=="string")C=u_(n,s,Ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=vn(31,s,r,d),n.elementType=H,n.lanes=m,n;case B:return Ar(s.children,d,m,r);case w:C=8,d|=24;break;case y:return n=vn(12,s,r,d|2),n.elementType=y,n.lanes=m,n;case D:return n=vn(13,s,r,d),n.elementType=D,n.lanes=m,n;case U:return n=vn(19,s,r,d),n.elementType=U,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case I:C=10;break e;case N:C=9;break e;case V:C=11;break e;case z:C=14;break e;case q:C=16,o=null;break e}C=29,s=Error(i(130,n===null?"null":typeof n,"")),o=null}return r=vn(C,s,r,d),r.elementType=n,r.type=o,r.lanes=m,r}function Ar(n,r,s,o){return n=vn(7,n,o,r),n.lanes=s,n}function Zc(n,r,s){return n=vn(6,n,null,r),n.lanes=s,n}function Xc(n,r,s){return r=vn(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ta=[],ua=0,kl=null,Bl=0,On=[],Rn=0,xr=null,di=1,hi="";function Sr(n,r){ta[ua++]=Bl,ta[ua++]=kl,kl=n,Bl=r}function T1(n,r,s){On[Rn++]=di,On[Rn++]=hi,On[Rn++]=xr,xr=n;var o=di;n=hi;var d=32-Jt(o)-1;o&=~(1<<d),s+=1;var m=32-Jt(r)+d;if(30<m){var C=d-d%5;m=(o&(1<<C)-1).toString(32),o>>=C,d-=C,di=1<<32-Jt(r)+d|s<<d|o,hi=m+n}else di=1<<m|s<<d|o,hi=n}function Wc(n){n.return!==null&&(Sr(n,1),T1(n,1,0))}function Qc(n){for(;n===kl;)kl=ta[--ua],ta[ua]=null,Bl=ta[--ua],ta[ua]=null;for(;n===xr;)xr=On[--Rn],On[Rn]=null,hi=On[--Rn],On[Rn]=null,di=On[--Rn],On[Rn]=null}var sn=null,yu=null,Vt=!1,Cr=null,Kn=!1,Kc=Error(i(519));function Nr(n){var r=Error(i(418,""));throw ls(Dn(r,n)),Kc}function A1(n){var r=n.stateNode,s=n.type,o=n.memoizedProps;switch(r[ze]=n,r[Me]=o,s){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(s=0;s<Is.length;s++)wt(Is[s],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":wt("invalid",r),qe(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),se(r);break;case"select":wt("invalid",r);break;case"textarea":wt("invalid",r),zt(r,o.value,o.defaultValue,o.children),se(r)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||o.suppressHydrationWarning===!0||Hp(r.textContent,s)?(o.popover!=null&&(wt("beforetoggle",r),wt("toggle",r)),o.onScroll!=null&&wt("scroll",r),o.onScrollEnd!=null&&wt("scrollend",r),o.onClick!=null&&(r.onclick=go),r=!0):r=!1,r||Nr(n)}function x1(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:sn=sn.return}}function as(n){if(n!==sn)return!1;if(!Vt)return x1(n),Vt=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||pd(n.type,n.memoizedProps)),s=!s),s&&yu&&Nr(n),x1(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(r===0){yu=jn(n.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;n=n.nextSibling}yu=null}}else r===27?(r=yu,Ki(n.type)?(n=vd,vd=null,yu=n):yu=r):yu=sn?jn(n.stateNode.nextSibling):null;return!0}function ss(){yu=sn=null,Vt=!1}function S1(){var n=Cr;return n!==null&&(hn===null?hn=n:hn.push.apply(hn,n),Cr=null),n}function ls(n){Cr===null?Cr=[n]:Cr.push(n)}var $c=ie(null),Dr=null,pi=null;function Mi(n,r,s){Ne($c,r._currentValue),r._currentValue=s}function mi(n){n._currentValue=$c.current,_e($c)}function Jc(n,r,s){for(;n!==null;){var o=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),n===s)break;n=n.return}}function ef(n,r,s,o){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var C=d.child;m=m.firstContext;e:for(;m!==null;){var R=m;m=d;for(var X=0;X<r.length;X++)if(R.context===r[X]){m.lanes|=s,R=m.alternate,R!==null&&(R.lanes|=s),Jc(m.return,s,n),o||(C=null);break e}m=R.next}}else if(d.tag===18){if(C=d.return,C===null)throw Error(i(341));C.lanes|=s,m=C.alternate,m!==null&&(m.lanes|=s),Jc(C,s,n),C=null}else C=d.child;if(C!==null)C.return=d;else for(C=d;C!==null;){if(C===n){C=null;break}if(d=C.sibling,d!==null){d.return=C.return,C=d;break}C=C.return}d=C}}function os(n,r,s,o){n=null;for(var d=r,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var C=d.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var R=d.type;bn(d.pendingProps.value,C.value)||(n!==null?n.push(R):n=[R])}}else if(d===ut.current){if(C=d.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Ps):n=[Ps])}d=d.return}n!==null&&ef(r,n,s,o),r.flags|=262144}function Ml(n){for(n=n.firstContext;n!==null;){if(!bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function wr(n){Dr=n,pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return C1(Dr,n)}function Ul(n,r){return Dr===null&&wr(n),C1(n,r)}function C1(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},pi===null){if(n===null)throw Error(i(308));pi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else pi=pi.next=r;return s}var t3=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,o){n.push(o)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},u3=t.unstable_scheduleCallback,n3=t.unstable_NormalPriority,Pu={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new t3,data:new Map,refCount:0}}function cs(n){n.refCount--,n.refCount===0&&u3(n3,function(){n.controller.abort()})}var fs=null,uf=0,na=0,ia=null;function i3(n,r){if(fs===null){var s=fs=[];uf=0,na=rd(),ia={status:"pending",value:void 0,then:function(o){s.push(o)}}}return uf++,r.then(N1,N1),r}function N1(){if(--uf===0&&fs!==null){ia!==null&&(ia.status="fulfilled");var n=fs;fs=null,na=0,ia=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function r3(n,r){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){o.status="fulfilled",o.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var D1=te.S;te.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&i3(n,r),D1!==null&&D1(n,r)};var Or=ie(null);function nf(){var n=Or.current;return n!==null?n:ou.pooledCache}function Pl(n,r){r===null?Ne(Or,Or.current):Ne(Or,r.pool)}function w1(){var n=nf();return n===null?null:{parent:Pu._currentValue,pool:n}}var ds=Error(i(460)),O1=Error(i(474)),Fl=Error(i(542)),rf={then:function(){}};function R1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hl(){}function I1(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(Hl,Hl),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,k1(n),n;default:if(typeof r.status=="string")r.then(Hl,Hl);else{if(n=ou,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(o){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=o}},function(o){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,k1(n),n}throw hs=r,ds}}var hs=null;function L1(){if(hs===null)throw Error(i(459));var n=hs;return hs=null,n}function k1(n){if(n===ds||n===Fl)throw Error(i(483))}var Ui=!1;function af(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fi(n,r,s){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var d=o.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),o.pending=r,r=Il(n),_1(n,null,s),r}return Rl(n,o,r,s),Il(n)}function ps(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var o=r.lanes;o&=n.pendingLanes,s|=o,r.lanes=s,v(n,s)}}function lf(n,r){var s=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?d=m=C:m=m.next=C,s=s.next}while(s!==null);m===null?d=m=r:m=m.next=r}else d=m=r;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var of=!1;function ms(){if(of){var n=ia;if(n!==null)throw n}}function gs(n,r,s,o){of=!1;var d=n.updateQueue;Ui=!1;var m=d.firstBaseUpdate,C=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var X=R,me=X.next;X.next=null,C===null?m=me:C.next=me,C=X;var Te=n.alternate;Te!==null&&(Te=Te.updateQueue,R=Te.lastBaseUpdate,R!==C&&(R===null?Te.firstBaseUpdate=me:R.next=me,Te.lastBaseUpdate=X))}if(m!==null){var we=d.baseState;C=0,Te=me=X=null,R=m;do{var be=R.lane&-536870913,ve=be!==R.lane;if(ve?(Bt&be)===be:(o&be)===be){be!==0&&be===na&&(of=!0),Te!==null&&(Te=Te.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var dt=n,at=R;be=r;var uu=s;switch(at.tag){case 1:if(dt=at.payload,typeof dt=="function"){we=dt.call(uu,we,be);break e}we=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=at.payload,be=typeof dt=="function"?dt.call(uu,we,be):dt,be==null)break e;we=E({},we,be);break e;case 2:Ui=!0}}be=R.callback,be!==null&&(n.flags|=64,ve&&(n.flags|=8192),ve=d.callbacks,ve===null?d.callbacks=[be]:ve.push(be))}else ve={lane:be,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Te===null?(me=Te=ve,X=we):Te=Te.next=ve,C|=be;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;ve=R,R=ve.next,ve.next=null,d.lastBaseUpdate=ve,d.shared.pending=null}}while(!0);Te===null&&(X=we),d.baseState=X,d.firstBaseUpdate=me,d.lastBaseUpdate=Te,m===null&&(d.shared.lanes=0),Zi|=C,n.lanes=C,n.memoizedState=we}}function B1(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function M1(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)B1(s[n],r)}var ra=ie(null),zl=ie(0);function U1(n,r){n=Ti,Ne(zl,n),Ne(ra,r),Ti=n|r.baseLanes}function cf(){Ne(zl,Ti),Ne(ra,ra.current)}function ff(){Ti=zl.current,_e(ra),_e(zl)}var Hi=0,xt=null,eu=null,Lu=null,ql=!1,aa=!1,Rr=!1,jl=0,bs=0,sa=null,a3=0;function Nu(){throw Error(i(321))}function df(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!bn(n[s],r[s]))return!1;return!0}function hf(n,r,s,o,d,m){return Hi=m,xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,te.H=n===null||n.memoizedState===null?_2:y2,Rr=!1,m=s(o,d),Rr=!1,aa&&(m=F1(r,s,o,d)),P1(n),m}function P1(n){te.H=Wl;var r=eu!==null&&eu.next!==null;if(Hi=0,Lu=eu=xt=null,ql=!1,bs=0,sa=null,r)throw Error(i(300));n===null||zu||(n=n.dependencies,n!==null&&Ml(n)&&(zu=!0))}function F1(n,r,s,o){xt=n;var d=0;do{if(aa&&(sa=null),bs=0,aa=!1,25<=d)throw Error(i(301));if(d+=1,Lu=eu=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}te.H=h3,m=r(s,o)}while(aa);return m}function s3(){var n=te.H,r=n.useState()[0];return r=typeof r.then=="function"?vs(r):r,n=n.useState()[0],(eu!==null?eu.memoizedState:null)!==n&&(xt.flags|=1024),r}function pf(){var n=jl!==0;return jl=0,n}function mf(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function gf(n){if(ql){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ql=!1}Hi=0,Lu=eu=xt=null,aa=!1,bs=jl=0,sa=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lu===null?xt.memoizedState=Lu=n:Lu=Lu.next=n,Lu}function ku(){if(eu===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=eu.next;var r=Lu===null?xt.memoizedState:Lu.next;if(r!==null)Lu=r,eu=n;else{if(n===null)throw xt.alternate===null?Error(i(467)):Error(i(310));eu=n,n={memoizedState:eu.memoizedState,baseState:eu.baseState,baseQueue:eu.baseQueue,queue:eu.queue,next:null},Lu===null?xt.memoizedState=Lu=n:Lu=Lu.next=n}return Lu}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vs(n){var r=bs;return bs+=1,sa===null&&(sa=[]),n=I1(sa,n,r),r=xt,(Lu===null?r.memoizedState:Lu.next)===null&&(r=r.alternate,te.H=r===null||r.memoizedState===null?_2:y2),n}function Yl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vs(n);if(n.$$typeof===I)return tn(n)}throw Error(i(438,String(n)))}function vf(n){var r=null,s=xt.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=bf(),xt.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),o=0;o<n;o++)s[o]=Y;return r.index++,s}function gi(n,r){return typeof r=="function"?r(n):r}function Vl(n){var r=ku();return Ef(r,eu,n)}function Ef(n,r,s){var o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=n.baseQueue,m=o.pending;if(m!==null){if(d!==null){var C=d.next;d.next=m.next,m.next=C}r.baseQueue=d=m,o.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{r=d.next;var R=C=null,X=null,me=r,Te=!1;do{var we=me.lane&-536870913;if(we!==me.lane?(Bt&we)===we:(Hi&we)===we){var be=me.revertLane;if(be===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),we===na&&(Te=!0);else if((Hi&be)===be){me=me.next,be===na&&(Te=!0);continue}else we={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},X===null?(R=X=we,C=m):X=X.next=we,xt.lanes|=be,Zi|=be;we=me.action,Rr&&s(m,we),m=me.hasEagerState?me.eagerState:s(m,we)}else be={lane:we,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},X===null?(R=X=be,C=m):X=X.next=be,xt.lanes|=we,Zi|=we;me=me.next}while(me!==null&&me!==r);if(X===null?C=m:X.next=R,!bn(m,n.memoizedState)&&(zu=!0,Te&&(s=ia,s!==null)))throw s;n.memoizedState=m,n.baseState=C,n.baseQueue=X,o.lastRenderedState=m}return d===null&&(o.lanes=0),[n.memoizedState,o.dispatch]}function _f(n){var r=ku(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=n;var o=s.dispatch,d=s.pending,m=r.memoizedState;if(d!==null){s.pending=null;var C=d=d.next;do m=n(m,C.action),C=C.next;while(C!==d);bn(m,r.memoizedState)||(zu=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,o]}function H1(n,r,s){var o=xt,d=ku(),m=Vt;if(m){if(s===void 0)throw Error(i(407));s=s()}else s=r();var C=!bn((eu||d).memoizedState,s);C&&(d.memoizedState=s,zu=!0),d=d.queue;var R=j1.bind(null,o,d,n);if(Es(2048,8,R,[n]),d.getSnapshot!==r||C||Lu!==null&&Lu.memoizedState.tag&1){if(o.flags|=2048,la(9,Gl(),q1.bind(null,o,d,s,r),null),ou===null)throw Error(i(349));m||(Hi&124)!==0||z1(o,r,s)}return s}function z1(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=xt.updateQueue,r===null?(r=bf(),xt.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function q1(n,r,s,o){r.value=s,r.getSnapshot=o,Y1(r)&&V1(n)}function j1(n,r,s){return s(function(){Y1(r)&&V1(n)})}function Y1(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!bn(n,s)}catch{return!0}}function V1(n){var r=Jr(n,2);r!==null&&An(r,n,2)}function yf(n){var r=fn();if(typeof n=="function"){var s=n;if(n=s(),Rr){Cu(!0);try{s()}finally{Cu(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},r}function G1(n,r,s,o){return n.baseState=s,Ef(n,eu,typeof o=="function"?o:gi)}function l3(n,r,s,o,d){if(Xl(n))throw Error(i(485));if(n=r.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){m.listeners.push(C)}};te.T!==null?s(!0):m.isTransition=!1,o(m),s=r.pending,s===null?(m.next=r.pending=m,Z1(r,m)):(m.next=s.next,r.pending=s.next=m)}}function Z1(n,r){var s=r.action,o=r.payload,d=n.state;if(r.isTransition){var m=te.T,C={};te.T=C;try{var R=s(d,o),X=te.S;X!==null&&X(C,R),X1(n,r,R)}catch(me){Tf(n,r,me)}finally{te.T=m}}else try{m=s(d,o),X1(n,r,m)}catch(me){Tf(n,r,me)}}function X1(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){W1(n,r,o)},function(o){return Tf(n,r,o)}):W1(n,r,s)}function W1(n,r,s){r.status="fulfilled",r.value=s,Q1(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,Z1(n,s)))}function Tf(n,r,s){var o=n.pending;if(n.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=s,Q1(r),r=r.next;while(r!==o)}n.action=null}function Q1(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function K1(n,r){return r}function $1(n,r){if(Vt){var s=ou.formState;if(s!==null){e:{var o=xt;if(Vt){if(yu){t:{for(var d=yu,m=Kn;d.nodeType!==8;){if(!m){d=null;break t}if(d=jn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){yu=jn(d.nextSibling),o=d.data==="F!";break e}}Nr(o)}o=!1}o&&(r=s[0])}}return s=fn(),s.memoizedState=s.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K1,lastRenderedState:r},s.queue=o,s=b2.bind(null,xt,o),o.dispatch=s,o=yf(!1),m=Nf.bind(null,xt,!1,o.queue),o=fn(),d={state:r,dispatch:null,action:n,pending:null},o.queue=d,s=l3.bind(null,xt,d,m,s),d.dispatch=s,o.memoizedState=n,[r,s,!1]}function J1(n){var r=ku();return e2(r,eu,n)}function e2(n,r,s){if(r=Ef(n,r,K1)[0],n=Vl(gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=vs(r)}catch(C){throw C===ds?Fl:C}else o=r;r=ku();var d=r.queue,m=d.dispatch;return s!==r.memoizedState&&(xt.flags|=2048,la(9,Gl(),o3.bind(null,d,s),null)),[o,m,n]}function o3(n,r){n.action=r}function t2(n){var r=ku(),s=eu;if(s!==null)return e2(r,s,n);ku(),r=r.memoizedState,s=ku();var o=s.queue.dispatch;return s.memoizedState=n,[r,o,!1]}function la(n,r,s,o){return n={tag:n,create:s,deps:o,inst:r,next:null},r=xt.updateQueue,r===null&&(r=bf(),xt.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(o=s.next,s.next=n,n.next=o,r.lastEffect=n),n}function Gl(){return{destroy:void 0,resource:void 0}}function u2(){return ku().memoizedState}function Zl(n,r,s,o){var d=fn();o=o===void 0?null:o,xt.flags|=n,d.memoizedState=la(1|r,Gl(),s,o)}function Es(n,r,s,o){var d=ku();o=o===void 0?null:o;var m=d.memoizedState.inst;eu!==null&&o!==null&&df(o,eu.memoizedState.deps)?d.memoizedState=la(r,m,s,o):(xt.flags|=n,d.memoizedState=la(1|r,m,s,o))}function n2(n,r){Zl(8390656,8,n,r)}function i2(n,r){Es(2048,8,n,r)}function r2(n,r){return Es(4,2,n,r)}function a2(n,r){return Es(4,4,n,r)}function s2(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function l2(n,r,s){s=s!=null?s.concat([n]):null,Es(4,4,s2.bind(null,r,n),s)}function Af(){}function o2(n,r){var s=ku();r=r===void 0?null:r;var o=s.memoizedState;return r!==null&&df(r,o[1])?o[0]:(s.memoizedState=[n,r],n)}function c2(n,r){var s=ku();r=r===void 0?null:r;var o=s.memoizedState;if(r!==null&&df(r,o[1]))return o[0];if(o=n(),Rr){Cu(!0);try{n()}finally{Cu(!1)}}return s.memoizedState=[o,r],o}function xf(n,r,s){return s===void 0||(Hi&1073741824)!==0?n.memoizedState=r:(n.memoizedState=s,n=hp(),xt.lanes|=n,Zi|=n,s)}function f2(n,r,s,o){return bn(s,r)?s:ra.current!==null?(n=xf(n,s,o),bn(n,r)||(zu=!0),n):(Hi&42)===0?(zu=!0,n.memoizedState=s):(n=hp(),xt.lanes|=n,Zi|=n,r)}function d2(n,r,s,o,d){var m=le.p;le.p=m!==0&&8>m?m:8;var C=te.T,R={};te.T=R,Nf(n,!1,r,s);try{var X=d(),me=te.S;if(me!==null&&me(R,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Te=r3(X,o);_s(n,r,Te,Tn(n))}else _s(n,r,o,Tn(n))}catch(we){_s(n,r,{then:function(){},status:"rejected",reason:we},Tn())}finally{le.p=m,te.T=C}}function c3(){}function Sf(n,r,s,o){if(n.tag!==5)throw Error(i(476));var d=h2(n).queue;d2(n,d,r,ge,s===null?c3:function(){return p2(n),s(o)})}function h2(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:ge},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function p2(n){var r=h2(n).next.queue;_s(n,r,{},Tn())}function Cf(){return tn(Ps)}function m2(){return ku().memoizedState}function g2(){return ku().memoizedState}function f3(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=Tn();n=Pi(s);var o=Fi(r,n,s);o!==null&&(An(o,r,s),ps(o,r,s)),r={cache:tf()},n.payload=r;return}r=r.return}}function d3(n,r,s){var o=Tn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Xl(n)?v2(r,s):(s=Vc(n,r,s,o),s!==null&&(An(s,n,o),E2(s,r,o)))}function b2(n,r,s){var o=Tn();_s(n,r,s,o)}function _s(n,r,s,o){var d={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xl(n))v2(r,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var C=r.lastRenderedState,R=m(C,s);if(d.hasEagerState=!0,d.eagerState=R,bn(R,C))return Rl(n,r,d,0),ou===null&&Ol(),!1}catch{}finally{}if(s=Vc(n,r,d,o),s!==null)return An(s,n,o),E2(s,r,o),!0}return!1}function Nf(n,r,s,o){if(o={lane:2,revertLane:rd(),action:o,hasEagerState:!1,eagerState:null,next:null},Xl(n)){if(r)throw Error(i(479))}else r=Vc(n,s,o,2),r!==null&&An(r,n,2)}function Xl(n){var r=n.alternate;return n===xt||r!==null&&r===xt}function v2(n,r){aa=ql=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function E2(n,r,s){if((s&4194048)!==0){var o=r.lanes;o&=n.pendingLanes,s|=o,r.lanes=s,v(n,s)}}var Wl={readContext:tn,use:Yl,useCallback:Nu,useContext:Nu,useEffect:Nu,useImperativeHandle:Nu,useLayoutEffect:Nu,useInsertionEffect:Nu,useMemo:Nu,useReducer:Nu,useRef:Nu,useState:Nu,useDebugValue:Nu,useDeferredValue:Nu,useTransition:Nu,useSyncExternalStore:Nu,useId:Nu,useHostTransitionStatus:Nu,useFormState:Nu,useActionState:Nu,useOptimistic:Nu,useMemoCache:Nu,useCacheRefresh:Nu},_2={readContext:tn,use:Yl,useCallback:function(n,r){return fn().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:n2,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Zl(4194308,4,s2.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Zl(4194308,4,n,r)},useInsertionEffect:function(n,r){Zl(4,2,n,r)},useMemo:function(n,r){var s=fn();r=r===void 0?null:r;var o=n();if(Rr){Cu(!0);try{n()}finally{Cu(!1)}}return s.memoizedState=[o,r],o},useReducer:function(n,r,s){var o=fn();if(s!==void 0){var d=s(r);if(Rr){Cu(!0);try{s(r)}finally{Cu(!1)}}}else d=r;return o.memoizedState=o.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},o.queue=n,n=n.dispatch=d3.bind(null,xt,n),[o.memoizedState,n]},useRef:function(n){var r=fn();return n={current:n},r.memoizedState=n},useState:function(n){n=yf(n);var r=n.queue,s=b2.bind(null,xt,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(n,r){var s=fn();return xf(s,n,r)},useTransition:function(){var n=yf(!1);return n=d2.bind(null,xt,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var o=xt,d=fn();if(Vt){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),ou===null)throw Error(i(349));(Bt&124)!==0||z1(o,r,s)}d.memoizedState=s;var m={value:s,getSnapshot:r};return d.queue=m,n2(j1.bind(null,o,m,n),[n]),o.flags|=2048,la(9,Gl(),q1.bind(null,o,m,s,r),null),s},useId:function(){var n=fn(),r=ou.identifierPrefix;if(Vt){var s=hi,o=di;s=(o&~(1<<32-Jt(o)-1)).toString(32)+s,r=""+r+"R"+s,s=jl++,0<s&&(r+="H"+s.toString(32)),r+=""}else s=a3++,r=""+r+"r"+s.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Cf,useFormState:$1,useActionState:$1,useOptimistic:function(n){var r=fn();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Nf.bind(null,xt,!0,s),s.dispatch=r,[n,r]},useMemoCache:vf,useCacheRefresh:function(){return fn().memoizedState=f3.bind(null,xt)}},y2={readContext:tn,use:Yl,useCallback:o2,useContext:tn,useEffect:i2,useImperativeHandle:l2,useInsertionEffect:r2,useLayoutEffect:a2,useMemo:c2,useReducer:Vl,useRef:u2,useState:function(){return Vl(gi)},useDebugValue:Af,useDeferredValue:function(n,r){var s=ku();return f2(s,eu.memoizedState,n,r)},useTransition:function(){var n=Vl(gi)[0],r=ku().memoizedState;return[typeof n=="boolean"?n:vs(n),r]},useSyncExternalStore:H1,useId:m2,useHostTransitionStatus:Cf,useFormState:J1,useActionState:J1,useOptimistic:function(n,r){var s=ku();return G1(s,eu,n,r)},useMemoCache:vf,useCacheRefresh:g2},h3={readContext:tn,use:Yl,useCallback:o2,useContext:tn,useEffect:i2,useImperativeHandle:l2,useInsertionEffect:r2,useLayoutEffect:a2,useMemo:c2,useReducer:_f,useRef:u2,useState:function(){return _f(gi)},useDebugValue:Af,useDeferredValue:function(n,r){var s=ku();return eu===null?xf(s,n,r):f2(s,eu.memoizedState,n,r)},useTransition:function(){var n=_f(gi)[0],r=ku().memoizedState;return[typeof n=="boolean"?n:vs(n),r]},useSyncExternalStore:H1,useId:m2,useHostTransitionStatus:Cf,useFormState:t2,useActionState:t2,useOptimistic:function(n,r){var s=ku();return eu!==null?G1(s,eu,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:g2},oa=null,ys=0;function Ql(n){var r=ys;return ys+=1,oa===null&&(oa=[]),I1(oa,n,r)}function Ts(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Kl(n,r){throw r.$$typeof===_?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function T2(n){var r=n._init;return r(n._payload)}function A2(n){function r(ae,$){if(n){var pe=ae.deletions;pe===null?(ae.deletions=[$],ae.flags|=16):pe.push($)}}function s(ae,$){if(!n)return null;for(;$!==null;)r(ae,$),$=$.sibling;return null}function o(ae){for(var $=new Map;ae!==null;)ae.key!==null?$.set(ae.key,ae):$.set(ae.index,ae),ae=ae.sibling;return $}function d(ae,$){return ae=fi(ae,$),ae.index=0,ae.sibling=null,ae}function m(ae,$,pe){return ae.index=pe,n?(pe=ae.alternate,pe!==null?(pe=pe.index,pe<$?(ae.flags|=67108866,$):pe):(ae.flags|=67108866,$)):(ae.flags|=1048576,$)}function C(ae){return n&&ae.alternate===null&&(ae.flags|=67108866),ae}function R(ae,$,pe,Ce){return $===null||$.tag!==6?($=Zc(pe,ae.mode,Ce),$.return=ae,$):($=d($,pe),$.return=ae,$)}function X(ae,$,pe,Ce){var Ke=pe.type;return Ke===B?Te(ae,$,pe.props.children,Ce,pe.key):$!==null&&($.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&T2(Ke)===$.type)?($=d($,pe.props),Ts($,pe),$.return=ae,$):($=Ll(pe.type,pe.key,pe.props,null,ae.mode,Ce),Ts($,pe),$.return=ae,$)}function me(ae,$,pe,Ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==pe.containerInfo||$.stateNode.implementation!==pe.implementation?($=Xc(pe,ae.mode,Ce),$.return=ae,$):($=d($,pe.children||[]),$.return=ae,$)}function Te(ae,$,pe,Ce,Ke){return $===null||$.tag!==7?($=Ar(pe,ae.mode,Ce,Ke),$.return=ae,$):($=d($,pe),$.return=ae,$)}function we(ae,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Zc(""+$,ae.mode,pe),$.return=ae,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return pe=Ll($.type,$.key,$.props,null,ae.mode,pe),Ts(pe,$),pe.return=ae,pe;case S:return $=Xc($,ae.mode,pe),$.return=ae,$;case q:var Ce=$._init;return $=Ce($._payload),we(ae,$,pe)}if(Se($)||J($))return $=Ar($,ae.mode,pe,null),$.return=ae,$;if(typeof $.then=="function")return we(ae,Ql($),pe);if($.$$typeof===I)return we(ae,Ul(ae,$),pe);Kl(ae,$)}return null}function be(ae,$,pe,Ce){var Ke=$!==null?$.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ke!==null?null:R(ae,$,""+pe,Ce);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case x:return pe.key===Ke?X(ae,$,pe,Ce):null;case S:return pe.key===Ke?me(ae,$,pe,Ce):null;case q:return Ke=pe._init,pe=Ke(pe._payload),be(ae,$,pe,Ce)}if(Se(pe)||J(pe))return Ke!==null?null:Te(ae,$,pe,Ce,null);if(typeof pe.then=="function")return be(ae,$,Ql(pe),Ce);if(pe.$$typeof===I)return be(ae,$,Ul(ae,pe),Ce);Kl(ae,pe)}return null}function ve(ae,$,pe,Ce,Ke){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ae=ae.get(pe)||null,R($,ae,""+Ce,Ke);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case x:return ae=ae.get(Ce.key===null?pe:Ce.key)||null,X($,ae,Ce,Ke);case S:return ae=ae.get(Ce.key===null?pe:Ce.key)||null,me($,ae,Ce,Ke);case q:var St=Ce._init;return Ce=St(Ce._payload),ve(ae,$,pe,Ce,Ke)}if(Se(Ce)||J(Ce))return ae=ae.get(pe)||null,Te($,ae,Ce,Ke,null);if(typeof Ce.then=="function")return ve(ae,$,pe,Ql(Ce),Ke);if(Ce.$$typeof===I)return ve(ae,$,pe,Ul($,Ce),Ke);Kl($,Ce)}return null}function dt(ae,$,pe,Ce){for(var Ke=null,St=null,et=$,lt=$=0,ju=null;et!==null&&lt<pe.length;lt++){et.index>lt?(ju=et,et=null):ju=et.sibling;var qt=be(ae,et,pe[lt],Ce);if(qt===null){et===null&&(et=ju);break}n&&et&&qt.alternate===null&&r(ae,et),$=m(qt,$,lt),St===null?Ke=qt:St.sibling=qt,St=qt,et=ju}if(lt===pe.length)return s(ae,et),Vt&&Sr(ae,lt),Ke;if(et===null){for(;lt<pe.length;lt++)et=we(ae,pe[lt],Ce),et!==null&&($=m(et,$,lt),St===null?Ke=et:St.sibling=et,St=et);return Vt&&Sr(ae,lt),Ke}for(et=o(et);lt<pe.length;lt++)ju=ve(et,ae,lt,pe[lt],Ce),ju!==null&&(n&&ju.alternate!==null&&et.delete(ju.key===null?lt:ju.key),$=m(ju,$,lt),St===null?Ke=ju:St.sibling=ju,St=ju);return n&&et.forEach(function(ur){return r(ae,ur)}),Vt&&Sr(ae,lt),Ke}function at(ae,$,pe,Ce){if(pe==null)throw Error(i(151));for(var Ke=null,St=null,et=$,lt=$=0,ju=null,qt=pe.next();et!==null&&!qt.done;lt++,qt=pe.next()){et.index>lt?(ju=et,et=null):ju=et.sibling;var ur=be(ae,et,qt.value,Ce);if(ur===null){et===null&&(et=ju);break}n&&et&&ur.alternate===null&&r(ae,et),$=m(ur,$,lt),St===null?Ke=ur:St.sibling=ur,St=ur,et=ju}if(qt.done)return s(ae,et),Vt&&Sr(ae,lt),Ke;if(et===null){for(;!qt.done;lt++,qt=pe.next())qt=we(ae,qt.value,Ce),qt!==null&&($=m(qt,$,lt),St===null?Ke=qt:St.sibling=qt,St=qt);return Vt&&Sr(ae,lt),Ke}for(et=o(et);!qt.done;lt++,qt=pe.next())qt=ve(et,ae,lt,qt.value,Ce),qt!==null&&(n&&qt.alternate!==null&&et.delete(qt.key===null?lt:qt.key),$=m(qt,$,lt),St===null?Ke=qt:St.sibling=qt,St=qt);return n&&et.forEach(function(p_){return r(ae,p_)}),Vt&&Sr(ae,lt),Ke}function uu(ae,$,pe,Ce){if(typeof pe=="object"&&pe!==null&&pe.type===B&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case x:e:{for(var Ke=pe.key;$!==null;){if($.key===Ke){if(Ke=pe.type,Ke===B){if($.tag===7){s(ae,$.sibling),Ce=d($,pe.props.children),Ce.return=ae,ae=Ce;break e}}else if($.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&T2(Ke)===$.type){s(ae,$.sibling),Ce=d($,pe.props),Ts(Ce,pe),Ce.return=ae,ae=Ce;break e}s(ae,$);break}else r(ae,$);$=$.sibling}pe.type===B?(Ce=Ar(pe.props.children,ae.mode,Ce,pe.key),Ce.return=ae,ae=Ce):(Ce=Ll(pe.type,pe.key,pe.props,null,ae.mode,Ce),Ts(Ce,pe),Ce.return=ae,ae=Ce)}return C(ae);case S:e:{for(Ke=pe.key;$!==null;){if($.key===Ke)if($.tag===4&&$.stateNode.containerInfo===pe.containerInfo&&$.stateNode.implementation===pe.implementation){s(ae,$.sibling),Ce=d($,pe.children||[]),Ce.return=ae,ae=Ce;break e}else{s(ae,$);break}else r(ae,$);$=$.sibling}Ce=Xc(pe,ae.mode,Ce),Ce.return=ae,ae=Ce}return C(ae);case q:return Ke=pe._init,pe=Ke(pe._payload),uu(ae,$,pe,Ce)}if(Se(pe))return dt(ae,$,pe,Ce);if(J(pe)){if(Ke=J(pe),typeof Ke!="function")throw Error(i(150));return pe=Ke.call(pe),at(ae,$,pe,Ce)}if(typeof pe.then=="function")return uu(ae,$,Ql(pe),Ce);if(pe.$$typeof===I)return uu(ae,$,Ul(ae,pe),Ce);Kl(ae,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,$!==null&&$.tag===6?(s(ae,$.sibling),Ce=d($,pe),Ce.return=ae,ae=Ce):(s(ae,$),Ce=Zc(pe,ae.mode,Ce),Ce.return=ae,ae=Ce),C(ae)):s(ae,$)}return function(ae,$,pe,Ce){try{ys=0;var Ke=uu(ae,$,pe,Ce);return oa=null,Ke}catch(et){if(et===ds||et===Fl)throw et;var St=vn(29,et,null,ae.mode);return St.lanes=Ce,St.return=ae,St}finally{}}}var ca=A2(!0),x2=A2(!1),In=ie(null),$n=null;function zi(n){var r=n.alternate;Ne(Fu,Fu.current&1),Ne(In,n),$n===null&&(r===null||ra.current!==null||r.memoizedState!==null)&&($n=n)}function S2(n){if(n.tag===22){if(Ne(Fu,Fu.current),Ne(In,n),$n===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&($n=n)}}else qi()}function qi(){Ne(Fu,Fu.current),Ne(In,In.current)}function bi(n){_e(In),$n===n&&($n=null),_e(Fu)}var Fu=ie(0);function $l(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||bd(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Df(n,r,s,o){r=n.memoizedState,s=s(o,r),s=s==null?r:E({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var wf={enqueueSetState:function(n,r,s){n=n._reactInternals;var o=Tn(),d=Pi(o);d.payload=r,s!=null&&(d.callback=s),r=Fi(n,d,o),r!==null&&(An(r,n,o),ps(r,n,o))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var o=Tn(),d=Pi(o);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Fi(n,d,o),r!==null&&(An(r,n,o),ps(r,n,o))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Tn(),o=Pi(s);o.tag=2,r!=null&&(o.callback=r),r=Fi(n,o,s),r!==null&&(An(r,n,s),ps(r,n,s))}};function C2(n,r,s,o,d,m,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,m,C):r.prototype&&r.prototype.isPureReactComponent?!is(s,o)||!is(d,m):!0}function N2(n,r,s,o){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,o),r.state!==n&&wf.enqueueReplaceState(r,r.state,null)}function Ir(n,r){var s=r;if("ref"in r){s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}if(n=n.defaultProps){s===r&&(s=E({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}var Jl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function D2(n){Jl(n)}function w2(n){console.error(n)}function O2(n){Jl(n)}function eo(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function R2(n,r,s){try{var o=n.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Of(n,r,s){return s=Pi(s),s.tag=3,s.payload={element:null},s.callback=function(){eo(n,r)},s}function I2(n){return n=Pi(n),n.tag=3,n}function L2(n,r,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;n.payload=function(){return d(m)},n.callback=function(){R2(r,s,o)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){R2(r,s,o),typeof d!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function p3(n,r,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=s.alternate,r!==null&&os(r,s,d,!0),s=In.current,s!==null){switch(s.tag){case 13:return $n===null?ed():s.alternate===null&&Tu===0&&(Tu=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===rf?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([o]):r.add(o),ud(n,o,d)),!1;case 22:return s.flags|=65536,o===rf?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([o]):s.add(o)),ud(n,o,d)),!1}throw Error(i(435,s.tag))}return ud(n,o,d),ed(),!1}if(Vt)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,o!==Kc&&(n=Error(i(422),{cause:o}),ls(Dn(n,s)))):(o!==Kc&&(r=Error(i(423),{cause:o}),ls(Dn(r,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,o=Dn(o,s),d=Of(n.stateNode,o,d),lf(n,d),Tu!==4&&(Tu=2)),!1;var m=Error(i(520),{cause:o});if(m=Dn(m,s),ws===null?ws=[m]:ws.push(m),Tu!==4&&(Tu=2),r===null)return!0;o=Dn(o,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=Of(s.stateNode,o,n),lf(s,n),!1;case 1:if(r=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xi===null||!Xi.has(m))))return s.flags|=65536,d&=-d,s.lanes|=d,d=I2(d),L2(d,n,s,o),lf(s,d),!1}s=s.return}while(s!==null);return!1}var k2=Error(i(461)),zu=!1;function Wu(n,r,s,o){r.child=n===null?x2(r,null,s,o):ca(r,n.child,s,o)}function B2(n,r,s,o,d){s=s.render;var m=r.ref;if("ref"in o){var C={};for(var R in o)R!=="ref"&&(C[R]=o[R])}else C=o;return wr(r),o=hf(n,r,s,C,m,d),R=pf(),n!==null&&!zu?(mf(n,r,d),vi(n,r,d)):(Vt&&R&&Wc(r),r.flags|=1,Wu(n,r,o,d),r.child)}function M2(n,r,s,o,d){if(n===null){var m=s.type;return typeof m=="function"&&!Gc(m)&&m.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=m,U2(n,r,m,o,d)):(n=Ll(s.type,null,o,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Pf(n,d)){var C=m.memoizedProps;if(s=s.compare,s=s!==null?s:is,s(C,o)&&n.ref===r.ref)return vi(n,r,d)}return r.flags|=1,n=fi(m,o),n.ref=r.ref,n.return=r,r.child=n}function U2(n,r,s,o,d){if(n!==null){var m=n.memoizedProps;if(is(m,o)&&n.ref===r.ref)if(zu=!1,r.pendingProps=o=m,Pf(n,d))(n.flags&131072)!==0&&(zu=!0);else return r.lanes=n.lanes,vi(n,r,d)}return Rf(n,r,s,o,d)}function P2(n,r,s){var o=r.pendingProps,d=o.children,m=n!==null?n.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=m!==null?m.baseLanes|s:s,n!==null){for(d=r.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;r.childLanes=m&~o}else r.childLanes=0,r.child=null;return F2(n,r,o,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pl(r,m!==null?m.cachePool:null),m!==null?U1(r,m):cf(),S2(r);else return r.lanes=r.childLanes=536870912,F2(n,r,m!==null?m.baseLanes|s:s,s)}else m!==null?(Pl(r,m.cachePool),U1(r,m),qi(),r.memoizedState=null):(n!==null&&Pl(r,null),cf(),qi());return Wu(n,r,d,s),r.child}function F2(n,r,s,o){var d=nf();return d=d===null?null:{parent:Pu._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},n!==null&&Pl(r,null),cf(),S2(r),n!==null&&os(n,r,o,!0),null}function to(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Rf(n,r,s,o,d){return wr(r),s=hf(n,r,s,o,void 0,d),o=pf(),n!==null&&!zu?(mf(n,r,d),vi(n,r,d)):(Vt&&o&&Wc(r),r.flags|=1,Wu(n,r,s,d),r.child)}function H2(n,r,s,o,d,m){return wr(r),r.updateQueue=null,s=F1(r,o,s,d),P1(n),o=pf(),n!==null&&!zu?(mf(n,r,m),vi(n,r,m)):(Vt&&o&&Wc(r),r.flags|=1,Wu(n,r,s,m),r.child)}function z2(n,r,s,o,d){if(wr(r),r.stateNode===null){var m=ea,C=s.contextType;typeof C=="object"&&C!==null&&(m=tn(C)),m=new s(o,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=o,m.state=r.memoizedState,m.refs={},af(r),C=s.contextType,m.context=typeof C=="object"&&C!==null?tn(C):ea,m.state=r.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Df(r,s,C,o),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(C=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),C!==m.state&&wf.enqueueReplaceState(m,m.state,null),gs(r,o,m,d),ms(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(n===null){m=r.stateNode;var R=r.memoizedProps,X=Ir(s,R);m.props=X;var me=m.context,Te=s.contextType;C=ea,typeof Te=="object"&&Te!==null&&(C=tn(Te));var we=s.getDerivedStateFromProps;Te=typeof we=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,Te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||me!==C)&&N2(r,m,o,C),Ui=!1;var be=r.memoizedState;m.state=be,gs(r,o,m,d),ms(),me=r.memoizedState,R||be!==me||Ui?(typeof we=="function"&&(Df(r,s,we,o),me=r.memoizedState),(X=Ui||C2(r,s,X,o,be,me,C))?(Te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=me),m.props=o,m.state=me,m.context=C,o=X):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{m=r.stateNode,sf(n,r),C=r.memoizedProps,Te=Ir(s,C),m.props=Te,we=r.pendingProps,be=m.context,me=s.contextType,X=ea,typeof me=="object"&&me!==null&&(X=tn(me)),R=s.getDerivedStateFromProps,(me=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C!==we||be!==X)&&N2(r,m,o,X),Ui=!1,be=r.memoizedState,m.state=be,gs(r,o,m,d),ms();var ve=r.memoizedState;C!==we||be!==ve||Ui||n!==null&&n.dependencies!==null&&Ml(n.dependencies)?(typeof R=="function"&&(Df(r,s,R,o),ve=r.memoizedState),(Te=Ui||C2(r,s,Te,o,be,ve,X)||n!==null&&n.dependencies!==null&&Ml(n.dependencies))?(me||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,ve,X),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,ve,X)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&be===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&be===n.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=ve),m.props=o,m.state=ve,m.context=X,o=Te):(typeof m.componentDidUpdate!="function"||C===n.memoizedProps&&be===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&be===n.memoizedState||(r.flags|=1024),o=!1)}return m=o,to(n,r),o=(r.flags&128)!==0,m||o?(m=r.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&o?(r.child=ca(r,n.child,null,d),r.child=ca(r,null,s,d)):Wu(n,r,s,d),r.memoizedState=m.state,n=r.child):n=vi(n,r,d),n}function q2(n,r,s,o){return ss(),r.flags|=256,Wu(n,r,s,o),r.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(n){return{baseLanes:n,cachePool:w1()}}function kf(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=Ln),n}function j2(n,r,s){var o=r.pendingProps,d=!1,m=(r.flags&128)!==0,C;if((C=m)||(C=n!==null&&n.memoizedState===null?!1:(Fu.current&2)!==0),C&&(d=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,n===null){if(Vt){if(d?zi(r):qi(),Vt){var R=yu,X;if(X=R){e:{for(X=R,R=Kn;X.nodeType!==8;){if(!R){R=null;break e}if(X=jn(X.nextSibling),X===null){R=null;break e}}R=X}R!==null?(r.memoizedState={dehydrated:R,treeContext:xr!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},X=vn(18,null,null,0),X.stateNode=R,X.return=r,r.child=X,sn=r,yu=null,X=!0):X=!1}X||Nr(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return bd(R)?r.lanes=32:r.lanes=536870912,null;bi(r)}return R=o.children,o=o.fallback,d?(qi(),d=r.mode,R=uo({mode:"hidden",children:R},d),o=Ar(o,d,s,null),R.return=r,o.return=r,R.sibling=o,r.child=R,d=r.child,d.memoizedState=Lf(s),d.childLanes=kf(n,C,s),r.memoizedState=If,o):(zi(r),Bf(r,R))}if(X=n.memoizedState,X!==null&&(R=X.dehydrated,R!==null)){if(m)r.flags&256?(zi(r),r.flags&=-257,r=Mf(n,r,s)):r.memoizedState!==null?(qi(),r.child=n.child,r.flags|=128,r=null):(qi(),d=o.fallback,R=r.mode,o=uo({mode:"visible",children:o.children},R),d=Ar(d,R,s,null),d.flags|=2,o.return=r,d.return=r,o.sibling=d,r.child=o,ca(r,n.child,null,s),o=r.child,o.memoizedState=Lf(s),o.childLanes=kf(n,C,s),r.memoizedState=If,r=d);else if(zi(r),bd(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var me=C.dgst;C=me,o=Error(i(419)),o.stack="",o.digest=C,ls({value:o,source:null,stack:null}),r=Mf(n,r,s)}else if(zu||os(n,r,s,!1),C=(s&n.childLanes)!==0,zu||C){if(C=ou,C!==null&&(o=s&-s,o=(o&42)!==0?1:ue(o),o=(o&(C.suspendedLanes|s))!==0?0:o,o!==0&&o!==X.retryLane))throw X.retryLane=o,Jr(n,o),An(C,n,o),k2;R.data==="$?"||ed(),r=Mf(n,r,s)}else R.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=X.treeContext,yu=jn(R.nextSibling),sn=r,Vt=!0,Cr=null,Kn=!1,n!==null&&(On[Rn++]=di,On[Rn++]=hi,On[Rn++]=xr,di=n.id,hi=n.overflow,xr=r),r=Bf(r,o.children),r.flags|=4096);return r}return d?(qi(),d=o.fallback,R=r.mode,X=n.child,me=X.sibling,o=fi(X,{mode:"hidden",children:o.children}),o.subtreeFlags=X.subtreeFlags&65011712,me!==null?d=fi(me,d):(d=Ar(d,R,s,null),d.flags|=2),d.return=r,o.return=r,o.sibling=d,r.child=o,o=d,d=r.child,R=n.child.memoizedState,R===null?R=Lf(s):(X=R.cachePool,X!==null?(me=Pu._currentValue,X=X.parent!==me?{parent:me,pool:me}:X):X=w1(),R={baseLanes:R.baseLanes|s,cachePool:X}),d.memoizedState=R,d.childLanes=kf(n,C,s),r.memoizedState=If,o):(zi(r),s=n.child,n=s.sibling,s=fi(s,{mode:"visible",children:o.children}),s.return=r,s.sibling=null,n!==null&&(C=r.deletions,C===null?(r.deletions=[n],r.flags|=16):C.push(n)),r.child=s,r.memoizedState=null,s)}function Bf(n,r){return r=uo({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function uo(n,r){return n=vn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Mf(n,r,s){return ca(r,n.child,null,s),n=Bf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Y2(n,r,s){n.lanes|=r;var o=n.alternate;o!==null&&(o.lanes|=r),Jc(n.return,r,s)}function Uf(n,r,s,o,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=s,m.tailMode=d)}function V2(n,r,s){var o=r.pendingProps,d=o.revealOrder,m=o.tail;if(Wu(n,r,o.children,s),o=Fu.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Y2(n,s,r);else if(n.tag===19)Y2(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}switch(Ne(Fu,o),d){case"forwards":for(s=r.child,d=null;s!==null;)n=s.alternate,n!==null&&$l(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),Uf(r,!1,d,s,m);break;case"backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&$l(n)===null){r.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}Uf(r,!0,s,null,m);break;case"together":Uf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vi(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),Zi|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(os(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,s=fi(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=fi(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Pf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ml(n)))}function m3(n,r,s){switch(r.tag){case 3:He(r,r.stateNode.containerInfo),Mi(r,Pu,n.memoizedState.cache),ss();break;case 27:case 5:Ht(r);break;case 4:He(r,r.stateNode.containerInfo);break;case 10:Mi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(zi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?j2(n,r,s):(zi(r),n=vi(n,r,s),n!==null?n.sibling:null);zi(r);break;case 19:var d=(n.flags&128)!==0;if(o=(s&r.childLanes)!==0,o||(os(n,r,s,!1),o=(s&r.childLanes)!==0),d){if(o)return V2(n,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ne(Fu,Fu.current),o)break;return null;case 22:case 23:return r.lanes=0,P2(n,r,s);case 24:Mi(r,Pu,n.memoizedState.cache)}return vi(n,r,s)}function G2(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)zu=!0;else{if(!Pf(n,s)&&(r.flags&128)===0)return zu=!1,m3(n,r,s);zu=(n.flags&131072)!==0}else zu=!1,Vt&&(r.flags&1048576)!==0&&T1(r,Bl,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var o=r.elementType,d=o._init;if(o=d(o._payload),r.type=o,typeof o=="function")Gc(o)?(n=Ir(o,n),r.tag=1,r=z2(null,r,o,n,s)):(r.tag=0,r=Rf(null,r,o,n,s));else{if(o!=null){if(d=o.$$typeof,d===V){r.tag=11,r=B2(null,r,o,n,s);break e}else if(d===z){r.tag=14,r=M2(null,r,o,n,s);break e}}throw r=Re(o)||o,Error(i(306,r,""))}}return r;case 0:return Rf(n,r,r.type,r.pendingProps,s);case 1:return o=r.type,d=Ir(o,r.pendingProps),z2(n,r,o,d,s);case 3:e:{if(He(r,r.stateNode.containerInfo),n===null)throw Error(i(387));o=r.pendingProps;var m=r.memoizedState;d=m.element,sf(n,r),gs(r,o,null,s);var C=r.memoizedState;if(o=C.cache,Mi(r,Pu,o),o!==m.cache&&ef(r,[Pu],s,!0),ms(),o=C.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=q2(n,r,o,s);break e}else if(o!==d){d=Dn(Error(i(424)),r),ls(d),r=q2(n,r,o,s);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(yu=jn(n.firstChild),sn=r,Vt=!0,Cr=null,Kn=!0,s=x2(r,null,o,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ss(),o===d){r=vi(n,r,s);break e}Wu(n,r,o,s)}r=r.child}return r;case 26:return to(n,r),n===null?(s=Qp(r.type,null,r.pendingProps,null))?r.memoizedState=s:Vt||(s=r.type,n=r.pendingProps,o=bo(Ge.current).createElement(s),o[ze]=r,o[Me]=n,Ku(o,s,n),Mt(o),r.stateNode=o):r.memoizedState=Qp(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ht(r),n===null&&Vt&&(o=r.stateNode=Zp(r.type,r.pendingProps,Ge.current),sn=r,Kn=!0,d=yu,Ki(r.type)?(vd=d,yu=jn(o.firstChild)):yu=d),Wu(n,r,r.pendingProps.children,s),to(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Vt&&((d=o=yu)&&(o=j3(o,r.type,r.pendingProps,Kn),o!==null?(r.stateNode=o,sn=r,yu=jn(o.firstChild),Kn=!1,d=!0):d=!1),d||Nr(r)),Ht(r),d=r.type,m=r.pendingProps,C=n!==null?n.memoizedProps:null,o=m.children,pd(d,m)?o=null:C!==null&&pd(d,C)&&(r.flags|=32),r.memoizedState!==null&&(d=hf(n,r,s3,null,null,s),Ps._currentValue=d),to(n,r),Wu(n,r,o,s),r.child;case 6:return n===null&&Vt&&((n=s=yu)&&(s=Y3(s,r.pendingProps,Kn),s!==null?(r.stateNode=s,sn=r,yu=null,n=!0):n=!1),n||Nr(r)),null;case 13:return j2(n,r,s);case 4:return He(r,r.stateNode.containerInfo),o=r.pendingProps,n===null?r.child=ca(r,null,o,s):Wu(n,r,o,s),r.child;case 11:return B2(n,r,r.type,r.pendingProps,s);case 7:return Wu(n,r,r.pendingProps,s),r.child;case 8:return Wu(n,r,r.pendingProps.children,s),r.child;case 12:return Wu(n,r,r.pendingProps.children,s),r.child;case 10:return o=r.pendingProps,Mi(r,r.type,o.value),Wu(n,r,o.children,s),r.child;case 9:return d=r.type._context,o=r.pendingProps.children,wr(r),d=tn(d),o=o(d),r.flags|=1,Wu(n,r,o,s),r.child;case 14:return M2(n,r,r.type,r.pendingProps,s);case 15:return U2(n,r,r.type,r.pendingProps,s);case 19:return V2(n,r,s);case 31:return o=r.pendingProps,s=r.mode,o={mode:o.mode,children:o.children},n===null?(s=uo(o,s),s.ref=r.ref,r.child=s,s.return=r,r=s):(s=fi(n.child,o),s.ref=r.ref,r.child=s,s.return=r,r=s),r;case 22:return P2(n,r,s);case 24:return wr(r),o=tn(Pu),n===null?(d=nf(),d===null&&(d=ou,m=tf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=s),d=m),r.memoizedState={parent:o,cache:d},af(r),Mi(r,Pu,d)):((n.lanes&s)!==0&&(sf(n,r),gs(r,null,null,s),ms()),d=n.memoizedState,m=r.memoizedState,d.parent!==o?(d={parent:o,cache:o},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Mi(r,Pu,o)):(o=m.cache,Mi(r,Pu,o),o!==d.cache&&ef(r,[Pu],s,!0))),Wu(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ei(n){n.flags|=4}function Z2(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!tm(r)){if(r=In.current,r!==null&&((Bt&4194048)===Bt?$n!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==$n))throw hs=rf,O1;n.flags|=8192}}function no(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?K():536870912,n.lanes|=r,pa|=r)}function As(n,r){if(!Vt)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function bu(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,o=0;if(r)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=o,n.childLanes=s,r}function g3(n,r,s){var o=r.pendingProps;switch(Qc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bu(r),null;case 1:return bu(r),null;case 3:return s=r.stateNode,o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),mi(Pu),Tt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(as(r)?Ei(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,S1())),bu(r),null;case 26:return s=r.memoizedState,n===null?(Ei(r),s!==null?(bu(r),Z2(r,s)):(bu(r),r.flags&=-16777217)):s?s!==n.memoizedState?(Ei(r),bu(r),Z2(r,s)):(bu(r),r.flags&=-16777217):(n.memoizedProps!==o&&Ei(r),bu(r),r.flags&=-16777217),null;case 27:ft(r),s=Ge.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==o&&Ei(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return bu(r),null}n=Ee.current,as(r)?A1(r):(n=Zp(d,o,s),r.stateNode=n,Ei(r))}return bu(r),null;case 5:if(ft(r),s=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==o&&Ei(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return bu(r),null}if(n=Ee.current,as(r))A1(r);else{switch(d=bo(Ge.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?n.multiple=!0:o.size&&(n.size=o.size);break;default:n=typeof o.is=="string"?d.createElement(s,{is:o.is}):d.createElement(s)}}n[ze]=r,n[Me]=o;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch(Ku(n,s,o),s){case"button":case"input":case"select":case"textarea":n=!!o.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ei(r)}}return bu(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==o&&Ei(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(n=Ge.current,as(r)){if(n=r.stateNode,s=r.memoizedProps,o=null,d=sn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}n[ze]=r,n=!!(n.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Hp(n.nodeValue,s)),n||Nr(r)}else n=bo(n).createTextNode(o),n[ze]=r,r.stateNode=n}return bu(r),null;case 13:if(o=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=as(r),o!==null&&o.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[ze]=r}else ss(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;bu(r),d=!1}else d=S1(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(bi(r),r):(bi(r),null)}if(bi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=o!==null,n=n!==null&&n.memoizedState!==null,s){o=r.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)}return s!==n&&s&&(r.child.flags|=8192),no(r,r.updateQueue),bu(r),null;case 4:return Tt(),n===null&&od(r.stateNode.containerInfo),bu(r),null;case 10:return mi(r.type),bu(r),null;case 19:if(_e(Fu),d=r.memoizedState,d===null)return bu(r),null;if(o=(r.flags&128)!==0,m=d.rendering,m===null)if(o)As(d,!1);else{if(Tu!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=$l(n),m!==null){for(r.flags|=128,As(d,!1),n=m.updateQueue,r.updateQueue=n,no(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)y1(s,n),s=s.sibling;return Ne(Fu,Fu.current&1|2),r.child}n=n.sibling}d.tail!==null&&ht()>ao&&(r.flags|=128,o=!0,As(d,!1),r.lanes=4194304)}else{if(!o)if(n=$l(m),n!==null){if(r.flags|=128,o=!0,n=n.updateQueue,r.updateQueue=n,no(r,n),As(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Vt)return bu(r),null}else 2*ht()-d.renderingStartTime>ao&&s!==536870912&&(r.flags|=128,o=!0,As(d,!1),r.lanes=4194304);d.isBackwards?(m.sibling=r.child,r.child=m):(n=d.last,n!==null?n.sibling=m:r.child=m,d.last=m)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=ht(),r.sibling=null,n=Fu.current,Ne(Fu,o?n&1|2:n&1),r):(bu(r),null);case 22:case 23:return bi(r),ff(),o=r.memoizedState!==null,n!==null?n.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(s&536870912)!==0&&(r.flags&128)===0&&(bu(r),r.subtreeFlags&6&&(r.flags|=8192)):bu(r),s=r.updateQueue,s!==null&&no(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==s&&(r.flags|=2048),n!==null&&_e(Or),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),mi(Pu),bu(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function b3(n,r){switch(Qc(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return mi(Pu),Tt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ft(r),null;case 13:if(bi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ss()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return _e(Fu),null;case 4:return Tt(),null;case 10:return mi(r.type),null;case 22:case 23:return bi(r),ff(),n!==null&&_e(Or),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return mi(Pu),null;case 25:return null;default:return null}}function X2(n,r){switch(Qc(r),r.tag){case 3:mi(Pu),Tt();break;case 26:case 27:case 5:ft(r);break;case 4:Tt();break;case 13:bi(r);break;case 19:_e(Fu);break;case 10:mi(r.type);break;case 22:case 23:bi(r),ff(),n!==null&&_e(Or);break;case 24:mi(Pu)}}function xs(n,r){try{var s=r.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&n)===n){o=void 0;var m=s.create,C=s.inst;o=m(),C.destroy=o}s=s.next}while(s!==d)}}catch(R){au(r,r.return,R)}}function ji(n,r,s){try{var o=r.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&n)===n){var C=o.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,d=r;var X=s,me=R;try{me()}catch(Te){au(d,X,Te)}}}o=o.next}while(o!==m)}}catch(Te){au(r,r.return,Te)}}function W2(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{M1(r,s)}catch(o){au(n,n.return,o)}}}function Q2(n,r,s){s.props=Ir(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(o){au(n,r,o)}}function Ss(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var o=n.stateNode;break;case 30:o=n.stateNode;break;default:o=n.stateNode}typeof s=="function"?n.refCleanup=s(o):s.current=o}}catch(d){au(n,r,d)}}function Jn(n,r){var s=n.ref,o=n.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){au(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){au(n,r,d)}else s.current=null}function K2(n){var r=n.type,s=n.memoizedProps,o=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){au(n,n.return,d)}}function Ff(n,r,s){try{var o=n.stateNode;P3(o,n.type,s,r),o[Me]=r}catch(d){au(n,n.return,d)}}function $2(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ki(n.type)||n.tag===4}function Hf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zf(n,r,s){var o=n.tag;if(o===5||o===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=go));else if(o!==4&&(o===27&&Ki(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(zf(n,r,s),n=n.sibling;n!==null;)zf(n,r,s),n=n.sibling}function io(n,r,s){var o=n.tag;if(o===5||o===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(o!==4&&(o===27&&Ki(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(io(n,r,s),n=n.sibling;n!==null;)io(n,r,s),n=n.sibling}function J2(n){var r=n.stateNode,s=n.memoizedProps;try{for(var o=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Ku(r,o,s),r[ze]=n,r[Me]=s}catch(m){au(n,n.return,m)}}var _i=!1,Du=!1,qf=!1,ep=typeof WeakSet=="function"?WeakSet:Set,qu=null;function v3(n,r){if(n=n.containerInfo,dd=Ao,n=f1(n),Fc(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var C=0,R=-1,X=-1,me=0,Te=0,we=n,be=null;t:for(;;){for(var ve;we!==s||d!==0&&we.nodeType!==3||(R=C+d),we!==m||o!==0&&we.nodeType!==3||(X=C+o),we.nodeType===3&&(C+=we.nodeValue.length),(ve=we.firstChild)!==null;)be=we,we=ve;for(;;){if(we===n)break t;if(be===s&&++me===d&&(R=C),be===m&&++Te===o&&(X=C),(ve=we.nextSibling)!==null)break;we=be,be=we.parentNode}we=ve}s=R===-1||X===-1?null:{start:R,end:X}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:n,selectionRange:s},Ao=!1,qu=r;qu!==null;)if(r=qu,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,qu=n;else for(;qu!==null;){switch(r=qu,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,s=r,d=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var dt=Ir(s.type,d,s.elementType===s.type);n=o.getSnapshotBeforeUpdate(dt,m),o.__reactInternalSnapshotBeforeUpdate=n}catch(at){au(s,s.return,at)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)gd(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":gd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,qu=n;break}qu=r.return}}function tp(n,r,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(n,s),o&4&&xs(5,s);break;case 1:if(Yi(n,s),o&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(C){au(s,s.return,C)}else{var d=Ir(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(C){au(s,s.return,C)}}o&64&&W2(s),o&512&&Ss(s,s.return);break;case 3:if(Yi(n,s),o&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{M1(n,r)}catch(C){au(s,s.return,C)}}break;case 27:r===null&&o&4&&J2(s);case 26:case 5:Yi(n,s),r===null&&o&4&&K2(s),o&512&&Ss(s,s.return);break;case 12:Yi(n,s);break;case 13:Yi(n,s),o&4&&ip(n,s),o&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=N3.bind(null,s),V3(n,s))));break;case 22:if(o=s.memoizedState!==null||_i,!o){r=r!==null&&r.memoizedState!==null||Du,d=_i;var m=Du;_i=o,(Du=r)&&!m?Vi(n,s,(s.subtreeFlags&8772)!==0):Yi(n,s),_i=d,Du=m}break;case 30:break;default:Yi(n,s)}}function up(n){var r=n.alternate;r!==null&&(n.alternate=null,up(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&cu(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var hu=null,dn=!1;function yi(n,r,s){for(s=s.child;s!==null;)np(n,r,s),s=s.sibling}function np(n,r,s){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Su,s)}catch{}switch(s.tag){case 26:Du||Jn(s,r),yi(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Du||Jn(s,r);var o=hu,d=dn;Ki(s.type)&&(hu=s.stateNode,dn=!1),yi(n,r,s),ks(s.stateNode),hu=o,dn=d;break;case 5:Du||Jn(s,r);case 6:if(o=hu,d=dn,hu=null,yi(n,r,s),hu=o,dn=d,hu!==null)if(dn)try{(hu.nodeType===9?hu.body:hu.nodeName==="HTML"?hu.ownerDocument.body:hu).removeChild(s.stateNode)}catch(m){au(s,r,m)}else try{hu.removeChild(s.stateNode)}catch(m){au(s,r,m)}break;case 18:hu!==null&&(dn?(n=hu,Vp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),qs(n)):Vp(hu,s.stateNode));break;case 4:o=hu,d=dn,hu=s.stateNode.containerInfo,dn=!0,yi(n,r,s),hu=o,dn=d;break;case 0:case 11:case 14:case 15:Du||ji(2,s,r),Du||ji(4,s,r),yi(n,r,s);break;case 1:Du||(Jn(s,r),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Q2(s,r,o)),yi(n,r,s);break;case 21:yi(n,r,s);break;case 22:Du=(o=Du)||s.memoizedState!==null,yi(n,r,s),Du=o;break;default:yi(n,r,s)}}function ip(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{qs(n)}catch(s){au(r,r.return,s)}}function E3(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new ep),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new ep),r;default:throw Error(i(435,n.tag))}}function jf(n,r){var s=E3(n);r.forEach(function(o){var d=D3.bind(null,n,o);s.has(o)||(s.add(o),o.then(d,d))})}function En(n,r){var s=r.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],m=n,C=r,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(Ki(R.type)){hu=R.stateNode,dn=!1;break e}break;case 5:hu=R.stateNode,dn=!1;break e;case 3:case 4:hu=R.stateNode.containerInfo,dn=!0;break e}R=R.return}if(hu===null)throw Error(i(160));np(m,C,d),hu=null,dn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)rp(r,n),r=r.sibling}var qn=null;function rp(n,r){var s=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(r,n),_n(n),o&4&&(ji(3,n,n.return),xs(3,n),ji(5,n,n.return));break;case 1:En(r,n),_n(n),o&512&&(Du||s===null||Jn(s,s.return)),o&64&&_i&&(n=n.updateQueue,n!==null&&(o=n.callbacks,o!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=qn;if(En(r,n),_n(n),o&512&&(Du||s===null||Jn(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=n.memoizedState,s===null)if(o===null)if(n.stateNode===null){e:{o=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[bt]||m[ze]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),Ku(m,o,s),m[ze]=n,Mt(m),o=m;break e;case"link":var C=Jp("link","href",d).get(o+(s.href||""));if(C){for(var R=0;R<C.length;R++)if(m=C[R],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(R,1);break t}}m=d.createElement(o),Ku(m,o,s),d.head.appendChild(m);break;case"meta":if(C=Jp("meta","content",d).get(o+(s.content||""))){for(R=0;R<C.length;R++)if(m=C[R],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(R,1);break t}}m=d.createElement(o),Ku(m,o,s),d.head.appendChild(m);break;default:throw Error(i(468,o))}m[ze]=n,Mt(m),o=m}n.stateNode=o}else em(d,n.type,n.stateNode);else n.stateNode=$p(d,o,n.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?em(d,n.type,n.stateNode):$p(d,o,n.memoizedProps)):o===null&&n.stateNode!==null&&Ff(n,n.memoizedProps,s.memoizedProps)}break;case 27:En(r,n),_n(n),o&512&&(Du||s===null||Jn(s,s.return)),s!==null&&o&4&&Ff(n,n.memoizedProps,s.memoizedProps);break;case 5:if(En(r,n),_n(n),o&512&&(Du||s===null||Jn(s,s.return)),n.flags&32){d=n.stateNode;try{ru(d,"")}catch(ve){au(n,n.return,ve)}}o&4&&n.stateNode!=null&&(d=n.memoizedProps,Ff(n,d,s!==null?s.memoizedProps:d)),o&1024&&(qf=!0);break;case 6:if(En(r,n),_n(n),o&4){if(n.stateNode===null)throw Error(i(162));o=n.memoizedProps,s=n.stateNode;try{s.nodeValue=o}catch(ve){au(n,n.return,ve)}}break;case 3:if(_o=null,d=qn,qn=vo(r.containerInfo),En(r,n),qn=d,_n(n),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qs(r.containerInfo)}catch(ve){au(n,n.return,ve)}qf&&(qf=!1,ap(n));break;case 4:o=qn,qn=vo(n.stateNode.containerInfo),En(r,n),_n(n),qn=o;break;case 12:En(r,n),_n(n);break;case 13:En(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wf=ht()),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,jf(n,o)));break;case 22:d=n.memoizedState!==null;var X=s!==null&&s.memoizedState!==null,me=_i,Te=Du;if(_i=me||d,Du=Te||X,En(r,n),Du=Te,_i=me,_n(n),o&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||X||_i||Du||Lr(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){X=s=r;try{if(m=X.stateNode,d)C=m.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=X.stateNode;var we=X.memoizedProps.style,be=we!=null&&we.hasOwnProperty("display")?we.display:null;R.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ve){au(X,X.return,ve)}}}else if(r.tag===6){if(s===null){X=r;try{X.stateNode.nodeValue=d?"":X.memoizedProps}catch(ve){au(X,X.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=n.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,jf(n,s))));break;case 19:En(r,n),_n(n),o&4&&(o=n.updateQueue,o!==null&&(n.updateQueue=null,jf(n,o)));break;case 30:break;case 21:break;default:En(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var s,o=n.return;o!==null;){if($2(o)){s=o;break}o=o.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,m=Hf(n);io(n,m,d);break;case 5:var C=s.stateNode;s.flags&32&&(ru(C,""),s.flags&=-33);var R=Hf(n);io(n,R,C);break;case 3:case 4:var X=s.stateNode.containerInfo,me=Hf(n);zf(n,me,X);break;default:throw Error(i(161))}}catch(Te){au(n,n.return,Te)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function ap(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;ap(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Yi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)tp(n,r.alternate,r),r=r.sibling}function Lr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ji(4,r,r.return),Lr(r);break;case 1:Jn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Q2(r,r.return,s),Lr(r);break;case 27:ks(r.stateNode);case 26:case 5:Jn(r,r.return),Lr(r);break;case 22:r.memoizedState===null&&Lr(r);break;case 30:Lr(r);break;default:Lr(r)}n=n.sibling}}function Vi(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,d=n,m=r,C=m.flags;switch(m.tag){case 0:case 11:case 15:Vi(d,m,s),xs(4,m);break;case 1:if(Vi(d,m,s),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(me){au(o,o.return,me)}if(o=m,d=o.updateQueue,d!==null){var R=o.stateNode;try{var X=d.shared.hiddenCallbacks;if(X!==null)for(d.shared.hiddenCallbacks=null,d=0;d<X.length;d++)B1(X[d],R)}catch(me){au(o,o.return,me)}}s&&C&64&&W2(m),Ss(m,m.return);break;case 27:J2(m);case 26:case 5:Vi(d,m,s),s&&o===null&&C&4&&K2(m),Ss(m,m.return);break;case 12:Vi(d,m,s);break;case 13:Vi(d,m,s),s&&C&4&&ip(d,m);break;case 22:m.memoizedState===null&&Vi(d,m,s),Ss(m,m.return);break;case 30:break;default:Vi(d,m,s)}r=r.sibling}}function Yf(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&cs(s))}function Vf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&cs(n))}function ei(n,r,s,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sp(n,r,s,o),r=r.sibling}function sp(n,r,s,o){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ei(n,r,s,o),d&2048&&xs(9,r);break;case 1:ei(n,r,s,o);break;case 3:ei(n,r,s,o),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&cs(n)));break;case 12:if(d&2048){ei(n,r,s,o),n=r.stateNode;try{var m=r.memoizedProps,C=m.id,R=m.onPostCommit;typeof R=="function"&&R(C,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(X){au(r,r.return,X)}}else ei(n,r,s,o);break;case 13:ei(n,r,s,o);break;case 23:break;case 22:m=r.stateNode,C=r.alternate,r.memoizedState!==null?m._visibility&2?ei(n,r,s,o):Cs(n,r):m._visibility&2?ei(n,r,s,o):(m._visibility|=2,fa(n,r,s,o,(r.subtreeFlags&10256)!==0)),d&2048&&Yf(C,r);break;case 24:ei(n,r,s,o),d&2048&&Vf(r.alternate,r);break;default:ei(n,r,s,o)}}function fa(n,r,s,o,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,C=r,R=s,X=o,me=C.flags;switch(C.tag){case 0:case 11:case 15:fa(m,C,R,X,d),xs(8,C);break;case 23:break;case 22:var Te=C.stateNode;C.memoizedState!==null?Te._visibility&2?fa(m,C,R,X,d):Cs(m,C):(Te._visibility|=2,fa(m,C,R,X,d)),d&&me&2048&&Yf(C.alternate,C);break;case 24:fa(m,C,R,X,d),d&&me&2048&&Vf(C.alternate,C);break;default:fa(m,C,R,X,d)}r=r.sibling}}function Cs(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,o=r,d=o.flags;switch(o.tag){case 22:Cs(s,o),d&2048&&Yf(o.alternate,o);break;case 24:Cs(s,o),d&2048&&Vf(o.alternate,o);break;default:Cs(s,o)}r=r.sibling}}var Ns=8192;function da(n){if(n.subtreeFlags&Ns)for(n=n.child;n!==null;)lp(n),n=n.sibling}function lp(n){switch(n.tag){case 26:da(n),n.flags&Ns&&n.memoizedState!==null&&i_(qn,n.memoizedState,n.memoizedProps);break;case 5:da(n);break;case 3:case 4:var r=qn;qn=vo(n.stateNode.containerInfo),da(n),qn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ns,Ns=16777216,da(n),Ns=r):da(n));break;default:da(n)}}function op(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ds(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];qu=o,fp(o,n)}op(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cp(n),n=n.sibling}function cp(n){switch(n.tag){case 0:case 11:case 15:Ds(n),n.flags&2048&&ji(9,n,n.return);break;case 3:Ds(n);break;case 12:Ds(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ro(n)):Ds(n);break;default:Ds(n)}}function ro(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];qu=o,fp(o,n)}op(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ji(8,r,r.return),ro(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,ro(r));break;default:ro(r)}n=n.sibling}}function fp(n,r){for(;qu!==null;){var s=qu;switch(s.tag){case 0:case 11:case 15:ji(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:cs(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qu=o;else e:for(s=n;qu!==null;){o=qu;var d=o.sibling,m=o.return;if(up(o),o===s){qu=null;break e}if(d!==null){d.return=m,qu=d;break e}qu=m}}}var _3={getCacheForType:function(n){var r=tn(Pu),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s}},y3=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ou=null,Dt=null,Bt=0,Kt=0,yn=null,Gi=!1,ha=!1,Gf=!1,Ti=0,Tu=0,Zi=0,kr=0,Zf=0,Ln=0,pa=0,ws=null,hn=null,Xf=!1,Wf=0,ao=1/0,so=null,Xi=null,Qu=0,Wi=null,ma=null,ga=0,Qf=0,Kf=null,dp=null,Os=0,$f=null;function Tn(){if((Qt&2)!==0&&Bt!==0)return Bt&-Bt;if(te.T!==null){var n=na;return n!==0?n:rd()}return O()}function hp(){Ln===0&&(Ln=(Bt&536870912)===0||Vt?Ze():536870912);var n=In.current;return n!==null&&(n.flags|=32),Ln}function An(n,r,s){(n===ou&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)&&(ba(n,0),Qi(n,Bt,Ln,!1)),b(n,s),((Qt&2)===0||n!==ou)&&(n===ou&&((Qt&2)===0&&(kr|=s),Tu===4&&Qi(n,Bt,Ln,!1)),ti(n))}function pp(n,r,s){if((Qt&6)!==0)throw Error(i(327));var o=!s&&(r&124)===0&&(r&n.expiredLanes)===0||xe(n,r),d=o?x3(n,r):td(n,r,!0),m=o;do{if(d===0){ha&&!o&&Qi(n,r,0,!1);break}else{if(s=n.current.alternate,m&&!T3(s)){d=td(n,r,!1),m=!1;continue}if(d===2){if(m=r,n.errorRecoveryDisabledLanes&m)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var R=n;d=ws;var X=R.current.memoizedState.isDehydrated;if(X&&(ba(R,C).flags|=256),C=td(R,C,!1),C!==2){if(Gf&&!X){R.errorRecoveryDisabledLanes|=m,kr|=m,d=4;break e}m=hn,hn=d,m!==null&&(hn===null?hn=m:hn.push.apply(hn,m))}d=C}if(m=!1,d!==2)continue}}if(d===1){ba(n,0),Qi(n,r,0,!0);break}e:{switch(o=n,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Qi(o,r,Ln,!Gi);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Wf+300-ht(),10<d)){if(Qi(o,r,Ln,!Gi),M(o,0,!0)!==0)break e;o.timeoutHandle=jp(mp.bind(null,o,s,hn,so,Xf,r,Ln,kr,pa,Gi,m,2,-0,0),d);break e}mp(o,s,hn,so,Xf,r,Ln,kr,pa,Gi,m,0,-0,0)}}break}while(!0);ti(n)}function mp(n,r,s,o,d,m,C,R,X,me,Te,we,be,ve){if(n.timeoutHandle=-1,we=r.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(Us={stylesheets:null,count:0,unsuspend:n_},lp(r),we=r_(),we!==null)){n.cancelPendingCommit=we(Tp.bind(null,n,r,m,s,o,d,C,R,X,Te,1,be,ve)),Qi(n,m,C,!me);return}Tp(n,r,m,s,o,d,C,R,X)}function T3(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],m=d.getSnapshot;d=d.value;try{if(!bn(m(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qi(n,r,s,o){r&=~Zf,r&=~kr,n.suspendedLanes|=r,n.pingedLanes&=~r,o&&(n.warmLanes|=r),o=n.expirationTimes;for(var d=r;0<d;){var m=31-Jt(d),C=1<<m;o[m]=-1,d&=~C}s!==0&&ee(n,s,r)}function lo(){return(Qt&6)===0?(Rs(0),!1):!0}function Jf(){if(Dt!==null){if(Kt===0)var n=Dt.return;else n=Dt,pi=Dr=null,gf(n),oa=null,ys=0,n=Dt;for(;n!==null;)X2(n.alternate,n),n=n.return;Dt=null}}function ba(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,H3(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Jf(),ou=n,Dt=s=fi(n.current,null),Bt=r,Kt=0,yn=null,Gi=!1,ha=xe(n,r),Gf=!1,pa=Ln=Zf=kr=Zi=Tu=0,hn=ws=null,Xf=!1,(r&8)!==0&&(r|=r&32);var o=n.entangledLanes;if(o!==0)for(n=n.entanglements,o&=r;0<o;){var d=31-Jt(o),m=1<<d;r|=n[d],o&=~m}return Ti=r,Ol(),s}function gp(n,r){xt=null,te.H=Wl,r===ds||r===Fl?(r=L1(),Kt=3):r===O1?(r=L1(),Kt=4):Kt=r===k2?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,Dt===null&&(Tu=1,eo(n,Dn(r,n.current)))}function bp(){var n=te.H;return te.H=Wl,n===null?Wl:n}function vp(){var n=te.A;return te.A=_3,n}function ed(){Tu=4,Gi||(Bt&4194048)!==Bt&&In.current!==null||(ha=!0),(Zi&134217727)===0&&(kr&134217727)===0||ou===null||Qi(ou,Bt,Ln,!1)}function td(n,r,s){var o=Qt;Qt|=2;var d=bp(),m=vp();(ou!==n||Bt!==r)&&(so=null,ba(n,r)),r=!1;var C=Tu;e:do try{if(Kt!==0&&Dt!==null){var R=Dt,X=yn;switch(Kt){case 8:Jf(),C=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var me=Kt;if(Kt=0,yn=null,va(n,R,X,me),s&&ha){C=0;break e}break;default:me=Kt,Kt=0,yn=null,va(n,R,X,me)}}A3(),C=Tu;break}catch(Te){gp(n,Te)}while(!0);return r&&n.shellSuspendCounter++,pi=Dr=null,Qt=o,te.H=d,te.A=m,Dt===null&&(ou=null,Bt=0,Ol()),C}function A3(){for(;Dt!==null;)Ep(Dt)}function x3(n,r){var s=Qt;Qt|=2;var o=bp(),d=vp();ou!==n||Bt!==r?(so=null,ao=ht()+500,ba(n,r)):ha=xe(n,r);e:do try{if(Kt!==0&&Dt!==null){r=Dt;var m=yn;t:switch(Kt){case 1:Kt=0,yn=null,va(n,r,m,1);break;case 2:case 9:if(R1(m)){Kt=0,yn=null,_p(r);break}r=function(){Kt!==2&&Kt!==9||ou!==n||(Kt=7),ti(n)},m.then(r,r);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:R1(m)?(Kt=0,yn=null,_p(r)):(Kt=0,yn=null,va(n,r,m,7));break;case 5:var C=null;switch(Dt.tag){case 26:C=Dt.memoizedState;case 5:case 27:var R=Dt;if(!C||tm(C)){Kt=0,yn=null;var X=R.sibling;if(X!==null)Dt=X;else{var me=R.return;me!==null?(Dt=me,oo(me)):Dt=null}break t}}Kt=0,yn=null,va(n,r,m,5);break;case 6:Kt=0,yn=null,va(n,r,m,6);break;case 8:Jf(),Tu=6;break e;default:throw Error(i(462))}}S3();break}catch(Te){gp(n,Te)}while(!0);return pi=Dr=null,te.H=o,te.A=d,Qt=s,Dt!==null?0:(ou=null,Bt=0,Ol(),Tu)}function S3(){for(;Dt!==null&&!Zt();)Ep(Dt)}function Ep(n){var r=G2(n.alternate,n,Ti);n.memoizedProps=n.pendingProps,r===null?oo(n):Dt=r}function _p(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=H2(s,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=H2(s,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:gf(r);default:X2(s,r),r=Dt=y1(r,Ti),r=G2(s,r,Ti)}n.memoizedProps=n.pendingProps,r===null?oo(n):Dt=r}function va(n,r,s,o){pi=Dr=null,gf(r),oa=null,ys=0;var d=r.return;try{if(p3(n,d,r,s,Bt)){Tu=1,eo(n,Dn(s,n.current)),Dt=null;return}}catch(m){if(d!==null)throw Dt=d,m;Tu=1,eo(n,Dn(s,n.current)),Dt=null;return}r.flags&32768?(Vt||o===1?n=!0:ha||(Bt&536870912)!==0?n=!1:(Gi=n=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),yp(r,n)):oo(r)}function oo(n){var r=n;do{if((r.flags&32768)!==0){yp(r,Gi);return}n=r.return;var s=g3(r.alternate,r,Ti);if(s!==null){Dt=s;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=n}while(r!==null);Tu===0&&(Tu=5)}function yp(n,r){do{var s=b3(n.alternate,n);if(s!==null){s.flags&=32767,Dt=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Dt=n;return}Dt=n=s}while(n!==null);Tu=6,Dt=null}function Tp(n,r,s,o,d,m,C,R,X){n.cancelPendingCommit=null;do co();while(Qu!==0);if((Qt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Yc,L(n,s,m,C,R,X),n===ou&&(Dt=ou=null,Bt=0),ma=r,Wi=n,ga=s,Qf=m,Kf=d,dp=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,w3(nt,function(){return Np(),null})):(n.callbackNode=null,n.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=te.T,te.T=null,d=le.p,le.p=2,C=Qt,Qt|=4;try{v3(n,r,s)}finally{Qt=C,le.p=d,te.T=o}}Qu=1,Ap(),xp(),Sp()}}function Ap(){if(Qu===1){Qu=0;var n=Wi,r=ma,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=te.T,te.T=null;var o=le.p;le.p=2;var d=Qt;Qt|=4;try{rp(r,n);var m=hd,C=f1(n.containerInfo),R=m.focusedElem,X=m.selectionRange;if(C!==R&&R&&R.ownerDocument&&c1(R.ownerDocument.documentElement,R)){if(X!==null&&Fc(R)){var me=X.start,Te=X.end;if(Te===void 0&&(Te=me),"selectionStart"in R)R.selectionStart=me,R.selectionEnd=Math.min(Te,R.value.length);else{var we=R.ownerDocument||document,be=we&&we.defaultView||window;if(be.getSelection){var ve=be.getSelection(),dt=R.textContent.length,at=Math.min(X.start,dt),uu=X.end===void 0?at:Math.min(X.end,dt);!ve.extend&&at>uu&&(C=uu,uu=at,at=C);var ae=o1(R,at),$=o1(R,uu);if(ae&&$&&(ve.rangeCount!==1||ve.anchorNode!==ae.node||ve.anchorOffset!==ae.offset||ve.focusNode!==$.node||ve.focusOffset!==$.offset)){var pe=we.createRange();pe.setStart(ae.node,ae.offset),ve.removeAllRanges(),at>uu?(ve.addRange(pe),ve.extend($.node,$.offset)):(pe.setEnd($.node,$.offset),ve.addRange(pe))}}}}for(we=[],ve=R;ve=ve.parentNode;)ve.nodeType===1&&we.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<we.length;R++){var Ce=we[R];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Ao=!!dd,hd=dd=null}finally{Qt=d,le.p=o,te.T=s}}n.current=r,Qu=2}}function xp(){if(Qu===2){Qu=0;var n=Wi,r=ma,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=te.T,te.T=null;var o=le.p;le.p=2;var d=Qt;Qt|=4;try{tp(n,r.alternate,r)}finally{Qt=d,le.p=o,te.T=s}}Qu=3}}function Sp(){if(Qu===4||Qu===3){Qu=0,It();var n=Wi,r=ma,s=ga,o=dp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qu=5:(Qu=0,ma=Wi=null,Cp(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Xi=null),fe(s),r=r.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Su,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=te.T,d=le.p,le.p=2,te.T=null;try{for(var m=n.onRecoverableError,C=0;C<o.length;C++){var R=o[C];m(R.value,{componentStack:R.stack})}}finally{te.T=r,le.p=d}}(ga&3)!==0&&co(),ti(n),d=n.pendingLanes,(s&4194090)!==0&&(d&42)!==0?n===$f?Os++:(Os=0,$f=n):Os=0,Rs(0)}}function Cp(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,cs(r)))}function co(n){return Ap(),xp(),Sp(),Np()}function Np(){if(Qu!==5)return!1;var n=Wi,r=Qf;Qf=0;var s=fe(ga),o=te.T,d=le.p;try{le.p=32>s?32:s,te.T=null,s=Kf,Kf=null;var m=Wi,C=ga;if(Qu=0,ma=Wi=null,ga=0,(Qt&6)!==0)throw Error(i(331));var R=Qt;if(Qt|=4,cp(m.current),sp(m,m.current,C,s),Qt=R,Rs(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Su,m)}catch{}return!0}finally{le.p=d,te.T=o,Cp(n,r)}}function Dp(n,r,s){r=Dn(s,r),r=Of(n.stateNode,r,2),n=Fi(n,r,2),n!==null&&(b(n,2),ti(n))}function au(n,r,s){if(n.tag===3)Dp(n,n,s);else for(;r!==null;){if(r.tag===3){Dp(r,n,s);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xi===null||!Xi.has(o))){n=Dn(s,n),s=I2(2),o=Fi(r,s,2),o!==null&&(L2(s,o,r,n),b(o,2),ti(o));break}}r=r.return}}function ud(n,r,s){var o=n.pingCache;if(o===null){o=n.pingCache=new y3;var d=new Set;o.set(r,d)}else d=o.get(r),d===void 0&&(d=new Set,o.set(r,d));d.has(s)||(Gf=!0,d.add(s),n=C3.bind(null,n,r,s),r.then(n,n))}function C3(n,r,s){var o=n.pingCache;o!==null&&o.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,ou===n&&(Bt&s)===s&&(Tu===4||Tu===3&&(Bt&62914560)===Bt&&300>ht()-Wf?(Qt&2)===0&&ba(n,0):Zf|=s,pa===Bt&&(pa=0)),ti(n)}function wp(n,r){r===0&&(r=K()),n=Jr(n,r),n!==null&&(b(n,r),ti(n))}function N3(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),wp(n,s)}function D3(n,r){var s=0;switch(n.tag){case 13:var o=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=n.stateNode;break;case 22:o=n.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),wp(n,s)}function w3(n,r){return Et(n,r)}var fo=null,Ea=null,nd=!1,ho=!1,id=!1,Br=0;function ti(n){n!==Ea&&n.next===null&&(Ea===null?fo=Ea=n:Ea=Ea.next=n),ho=!0,nd||(nd=!0,R3())}function Rs(n,r){if(!id&&ho){id=!0;do for(var s=!1,o=fo;o!==null;){if(n!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var C=o.suspendedLanes,R=o.pingedLanes;m=(1<<31-Jt(42|n)+1)-1,m&=d&~(C&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,Lp(o,m))}else m=Bt,m=M(o,o===ou?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||xe(o,m)||(s=!0,Lp(o,m));o=o.next}while(s);id=!1}}function O3(){Op()}function Op(){ho=nd=!1;var n=0;Br!==0&&(F3()&&(n=Br),Br=0);for(var r=ht(),s=null,o=fo;o!==null;){var d=o.next,m=Rp(o,r);m===0?(o.next=null,s===null?fo=d:s.next=d,d===null&&(Ea=s)):(s=o,(n!==0||(m&3)!==0)&&(ho=!0)),o=d}Rs(n)}function Rp(n,r){for(var s=n.suspendedLanes,o=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var C=31-Jt(m),R=1<<C,X=d[C];X===-1?((R&s)===0||(R&o)!==0)&&(d[C]=ke(R,r)):X<=r&&(n.expiredLanes|=R),m&=~R}if(r=ou,s=Bt,s=M(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o=n.callbackNode,s===0||n===r&&(Kt===2||Kt===9)||n.cancelPendingCommit!==null)return o!==null&&o!==null&&At(o),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||xe(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(o!==null&&At(o),fe(s)){case 2:case 8:s=fu;break;case 32:s=nt;break;case 268435456:s=rt;break;default:s=nt}return o=Ip.bind(null,n),s=Et(s,o),n.callbackPriority=r,n.callbackNode=s,r}return o!==null&&o!==null&&At(o),n.callbackPriority=2,n.callbackNode=null,2}function Ip(n,r){if(Qu!==0&&Qu!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(co()&&n.callbackNode!==s)return null;var o=Bt;return o=M(n,n===ou?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),o===0?null:(pp(n,o,r),Rp(n,ht()),n.callbackNode!=null&&n.callbackNode===s?Ip.bind(null,n):null)}function Lp(n,r){if(co())return null;pp(n,r,!0)}function R3(){z3(function(){(Qt&6)!==0?Et(mu,O3):Op()})}function rd(){return Br===0&&(Br=Ze()),Br}function kp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Xa(""+n)}function Bp(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function I3(n,r,s,o,d){if(r==="submit"&&s&&s.stateNode===d){var m=kp((d[Me]||null).action),C=o.submitter;C&&(r=(r=C[Me]||null)?kp(r.formAction):C.getAttribute("formAction"),r!==null&&(m=r,C=null));var R=new Nl("action","action",null,o,d);n.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Br!==0){var X=C?Bp(d,C):new FormData(d);Sf(s,{pending:!0,data:X,method:d.method,action:m},null,X)}}else typeof m=="function"&&(R.preventDefault(),X=C?Bp(d,C):new FormData(d),Sf(s,{pending:!0,data:X,method:d.method,action:m},m,X))},currentTarget:d}]})}}for(var ad=0;ad<jc.length;ad++){var sd=jc[ad],L3=sd.toLowerCase(),k3=sd[0].toUpperCase()+sd.slice(1);zn(L3,"on"+k3)}zn(p1,"onAnimationEnd"),zn(m1,"onAnimationIteration"),zn(g1,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(KE,"onTransitionRun"),zn($E,"onTransitionStart"),zn(JE,"onTransitionCancel"),zn(b1,"onTransitionEnd"),Fn("onMouseEnter",["mouseout","mouseover"]),Fn("onMouseLeave",["mouseout","mouseover"]),Fn("onPointerEnter",["pointerout","pointerover"]),Fn("onPointerLeave",["pointerout","pointerover"]),Iu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Iu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Iu("onBeforeInput",["compositionend","keypress","textInput","paste"]),Iu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Iu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Iu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Is));function Mp(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var o=n[s],d=o.event;o=o.listeners;e:{var m=void 0;if(r)for(var C=o.length-1;0<=C;C--){var R=o[C],X=R.instance,me=R.currentTarget;if(R=R.listener,X!==m&&d.isPropagationStopped())break e;m=R,d.currentTarget=me;try{m(d)}catch(Te){Jl(Te)}d.currentTarget=null,m=X}else for(C=0;C<o.length;C++){if(R=o[C],X=R.instance,me=R.currentTarget,R=R.listener,X!==m&&d.isPropagationStopped())break e;m=R,d.currentTarget=me;try{m(d)}catch(Te){Jl(Te)}d.currentTarget=null,m=X}}}}function wt(n,r){var s=r[ot];s===void 0&&(s=r[ot]=new Set);var o=n+"__bubble";s.has(o)||(Up(r,n,2,!1),s.add(o))}function ld(n,r,s){var o=0;r&&(o|=4),Up(s,n,o,r)}var po="_reactListening"+Math.random().toString(36).slice(2);function od(n){if(!n[po]){n[po]=!0,_u.forEach(function(s){s!=="selectionchange"&&(B3.has(s)||ld(s,!1,n),ld(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[po]||(r[po]=!0,ld("selectionchange",!1,r))}}function Up(n,r,s,o){switch(sm(r)){case 2:var d=l_;break;case 8:d=o_;break;default:d=Ad}s=d.bind(null,r,s,n),d=void 0,!Oc||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),o?d!==void 0?n.addEventListener(r,s,{capture:!0,passive:d}):n.addEventListener(r,s,!0):d!==void 0?n.addEventListener(r,s,{passive:d}):n.addEventListener(r,s,!1)}function cd(n,r,s,o,d){var m=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var C=o.tag;if(C===3||C===4){var R=o.stateNode.containerInfo;if(R===d)break;if(C===4)for(C=o.return;C!==null;){var X=C.tag;if((X===3||X===4)&&C.stateNode.containerInfo===d)return;C=C.return}for(;R!==null;){if(C=Xt(R),C===null)return;if(X=C.tag,X===5||X===6||X===26||X===27){o=m=C;continue e}R=R.parentNode}}o=o.return}Yh(function(){var me=m,Te=Qa(s),we=[];e:{var be=v1.get(n);if(be!==void 0){var ve=Nl,dt=n;switch(n){case"keypress":if(Sl(s)===0)break e;case"keydown":case"keyup":ve=wE;break;case"focusin":dt="focus",ve=kc;break;case"focusout":dt="blur",ve=kc;break;case"beforeblur":case"afterblur":ve=kc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=bE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=IE;break;case p1:case m1:case g1:ve=_E;break;case b1:ve=kE;break;case"scroll":case"scrollend":ve=mE;break;case"wheel":ve=ME;break;case"copy":case"cut":case"paste":ve=TE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Wh;break;case"toggle":case"beforetoggle":ve=PE}var at=(r&4)!==0,uu=!at&&(n==="scroll"||n==="scrollend"),ae=at?be!==null?be+"Capture":null:be;at=[];for(var $=me,pe;$!==null;){var Ce=$;if(pe=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||pe===null||ae===null||(Ce=Ka($,ae),Ce!=null&&at.push(Ls($,Ce,pe))),uu)break;$=$.return}0<at.length&&(be=new ve(be,dt,null,s,Te),we.push({event:be,listeners:at}))}}if((r&7)===0){e:{if(be=n==="mouseover"||n==="pointerover",ve=n==="mouseout"||n==="pointerout",be&&s!==Wa&&(dt=s.relatedTarget||s.fromElement)&&(Xt(dt)||dt[je]))break e;if((ve||be)&&(be=Te.window===Te?Te:(be=Te.ownerDocument)?be.defaultView||be.parentWindow:window,ve?(dt=s.relatedTarget||s.toElement,ve=me,dt=dt?Xt(dt):null,dt!==null&&(uu=l(dt),at=dt.tag,dt!==uu||at!==5&&at!==27&&at!==6)&&(dt=null)):(ve=null,dt=me),ve!==dt)){if(at=Zh,Ce="onMouseLeave",ae="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(at=Wh,Ce="onPointerLeave",ae="onPointerEnter",$="pointer"),uu=ve==null?be:Nn(ve),pe=dt==null?be:Nn(dt),be=new at(Ce,$+"leave",ve,s,Te),be.target=uu,be.relatedTarget=pe,Ce=null,Xt(Te)===me&&(at=new at(ae,$+"enter",dt,s,Te),at.target=pe,at.relatedTarget=uu,Ce=at),uu=Ce,ve&&dt)t:{for(at=ve,ae=dt,$=0,pe=at;pe;pe=_a(pe))$++;for(pe=0,Ce=ae;Ce;Ce=_a(Ce))pe++;for(;0<$-pe;)at=_a(at),$--;for(;0<pe-$;)ae=_a(ae),pe--;for(;$--;){if(at===ae||ae!==null&&at===ae.alternate)break t;at=_a(at),ae=_a(ae)}at=null}else at=null;ve!==null&&Pp(we,be,ve,at,!1),dt!==null&&uu!==null&&Pp(we,uu,dt,at,!0)}}e:{if(be=me?Nn(me):window,ve=be.nodeName&&be.nodeName.toLowerCase(),ve==="select"||ve==="input"&&be.type==="file")var Ke=n1;else if(t1(be))if(i1)Ke=XE;else{Ke=GE;var St=VE}else ve=be.nodeName,!ve||ve.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?me&&Er(me.elementType)&&(Ke=n1):Ke=ZE;if(Ke&&(Ke=Ke(n,me))){u1(we,Ke,s,Te);break e}St&&St(n,be,me),n==="focusout"&&me&&be.type==="number"&&me.memoizedProps.value!=null&&Qe(be,"number",be.value)}switch(St=me?Nn(me):window,n){case"focusin":(t1(St)||St.contentEditable==="true")&&(Qr=St,Hc=me,rs=null);break;case"focusout":rs=Hc=Qr=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,d1(we,s,Te);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":d1(we,s,Te)}var et;if(Mc)e:{switch(n){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Wr?Jh(n,s)&&(lt="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(lt="onCompositionStart");lt&&(Qh&&s.locale!=="ko"&&(Wr||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Wr&&(et=Vh()):(Bi=Te,Rc="value"in Bi?Bi.value:Bi.textContent,Wr=!0)),St=mo(me,lt),0<St.length&&(lt=new Xh(lt,n,null,s,Te),we.push({event:lt,listeners:St}),et?lt.data=et:(et=e1(s),et!==null&&(lt.data=et)))),(et=HE?zE(n,s):qE(n,s))&&(lt=mo(me,"onBeforeInput"),0<lt.length&&(St=new Xh("onBeforeInput","beforeinput",null,s,Te),we.push({event:St,listeners:lt}),St.data=et)),I3(we,n,me,s,Te)}Mp(we,r)})}function Ls(n,r,s){return{instance:n,listener:r,currentTarget:s}}function mo(n,r){for(var s=r+"Capture",o=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ka(n,s),d!=null&&o.unshift(Ls(n,d,m)),d=Ka(n,r),d!=null&&o.push(Ls(n,d,m))),n.tag===3)return o;n=n.return}return[]}function _a(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Pp(n,r,s,o,d){for(var m=r._reactName,C=[];s!==null&&s!==o;){var R=s,X=R.alternate,me=R.stateNode;if(R=R.tag,X!==null&&X===o)break;R!==5&&R!==26&&R!==27||me===null||(X=me,d?(me=Ka(s,m),me!=null&&C.unshift(Ls(s,me,X))):d||(me=Ka(s,m),me!=null&&C.push(Ls(s,me,X)))),s=s.return}C.length!==0&&n.push({event:r,listeners:C})}var M3=/\r\n?/g,U3=/\u0000|\uFFFD/g;function Fp(n){return(typeof n=="string"?n:""+n).replace(M3,`
`).replace(U3,"")}function Hp(n,r){return r=Fp(r),Fp(n)===r}function go(){}function tu(n,r,s,o,d,m){switch(s){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||ru(n,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&ru(n,""+o);break;case"className":Zr(n,"class",o);break;case"tabIndex":Zr(n,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(n,s,o);break;case"style":ki(n,o,m);break;case"data":if(r!=="object"){Zr(n,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(s);break}o=Xa(""+o),n.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(r!=="input"&&tu(n,r,"name",d.name,d,null),tu(n,r,"formEncType",d.formEncType,d,null),tu(n,r,"formMethod",d.formMethod,d,null),tu(n,r,"formTarget",d.formTarget,d,null)):(tu(n,r,"encType",d.encType,d,null),tu(n,r,"method",d.method,d,null),tu(n,r,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){n.removeAttribute(s);break}o=Xa(""+o),n.setAttribute(s,o);break;case"onClick":o!=null&&(n.onclick=go);break;case"onScroll":o!=null&&wt("scroll",n);break;case"onScrollEnd":o!=null&&wt("scrollend",n);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"multiple":n.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":n.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){n.removeAttribute("xlink:href");break}s=Xa(""+o),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(s,""+o):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":o===!0?n.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?n.setAttribute(s,o):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?n.setAttribute(s,o):n.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?n.removeAttribute(s):n.setAttribute(s,o);break;case"popover":wt("beforetoggle",n),wt("toggle",n),Hn(n,"popover",o);break;case"xlinkActuate":on(n,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":on(n,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":on(n,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":on(n,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":on(n,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":on(n,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":on(n,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":on(n,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":on(n,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Hn(n,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Dc.get(s)||s,Hn(n,s,o))}}function fd(n,r,s,o,d,m){switch(s){case"style":ki(n,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"children":typeof o=="string"?ru(n,o):(typeof o=="number"||typeof o=="bigint")&&ru(n,""+o);break;case"onScroll":o!=null&&wt("scroll",n);break;case"onScrollEnd":o!=null&&wt("scrollend",n);break;case"onClick":o!=null&&(n.onclick=go);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ln.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),m=n[Me]||null,m=m!=null?m[s]:null,typeof m=="function"&&n.removeEventListener(r,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,o,d);break e}s in n?n[s]=o:o===!0?n.setAttribute(s,""):Hn(n,s,o)}}}function Ku(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",n),wt("load",n);var o=!1,d=!1,m;for(m in s)if(s.hasOwnProperty(m)){var C=s[m];if(C!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:tu(n,r,m,C,s,null)}}d&&tu(n,r,"srcSet",s.srcSet,s,null),o&&tu(n,r,"src",s.src,s,null);return;case"input":wt("invalid",n);var R=m=C=d=null,X=null,me=null;for(o in s)if(s.hasOwnProperty(o)){var Te=s[o];if(Te!=null)switch(o){case"name":d=Te;break;case"type":C=Te;break;case"checked":X=Te;break;case"defaultChecked":me=Te;break;case"value":m=Te;break;case"defaultValue":R=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,r));break;default:tu(n,r,o,Te,s,null)}}qe(n,m,R,X,me,C,d,!1),se(n);return;case"select":wt("invalid",n),o=C=m=null;for(d in s)if(s.hasOwnProperty(d)&&(R=s[d],R!=null))switch(d){case"value":m=R;break;case"defaultValue":C=R;break;case"multiple":o=R;default:tu(n,r,d,R,s,null)}r=m,s=C,n.multiple=!!o,r!=null?mt(n,!!o,r,!1):s!=null&&mt(n,!!o,s,!0);return;case"textarea":wt("invalid",n),m=d=o=null;for(C in s)if(s.hasOwnProperty(C)&&(R=s[C],R!=null))switch(C){case"value":o=R;break;case"defaultValue":d=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:tu(n,r,C,R,s,null)}zt(n,o,d,m),se(n);return;case"option":for(X in s)if(s.hasOwnProperty(X)&&(o=s[X],o!=null))switch(X){case"selected":n.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tu(n,r,X,o,s,null)}return;case"dialog":wt("beforetoggle",n),wt("toggle",n),wt("cancel",n),wt("close",n);break;case"iframe":case"object":wt("load",n);break;case"video":case"audio":for(o=0;o<Is.length;o++)wt(Is[o],n);break;case"image":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"embed":case"source":case"link":wt("error",n),wt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in s)if(s.hasOwnProperty(me)&&(o=s[me],o!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:tu(n,r,me,o,s,null)}return;default:if(Er(r)){for(Te in s)s.hasOwnProperty(Te)&&(o=s[Te],o!==void 0&&fd(n,r,Te,o,s,void 0));return}}for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null&&tu(n,r,R,o,s,null))}function P3(n,r,s,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,C=null,R=null,X=null,me=null,Te=null;for(ve in s){var we=s[ve];if(s.hasOwnProperty(ve)&&we!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":X=we;default:o.hasOwnProperty(ve)||tu(n,r,ve,null,o,we)}}for(var be in o){var ve=o[be];if(we=s[be],o.hasOwnProperty(be)&&(ve!=null||we!=null))switch(be){case"type":m=ve;break;case"name":d=ve;break;case"checked":me=ve;break;case"defaultChecked":Te=ve;break;case"value":C=ve;break;case"defaultValue":R=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,r));break;default:ve!==we&&tu(n,r,be,ve,o,we)}}Pe(n,C,R,X,me,Te,m,d);return;case"select":ve=C=R=be=null;for(m in s)if(X=s[m],s.hasOwnProperty(m)&&X!=null)switch(m){case"value":break;case"multiple":ve=X;default:o.hasOwnProperty(m)||tu(n,r,m,null,o,X)}for(d in o)if(m=o[d],X=s[d],o.hasOwnProperty(d)&&(m!=null||X!=null))switch(d){case"value":be=m;break;case"defaultValue":R=m;break;case"multiple":C=m;default:m!==X&&tu(n,r,d,m,o,X)}r=R,s=C,o=ve,be!=null?mt(n,!!s,be,!1):!!o!=!!s&&(r!=null?mt(n,!!s,r,!0):mt(n,!!s,s?[]:"",!1));return;case"textarea":ve=be=null;for(R in s)if(d=s[R],s.hasOwnProperty(R)&&d!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:tu(n,r,R,null,o,d)}for(C in o)if(d=o[C],m=s[C],o.hasOwnProperty(C)&&(d!=null||m!=null))switch(C){case"value":be=d;break;case"defaultValue":ve=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&tu(n,r,C,d,o,m)}Ut(n,be,ve);return;case"option":for(var dt in s)if(be=s[dt],s.hasOwnProperty(dt)&&be!=null&&!o.hasOwnProperty(dt))switch(dt){case"selected":n.selected=!1;break;default:tu(n,r,dt,null,o,be)}for(X in o)if(be=o[X],ve=s[X],o.hasOwnProperty(X)&&be!==ve&&(be!=null||ve!=null))switch(X){case"selected":n.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:tu(n,r,X,be,o,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in s)be=s[at],s.hasOwnProperty(at)&&be!=null&&!o.hasOwnProperty(at)&&tu(n,r,at,null,o,be);for(me in o)if(be=o[me],ve=s[me],o.hasOwnProperty(me)&&be!==ve&&(be!=null||ve!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,r));break;default:tu(n,r,me,be,o,ve)}return;default:if(Er(r)){for(var uu in s)be=s[uu],s.hasOwnProperty(uu)&&be!==void 0&&!o.hasOwnProperty(uu)&&fd(n,r,uu,void 0,o,be);for(Te in o)be=o[Te],ve=s[Te],!o.hasOwnProperty(Te)||be===ve||be===void 0&&ve===void 0||fd(n,r,Te,be,o,ve);return}}for(var ae in s)be=s[ae],s.hasOwnProperty(ae)&&be!=null&&!o.hasOwnProperty(ae)&&tu(n,r,ae,null,o,be);for(we in o)be=o[we],ve=s[we],!o.hasOwnProperty(we)||be===ve||be==null&&ve==null||tu(n,r,we,be,o,ve)}var dd=null,hd=null;function bo(n){return n.nodeType===9?n:n.ownerDocument}function zp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function pd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var md=null;function F3(){var n=window.event;return n&&n.type==="popstate"?n===md?!1:(md=n,!0):(md=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,H3=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,z3=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(n){return Yp.resolve(null).then(n).catch(q3)}:jp;function q3(n){setTimeout(function(){throw n})}function Ki(n){return n==="head"}function Vp(n,r){var s=r,o=0,d=0;do{var m=s.nextSibling;if(n.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<o&&8>o){s=o;var C=n.ownerDocument;if(s&1&&ks(C.documentElement),s&2&&ks(C.body),s&4)for(s=C.head,ks(s),C=s.firstChild;C;){var R=C.nextSibling,X=C.nodeName;C[bt]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&C.rel.toLowerCase()==="stylesheet"||s.removeChild(C),C=R}}if(d===0){n.removeChild(m),qs(r);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:o=s.charCodeAt(0)-48;else o=0;s=m}while(s);qs(r)}function gd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),cu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function j3(n,r,s,o){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(o){if(!n[bt])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=jn(n.nextSibling),n===null)break}return null}function Y3(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=jn(n.nextSibling),n===null))return null;return n}function bd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function V3(n,r){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")r();else{var o=function(){r(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),n._reactRetry=o}}function jn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var vd=null;function Gp(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return n;r--}else s==="/$"&&r++}n=n.previousSibling}return null}function Zp(n,r,s){switch(r=bo(s),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ks(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);cu(n)}var kn=new Map,Xp=new Set;function vo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ai=le.d;le.d={f:G3,r:Z3,D:X3,C:W3,L:Q3,m:K3,X:J3,S:$3,M:e_};function G3(){var n=Ai.f(),r=lo();return n||r}function Z3(n){var r=en(n);r!==null&&r.tag===5&&r.type==="form"?p2(r):Ai.r(n)}var ya=typeof document>"u"?null:document;function Wp(n,r,s){var o=ya;if(o&&typeof r=="string"&&r){var d=Ie(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Xp.has(d)||(Xp.add(d),n={rel:n,crossOrigin:s,href:r},o.querySelector(d)===null&&(r=o.createElement("link"),Ku(r,"link",n),Mt(r),o.head.appendChild(r)))}}function X3(n){Ai.D(n),Wp("dns-prefetch",n,null)}function W3(n,r){Ai.C(n,r),Wp("preconnect",n,r)}function Q3(n,r,s){Ai.L(n,r,s);var o=ya;if(o&&n&&r){var d='link[rel="preload"][as="'+Ie(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Ie(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Ie(s.imageSizes)+'"]')):d+='[href="'+Ie(n)+'"]';var m=d;switch(r){case"style":m=Ta(n);break;case"script":m=Aa(n)}kn.has(m)||(n=E({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),kn.set(m,n),o.querySelector(d)!==null||r==="style"&&o.querySelector(Bs(m))||r==="script"&&o.querySelector(Ms(m))||(r=o.createElement("link"),Ku(r,"link",n),Mt(r),o.head.appendChild(r)))}}function K3(n,r){Ai.m(n,r);var s=ya;if(s&&n){var o=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Ie(o)+'"][href="'+Ie(n)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Aa(n)}if(!kn.has(m)&&(n=E({rel:"modulepreload",href:n},r),kn.set(m,n),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ms(m)))return}o=s.createElement("link"),Ku(o,"link",n),Mt(o),s.head.appendChild(o)}}}function $3(n,r,s){Ai.S(n,r,s);var o=ya;if(o&&n){var d=Wt(o).hoistableStyles,m=Ta(n);r=r||"default";var C=d.get(m);if(!C){var R={loading:0,preload:null};if(C=o.querySelector(Bs(m)))R.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},s),(s=kn.get(m))&&Ed(n,s);var X=C=o.createElement("link");Mt(X),Ku(X,"link",n),X._p=new Promise(function(me,Te){X.onload=me,X.onerror=Te}),X.addEventListener("load",function(){R.loading|=1}),X.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Eo(C,r,o)}C={type:"stylesheet",instance:C,count:1,state:R},d.set(m,C)}}}function J3(n,r){Ai.X(n,r);var s=ya;if(s&&n){var o=Wt(s).hoistableScripts,d=Aa(n),m=o.get(d);m||(m=s.querySelector(Ms(d)),m||(n=E({src:n,async:!0},r),(r=kn.get(d))&&_d(n,r),m=s.createElement("script"),Mt(m),Ku(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function e_(n,r){Ai.M(n,r);var s=ya;if(s&&n){var o=Wt(s).hoistableScripts,d=Aa(n),m=o.get(d);m||(m=s.querySelector(Ms(d)),m||(n=E({src:n,async:!0,type:"module"},r),(r=kn.get(d))&&_d(n,r),m=s.createElement("script"),Mt(m),Ku(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function Qp(n,r,s,o){var d=(d=Ge.current)?vo(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ta(s.href),s=Wt(d).hoistableStyles,o=s.get(r),o||(o={type:"style",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Ta(s.href);var m=Wt(d).hoistableStyles,C=m.get(n);if(C||(d=d.ownerDocument||d,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,C),(m=d.querySelector(Bs(n)))&&!m._p&&(C.instance=m,C.state.loading=5),kn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(n,s),m||t_(d,n,s,C.state))),r&&o===null)throw Error(i(528,""));return C}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Aa(s),s=Wt(d).hoistableScripts,o=s.get(r),o||(o={type:"script",instance:null,count:0,state:null},s.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ta(n){return'href="'+Ie(n)+'"'}function Bs(n){return'link[rel="stylesheet"]['+n+"]"}function Kp(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function t_(n,r,s,o){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=n.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Ku(r,"link",s),Mt(r),n.head.appendChild(r))}function Aa(n){return'[src="'+Ie(n)+'"]'}function Ms(n){return"script[async]"+n}function $p(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var o=n.querySelector('style[data-href~="'+Ie(s.href)+'"]');if(o)return r.instance=o,Mt(o),o;var d=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(n.ownerDocument||n).createElement("style"),Mt(o),Ku(o,"style",d),Eo(o,s.precedence,n),r.instance=o;case"stylesheet":d=Ta(s.href);var m=n.querySelector(Bs(d));if(m)return r.state.loading|=4,r.instance=m,Mt(m),m;o=Kp(s),(d=kn.get(d))&&Ed(o,d),m=(n.ownerDocument||n).createElement("link"),Mt(m);var C=m;return C._p=new Promise(function(R,X){C.onload=R,C.onerror=X}),Ku(m,"link",o),r.state.loading|=4,Eo(m,s.precedence,n),r.instance=m;case"script":return m=Aa(s.src),(d=n.querySelector(Ms(m)))?(r.instance=d,Mt(d),d):(o=s,(d=kn.get(m))&&(o=E({},s),_d(o,d)),n=n.ownerDocument||n,d=n.createElement("script"),Mt(d),Ku(d,"link",o),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Eo(o,s.precedence,n));return r.instance}function Eo(n,r,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,C=0;C<o.length;C++){var R=o[C];if(R.dataset.precedence===r)m=R;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Ed(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function _d(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var _o=null;function Jp(n,r,s){if(_o===null){var o=new Map,d=_o=new Map;d.set(s,o)}else d=_o,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(n))return o;for(o.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var m=s[d];if(!(m[bt]||m[ze]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var C=m.getAttribute(r)||"";C=n+C;var R=o.get(C);R?R.push(m):o.set(C,[m])}}return o}function em(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function u_(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function tm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Us=null;function n_(){}function i_(n,r,s){if(Us===null)throw Error(i(475));var o=Us;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Ta(s.href),m=n.querySelector(Bs(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(o.count++,o=yo.bind(o),n.then(o,o)),r.state.loading|=4,r.instance=m,Mt(m);return}m=n.ownerDocument||n,s=Kp(s),(d=kn.get(d))&&Ed(s,d),m=m.createElement("link"),Mt(m);var C=m;C._p=new Promise(function(R,X){C.onload=R,C.onerror=X}),Ku(m,"link",s),r.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=yo.bind(o),n.addEventListener("load",r),n.addEventListener("error",r))}}function r_(){if(Us===null)throw Error(i(475));var n=Us;return n.stylesheets&&n.count===0&&yd(n,n.stylesheets),0<n.count?function(r){var s=setTimeout(function(){if(n.stylesheets&&yd(n,n.stylesheets),n.unsuspend){var o=n.unsuspend;n.unsuspend=null,o()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(s)}}:null}function yo(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var To=null;function yd(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,To=new Map,r.forEach(a_,n),To=null,yo.call(n))}function a_(n,r){if(!(r.state.loading&4)){var s=To.get(n);if(s)var o=s.get(null);else{s=new Map,To.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var C=d[m];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),o=C)}o&&s.set(null,o)}d=r.instance,C=d.getAttribute("data-precedence"),m=s.get(C)||o,m===o&&s.set(null,d),s.set(C,d),this.count++,o=yo.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var Ps={$$typeof:I,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function s_(n,r,s,o,d,m,C,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=T(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T(0),this.hiddenUpdates=T(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function um(n,r,s,o,d,m,C,R,X,me,Te,we){return n=new s_(n,r,s,C,R,X,me,we),r=1,m===!0&&(r|=24),m=vn(3,null,null,r),n.current=m,m.stateNode=n,r=tf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:r},af(m),n}function nm(n){return n?(n=ea,n):ea}function im(n,r,s,o,d,m){d=nm(d),o.context===null?o.context=d:o.pendingContext=d,o=Pi(r),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Fi(n,o,r),s!==null&&(An(s,n,r),ps(s,n,r))}function rm(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Td(n,r){rm(n,r),(n=n.alternate)&&rm(n,r)}function am(n){if(n.tag===13){var r=Jr(n,67108864);r!==null&&An(r,n,67108864),Td(n,67108864)}}var Ao=!0;function l_(n,r,s,o){var d=te.T;te.T=null;var m=le.p;try{le.p=2,Ad(n,r,s,o)}finally{le.p=m,te.T=d}}function o_(n,r,s,o){var d=te.T;te.T=null;var m=le.p;try{le.p=8,Ad(n,r,s,o)}finally{le.p=m,te.T=d}}function Ad(n,r,s,o){if(Ao){var d=xd(o);if(d===null)cd(n,r,o,xo,s),lm(n,o);else if(f_(d,n,r,s,o))o.stopPropagation();else if(lm(n,o),r&4&&-1<c_.indexOf(n)){for(;d!==null;){var m=en(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var C=Uu(m.pendingLanes);if(C!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var X=1<<31-Jt(C);R.entanglements[1]|=X,C&=~X}ti(m),(Qt&6)===0&&(ao=ht()+500,Rs(0))}}break;case 13:R=Jr(m,2),R!==null&&An(R,m,2),lo(),Td(m,2)}if(m=xd(o),m===null&&cd(n,r,o,xo,s),m===d)break;d=m}d!==null&&o.stopPropagation()}else cd(n,r,o,null,s)}}function xd(n){return n=Qa(n),Sd(n)}var xo=null;function Sd(n){if(xo=null,n=Xt(n),n!==null){var r=l(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return xo=n,null}function sm(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lu()){case mu:return 2;case fu:return 8;case nt:case pt:return 32;case rt:return 268435456;default:return 32}default:return 32}}var Cd=!1,$i=null,Ji=null,er=null,Fs=new Map,Hs=new Map,tr=[],c_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lm(n,r){switch(n){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Fs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(r.pointerId)}}function zs(n,r,s,o,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},r!==null&&(r=en(r),r!==null&&am(r)),n):(n.eventSystemFlags|=o,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function f_(n,r,s,o,d){switch(r){case"focusin":return $i=zs($i,n,r,s,o,d),!0;case"dragenter":return Ji=zs(Ji,n,r,s,o,d),!0;case"mouseover":return er=zs(er,n,r,s,o,d),!0;case"pointerover":var m=d.pointerId;return Fs.set(m,zs(Fs.get(m)||null,n,r,s,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Hs.set(m,zs(Hs.get(m)||null,n,r,s,o,d)),!0}return!1}function om(n){var r=Xt(n.target);if(r!==null){var s=l(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,Q(n.priority,function(){if(s.tag===13){var o=Tn();o=ue(o);var d=Jr(s,o);d!==null&&An(d,s,o),Td(s,o)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function So(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=xd(n.nativeEvent);if(s===null){s=n.nativeEvent;var o=new s.constructor(s.type,s);Wa=o,s.target.dispatchEvent(o),Wa=null}else return r=en(s),r!==null&&am(r),n.blockedOn=s,!1;r.shift()}return!0}function cm(n,r,s){So(n)&&s.delete(r)}function d_(){Cd=!1,$i!==null&&So($i)&&($i=null),Ji!==null&&So(Ji)&&(Ji=null),er!==null&&So(er)&&(er=null),Fs.forEach(cm),Hs.forEach(cm)}function Co(n,r){n.blockedOn===r&&(n.blockedOn=null,Cd||(Cd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,d_)))}var No=null;function fm(n){No!==n&&(No=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){No===n&&(No=null);for(var r=0;r<n.length;r+=3){var s=n[r],o=n[r+1],d=n[r+2];if(typeof o!="function"){if(Sd(o||s)===null)continue;break}var m=en(s);m!==null&&(n.splice(r,3),r-=3,Sf(m,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function qs(n){function r(X){return Co(X,n)}$i!==null&&Co($i,n),Ji!==null&&Co(Ji,n),er!==null&&Co(er,n),Fs.forEach(r),Hs.forEach(r);for(var s=0;s<tr.length;s++){var o=tr[s];o.blockedOn===n&&(o.blockedOn=null)}for(;0<tr.length&&(s=tr[0],s.blockedOn===null);)om(s),s.blockedOn===null&&tr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],m=s[o+1],C=d[Me]||null;if(typeof m=="function")C||fm(s);else if(C){var R=null;if(m&&m.hasAttribute("formAction")){if(d=m,C=m[Me]||null)R=C.formAction;else if(Sd(d)!==null)continue}else R=C.action;typeof R=="function"?s[o+1]=R:(s.splice(o,3),o-=3),fm(s)}}}function Nd(n){this._internalRoot=n}Do.prototype.render=Nd.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,o=Tn();im(s,o,n,r,null,null)},Do.prototype.unmount=Nd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;im(n.current,2,null,n,null,null),lo(),r[je]=null}};function Do(n){this._internalRoot=n}Do.prototype.unstable_scheduleHydration=function(n){if(n){var r=O();n={blockedOn:null,target:n,priority:r};for(var s=0;s<tr.length&&r!==0&&r<tr[s].priority;s++);tr.splice(s,0,n),s===0&&om(n)}};var dm=e.version;if(dm!=="19.1.0")throw Error(i(527,dm,"19.1.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var h_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{Su=wo.inject(h_),Lt=wo}catch{}}return Ys.createRoot=function(n,r){if(!a(n))throw Error(i(299));var s=!1,o="",d=D2,m=w2,C=O2,R=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=um(n,1,!1,null,null,s,o,d,m,C,R,null),n[je]=r.current,od(n),new Nd(r)},Ys.hydrateRoot=function(n,r,s){if(!a(n))throw Error(i(299));var o=!1,d="",m=D2,C=w2,R=O2,X=null,me=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(X=s.unstable_transitionCallbacks),s.formState!==void 0&&(me=s.formState)),r=um(n,1,!0,r,s??null,o,d,m,C,R,X,me),r.context=nm(null),s=r.current,o=Tn(),o=ue(o),d=Pi(o),d.callback=null,Fi(s,d,o),s=o,r.current.lanes=s,b(r,s),ti(r),n[je]=r.current,od(n),new Do(r)},Ys.version="19.1.0",Ys}var Tm;function A_(){if(Tm)return Od.exports;Tm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Od.exports=T_(),Od.exports}var x_=A_();const S_="modulepreload",C_=function(t){return"/epub-translator/"+t},Am={},xm=function(e,u,i){let a=Promise.resolve();if(u&&u.length>0){let h=function(p){return Promise.all(p.map(E=>Promise.resolve(E).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");a=h(u.map(p=>{if(p=C_(p),p in Am)return;Am[p]=!0;const E=p.endsWith(".css"),_=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const x=document.createElement("link");if(x.rel=E?"stylesheet":S_,E||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),E)return new Promise((S,B)=>{x.addEventListener("load",S),x.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var Gt;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(Gt||(Gt={}));function N_(t){return t.type===Gt.Tag||t.type===Gt.Script||t.type===Gt.Style}const oh=Gt.Root,Tb=Gt.Text,D_=Gt.Directive,Ab=Gt.Comment,w_=Gt.Script,O_=Gt.Style,U0=Gt.Tag,R_=Gt.CDATA,I_=Gt.Doctype;let xb=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return al(this,e)}};class ch extends xb{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class rl extends ch{constructor(){super(...arguments),this.type=Gt.Text}get nodeType(){return 3}}class fh extends ch{constructor(){super(...arguments),this.type=Gt.Comment}get nodeType(){return 8}}class dh extends ch{constructor(e,u){super(u),this.name=e,this.type=Gt.Directive}get nodeType(){return 1}}class hh extends xb{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class Sb extends hh{constructor(){super(...arguments),this.type=Gt.CDATA}get nodeType(){return 4}}class Hr extends hh{constructor(){super(...arguments),this.type=Gt.Root}get nodeType(){return 9}}let ph=class extends hh{constructor(e,u,i=[],a=e==="script"?Gt.Script:e==="style"?Gt.Style:Gt.Tag){super(i),this.name=e,this.attribs=u,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var u,i;return{name:e,value:this.attribs[e],namespace:(u=this["x-attribsNamespace"])===null||u===void 0?void 0:u[e],prefix:(i=this["x-attribsPrefix"])===null||i===void 0?void 0:i[e]}})}};function ct(t){return N_(t)}function dc(t){return t.type===Gt.CDATA}function ri(t){return t.type===Gt.Text}function hc(t){return t.type===Gt.Comment}function P0(t){return t.type===Gt.Directive}function mr(t){return t.type===Gt.Root}function Ou(t){return Object.prototype.hasOwnProperty.call(t,"children")}function al(t,e=!1){let u;if(ri(t))u=new rl(t.data);else if(hc(t))u=new fh(t.data);else if(ct(t)){const i=e?kd(t.children):[],a=new ph(t.name,{...t.attribs},i);i.forEach(l=>l.parent=a),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...t["x-attribsPrefix"]}),u=a}else if(dc(t)){const i=e?kd(t.children):[],a=new Sb(i);i.forEach(l=>l.parent=a),u=a}else if(mr(t)){const i=e?kd(t.children):[],a=new Hr(i);i.forEach(l=>l.parent=a),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),u=a}else if(P0(t)){const i=new dh(t.name,t.data);t["x-name"]!=null&&(i["x-name"]=t["x-name"],i["x-publicId"]=t["x-publicId"],i["x-systemId"]=t["x-systemId"]),u=i}else throw new Error(`Not implemented yet: ${t.type}`);return u.startIndex=t.startIndex,u.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(u.sourceCodeLocation=t.sourceCodeLocation),u}function kd(t){const e=t.map(u=>al(u,!0));for(let u=1;u<e.length;u++)e[u].prev=e[u-1],e[u-1].next=e[u];return e}const Sm={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class L_{constructor(e,u,i){this.dom=[],this.root=new Hr(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(i=u,u=Sm),typeof e=="object"&&(u=e,e=void 0),this.callback=e??null,this.options=u??Sm,this.elementCB=i??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Hr(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,u){const i=this.options.xmlMode?Gt.Tag:void 0,a=new ph(e,u,void 0,i);this.addNode(a),this.tagStack.push(a)}ontext(e){const{lastNode:u}=this;if(u&&u.type===Gt.Text)u.data+=e,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{const i=new rl(e);this.addNode(i),this.lastNode=i}}oncomment(e){if(this.lastNode&&this.lastNode.type===Gt.Comment){this.lastNode.data+=e;return}const u=new fh(e);this.addNode(u),this.lastNode=u}oncommentend(){this.lastNode=null}oncdatastart(){const e=new rl(""),u=new Sb([e]);this.addNode(u),e.parent=u,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,u){const i=new dh(e,u);this.addNode(i)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const u=this.tagStack[this.tagStack.length-1],i=u.children[u.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),u.children.push(e),i&&(e.prev=i,i.next=e),e.parent=u,this.lastNode=null}}const Cm=/["&'<>$\x80-\uFFFF]/g,k_=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),B_=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function Cb(t){let e="",u=0,i;for(;(i=Cm.exec(t))!==null;){const a=i.index,l=t.charCodeAt(a),c=k_.get(l);c!==void 0?(e+=t.substring(u,a)+c,u=a+1):(e+=`${t.substring(u,a)}&#x${B_(t,a).toString(16)};`,u=Cm.lastIndex+=+((l&64512)===55296))}return e+t.substr(u)}function Nb(t,e){return function(i){let a,l=0,c="";for(;a=t.exec(i);)l!==a.index&&(c+=i.substring(l,a.index)),c+=e.get(a[0].charCodeAt(0)),l=a.index+1;return c+i.substring(l)}}const M_=Nb(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),U_=Nb(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),P_=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),F_=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),H_=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function z_(t){return t.replace(/"/g,"&quot;")}function q_(t,e){var u;if(!t)return;const i=((u=e.encodeEntities)!==null&&u!==void 0?u:e.decodeEntities)===!1?z_:e.xmlMode||e.encodeEntities!=="utf8"?Cb:M_;return Object.keys(t).map(a=>{var l,c;const f=(l=t[a])!==null&&l!==void 0?l:"";return e.xmlMode==="foreign"&&(a=(c=F_.get(a))!==null&&c!==void 0?c:a),!e.emptyAttrs&&!e.xmlMode&&f===""?a:`${a}="${i(f)}"`}).join(" ")}const Nm=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function pc(t,e={}){const u="length"in t?t:[t];let i="";for(let a=0;a<u.length;a++)i+=j_(u[a],e);return i}function j_(t,e){switch(t.type){case oh:return pc(t.children,e);case I_:case D_:return Z_(t);case Ab:return Q_(t);case R_:return W_(t);case w_:case O_:case U0:return G_(t,e);case Tb:return X_(t,e)}}const Y_=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),V_=new Set(["svg","math"]);function G_(t,e){var u;e.xmlMode==="foreign"&&(t.name=(u=P_.get(t.name))!==null&&u!==void 0?u:t.name,t.parent&&Y_.has(t.parent.name)&&(e={...e,xmlMode:!1})),!e.xmlMode&&V_.has(t.name)&&(e={...e,xmlMode:"foreign"});let i=`<${t.name}`;const a=q_(t.attribs,e);return a&&(i+=` ${a}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&Nm.has(t.name))?(e.xmlMode||(i+=" "),i+="/>"):(i+=">",t.children.length>0&&(i+=pc(t.children,e)),(e.xmlMode||!Nm.has(t.name))&&(i+=`</${t.name}>`)),i}function Z_(t){return`<${t.data}>`}function X_(t,e){var u;let i=t.data||"";return((u=e.encodeEntities)!==null&&u!==void 0?u:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&H_.has(t.parent.name))&&(i=e.xmlMode||e.encodeEntities!=="utf8"?Cb(i):U_(i)),i}function W_(t){return`<![CDATA[${t.children[0].data}]]>`}function Q_(t){return`<!--${t.data}-->`}function Db(t,e){return pc(t,e)}function K_(t,e){return Ou(t)?t.children.map(u=>Db(u,e)).join(""):""}function Uo(t){return Array.isArray(t)?t.map(Uo).join(""):ct(t)?t.name==="br"?`
`:Uo(t.children):dc(t)?Uo(t.children):ri(t)?t.data:""}function Ba(t){return Array.isArray(t)?t.map(Ba).join(""):Ou(t)&&!hc(t)?Ba(t.children):ri(t)?t.data:""}function zo(t){return Array.isArray(t)?t.map(zo).join(""):Ou(t)&&(t.type===Gt.Tag||dc(t))?zo(t.children):ri(t)?t.data:""}function mc(t){return Ou(t)?t.children:[]}function wb(t){return t.parent||null}function Ob(t){const e=wb(t);if(e!=null)return mc(e);const u=[t];let{prev:i,next:a}=t;for(;i!=null;)u.unshift(i),{prev:i}=i;for(;a!=null;)u.push(a),{next:a}=a;return u}function $_(t,e){var u;return(u=t.attribs)===null||u===void 0?void 0:u[e]}function J_(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function ey(t){return t.name}function mh(t){let{next:e}=t;for(;e!==null&&!ct(e);)({next:e}=e);return e}function gh(t){let{prev:e}=t;for(;e!==null&&!ct(e);)({prev:e}=e);return e}function Yr(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){const e=t.parent.children,u=e.lastIndexOf(t);u>=0&&e.splice(u,1)}t.next=null,t.prev=null,t.parent=null}function ty(t,e){const u=e.prev=t.prev;u&&(u.next=e);const i=e.next=t.next;i&&(i.prev=e);const a=e.parent=t.parent;if(a){const l=a.children;l[l.lastIndexOf(t)]=e,t.parent=null}}function uy(t,e){if(Yr(e),e.next=null,e.parent=t,t.children.push(e)>1){const u=t.children[t.children.length-2];u.next=e,e.prev=u}else e.prev=null}function ny(t,e){Yr(e);const{parent:u}=t,i=t.next;if(e.next=i,e.prev=t,t.next=e,e.parent=u,i){if(i.prev=e,u){const a=u.children;a.splice(a.lastIndexOf(i),0,e)}}else u&&u.children.push(e)}function iy(t,e){if(Yr(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){const u=t.children[1];u.prev=e,e.next=u}else e.next=null}function ry(t,e){Yr(e);const{parent:u}=t;if(u){const i=u.children;i.splice(i.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=u,e.prev=t.prev,e.next=t,t.prev=e}function bl(t,e,u=!0,i=1/0){return bh(t,Array.isArray(e)?e:[e],u,i)}function bh(t,e,u,i){const a=[],l=[Array.isArray(e)?e:[e]],c=[0];for(;;){if(c[0]>=l[0].length){if(c.length===1)return a;l.shift(),c.shift();continue}const f=l[0][c[0]++];if(t(f)&&(a.push(f),--i<=0))return a;u&&Ou(f)&&f.children.length>0&&(c.unshift(0),l.unshift(f.children))}}function ay(t,e){return e.find(t)}function vh(t,e,u=!0){const i=Array.isArray(e)?e:[e];for(let a=0;a<i.length;a++){const l=i[a];if(ct(l)&&t(l))return l;if(u&&Ou(l)&&l.children.length>0){const c=vh(t,l.children,!0);if(c)return c}}return null}function Rb(t,e){return(Array.isArray(e)?e:[e]).some(u=>ct(u)&&t(u)||Ou(u)&&Rb(t,u.children))}function sy(t,e){const u=[],i=[Array.isArray(e)?e:[e]],a=[0];for(;;){if(a[0]>=i[0].length){if(i.length===1)return u;i.shift(),a.shift();continue}const l=i[0][a[0]++];ct(l)&&t(l)&&u.push(l),Ou(l)&&l.children.length>0&&(a.unshift(0),i.unshift(l.children))}}const qo={tag_name(t){return typeof t=="function"?e=>ct(e)&&t(e.name):t==="*"?ct:e=>ct(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>ri(e)&&t(e.data):e=>ri(e)&&e.data===t}};function Eh(t,e){return typeof e=="function"?u=>ct(u)&&e(u.attribs[t]):u=>ct(u)&&u.attribs[t]===e}function ly(t,e){return u=>t(u)||e(u)}function Ib(t){const e=Object.keys(t).map(u=>{const i=t[u];return Object.prototype.hasOwnProperty.call(qo,u)?qo[u](i):Eh(u,i)});return e.length===0?null:e.reduce(ly)}function oy(t,e){const u=Ib(t);return u?u(e):!0}function cy(t,e,u,i=1/0){const a=Ib(t);return a?bl(a,e,u,i):[]}function fy(t,e,u=!0){return Array.isArray(e)||(e=[e]),vh(Eh("id",t),e,u)}function qa(t,e,u=!0,i=1/0){return bl(qo.tag_name(t),e,u,i)}function dy(t,e,u=!0,i=1/0){return bl(Eh("class",t),e,u,i)}function hy(t,e,u=!0,i=1/0){return bl(qo.tag_type(t),e,u,i)}function py(t){let e=t.length;for(;--e>=0;){const u=t[e];if(e>0&&t.lastIndexOf(u,e-1)>=0){t.splice(e,1);continue}for(let i=u.parent;i;i=i.parent)if(t.includes(i)){t.splice(e,1);break}}return t}var Mn;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(Mn||(Mn={}));function Lb(t,e){const u=[],i=[];if(t===e)return 0;let a=Ou(t)?t:t.parent;for(;a;)u.unshift(a),a=a.parent;for(a=Ou(e)?e:e.parent;a;)i.unshift(a),a=a.parent;const l=Math.min(u.length,i.length);let c=0;for(;c<l&&u[c]===i[c];)c++;if(c===0)return Mn.DISCONNECTED;const f=u[c-1],h=f.children,p=u[c],E=i[c];return h.indexOf(p)>h.indexOf(E)?f===e?Mn.FOLLOWING|Mn.CONTAINED_BY:Mn.FOLLOWING:f===t?Mn.PRECEDING|Mn.CONTAINS:Mn.PRECEDING}function ja(t){return t=t.filter((e,u,i)=>!i.includes(e,u+1)),t.sort((e,u)=>{const i=Lb(e,u);return i&Mn.PRECEDING?-1:i&Mn.FOLLOWING?1:0}),t}function my(t){const e=jo(_y,t);return e?e.name==="feed"?gy(e):by(e):null}function gy(t){var e;const u=t.children,i={type:"atom",items:qa("entry",u).map(c=>{var f;const{children:h}=c,p={media:kb(h)};mn(p,"id","id",h),mn(p,"title","title",h);const E=(f=jo("link",h))===null||f===void 0?void 0:f.attribs.href;E&&(p.link=E);const _=ar("summary",h)||ar("content",h);_&&(p.description=_);const x=ar("updated",h);return x&&(p.pubDate=new Date(x)),p})};mn(i,"id","id",u),mn(i,"title","title",u);const a=(e=jo("link",u))===null||e===void 0?void 0:e.attribs.href;a&&(i.link=a),mn(i,"description","subtitle",u);const l=ar("updated",u);return l&&(i.updated=new Date(l)),mn(i,"author","email",u,!0),i}function by(t){var e,u;const i=(u=(e=jo("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&u!==void 0?u:[],a={type:t.name.substr(0,3),id:"",items:qa("item",t.children).map(c=>{const{children:f}=c,h={media:kb(f)};mn(h,"id","guid",f),mn(h,"title","title",f),mn(h,"link","link",f),mn(h,"description","description",f);const p=ar("pubDate",f)||ar("dc:date",f);return p&&(h.pubDate=new Date(p)),h})};mn(a,"title","title",i),mn(a,"link","link",i),mn(a,"description","description",i);const l=ar("lastBuildDate",i);return l&&(a.updated=new Date(l)),mn(a,"author","managingEditor",i,!0),a}const vy=["url","type","lang"],Ey=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function kb(t){return qa("media:content",t).map(e=>{const{attribs:u}=e,i={medium:u.medium,isDefault:!!u.isDefault};for(const a of vy)u[a]&&(i[a]=u[a]);for(const a of Ey)u[a]&&(i[a]=parseInt(u[a],10));return u.expression&&(i.expression=u.expression),i})}function jo(t,e){return qa(t,e,!0,1)[0]}function ar(t,e,u=!1){return Ba(qa(t,e,u,1)).trim()}function mn(t,e,u,i,a=!1){const l=ar(u,i,a);l&&(t[e]=l)}function _y(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}const gc=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return Mn},append:ny,appendChild:uy,compareDocumentPosition:Lb,existsOne:Rb,filter:bl,find:bh,findAll:sy,findOne:vh,findOneChild:ay,getAttributeValue:$_,getChildren:mc,getElementById:fy,getElements:cy,getElementsByClassName:dy,getElementsByTagName:qa,getElementsByTagType:hy,getFeed:my,getInnerHTML:K_,getName:ey,getOuterHTML:Db,getParent:wb,getSiblings:Ob,getText:Uo,hasAttrib:J_,hasChildren:Ou,innerText:zo,isCDATA:dc,isComment:hc,isDocument:mr,isTag:ct,isText:ri,nextElementSibling:mh,prepend:ry,prependChild:iy,prevElementSibling:gh,removeElement:Yr,removeSubsets:py,replaceElement:ty,testElement:oy,textContent:Ba,uniqueSort:ja},Symbol.toStringTag,{value:"Module"})),yy={_useHtmlParser2:!1};function F0(t,e){if(!t)return e??yy;const u={_useHtmlParser2:!!t.xmlMode,...e,...t};return t.xml?(u._useHtmlParser2=!0,u.xmlMode=!0,t.xml!==!0&&Object.assign(u,t.xml)):t.xmlMode&&(u._useHtmlParser2=!0),u}function Bb(t,e,u){return t?t(e??t._root.children,null,void 0,u).toString():""}function Ty(t,e){return typeof t=="object"&&t!=null&&!("length"in t)&&!("type"in t)}function Ay(t,e){const u=Ty(t)?(e=t,void 0):t,i={...this===null||this===void 0?void 0:this._options,...F0(e)};return Bb(this,u,i)}function xy(t){const e={...this._options,xmlMode:!0};return Bb(this,t,e)}function sl(t){const e=t??(this?this.root():[]);let u="";for(let i=0;i<e.length;i++)u+=Ba(e[i]);return u}function Sy(t,e,u=typeof e=="boolean"?e:!1){if(!t||typeof t!="string")return null;typeof e=="boolean"&&(u=e);const i=this.load(t,this._options,!1);return u||i("script").remove(),[...i.root()[0].children]}function Cy(){return this(this._root)}function Mb(t,e){if(e===t)return!1;let u=e;for(;u&&u!==u.parent;)if(u=u.parent,u===t)return!0;return!1}function Ny(t){return this.root().extract(t)}function Dy(t,e){if(!Dm(t)||!Dm(e))return;let u=t.length;const i=+e.length;for(let a=0;a<i;a++)t[u++]=e[a];return t.length=u,t}function Dm(t){if(Array.isArray(t))return!0;if(typeof t!="object"||t===null||!("length"in t)||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}const wy=Object.freeze(Object.defineProperty({__proto__:null,contains:Mb,extract:Ny,html:Ay,merge:Dy,parseHTML:Sy,root:Cy,text:sl,xml:xy},Symbol.toStringTag,{value:"Module"}));function Di(t){return t.cheerio!=null}function Oy(t){return t.replace(/[._-](\w|$)/g,(e,u)=>u.toUpperCase())}function Ry(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function vu(t,e){const u=t.length;for(let i=0;i<u;i++)e(t[i],i);return t}var Pr;(function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"})(Pr||(Pr={}));function H0(t){const e=t.indexOf("<");if(e===-1||e>t.length-3)return!1;const u=t.charCodeAt(e+1);return(u>=Pr.LowerA&&u<=Pr.LowerZ||u>=Pr.UpperA&&u<=Pr.UpperZ||u===Pr.Exclamation)&&t.includes(">",e+2)}const Iy=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Ly=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var Bd;const ky=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),wm=(Bd=String.fromCodePoint)!==null&&Bd!==void 0?Bd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function By(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=ky.get(t))!==null&&e!==void 0?e:t}var Gu;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Gu||(Gu={}));const My=32;var sr;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(sr||(sr={}));function z0(t){return t>=Gu.ZERO&&t<=Gu.NINE}function Uy(t){return t>=Gu.UPPER_A&&t<=Gu.UPPER_F||t>=Gu.LOWER_A&&t<=Gu.LOWER_F}function Py(t){return t>=Gu.UPPER_A&&t<=Gu.UPPER_Z||t>=Gu.LOWER_A&&t<=Gu.LOWER_Z||z0(t)}function Fy(t){return t===Gu.EQUALS||Py(t)}var Yu;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Yu||(Yu={}));var ni;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(ni||(ni={}));let Hy=class{constructor(e,u,i){this.decodeTree=e,this.emitCodePoint=u,this.errors=i,this.state=Yu.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ni.Strict}startEntity(e){this.decodeMode=e,this.state=Yu.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,u){switch(this.state){case Yu.EntityStart:return e.charCodeAt(u)===Gu.NUM?(this.state=Yu.NumericStart,this.consumed+=1,this.stateNumericStart(e,u+1)):(this.state=Yu.NamedEntity,this.stateNamedEntity(e,u));case Yu.NumericStart:return this.stateNumericStart(e,u);case Yu.NumericDecimal:return this.stateNumericDecimal(e,u);case Yu.NumericHex:return this.stateNumericHex(e,u);case Yu.NamedEntity:return this.stateNamedEntity(e,u)}}stateNumericStart(e,u){return u>=e.length?-1:(e.charCodeAt(u)|My)===Gu.LOWER_X?(this.state=Yu.NumericHex,this.consumed+=1,this.stateNumericHex(e,u+1)):(this.state=Yu.NumericDecimal,this.stateNumericDecimal(e,u))}addToNumericResult(e,u,i,a){if(u!==i){const l=i-u;this.result=this.result*Math.pow(a,l)+Number.parseInt(e.substr(u,l),a),this.consumed+=l}}stateNumericHex(e,u){const i=u;for(;u<e.length;){const a=e.charCodeAt(u);if(z0(a)||Uy(a))u+=1;else return this.addToNumericResult(e,i,u,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,i,u,16),-1}stateNumericDecimal(e,u){const i=u;for(;u<e.length;){const a=e.charCodeAt(u);if(z0(a))u+=1;else return this.addToNumericResult(e,i,u,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,i,u,10),-1}emitNumericEntity(e,u){var i;if(this.consumed<=u)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Gu.SEMI)this.consumed+=1;else if(this.decodeMode===ni.Strict)return 0;return this.emitCodePoint(By(this.result),this.consumed),this.errors&&(e!==Gu.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,u){const{decodeTree:i}=this;let a=i[this.treeIndex],l=(a&sr.VALUE_LENGTH)>>14;for(;u<e.length;u++,this.excess++){const c=e.charCodeAt(u);if(this.treeIndex=zy(i,a,this.treeIndex+Math.max(1,l),c),this.treeIndex<0)return this.result===0||this.decodeMode===ni.Attribute&&(l===0||Fy(c))?0:this.emitNotTerminatedNamedEntity();if(a=i[this.treeIndex],l=(a&sr.VALUE_LENGTH)>>14,l!==0){if(c===Gu.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==ni.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:u,decodeTree:i}=this,a=(i[u]&sr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(u,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,u,i){const{decodeTree:a}=this;return this.emitCodePoint(u===1?a[e]&~sr.VALUE_LENGTH:a[e+1],i),u===3&&this.emitCodePoint(a[e+2],i),i}end(){var e;switch(this.state){case Yu.NamedEntity:return this.result!==0&&(this.decodeMode!==ni.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Yu.NumericDecimal:return this.emitNumericEntity(0,2);case Yu.NumericHex:return this.emitNumericEntity(0,3);case Yu.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Yu.EntityStart:return 0}}};function zy(t,e,u,i){const a=(e&sr.BRANCH_LENGTH)>>7,l=e&sr.JUMP_TABLE;if(a===0)return l!==0&&i===l?u:-1;if(l){const h=i-l;return h<0||h>=a?-1:t[u+h]-1}let c=u,f=c+a-1;for(;c<=f;){const h=c+f>>>1,p=t[h];if(p<i)c=h+1;else if(p>i)f=h-1;else return t[h+a]}return-1}var st;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(st||(st={}));var Be;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Be||(Be={}));function Si(t){return t===st.Space||t===st.NewLine||t===st.Tab||t===st.FormFeed||t===st.CarriageReturn}function Oo(t){return t===st.Slash||t===st.Gt||Si(t)}function qy(t){return t>=st.LowerA&&t<=st.LowerZ||t>=st.UpperA&&t<=st.UpperZ}var ii;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(ii||(ii={}));const Bu={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};let jy=class{constructor({xmlMode:e=!1,decodeEntities:u=!0},i){this.cbs=i,this.state=Be.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Be.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=u,this.entityDecoder=new Hy(e?Ly:Iy,(a,l)=>this.emitCodePoint(a,l))}reset(){this.state=Be.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Be.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===st.Lt||!this.decodeEntities&&this.fastForwardTo(st.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Be.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===st.Amp&&this.startEntity()}stateSpecialStartSequence(e){const u=this.sequenceIndex===this.currentSequence.length;if(!(u?Oo(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!u){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Be.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===st.Gt||Si(e)){const u=this.index-this.currentSequence.length;if(this.sectionStart<u){const i=this.index;this.index=u,this.cbs.ontext(this.sectionStart,u),this.index=i}this.isSpecial=!1,this.sectionStart=u+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Bu.TitleEnd?this.decodeEntities&&e===st.Amp&&this.startEntity():this.fastForwardTo(st.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===st.Lt)}stateCDATASequence(e){e===Bu.Cdata[this.sequenceIndex]?++this.sequenceIndex===Bu.Cdata.length&&(this.state=Be.InCommentLike,this.currentSequence=Bu.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Be.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Bu.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Be.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Oo(e):qy(e)}startSpecial(e,u){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=u,this.state=Be.SpecialStartSequence}stateBeforeTagName(e){if(e===st.ExclamationMark)this.state=Be.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===st.Questionmark)this.state=Be.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const u=e|32;this.sectionStart=this.index,this.xmlMode?this.state=Be.InTagName:u===Bu.ScriptEnd[2]?this.state=Be.BeforeSpecialS:u===Bu.TitleEnd[2]||u===Bu.XmpEnd[2]?this.state=Be.BeforeSpecialT:this.state=Be.InTagName}else e===st.Slash?this.state=Be.BeforeClosingTagName:(this.state=Be.Text,this.stateText(e))}stateInTagName(e){Oo(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Be.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){Si(e)||(e===st.Gt?this.state=Be.Text:(this.state=this.isTagStartChar(e)?Be.InClosingTagName:Be.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===st.Gt||Si(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Be.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===st.Gt||this.fastForwardTo(st.Gt))&&(this.state=Be.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===st.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Be.InSpecialTag,this.sequenceIndex=0):this.state=Be.Text,this.sectionStart=this.index+1):e===st.Slash?this.state=Be.InSelfClosingTag:Si(e)||(this.state=Be.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===st.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Be.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Si(e)||(this.state=Be.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===st.Eq||Oo(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Be.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===st.Eq?this.state=Be.BeforeAttributeValue:e===st.Slash||e===st.Gt?(this.cbs.onattribend(ii.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Be.BeforeAttributeName,this.stateBeforeAttributeName(e)):Si(e)||(this.cbs.onattribend(ii.NoValue,this.sectionStart),this.state=Be.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===st.DoubleQuote?(this.state=Be.InAttributeValueDq,this.sectionStart=this.index+1):e===st.SingleQuote?(this.state=Be.InAttributeValueSq,this.sectionStart=this.index+1):Si(e)||(this.sectionStart=this.index,this.state=Be.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,u){e===u||!this.decodeEntities&&this.fastForwardTo(u)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u===st.DoubleQuote?ii.Double:ii.Single,this.index+1),this.state=Be.BeforeAttributeName):this.decodeEntities&&e===st.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,st.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,st.SingleQuote)}stateInAttributeValueNoQuotes(e){Si(e)||e===st.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ii.Unquoted,this.index),this.state=Be.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===st.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===st.OpeningSquareBracket?(this.state=Be.CDATASequence,this.sequenceIndex=0):this.state=e===st.Dash?Be.BeforeComment:Be.InDeclaration}stateInDeclaration(e){(e===st.Gt||this.fastForwardTo(st.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Be.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===st.Gt||this.fastForwardTo(st.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Be.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===st.Dash?(this.state=Be.InCommentLike,this.currentSequence=Bu.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Be.InDeclaration}stateInSpecialComment(e){(e===st.Gt||this.fastForwardTo(st.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Be.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const u=e|32;u===Bu.ScriptEnd[3]?this.startSpecial(Bu.ScriptEnd,4):u===Bu.StyleEnd[3]?this.startSpecial(Bu.StyleEnd,4):(this.state=Be.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){switch(e|32){case Bu.TitleEnd[3]:{this.startSpecial(Bu.TitleEnd,4);break}case Bu.TextareaEnd[3]:{this.startSpecial(Bu.TextareaEnd,4);break}case Bu.XmpEnd[3]:{this.startSpecial(Bu.XmpEnd,4);break}default:this.state=Be.InTagName,this.stateInTagName(e)}}startEntity(){this.baseState=this.state,this.state=Be.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?ni.Strict:this.baseState===Be.Text||this.baseState===Be.InSpecialTag?ni.Legacy:ni.Attribute)}stateInEntity(){const e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Be.Text||this.state===Be.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Be.InAttributeValueDq||this.state===Be.InAttributeValueSq||this.state===Be.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Be.Text:{this.stateText(e);break}case Be.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case Be.InSpecialTag:{this.stateInSpecialTag(e);break}case Be.CDATASequence:{this.stateCDATASequence(e);break}case Be.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case Be.InAttributeName:{this.stateInAttributeName(e);break}case Be.InCommentLike:{this.stateInCommentLike(e);break}case Be.InSpecialComment:{this.stateInSpecialComment(e);break}case Be.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case Be.InTagName:{this.stateInTagName(e);break}case Be.InClosingTagName:{this.stateInClosingTagName(e);break}case Be.BeforeTagName:{this.stateBeforeTagName(e);break}case Be.AfterAttributeName:{this.stateAfterAttributeName(e);break}case Be.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case Be.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case Be.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case Be.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case Be.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case Be.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case Be.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case Be.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case Be.InDeclaration:{this.stateInDeclaration(e);break}case Be.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case Be.BeforeComment:{this.stateBeforeComment(e);break}case Be.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case Be.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Be.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===Be.InCommentLike?this.currentSequence===Bu.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Be.InTagName||this.state===Be.BeforeAttributeName||this.state===Be.BeforeAttributeValue||this.state===Be.AfterAttributeName||this.state===Be.InAttributeName||this.state===Be.InAttributeValueSq||this.state===Be.InAttributeValueDq||this.state===Be.InAttributeValueNq||this.state===Be.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,u){this.baseState!==Be.Text&&this.baseState!==Be.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+u,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+u,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}};const xa=new Set(["input","option","optgroup","select","button","datalist","textarea"]),nu=new Set(["p"]),Om=new Set(["thead","tbody"]),Rm=new Set(["dd","dt"]),Im=new Set(["rt","rp"]),Yy=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",nu],["h1",nu],["h2",nu],["h3",nu],["h4",nu],["h5",nu],["h6",nu],["select",xa],["input",xa],["output",xa],["button",xa],["datalist",xa],["textarea",xa],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Rm],["dt",Rm],["address",nu],["article",nu],["aside",nu],["blockquote",nu],["details",nu],["div",nu],["dl",nu],["fieldset",nu],["figcaption",nu],["figure",nu],["footer",nu],["form",nu],["header",nu],["hr",nu],["main",nu],["nav",nu],["ol",nu],["pre",nu],["section",nu],["table",nu],["ul",nu],["rt",Im],["rp",Im],["tbody",Om],["tfoot",Om]]),Vy=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Lm=new Set(["math","svg"]),km=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Gy=/\s|\//;let Zy=class{constructor(e,u={}){var i,a,l,c,f,h;this.options=u,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(i=u.lowerCaseTags)!==null&&i!==void 0?i:this.htmlMode,this.lowerCaseAttributeNames=(a=u.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(l=u.recognizeSelfClosing)!==null&&l!==void 0?l:!this.htmlMode,this.tokenizer=new((c=u.Tokenizer)!==null&&c!==void 0?c:jy)(this.options,this),this.foreignContext=[!this.htmlMode],(h=(f=this.cbs).onparserinit)===null||h===void 0||h.call(f,this)}ontext(e,u){var i,a;const l=this.getSlice(e,u);this.endIndex=u-1,(a=(i=this.cbs).ontext)===null||a===void 0||a.call(i,l),this.startIndex=u}ontextentity(e,u){var i,a;this.endIndex=u-1,(a=(i=this.cbs).ontext)===null||a===void 0||a.call(i,wm(e)),this.startIndex=u}isVoidElement(e){return this.htmlMode&&Vy.has(e)}onopentagname(e,u){this.endIndex=u;let i=this.getSlice(e,u);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)}emitOpenTag(e){var u,i,a,l;this.openTagStart=this.startIndex,this.tagname=e;const c=this.htmlMode&&Yy.get(e);if(c)for(;this.stack.length>0&&c.has(this.stack[0]);){const f=this.stack.shift();(i=(u=this.cbs).onclosetag)===null||i===void 0||i.call(u,f,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(Lm.has(e)?this.foreignContext.unshift(!0):km.has(e)&&this.foreignContext.unshift(!1))),(l=(a=this.cbs).onopentagname)===null||l===void 0||l.call(a,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var u,i;this.startIndex=this.openTagStart,this.attribs&&((i=(u=this.cbs).onopentag)===null||i===void 0||i.call(u,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,u){var i,a,l,c,f,h,p,E;this.endIndex=u;let _=this.getSlice(e,u);if(this.lowerCaseTagNames&&(_=_.toLowerCase()),this.htmlMode&&(Lm.has(_)||km.has(_))&&this.foreignContext.shift(),this.isVoidElement(_))this.htmlMode&&_==="br"&&((c=(l=this.cbs).onopentagname)===null||c===void 0||c.call(l,"br"),(h=(f=this.cbs).onopentag)===null||h===void 0||h.call(f,"br",{},!0),(E=(p=this.cbs).onclosetag)===null||E===void 0||E.call(p,"br",!1));else{const x=this.stack.indexOf(_);if(x!==-1)for(let S=0;S<=x;S++){const B=this.stack.shift();(a=(i=this.cbs).onclosetag)===null||a===void 0||a.call(i,B,S!==x)}else this.htmlMode&&_==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=u+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var u,i;const a=this.tagname;this.endOpenTag(e),this.stack[0]===a&&((i=(u=this.cbs).onclosetag)===null||i===void 0||i.call(u,a,!e),this.stack.shift())}onattribname(e,u){this.startIndex=e;const i=this.getSlice(e,u);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i}onattribdata(e,u){this.attribvalue+=this.getSlice(e,u)}onattribentity(e){this.attribvalue+=wm(e)}onattribend(e,u){var i,a;this.endIndex=u,(a=(i=this.cbs).onattribute)===null||a===void 0||a.call(i,this.attribname,this.attribvalue,e===ii.Double?'"':e===ii.Single?"'":e===ii.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const u=e.search(Gy);let i=u<0?e:e.substr(0,u);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i}ondeclaration(e,u){this.endIndex=u;const i=this.getSlice(e,u);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(i);this.cbs.onprocessinginstruction(`!${a}`,`!${i}`)}this.startIndex=u+1}onprocessinginstruction(e,u){this.endIndex=u;const i=this.getSlice(e,u);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(i);this.cbs.onprocessinginstruction(`?${a}`,`?${i}`)}this.startIndex=u+1}oncomment(e,u,i){var a,l,c,f;this.endIndex=u,(l=(a=this.cbs).oncomment)===null||l===void 0||l.call(a,this.getSlice(e,u-i)),(f=(c=this.cbs).oncommentend)===null||f===void 0||f.call(c),this.startIndex=u+1}oncdata(e,u,i){var a,l,c,f,h,p,E,_,x,S;this.endIndex=u;const B=this.getSlice(e,u-i);!this.htmlMode||this.options.recognizeCDATA?((l=(a=this.cbs).oncdatastart)===null||l===void 0||l.call(a),(f=(c=this.cbs).ontext)===null||f===void 0||f.call(c,B),(p=(h=this.cbs).oncdataend)===null||p===void 0||p.call(h)):((_=(E=this.cbs).oncomment)===null||_===void 0||_.call(E,`[CDATA[${B}]]`),(S=(x=this.cbs).oncommentend)===null||S===void 0||S.call(x)),this.startIndex=u+1}onend(){var e,u;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let i=0;i<this.stack.length;i++)this.cbs.onclosetag(this.stack[i],!0)}(u=(e=this.cbs).onend)===null||u===void 0||u.call(e)}reset(){var e,u,i,a;(u=(e=this.cbs).onreset)===null||u===void 0||u.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(i=this.cbs).onparserinit)===null||a===void 0||a.call(i,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,u){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let i=this.buffers[0].slice(e-this.bufferOffset,u-this.bufferOffset);for(;u-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,u-this.bufferOffset);return i}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var u,i;if(this.ended){(i=(u=this.cbs).onerror)===null||i===void 0||i.call(u,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var u,i;if(this.ended){(i=(u=this.cbs).onerror)===null||i===void 0||i.call(u,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}};function Xy(t,e){const u=new L_(void 0,e);return new Zy(u,e).end(t),u.root}var Md;const ll=(Md=Object.hasOwn)!==null&&Md!==void 0?Md:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),ol=/\s+/,q0="data-",_h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Wy=/^{[^]*}$|^\[[^]*]$/;function Yo(t,e,u){var i;if(!(!t||!ct(t))){if((i=t.attribs)!==null&&i!==void 0||(t.attribs={}),!e)return t.attribs;if(ll(t.attribs,e))return!u&&_h.test(e)?e:t.attribs[e];if(t.name==="option"&&e==="value")return sl(t.children);if(t.name==="input"&&(t.attribs.type==="radio"||t.attribs.type==="checkbox")&&e==="value")return"on"}}function La(t,e,u){u===null?Pb(t,e):t.attribs[e]=`${u}`}function Qy(t,e){if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t!="string")throw new Error("Bad combination of arguments.");return vu(this,(u,i)=>{ct(u)&&La(u,t,e.call(u,i,u.attribs[t]))})}return vu(this,u=>{if(ct(u))if(typeof t=="object")for(const i of Object.keys(t)){const a=t[i];La(u,i,a)}else La(u,t,e)})}return arguments.length>1?this:Yo(this[0],t,this.options.xmlMode)}function Bm(t,e,u){return e in t?t[e]:!u&&_h.test(e)?Yo(t,e,!1)!==void 0:Yo(t,e,u)}function Ud(t,e,u,i){e in t?t[e]=u:La(t,e,!i&&_h.test(e)?u?"":null:`${u}`)}function Ky(t,e){var u;if(typeof t=="string"&&e===void 0){const i=this[0];if(!i)return;switch(t){case"style":{const a=this.css(),l=Object.keys(a);for(let c=0;c<l.length;c++)a[c]=l[c];return a.length=l.length,a}case"tagName":case"nodeName":return ct(i)?i.name.toUpperCase():void 0;case"href":case"src":{if(!ct(i))return;const a=(u=i.attribs)===null||u===void 0?void 0:u[t];return typeof URL<"u"&&(t==="href"&&(i.tagName==="a"||i.tagName==="link")||t==="src"&&(i.tagName==="img"||i.tagName==="iframe"||i.tagName==="audio"||i.tagName==="video"||i.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return zo(i);case"textContent":return Ba(i);case"outerHTML":return i.type===oh?this.html():this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return ct(i)?Bm(i,t,this.options.xmlMode):void 0}}if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t=="object")throw new TypeError("Bad combination of arguments.");return vu(this,(i,a)=>{ct(i)&&Ud(i,t,e.call(i,a,Bm(i,t,this.options.xmlMode)),this.options.xmlMode)})}return vu(this,i=>{if(ct(i))if(typeof t=="object")for(const a of Object.keys(t)){const l=t[a];Ud(i,a,l,this.options.xmlMode)}else Ud(i,t,e,this.options.xmlMode)})}}function Mm(t,e,u){var i;(i=t.data)!==null&&i!==void 0||(t.data={}),typeof e=="object"?Object.assign(t.data,e):typeof e=="string"&&u!==void 0&&(t.data[e]=u)}function $y(t){for(const e of Object.keys(t.attribs)){if(!e.startsWith(q0))continue;const u=Oy(e.slice(q0.length));ll(t.data,u)||(t.data[u]=Ub(t.attribs[e]))}return t.data}function Jy(t,e){const u=q0+Ry(e),i=t.data;if(ll(i,e))return i[e];if(ll(t.attribs,u))return i[e]=Ub(t.attribs[u])}function Ub(t){if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;const e=Number(t);if(t===String(e))return e;if(Wy.test(t))try{return JSON.parse(t)}catch{}return t}function eT(t,e){var u;const i=this[0];if(!i||!ct(i))return;const a=i;return(u=a.data)!==null&&u!==void 0||(a.data={}),t==null?$y(a):typeof t=="object"||e!==void 0?(vu(this,l=>{ct(l)&&(typeof t=="object"?Mm(l,t):Mm(l,t,e))}),this):Jy(a,t)}function tT(t){const e=arguments.length===0,u=this[0];if(!u||!ct(u))return e?void 0:this;switch(u.name){case"textarea":return this.text(t);case"select":{const i=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof t=="object")return this;this.find("option").removeAttr("selected");const a=typeof t=="object"?t:[t];for(const l of a)this.find(`option[value="${l}"]`).attr("selected","");return this}return this.attr("multiple")?i.toArray().map(a=>sl(a.children)):i.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function Pb(t,e){!t.attribs||!ll(t.attribs,e)||delete t.attribs[e]}function Vo(t){return t?t.trim().split(ol):[]}function uT(t){const e=Vo(t);for(const u of e)vu(this,i=>{ct(i)&&Pb(i,u)});return this}function nT(t){return this.toArray().some(e=>{const u=ct(e)&&e.attribs.class;let i=-1;if(u&&t.length>0)for(;(i=u.indexOf(t,i+1))>-1;){const a=i+t.length;if((i===0||ol.test(u[i-1]))&&(a===u.length||ol.test(u[a])))return!0}return!1})}function Fb(t){if(typeof t=="function")return vu(this,(i,a)=>{if(ct(i)){const l=i.attribs.class||"";Fb.call([i],t.call(i,a,l))}});if(!t||typeof t!="string")return this;const e=t.split(ol),u=this.length;for(let i=0;i<u;i++){const a=this[i];if(!ct(a))continue;const l=Yo(a,"class",!1);if(l){let c=` ${l} `;for(const f of e){const h=`${f} `;c.includes(` ${h}`)||(c+=h)}La(a,"class",c.trim())}else La(a,"class",e.join(" ").trim())}return this}function Hb(t){if(typeof t=="function")return vu(this,(a,l)=>{ct(a)&&Hb.call([a],t.call(a,l,a.attribs.class||""))});const e=Vo(t),u=e.length,i=arguments.length===0;return vu(this,a=>{if(ct(a))if(i)a.attribs.class="";else{const l=Vo(a.attribs.class);let c=!1;for(let f=0;f<u;f++){const h=l.indexOf(e[f]);h!==-1&&(l.splice(h,1),c=!0,f--)}c&&(a.attribs.class=l.join(" "))}})}function zb(t,e){if(typeof t=="function")return vu(this,(c,f)=>{ct(c)&&zb.call([c],t.call(c,f,c.attribs.class||"",e),e)});if(!t||typeof t!="string")return this;const u=t.split(ol),i=u.length,a=typeof e=="boolean"?e?1:-1:0,l=this.length;for(let c=0;c<l;c++){const f=this[c];if(!ct(f))continue;const h=Vo(f.attribs.class);for(let p=0;p<i;p++){const E=h.indexOf(u[p]);a>=0&&E===-1?h.push(u[p]):a<=0&&E!==-1&&h.splice(E,1)}f.attribs.class=h.join(" ")}return this}const iT=Object.freeze(Object.defineProperty({__proto__:null,addClass:Fb,attr:Qy,data:eT,hasClass:nT,prop:Ky,removeAttr:uT,removeClass:Hb,toggleClass:zb,val:tT},Symbol.toStringTag,{value:"Module"}));var it;(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(it||(it={}));var Hu;(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(Hu||(Hu={}));const Um=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,rT=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,aT=new Map([[126,Hu.Element],[94,Hu.Start],[36,Hu.End],[42,Hu.Any],[33,Hu.Not],[124,Hu.Hyphen]]),sT=new Set(["has","not","matches","is","where","host","host-context"]);function Js(t){switch(t.type){case it.Adjacent:case it.Child:case it.Descendant:case it.Parent:case it.Sibling:case it.ColumnCombinator:return!0;default:return!1}}const lT=new Set(["contains","icontains"]);function oT(t,e,u){const i=parseInt(e,16)-65536;return i!==i||u?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)}function Vs(t){return t.replace(rT,oT)}function Pd(t){return t===39||t===34}function Pm(t){return t===32||t===9||t===10||t===12||t===13}function bc(t){const e=[],u=qb(e,`${t}`,0);if(u<t.length)throw new Error(`Unmatched selector: ${t.slice(u)}`);return e}function qb(t,e,u){let i=[];function a(x){const S=e.slice(u+x).match(Um);if(!S)throw new Error(`Expected name, found ${e.slice(u)}`);const[B]=S;return u+=x+B.length,Vs(B)}function l(x){for(u+=x;u<e.length&&Pm(e.charCodeAt(u));)u++}function c(){u+=1;const x=u;let S=1;for(;S>0&&u<e.length;u++)e.charCodeAt(u)===40&&!f(u)?S++:e.charCodeAt(u)===41&&!f(u)&&S--;if(S)throw new Error("Parenthesis not matched");return Vs(e.slice(x,u-1))}function f(x){let S=0;for(;e.charCodeAt(--x)===92;)S++;return(S&1)===1}function h(){if(i.length>0&&Js(i[i.length-1]))throw new Error("Did not expect successive traversals.")}function p(x){if(i.length>0&&i[i.length-1].type===it.Descendant){i[i.length-1].type=x;return}h(),i.push({type:x})}function E(x,S){i.push({type:it.Attribute,name:x,action:S,value:a(1),namespace:null,ignoreCase:"quirks"})}function _(){if(i.length&&i[i.length-1].type===it.Descendant&&i.pop(),i.length===0)throw new Error("Empty sub-selector");t.push(i)}if(l(0),e.length===u)return u;e:for(;u<e.length;){const x=e.charCodeAt(u);switch(x){case 32:case 9:case 10:case 12:case 13:{(i.length===0||i[0].type!==it.Descendant)&&(h(),i.push({type:it.Descendant})),l(1);break}case 62:{p(it.Child),l(1);break}case 60:{p(it.Parent),l(1);break}case 126:{p(it.Sibling),l(1);break}case 43:{p(it.Adjacent),l(1);break}case 46:{E("class",Hu.Element);break}case 35:{E("id",Hu.Equals);break}case 91:{l(1);let S,B=null;e.charCodeAt(u)===124?S=a(1):e.startsWith("*|",u)?(B="*",S=a(2)):(S=a(0),e.charCodeAt(u)===124&&e.charCodeAt(u+1)!==61&&(B=S,S=a(1))),l(0);let w=Hu.Exists;const y=aT.get(e.charCodeAt(u));if(y){if(w=y,e.charCodeAt(u+1)!==61)throw new Error("Expected `=`");l(2)}else e.charCodeAt(u)===61&&(w=Hu.Equals,l(1));let A="",N=null;if(w!=="exists"){if(Pd(e.charCodeAt(u))){const D=e.charCodeAt(u);let U=u+1;for(;U<e.length&&(e.charCodeAt(U)!==D||f(U));)U+=1;if(e.charCodeAt(U)!==D)throw new Error("Attribute value didn't end");A=Vs(e.slice(u+1,U)),u=U+1}else{const D=u;for(;u<e.length&&(!Pm(e.charCodeAt(u))&&e.charCodeAt(u)!==93||f(u));)u+=1;A=Vs(e.slice(D,u))}l(0);const V=e.charCodeAt(u)|32;V===115?(N=!1,l(1)):V===105&&(N=!0,l(1))}if(e.charCodeAt(u)!==93)throw new Error("Attribute selector didn't terminate");u+=1;const I={type:it.Attribute,name:S,action:w,value:A,namespace:B,ignoreCase:N};i.push(I);break}case 58:{if(e.charCodeAt(u+1)===58){i.push({type:it.PseudoElement,name:a(2).toLowerCase(),data:e.charCodeAt(u)===40?c():null});continue}const S=a(1).toLowerCase();let B=null;if(e.charCodeAt(u)===40)if(sT.has(S)){if(Pd(e.charCodeAt(u+1)))throw new Error(`Pseudo-selector ${S} cannot be quoted`);if(B=[],u=qb(B,e,u+1),e.charCodeAt(u)!==41)throw new Error(`Missing closing parenthesis in :${S} (${e})`);u+=1}else{if(B=c(),lT.has(S)){const w=B.charCodeAt(0);w===B.charCodeAt(B.length-1)&&Pd(w)&&(B=B.slice(1,-1))}B=Vs(B)}i.push({type:it.Pseudo,name:S,data:B});break}case 44:{_(),i=[],l(1);break}default:{if(e.startsWith("/*",u)){const w=e.indexOf("*/",u+2);if(w<0)throw new Error("Comment was not terminated");u=w+2,i.length===0&&l(0);break}let S=null,B;if(x===42)u+=1,B="*";else if(x===124){if(B="",e.charCodeAt(u+1)===124){p(it.ColumnCombinator),l(2);break}}else if(Um.test(e.slice(u)))B=a(0);else break e;e.charCodeAt(u)===124&&e.charCodeAt(u+1)!==124&&(S=B,e.charCodeAt(u+1)===42?(B="*",u+=2):B=a(1)),i.push(B==="*"?{type:it.Universal,namespace:S}:{type:it.Tag,name:B,namespace:S})}}}return _(),u}var Fd,Fm;function cT(){return Fm||(Fm=1,Fd={trueFunc:function(){return!0},falseFunc:function(){return!1}}),Fd}var Go=cT();const Ct=jr(Go),jb=new Map([[it.Universal,50],[it.Tag,30],[it.Attribute,1],[it.Pseudo,0]]);function yh(t){return!jb.has(t.type)}const fT=new Map([[Hu.Exists,10],[Hu.Equals,8],[Hu.Not,7],[Hu.Start,6],[Hu.End,6],[Hu.Any,5]]);function dT(t){const e=t.map(Yb);for(let u=1;u<t.length;u++){const i=e[u];if(!(i<0))for(let a=u-1;a>=0&&i<e[a];a--){const l=t[a+1];t[a+1]=t[a],t[a]=l,e[a+1]=e[a],e[a]=i}}}function Yb(t){var e,u;let i=(e=jb.get(t.type))!==null&&e!==void 0?e:-1;return t.type===it.Attribute?(i=(u=fT.get(t.action))!==null&&u!==void 0?u:4,t.action===Hu.Equals&&t.name==="id"&&(i=9),t.ignoreCase&&(i>>=1)):t.type===it.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?i=0:Array.isArray(t.data)?(i=Math.min(...t.data.map(a=>Math.min(...a.map(Yb)))),i<0&&(i=0)):i=2:i=3),i}const hT=/[-[\]{}()*+?.,\\^$|#\s]/g;function Hm(t){return t.replace(hT,"\\$&")}const pT=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function Mr(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&pT.has(t.name)}const mT={equals(t,e,u){const{adapter:i}=u,{name:a}=e;let{value:l}=e;return Mr(e,u)?(l=l.toLowerCase(),c=>{const f=i.getAttributeValue(c,a);return f!=null&&f.length===l.length&&f.toLowerCase()===l&&t(c)}):c=>i.getAttributeValue(c,a)===l&&t(c)},hyphen(t,e,u){const{adapter:i}=u,{name:a}=e;let{value:l}=e;const c=l.length;return Mr(e,u)?(l=l.toLowerCase(),function(h){const p=i.getAttributeValue(h,a);return p!=null&&(p.length===c||p.charAt(c)==="-")&&p.substr(0,c).toLowerCase()===l&&t(h)}):function(h){const p=i.getAttributeValue(h,a);return p!=null&&(p.length===c||p.charAt(c)==="-")&&p.substr(0,c)===l&&t(h)}},element(t,e,u){const{adapter:i}=u,{name:a,value:l}=e;if(/\s/.test(l))return Ct.falseFunc;const c=new RegExp(`(?:^|\\s)${Hm(l)}(?:$|\\s)`,Mr(e,u)?"i":"");return function(h){const p=i.getAttributeValue(h,a);return p!=null&&p.length>=l.length&&c.test(p)&&t(h)}},exists(t,{name:e},{adapter:u}){return i=>u.hasAttrib(i,e)&&t(i)},start(t,e,u){const{adapter:i}=u,{name:a}=e;let{value:l}=e;const c=l.length;return c===0?Ct.falseFunc:Mr(e,u)?(l=l.toLowerCase(),f=>{const h=i.getAttributeValue(f,a);return h!=null&&h.length>=c&&h.substr(0,c).toLowerCase()===l&&t(f)}):f=>{var h;return!!(!((h=i.getAttributeValue(f,a))===null||h===void 0)&&h.startsWith(l))&&t(f)}},end(t,e,u){const{adapter:i}=u,{name:a}=e;let{value:l}=e;const c=-l.length;return c===0?Ct.falseFunc:Mr(e,u)?(l=l.toLowerCase(),f=>{var h;return((h=i.getAttributeValue(f,a))===null||h===void 0?void 0:h.substr(c).toLowerCase())===l&&t(f)}):f=>{var h;return!!(!((h=i.getAttributeValue(f,a))===null||h===void 0)&&h.endsWith(l))&&t(f)}},any(t,e,u){const{adapter:i}=u,{name:a,value:l}=e;if(l==="")return Ct.falseFunc;if(Mr(e,u)){const c=new RegExp(Hm(l),"i");return function(h){const p=i.getAttributeValue(h,a);return p!=null&&p.length>=l.length&&c.test(p)&&t(h)}}return c=>{var f;return!!(!((f=i.getAttributeValue(c,a))===null||f===void 0)&&f.includes(l))&&t(c)}},not(t,e,u){const{adapter:i}=u,{name:a}=e;let{value:l}=e;return l===""?c=>!!i.getAttributeValue(c,a)&&t(c):Mr(e,u)?(l=l.toLowerCase(),c=>{const f=i.getAttributeValue(c,a);return(f==null||f.length!==l.length||f.toLowerCase()!==l)&&t(c)}):c=>i.getAttributeValue(c,a)!==l&&t(c)}},gT=new Set([9,10,12,13,32]),zm=48,bT=57;function vT(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,u=0,i=l(),a=c();if(e<t.length&&t.charAt(e)==="n"&&(e++,u=i*(a??1),f(),e<t.length?(i=l(),f(),a=c()):i=a=0),a===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[u,i*a];function l(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function c(){const h=e;let p=0;for(;e<t.length&&t.charCodeAt(e)>=zm&&t.charCodeAt(e)<=bT;)p=p*10+(t.charCodeAt(e)-zm),e++;return e===h?null:p}function f(){for(;e<t.length&&gT.has(t.charCodeAt(e));)e++}}function ET(t){const e=t[0],u=t[1]-1;if(u<0&&e<=0)return Ct.falseFunc;if(e===-1)return l=>l<=u;if(e===0)return l=>l===u;if(e===1)return u<0?Ct.trueFunc:l=>l>=u;const i=Math.abs(e),a=(u%i+i)%i;return e>1?l=>l>=u&&l%i===a:l=>l<=u&&l%i===a}function Ro(t){return ET(vT(t))}function Io(t,e){return u=>{const i=e.getParent(u);return i!=null&&e.isTag(i)&&t(u)}}const j0={contains(t,e,{adapter:u}){return function(a){return t(a)&&u.getText(a).includes(e)}},icontains(t,e,{adapter:u}){const i=e.toLowerCase();return function(l){return t(l)&&u.getText(l).toLowerCase().includes(i)}},"nth-child"(t,e,{adapter:u,equals:i}){const a=Ro(e);return a===Ct.falseFunc?Ct.falseFunc:a===Ct.trueFunc?Io(t,u):function(c){const f=u.getSiblings(c);let h=0;for(let p=0;p<f.length&&!i(c,f[p]);p++)u.isTag(f[p])&&h++;return a(h)&&t(c)}},"nth-last-child"(t,e,{adapter:u,equals:i}){const a=Ro(e);return a===Ct.falseFunc?Ct.falseFunc:a===Ct.trueFunc?Io(t,u):function(c){const f=u.getSiblings(c);let h=0;for(let p=f.length-1;p>=0&&!i(c,f[p]);p--)u.isTag(f[p])&&h++;return a(h)&&t(c)}},"nth-of-type"(t,e,{adapter:u,equals:i}){const a=Ro(e);return a===Ct.falseFunc?Ct.falseFunc:a===Ct.trueFunc?Io(t,u):function(c){const f=u.getSiblings(c);let h=0;for(let p=0;p<f.length;p++){const E=f[p];if(i(c,E))break;u.isTag(E)&&u.getName(E)===u.getName(c)&&h++}return a(h)&&t(c)}},"nth-last-of-type"(t,e,{adapter:u,equals:i}){const a=Ro(e);return a===Ct.falseFunc?Ct.falseFunc:a===Ct.trueFunc?Io(t,u):function(c){const f=u.getSiblings(c);let h=0;for(let p=f.length-1;p>=0;p--){const E=f[p];if(i(c,E))break;u.isTag(E)&&u.getName(E)===u.getName(c)&&h++}return a(h)&&t(c)}},root(t,e,{adapter:u}){return i=>{const a=u.getParent(i);return(a==null||!u.isTag(a))&&t(i)}},scope(t,e,u,i){const{equals:a}=u;return!i||i.length===0?j0.root(t,e,u):i.length===1?l=>a(i[0],l)&&t(l):l=>i.includes(l)&&t(l)},hover:Hd("isHovered"),visited:Hd("isVisited"),active:Hd("isActive")};function Hd(t){return function(u,i,{adapter:a}){const l=a[t];return typeof l!="function"?Ct.falseFunc:function(f){return l(f)&&u(f)}}}const qm={empty(t,{adapter:e}){return!e.getChildren(t).some(u=>e.isTag(u)||e.getText(u)!=="")},"first-child"(t,{adapter:e,equals:u}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;const i=e.getSiblings(t).find(a=>e.isTag(a));return i!=null&&u(t,i)},"last-child"(t,{adapter:e,equals:u}){const i=e.getSiblings(t);for(let a=i.length-1;a>=0;a--){if(u(t,i[a]))return!0;if(e.isTag(i[a]))break}return!1},"first-of-type"(t,{adapter:e,equals:u}){const i=e.getSiblings(t),a=e.getName(t);for(let l=0;l<i.length;l++){const c=i[l];if(u(t,c))return!0;if(e.isTag(c)&&e.getName(c)===a)break}return!1},"last-of-type"(t,{adapter:e,equals:u}){const i=e.getSiblings(t),a=e.getName(t);for(let l=i.length-1;l>=0;l--){const c=i[l];if(u(t,c))return!0;if(e.isTag(c)&&e.getName(c)===a)break}return!1},"only-of-type"(t,{adapter:e,equals:u}){const i=e.getName(t);return e.getSiblings(t).every(a=>u(t,a)||!e.isTag(a)||e.getName(a)!==i)},"only-child"(t,{adapter:e,equals:u}){return e.getSiblings(t).every(i=>u(t,i)||!e.isTag(i))}};function jm(t,e,u,i){if(u===null){if(t.length>i)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===i)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}const _T={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},Vb={};function yT(t,e){return t===Ct.falseFunc?Ct.falseFunc:u=>e.isTag(u)&&t(u)}function Gb(t,e){const u=e.getSiblings(t);if(u.length<=1)return[];const i=u.indexOf(t);return i<0||i===u.length-1?[]:u.slice(i+1).filter(e.isTag)}function Y0(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}const zd=(t,e,u,i,a)=>{const l=a(e,Y0(u),i);return l===Ct.trueFunc?t:l===Ct.falseFunc?Ct.falseFunc:c=>l(c)&&t(c)},qd={is:zd,matches:zd,where:zd,not(t,e,u,i,a){const l=a(e,Y0(u),i);return l===Ct.falseFunc?t:l===Ct.trueFunc?Ct.falseFunc:c=>!l(c)&&t(c)},has(t,e,u,i,a){const{adapter:l}=u,c=Y0(u);c.relativeSelector=!0;const f=e.some(E=>E.some(yh))?[Vb]:void 0,h=a(e,c,f);if(h===Ct.falseFunc)return Ct.falseFunc;const p=yT(h,l);if(f&&h!==Ct.trueFunc){const{shouldTestNextSiblings:E=!1}=h;return _=>{if(!t(_))return!1;f[0]=_;const x=l.getChildren(_),S=E?[...x,...Gb(_,l)]:x;return l.existsOne(p,S)}}return E=>t(E)&&l.existsOne(p,l.getChildren(E))}};function TT(t,e,u,i,a){var l;const{name:c,data:f}=e;if(Array.isArray(f)){if(!(c in qd))throw new Error(`Unknown pseudo-class :${c}(${f})`);return qd[c](t,f,u,i,a)}const h=(l=u.pseudos)===null||l===void 0?void 0:l[c],p=typeof h=="string"?h:_T[c];if(typeof p=="string"){if(f!=null)throw new Error(`Pseudo ${c} doesn't have any arguments`);const E=bc(p);return qd.is(t,E,u,i,a)}if(typeof h=="function")return jm(h,c,f,1),E=>h(E,f)&&t(E);if(c in j0)return j0[c](t,f,u,i);if(c in qm){const E=qm[c];return jm(E,c,f,2),_=>E(_,u,f)&&t(_)}throw new Error(`Unknown pseudo-class :${c}`)}function jd(t,e){const u=e.getParent(t);return u&&e.isTag(u)?u:null}function AT(t,e,u,i,a){const{adapter:l,equals:c}=u;switch(e.type){case it.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case it.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case it.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!u.xmlMode||u.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),mT[e.action](t,e,u)}case it.Pseudo:return TT(t,e,u,i,a);case it.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:f}=e;return(!u.xmlMode||u.lowerCaseTags)&&(f=f.toLowerCase()),function(p){return l.getName(p)===f&&t(p)}}case it.Descendant:{if(u.cacheResults===!1||typeof WeakSet>"u")return function(p){let E=p;for(;E=jd(E,l);)if(t(E))return!0;return!1};const f=new WeakSet;return function(p){let E=p;for(;E=jd(E,l);)if(!f.has(E)){if(l.isTag(E)&&t(E))return!0;f.add(E)}return!1}}case"_flexibleDescendant":return function(h){let p=h;do if(t(p))return!0;while(p=jd(p,l));return!1};case it.Parent:return function(h){return l.getChildren(h).some(p=>l.isTag(p)&&t(p))};case it.Child:return function(h){const p=l.getParent(h);return p!=null&&l.isTag(p)&&t(p)};case it.Sibling:return function(h){const p=l.getSiblings(h);for(let E=0;E<p.length;E++){const _=p[E];if(c(h,_))break;if(l.isTag(_)&&t(_))return!0}return!1};case it.Adjacent:return l.prevElementSibling?function(h){const p=l.prevElementSibling(h);return p!=null&&t(p)}:function(h){const p=l.getSiblings(h);let E;for(let _=0;_<p.length;_++){const x=p[_];if(c(h,x))break;l.isTag(x)&&(E=x)}return!!E&&t(E)};case it.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}function Zb(t){return t.type===it.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(Zb)))}const xT={type:it.Descendant},ST={type:"_flexibleDescendant"},CT={type:it.Pseudo,name:"scope",data:null};function NT(t,{adapter:e},u){const i=!!u?.every(a=>{const l=e.isTag(a)&&e.getParent(a);return a===Vb||l&&e.isTag(l)});for(const a of t){if(!(a.length>0&&yh(a[0])&&a[0].type!==it.Descendant))if(i&&!a.some(Zb))a.unshift(xT);else continue;a.unshift(CT)}}function Xb(t,e,u){var i;t.forEach(dT),u=(i=e.context)!==null&&i!==void 0?i:u;const a=Array.isArray(u),l=u&&(Array.isArray(u)?u:[u]);if(e.relativeSelector!==!1)NT(t,e,l);else if(t.some(h=>h.length>0&&yh(h[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let c=!1;const f=t.map(h=>{if(h.length>=2){const[p,E]=h;p.type!==it.Pseudo||p.name!=="scope"||(a&&E.type===it.Descendant?h[1]=ST:(E.type===it.Adjacent||E.type===it.Sibling)&&(c=!0))}return DT(h,e,l)}).reduce(wT,Ct.falseFunc);return f.shouldTestNextSiblings=c,f}function DT(t,e,u){var i;return t.reduce((a,l)=>a===Ct.falseFunc?Ct.falseFunc:AT(a,l,e,u,Xb),(i=e.rootFunc)!==null&&i!==void 0?i:Ct.trueFunc)}function wT(t,e){return e===Ct.falseFunc||t===Ct.trueFunc?t:t===Ct.falseFunc||e===Ct.trueFunc?e:function(i){return t(i)||e(i)}}const Wb=(t,e)=>t===e,OT={adapter:gc,equals:Wb};function RT(t){var e,u,i,a;const l=t??OT;return(e=l.adapter)!==null&&e!==void 0||(l.adapter=gc),(u=l.equals)!==null&&u!==void 0||(l.equals=(a=(i=l.adapter)===null||i===void 0?void 0:i.equals)!==null&&a!==void 0?a:Wb),l}function IT(t){return function(u,i,a){const l=RT(i);return t(u,l,a)}}const Th=IT(Xb);function Qb(t,e,u=!1){return u&&(t=LT(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function LT(t,e){const u=Array.isArray(t)?t.slice(0):[t],i=u.length;for(let a=0;a<i;a++){const l=Gb(u[a],e);u.push(...l)}return u}const kT=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Zo(t){return t.type!=="pseudo"?!1:kT.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(Zo)):!1}function BT(t,e,u){const i=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(i)?i>=0?i+1:1/0:0;case"lt":return isFinite(i)?i>=0?Math.min(i,u):1/0:0;case"gt":return isFinite(i)?1/0:0;case"odd":return 2*u;case"even":return 2*u-1;case"last":case"not":return 1/0}}function MT(t){for(;t.parent;)t=t.parent;return t}function Ah(t){const e=[],u=[];for(const i of t)i.some(Zo)?e.push(i):u.push(i);return[u,e]}const UT={type:it.Universal,namespace:null},PT={type:it.Pseudo,name:"scope",data:null};function Kb(t,e,u={}){return $b([t],e,u)}function $b(t,e,u={}){if(typeof e=="function")return t.some(e);const[i,a]=Ah(bc(e));return i.length>0&&t.some(Th(i,u))||a.some(l=>tv(l,t,u).length>0)}function FT(t,e,u,i){const a=typeof u=="string"?parseInt(u,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<e.length?[a<0?e[e.length+a]:e[a]]:[];case"gt":return isFinite(a)?e.slice(a+1):[];case"even":return e.filter((l,c)=>c%2===0);case"odd":return e.filter((l,c)=>c%2===1);case"not":{const l=new Set(ev(u,e,i));return e.filter(c=>!l.has(c))}}}function Jb(t,e,u={}){return ev(bc(t),e,u)}function ev(t,e,u){if(e.length===0)return[];const[i,a]=Ah(t);let l;if(i.length){const c=G0(e,i,u);if(a.length===0)return c;c.length&&(l=new Set(c))}for(let c=0;c<a.length&&l?.size!==e.length;c++){const f=a[c];if((l?e.filter(E=>ct(E)&&!l.has(E)):e).length===0)break;const p=tv(f,e,u);if(p.length)if(l)p.forEach(E=>l.add(E));else{if(c===a.length-1)return p;l=new Set(p)}}return typeof l<"u"?l.size===e.length?e:e.filter(c=>l.has(c)):[]}function tv(t,e,u){var i;if(t.some(Js)){const a=(i=u.root)!==null&&i!==void 0?i:MT(e[0]),l={...u,context:e,relativeSelector:!1};return t.push(PT),Xo(a,t,l,!0,e.length)}return Xo(e,t,u,!1,e.length)}function HT(t,e,u={},i=1/0){if(typeof t=="function")return uv(e,t);const[a,l]=Ah(bc(t)),c=l.map(f=>Xo(e,f,u,!0,i));return a.length&&c.push(V0(e,a,u,i)),c.length===0?[]:c.length===1?c[0]:ja(c.reduce((f,h)=>[...f,...h]))}function Xo(t,e,u,i,a){const l=e.findIndex(Zo),c=e.slice(0,l),f=e[l],h=e.length-1===l?a:1/0,p=BT(f.name,f.data,h);if(p===0)return[];const _=(c.length===0&&!Array.isArray(t)?mc(t).filter(ct):c.length===0?(Array.isArray(t)?t:[t]).filter(ct):i||c.some(Js)?V0(t,[c],u,p):G0(t,[c],u)).slice(0,p);let x=FT(f.name,_,f.data,u);if(x.length===0||e.length===l+1)return x;const S=e.slice(l+1),B=S.some(Js);if(B){if(Js(S[0])){const{type:w}=S[0];(w===it.Sibling||w===it.Adjacent)&&(x=Qb(x,gc,!0)),S.unshift(UT)}u={...u,relativeSelector:!1,rootFunc:w=>x.includes(w)}}else u.rootFunc&&u.rootFunc!==Go.trueFunc&&(u={...u,rootFunc:Go.trueFunc});return S.some(Zo)?Xo(x,S,u,!1,a):B?V0(x,[S],u,a):G0(x,[S],u)}function V0(t,e,u,i){const a=Th(e,u,t);return uv(t,a,i)}function uv(t,e,u=1/0){const i=Qb(t,gc,e.shouldTestNextSiblings);return bh(a=>ct(a)&&e(a),i,!0,u)}function G0(t,e,u){const i=(Array.isArray(t)?t:[t]).filter(ct);if(i.length===0)return i;const a=Th(e,u);return a===Go.trueFunc?i:i.filter(a)}const zT=/^\s*[+~]/;function qT(t){if(!t)return this._make([]);if(typeof t!="string"){const e=Di(t)?t.toArray():[t],u=this.toArray();return this._make(e.filter(i=>u.some(a=>Mb(a,i))))}return this._findBySelector(t,Number.POSITIVE_INFINITY)}function jT(t,e){var u;const i=this.toArray(),a=zT.test(t)?i:this.children().toArray(),l={context:i,root:(u=this._root)===null||u===void 0?void 0:u[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(HT(t,a,l,e))}function xh(t){return function(e,...u){return function(i){var a;let l=t(e,this);return i&&(l=Nh(l,i,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&l.length>1?u.reduce((c,f)=>f(c),l):l)}}}const vl=xh((t,e)=>{let u=[];for(let i=0;i<e.length;i++){const a=t(e[i]);a.length>0&&(u=u.concat(a))}return u}),Sh=xh((t,e)=>{const u=[];for(let i=0;i<e.length;i++){const a=t(e[i]);a!==null&&u.push(a)}return u});function Ch(t,...e){let u=null;const i=xh((a,l)=>{const c=[];return vu(l,f=>{for(let h;(h=a(f))&&!u?.(h,c.length);f=h)c.push(h)}),c})(t,...e);return function(a,l){u=typeof a=="string"?f=>Kb(f,a,this.options):a?El(a):null;const c=i.call(this,l);return u=null,c}}function Ya(t){return t.length>1?Array.from(new Set(t)):t}const YT=Sh(({parent:t})=>t&&!mr(t)?t:null,Ya),VT=vl(t=>{const e=[];for(;t.parent&&!mr(t.parent);)e.push(t.parent),t=t.parent;return e},ja,t=>t.reverse()),GT=Ch(({parent:t})=>t&&!mr(t)?t:null,ja,t=>t.reverse());function ZT(t){var e;const u=[];if(!t)return this._make(u);const i={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},a=typeof t=="string"?l=>Kb(l,t,i):El(t);return vu(this,l=>{for(l&&!mr(l)&&!ct(l)&&(l=l.parent);l&&ct(l);){if(a(l,0)){u.includes(l)||u.push(l);break}l=l.parent}}),this._make(u)}const XT=Sh(t=>mh(t)),WT=vl(t=>{const e=[];for(;t.next;)t=t.next,ct(t)&&e.push(t);return e},Ya),QT=Ch(t=>mh(t),Ya),KT=Sh(t=>gh(t)),$T=vl(t=>{const e=[];for(;t.prev;)t=t.prev,ct(t)&&e.push(t);return e},Ya),JT=Ch(t=>gh(t),Ya),e6=vl(t=>Ob(t).filter(e=>ct(e)&&e!==t),ja),t6=vl(t=>mc(t).filter(ct),Ya);function u6(){const t=this.toArray().reduce((e,u)=>Ou(u)?e.concat(u.children):e,[]);return this._make(t)}function n6(t){let e=0;const u=this.length;for(;e<u&&t.call(this[e],e,this[e])!==!1;)++e;return this}function i6(t){let e=[];for(let u=0;u<this.length;u++){const i=this[u],a=t.call(i,u,i);a!=null&&(e=e.concat(a))}return this._make(e)}function El(t){return typeof t=="function"?(e,u)=>t.call(e,u,e):Di(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function r6(t){var e;return this._make(Nh(this.toArray(),t,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}function Nh(t,e,u,i){return typeof e=="string"?Jb(e,t,{xmlMode:u,root:i}):t.filter(El(e))}function a6(t){const e=this.toArray();return typeof t=="string"?$b(e.filter(ct),t,this.options):t?e.some(El(t)):!1}function s6(t){let e=this.toArray();if(typeof t=="string"){const u=new Set(Jb(t,e,this.options));e=e.filter(i=>!u.has(i))}else{const u=El(t);e=e.filter((i,a)=>!u(i,a))}return this._make(e)}function l6(t){return this.filter(typeof t=="string"?`:has(${t})`:(e,u)=>this._make(u).find(t).length>0)}function o6(){return this.length>1?this._make(this[0]):this}function c6(){return this.length>0?this._make(this[this.length-1]):this}function f6(t){var e;return t=+t,t===0&&this.length<=1?this:(t<0&&(t=this.length+t),this._make((e=this[t])!==null&&e!==void 0?e:[]))}function d6(t){return t==null?this.toArray():this[t<0?this.length+t:t]}function h6(){return Array.prototype.slice.call(this)}function p6(t){let e,u;return t==null?(e=this.parent().children(),u=this[0]):typeof t=="string"?(e=this._make(t),u=this[0]):(e=this,u=Di(t)?t[0]:t),Array.prototype.indexOf.call(e,u)}function m6(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function g6(){var t;return(t=this.prevObject)!==null&&t!==void 0?t:this._make([])}function b6(t,e){const u=this._make(t,e),i=ja([...this.get(),...u.get()]);return this._make(i)}function v6(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}const E6=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector:jT,add:b6,addBack:v6,children:t6,closest:ZT,contents:u6,each:n6,end:g6,eq:f6,filter:r6,filterArray:Nh,find:qT,first:o6,get:d6,has:l6,index:p6,is:a6,last:c6,map:i6,next:XT,nextAll:WT,nextUntil:QT,not:s6,parent:YT,parents:VT,parentsUntil:GT,prev:KT,prevAll:$T,prevUntil:JT,siblings:e6,slice:m6,toArray:h6},Symbol.toStringTag,{value:"Module"}));function _6(t){return function(u,i,a,l){if(typeof Buffer<"u"&&Buffer.isBuffer(u)&&(u=u.toString()),typeof u=="string")return t(u,i,a,l);const c=u;if(!Array.isArray(c)&&mr(c))return c;const f=new Hr([]);return zr(c,f),f}}function zr(t,e){const u=Array.isArray(t)?t:[t];e?e.children=u:e=null;for(let i=0;i<u.length;i++){const a=u[i];a.parent&&a.parent.children!==u&&Yr(a),e?(a.prev=u[i-1]||null,a.next=u[i+1]||null):a.prev=a.next=null,a.parent=e}return e}function y6(t,e){if(t==null)return[];if(typeof t=="string")return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(t.length===1)return this._makeDomArray(t[0],e);const u=[];for(let i=0;i<t.length;i++){const a=t[i];if(typeof a=="object"){if(a==null)continue;if(!("length"in a)){u.push(e?al(a,!0):a);continue}}u.push(...this._makeDomArray(a,e))}return u}return[e?al(t,!0):t]}function nv(t){return function(...e){const u=this.length-1;return vu(this,(i,a)=>{if(!Ou(i))return;const l=typeof e[0]=="function"?e[0].call(i,a,this._render(i.children)):e,c=this._makeDomArray(l,a<u);t(c,i.children,i)})}}function gr(t,e,u,i,a){var l,c;const f=[e,u,...i],h=e===0?null:t[e-1],p=e+u>=t.length?null:t[e+u];for(let E=0;E<i.length;++E){const _=i[E],x=_.parent;if(x){const B=x.children.indexOf(_);B!==-1&&(x.children.splice(B,1),a===x&&e>B&&f[0]--)}_.parent=a,_.prev&&(_.prev.next=(l=_.next)!==null&&l!==void 0?l:null),_.next&&(_.next.prev=(c=_.prev)!==null&&c!==void 0?c:null),_.prev=E===0?h:i[E-1],_.next=E===i.length-1?p:i[E+1]}return h&&(h.next=i[0]),p&&(p.prev=i[i.length-1]),t.splice(...f)}function T6(t){return(Di(t)?t:this._make(t)).append(this),this}function A6(t){return(Di(t)?t:this._make(t)).prepend(this),this}const x6=nv((t,e,u)=>{gr(e,e.length,0,t,u)}),S6=nv((t,e,u)=>{gr(e,0,0,t,u)});function iv(t){return function(e){const u=this.length-1,i=this.parents().last();for(let a=0;a<this.length;a++){const l=this[a],c=typeof e=="function"?e.call(l,a,l):typeof e=="string"&&!H0(e)?i.find(e).clone():e,[f]=this._makeDomArray(c,a<u);if(!f||!Ou(f))continue;let h=f,p=0;for(;p<h.children.length;){const E=h.children[p];ct(E)?(h=E,p=0):p++}t(l,h,[f])}return this}}const C6=iv((t,e,u)=>{const{parent:i}=t;if(!i)return;const a=i.children,l=a.indexOf(t);zr([t],e),gr(a,l,0,u,i)}),N6=iv((t,e,u)=>{Ou(t)&&(zr(t.children,e),zr(u,t))});function D6(t){return this.parent(t).not("body").each((e,u)=>{this._make(u).replaceWith(u.children)}),this}function w6(t){const e=this[0];if(e){const u=this._make(typeof t=="function"?t.call(e,0,e):t).insertBefore(e);let i;for(let l=0;l<u.length;l++)u[l].type===U0&&(i=u[l]);let a=0;for(;i&&a<i.children.length;){const l=i.children[a];l.type===U0?(i=l,a=0):a++}i&&this._make(i).append(this)}return this}function O6(...t){const e=this.length-1;return vu(this,(u,i)=>{if(!Ou(u)||!u.parent)return;const a=u.parent.children,l=a.indexOf(u);if(l===-1)return;const c=typeof t[0]=="function"?t[0].call(u,i,this._render(u.children)):t,f=this._makeDomArray(c,i<e);gr(a,l+1,0,f,u.parent)})}function R6(t){typeof t=="string"&&(t=this._make(t)),this.remove();const e=[];for(const u of this._makeDomArray(t)){const i=this.clone().toArray(),{parent:a}=u;if(!a)continue;const l=a.children,c=l.indexOf(u);c!==-1&&(gr(l,c+1,0,i,a),e.push(...i))}return this._make(e)}function I6(...t){const e=this.length-1;return vu(this,(u,i)=>{if(!Ou(u)||!u.parent)return;const a=u.parent.children,l=a.indexOf(u);if(l===-1)return;const c=typeof t[0]=="function"?t[0].call(u,i,this._render(u.children)):t,f=this._makeDomArray(c,i<e);gr(a,l,0,f,u.parent)})}function L6(t){const e=this._make(t);this.remove();const u=[];return vu(e,i=>{const a=this.clone().toArray(),{parent:l}=i;if(!l)return;const c=l.children,f=c.indexOf(i);f!==-1&&(gr(c,f,0,a,l),u.push(...a))}),this._make(u)}function k6(t){const e=t?this.filter(t):this;return vu(e,u=>{Yr(u),u.prev=u.next=u.parent=null}),this}function B6(t){return vu(this,(e,u)=>{const{parent:i}=e;if(!i)return;const a=i.children,l=typeof t=="function"?t.call(e,u,e):t,c=this._makeDomArray(l);zr(c,null);const f=a.indexOf(e);gr(a,f,1,c,i),c.includes(e)||(e.parent=e.prev=e.next=null)})}function M6(){return vu(this,t=>{if(Ou(t)){for(const e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}})}function U6(t){if(t===void 0){const e=this[0];return!e||!Ou(e)?null:this._render(e.children)}return vu(this,e=>{if(!Ou(e))return;for(const i of e.children)i.next=i.prev=i.parent=null;const u=Di(t)?t.toArray():this._parse(`${t}`,this.options,!1,e).children;zr(u,e)})}function P6(){return this._render(this)}function F6(t){return t===void 0?sl(this):typeof t=="function"?vu(this,(e,u)=>this._make(e).text(t.call(e,u,sl([e])))):vu(this,e=>{if(!Ou(e))return;for(const i of e.children)i.next=i.prev=i.parent=null;const u=new rl(`${t}`);zr(u,e)})}function H6(){const t=Array.prototype.map.call(this.get(),u=>al(u,!0)),e=new Hr(t);for(const u of t)u.parent=e;return this._make(t)}const z6=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:y6,after:O6,append:x6,appendTo:T6,before:I6,clone:H6,empty:M6,html:U6,insertAfter:R6,insertBefore:L6,prepend:S6,prependTo:A6,remove:k6,replaceWith:B6,text:F6,toString:P6,unwrap:D6,wrap:C6,wrapAll:w6,wrapInner:N6},Symbol.toStringTag,{value:"Module"}));function q6(t,e){if(t!=null&&e!=null||typeof t=="object"&&!Array.isArray(t))return vu(this,(u,i)=>{ct(u)&&rv(u,t,e,i)});if(this.length!==0)return av(this[0],t)}function rv(t,e,u,i){if(typeof e=="string"){const a=av(t),l=typeof u=="function"?u.call(t,i,a[e]):u;l===""?delete a[e]:l!=null&&(a[e]=l),t.attribs.style=j6(a)}else if(typeof e=="object"){const a=Object.keys(e);for(let l=0;l<a.length;l++){const c=a[l];rv(t,c,e[c],l)}}}function av(t,e){if(!t||!ct(t))return;const u=Y6(t.attribs.style);if(typeof e=="string")return u[e];if(Array.isArray(e)){const i={};for(const a of e)u[a]!=null&&(i[a]=u[a]);return i}return u}function j6(t){return Object.keys(t).reduce((e,u)=>`${e}${e?" ":""}${u}: ${t[u]};`,"")}function Y6(t){if(t=(t||"").trim(),!t)return{};const e={};let u;for(const i of t.split(";")){const a=i.indexOf(":");if(a<1||a===i.length-1){const l=i.trimEnd();l.length>0&&u!==void 0&&(e[u]+=`;${l}`)}else u=i.slice(0,a).trim(),e[u]=i.slice(a+1).trim()}return e}const V6=Object.freeze(Object.defineProperty({__proto__:null,css:q6},Symbol.toStringTag,{value:"Module"})),Ym="input,select,textarea,keygen",G6=/%20/g,Vm=/\r?\n/g;function Z6(){return this.serializeArray().map(u=>`${encodeURIComponent(u.name)}=${encodeURIComponent(u.value)}`).join("&").replace(G6,"+")}function X6(){return this.map((t,e)=>{const u=this._make(e);return ct(e)&&e.name==="form"?u.find(Ym).toArray():u.filter(Ym).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var u;const i=this._make(e),a=i.attr("name"),l=(u=i.val())!==null&&u!==void 0?u:"";return Array.isArray(l)?l.map(c=>({name:a,value:c.replace(Vm,`\r
`)})):{name:a,value:l.replace(Vm,`\r
`)}}).toArray()}const W6=Object.freeze(Object.defineProperty({__proto__:null,serialize:Z6,serializeArray:X6},Symbol.toStringTag,{value:"Module"}));function Q6(t){var e;return typeof t=="string"?{selector:t,value:"textContent"}:{selector:t.selector,value:(e=t.value)!==null&&e!==void 0?e:"textContent"}}function K6(t){const e={};for(const u in t){const i=t[u],a=Array.isArray(i),{selector:l,value:c}=Q6(a?i[0]:i),f=typeof c=="function"?c:typeof c=="string"?h=>this._make(h).prop(c):h=>this._make(h).extract(c);if(a)e[u]=this._findBySelector(l,Number.POSITIVE_INFINITY).map((h,p)=>f(p,u,e)).get();else{const h=this._findBySelector(l,1);e[u]=h.length>0?f(h[0],u,e):void 0}}return e}const $6=Object.freeze(Object.defineProperty({__proto__:null,extract:K6},Symbol.toStringTag,{value:"Module"}));class _l{constructor(e,u,i){if(this.length=0,this.options=i,this._root=u,e){for(let a=0;a<e.length;a++)this[a]=e[a];this.length=e.length}}}_l.prototype.cheerio="[cheerio object]";_l.prototype.splice=Array.prototype.splice;_l.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(_l.prototype,iT,E6,z6,V6,W6,$6);function J6(t,e){return function u(i,a,l=!0){if(i==null)throw new Error("cheerio.load() expects a string");const c=F0(a),f=t(i,c,l,null);class h extends _l{_make(_,x){const S=p(_,x);return S.prevObject=this,S}_parse(_,x,S,B){return t(_,x,S,B)}_render(_){return e(_,this.options)}}function p(E,_,x=f,S){if(E&&Di(E))return E;const B=F0(S,c),w=typeof x=="string"?[t(x,B,!1,null)]:"length"in x?x:[x],y=Di(w)?w:new h(w,null,B);if(y._root=y,!E)return new h(void 0,y,B);const A=typeof E=="string"&&H0(E)?t(E,B,!1,null).children:eA(E)?[E]:Array.isArray(E)?E:void 0,N=new h(A,y,B);if(A)return N;if(typeof E!="string")throw new TypeError("Unexpected type of selector");let I=E;const V=_?typeof _=="string"?H0(_)?new h([t(_,B,!1,null)],y,B):(I=`${_} ${I}`,y):Di(_)?_:new h(Array.isArray(_)?_:[_],y,B):y;return V?V.find(I):N}return Object.assign(p,wy,{load:u,_root:f,_options:c,fn:h.prototype,prototype:h.prototype}),p}}function eA(t){return!!t.name||t.type===oh||t.type===Tb||t.type===Ab}const tA=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),pu="";var P;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(P||(P={}));const pn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function sv(t){return t>=55296&&t<=57343}function uA(t){return t>=56320&&t<=57343}function nA(t,e){return(t-55296)*1024+9216+e}function lv(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function ov(t){return t>=64976&&t<=65007||tA.has(t)}var ye;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ye||(ye={}));const iA=65536;class rA{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=iA,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,u){const{line:i,col:a,offset:l}=this,c=a+u,f=l+u;return{code:e,startLine:i,endLine:i,startCol:c,endCol:c,startOffset:f,endOffset:f}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const u=this.html.charCodeAt(this.pos+1);if(uA(u))return this.pos++,this._addGap(),nA(e,u)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,P.EOF;return this._err(ye.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,u){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=u}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,u){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(u)return this.html.startsWith(e,this.pos);for(let i=0;i<e.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==e.charCodeAt(i))return!1;return!0}peek(e){const u=this.pos+e;if(u>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,P.EOF;const i=this.html.charCodeAt(u);return i===P.CARRIAGE_RETURN?P.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,P.EOF;let e=this.html.charCodeAt(this.pos);return e===P.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,P.LINE_FEED):e===P.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,sv(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===P.LINE_FEED||e===P.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){lv(e)?this._err(ye.controlCharacterInInputStream):ov(e)&&this._err(ye.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Pt;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Pt||(Pt={}));function cv(t,e){for(let u=t.attrs.length-1;u>=0;u--)if(t.attrs[u].name===e)return t.attrs[u].value;return null}const aA=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),sA=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function lA(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=sA.get(t))!==null&&e!==void 0?e:t}var Zu;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Zu||(Zu={}));const oA=32;var lr;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(lr||(lr={}));function Z0(t){return t>=Zu.ZERO&&t<=Zu.NINE}function cA(t){return t>=Zu.UPPER_A&&t<=Zu.UPPER_F||t>=Zu.LOWER_A&&t<=Zu.LOWER_F}function fA(t){return t>=Zu.UPPER_A&&t<=Zu.UPPER_Z||t>=Zu.LOWER_A&&t<=Zu.LOWER_Z||Z0(t)}function dA(t){return t===Zu.EQUALS||fA(t)}var Vu;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Vu||(Vu={}));var Ni;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ni||(Ni={}));class hA{constructor(e,u,i){this.decodeTree=e,this.emitCodePoint=u,this.errors=i,this.state=Vu.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ni.Strict}startEntity(e){this.decodeMode=e,this.state=Vu.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,u){switch(this.state){case Vu.EntityStart:return e.charCodeAt(u)===Zu.NUM?(this.state=Vu.NumericStart,this.consumed+=1,this.stateNumericStart(e,u+1)):(this.state=Vu.NamedEntity,this.stateNamedEntity(e,u));case Vu.NumericStart:return this.stateNumericStart(e,u);case Vu.NumericDecimal:return this.stateNumericDecimal(e,u);case Vu.NumericHex:return this.stateNumericHex(e,u);case Vu.NamedEntity:return this.stateNamedEntity(e,u)}}stateNumericStart(e,u){return u>=e.length?-1:(e.charCodeAt(u)|oA)===Zu.LOWER_X?(this.state=Vu.NumericHex,this.consumed+=1,this.stateNumericHex(e,u+1)):(this.state=Vu.NumericDecimal,this.stateNumericDecimal(e,u))}addToNumericResult(e,u,i,a){if(u!==i){const l=i-u;this.result=this.result*Math.pow(a,l)+Number.parseInt(e.substr(u,l),a),this.consumed+=l}}stateNumericHex(e,u){const i=u;for(;u<e.length;){const a=e.charCodeAt(u);if(Z0(a)||cA(a))u+=1;else return this.addToNumericResult(e,i,u,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,i,u,16),-1}stateNumericDecimal(e,u){const i=u;for(;u<e.length;){const a=e.charCodeAt(u);if(Z0(a))u+=1;else return this.addToNumericResult(e,i,u,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,i,u,10),-1}emitNumericEntity(e,u){var i;if(this.consumed<=u)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Zu.SEMI)this.consumed+=1;else if(this.decodeMode===Ni.Strict)return 0;return this.emitCodePoint(lA(this.result),this.consumed),this.errors&&(e!==Zu.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,u){const{decodeTree:i}=this;let a=i[this.treeIndex],l=(a&lr.VALUE_LENGTH)>>14;for(;u<e.length;u++,this.excess++){const c=e.charCodeAt(u);if(this.treeIndex=pA(i,a,this.treeIndex+Math.max(1,l),c),this.treeIndex<0)return this.result===0||this.decodeMode===Ni.Attribute&&(l===0||dA(c))?0:this.emitNotTerminatedNamedEntity();if(a=i[this.treeIndex],l=(a&lr.VALUE_LENGTH)>>14,l!==0){if(c===Zu.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Ni.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:u,decodeTree:i}=this,a=(i[u]&lr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(u,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,u,i){const{decodeTree:a}=this;return this.emitCodePoint(u===1?a[e]&~lr.VALUE_LENGTH:a[e+1],i),u===3&&this.emitCodePoint(a[e+2],i),i}end(){var e;switch(this.state){case Vu.NamedEntity:return this.result!==0&&(this.decodeMode!==Ni.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Vu.NumericDecimal:return this.emitNumericEntity(0,2);case Vu.NumericHex:return this.emitNumericEntity(0,3);case Vu.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Vu.EntityStart:return 0}}}function pA(t,e,u,i){const a=(e&lr.BRANCH_LENGTH)>>7,l=e&lr.JUMP_TABLE;if(a===0)return l!==0&&i===l?u:-1;if(l){const h=i-l;return h<0||h>=a?-1:t[u+h]-1}let c=u,f=c+a-1;for(;c<=f;){const h=c+f>>>1,p=t[h];if(p<i)c=h+1;else if(p>i)f=h-1;else return t[h+a]}return-1}var Oe;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Oe||(Oe={}));var Fr;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Fr||(Fr={}));var xn;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(xn||(xn={}));var he;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(he||(he={}));var g;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(g||(g={}));const mA=new Map([[he.A,g.A],[he.ADDRESS,g.ADDRESS],[he.ANNOTATION_XML,g.ANNOTATION_XML],[he.APPLET,g.APPLET],[he.AREA,g.AREA],[he.ARTICLE,g.ARTICLE],[he.ASIDE,g.ASIDE],[he.B,g.B],[he.BASE,g.BASE],[he.BASEFONT,g.BASEFONT],[he.BGSOUND,g.BGSOUND],[he.BIG,g.BIG],[he.BLOCKQUOTE,g.BLOCKQUOTE],[he.BODY,g.BODY],[he.BR,g.BR],[he.BUTTON,g.BUTTON],[he.CAPTION,g.CAPTION],[he.CENTER,g.CENTER],[he.CODE,g.CODE],[he.COL,g.COL],[he.COLGROUP,g.COLGROUP],[he.DD,g.DD],[he.DESC,g.DESC],[he.DETAILS,g.DETAILS],[he.DIALOG,g.DIALOG],[he.DIR,g.DIR],[he.DIV,g.DIV],[he.DL,g.DL],[he.DT,g.DT],[he.EM,g.EM],[he.EMBED,g.EMBED],[he.FIELDSET,g.FIELDSET],[he.FIGCAPTION,g.FIGCAPTION],[he.FIGURE,g.FIGURE],[he.FONT,g.FONT],[he.FOOTER,g.FOOTER],[he.FOREIGN_OBJECT,g.FOREIGN_OBJECT],[he.FORM,g.FORM],[he.FRAME,g.FRAME],[he.FRAMESET,g.FRAMESET],[he.H1,g.H1],[he.H2,g.H2],[he.H3,g.H3],[he.H4,g.H4],[he.H5,g.H5],[he.H6,g.H6],[he.HEAD,g.HEAD],[he.HEADER,g.HEADER],[he.HGROUP,g.HGROUP],[he.HR,g.HR],[he.HTML,g.HTML],[he.I,g.I],[he.IMG,g.IMG],[he.IMAGE,g.IMAGE],[he.INPUT,g.INPUT],[he.IFRAME,g.IFRAME],[he.KEYGEN,g.KEYGEN],[he.LABEL,g.LABEL],[he.LI,g.LI],[he.LINK,g.LINK],[he.LISTING,g.LISTING],[he.MAIN,g.MAIN],[he.MALIGNMARK,g.MALIGNMARK],[he.MARQUEE,g.MARQUEE],[he.MATH,g.MATH],[he.MENU,g.MENU],[he.META,g.META],[he.MGLYPH,g.MGLYPH],[he.MI,g.MI],[he.MO,g.MO],[he.MN,g.MN],[he.MS,g.MS],[he.MTEXT,g.MTEXT],[he.NAV,g.NAV],[he.NOBR,g.NOBR],[he.NOFRAMES,g.NOFRAMES],[he.NOEMBED,g.NOEMBED],[he.NOSCRIPT,g.NOSCRIPT],[he.OBJECT,g.OBJECT],[he.OL,g.OL],[he.OPTGROUP,g.OPTGROUP],[he.OPTION,g.OPTION],[he.P,g.P],[he.PARAM,g.PARAM],[he.PLAINTEXT,g.PLAINTEXT],[he.PRE,g.PRE],[he.RB,g.RB],[he.RP,g.RP],[he.RT,g.RT],[he.RTC,g.RTC],[he.RUBY,g.RUBY],[he.S,g.S],[he.SCRIPT,g.SCRIPT],[he.SEARCH,g.SEARCH],[he.SECTION,g.SECTION],[he.SELECT,g.SELECT],[he.SOURCE,g.SOURCE],[he.SMALL,g.SMALL],[he.SPAN,g.SPAN],[he.STRIKE,g.STRIKE],[he.STRONG,g.STRONG],[he.STYLE,g.STYLE],[he.SUB,g.SUB],[he.SUMMARY,g.SUMMARY],[he.SUP,g.SUP],[he.TABLE,g.TABLE],[he.TBODY,g.TBODY],[he.TEMPLATE,g.TEMPLATE],[he.TEXTAREA,g.TEXTAREA],[he.TFOOT,g.TFOOT],[he.TD,g.TD],[he.TH,g.TH],[he.THEAD,g.THEAD],[he.TITLE,g.TITLE],[he.TR,g.TR],[he.TRACK,g.TRACK],[he.TT,g.TT],[he.U,g.U],[he.UL,g.UL],[he.SVG,g.SVG],[he.VAR,g.VAR],[he.WBR,g.WBR],[he.XMP,g.XMP]]);function vc(t){var e;return(e=mA.get(t))!==null&&e!==void 0?e:g.UNKNOWN}const Ue=g,gA={[Oe.HTML]:new Set([Ue.ADDRESS,Ue.APPLET,Ue.AREA,Ue.ARTICLE,Ue.ASIDE,Ue.BASE,Ue.BASEFONT,Ue.BGSOUND,Ue.BLOCKQUOTE,Ue.BODY,Ue.BR,Ue.BUTTON,Ue.CAPTION,Ue.CENTER,Ue.COL,Ue.COLGROUP,Ue.DD,Ue.DETAILS,Ue.DIR,Ue.DIV,Ue.DL,Ue.DT,Ue.EMBED,Ue.FIELDSET,Ue.FIGCAPTION,Ue.FIGURE,Ue.FOOTER,Ue.FORM,Ue.FRAME,Ue.FRAMESET,Ue.H1,Ue.H2,Ue.H3,Ue.H4,Ue.H5,Ue.H6,Ue.HEAD,Ue.HEADER,Ue.HGROUP,Ue.HR,Ue.HTML,Ue.IFRAME,Ue.IMG,Ue.INPUT,Ue.LI,Ue.LINK,Ue.LISTING,Ue.MAIN,Ue.MARQUEE,Ue.MENU,Ue.META,Ue.NAV,Ue.NOEMBED,Ue.NOFRAMES,Ue.NOSCRIPT,Ue.OBJECT,Ue.OL,Ue.P,Ue.PARAM,Ue.PLAINTEXT,Ue.PRE,Ue.SCRIPT,Ue.SECTION,Ue.SELECT,Ue.SOURCE,Ue.STYLE,Ue.SUMMARY,Ue.TABLE,Ue.TBODY,Ue.TD,Ue.TEMPLATE,Ue.TEXTAREA,Ue.TFOOT,Ue.TH,Ue.THEAD,Ue.TITLE,Ue.TR,Ue.TRACK,Ue.UL,Ue.WBR,Ue.XMP]),[Oe.MATHML]:new Set([Ue.MI,Ue.MO,Ue.MN,Ue.MS,Ue.MTEXT,Ue.ANNOTATION_XML]),[Oe.SVG]:new Set([Ue.TITLE,Ue.FOREIGN_OBJECT,Ue.DESC]),[Oe.XLINK]:new Set,[Oe.XML]:new Set,[Oe.XMLNS]:new Set},X0=new Set([Ue.H1,Ue.H2,Ue.H3,Ue.H4,Ue.H5,Ue.H6]),bA=new Set([he.STYLE,he.SCRIPT,he.XMP,he.IFRAME,he.NOEMBED,he.NOFRAMES,he.PLAINTEXT]);function vA(t,e){return bA.has(t)||e&&t===he.NOSCRIPT}var j;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(j||(j={}));const gn={DATA:j.DATA,RCDATA:j.RCDATA,RAWTEXT:j.RAWTEXT,SCRIPT_DATA:j.SCRIPT_DATA,PLAINTEXT:j.PLAINTEXT,CDATA_SECTION:j.CDATA_SECTION};function EA(t){return t>=P.DIGIT_0&&t<=P.DIGIT_9}function Ks(t){return t>=P.LATIN_CAPITAL_A&&t<=P.LATIN_CAPITAL_Z}function _A(t){return t>=P.LATIN_SMALL_A&&t<=P.LATIN_SMALL_Z}function nr(t){return _A(t)||Ks(t)}function Gm(t){return nr(t)||EA(t)}function Lo(t){return t+32}function fv(t){return t===P.SPACE||t===P.LINE_FEED||t===P.TABULATION||t===P.FORM_FEED}function Zm(t){return fv(t)||t===P.SOLIDUS||t===P.GREATER_THAN_SIGN}function yA(t){return t===P.NULL?ye.nullCharacterReference:t>1114111?ye.characterReferenceOutsideUnicodeRange:sv(t)?ye.surrogateCharacterReference:ov(t)?ye.noncharacterCharacterReference:lv(t)||t===P.CARRIAGE_RETURN?ye.controlCharacterReference:null}class TA{constructor(e,u){this.options=e,this.handler=u,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=j.DATA,this.returnState=j.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new rA(u),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new hA(aA,(i,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(i)},u.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ye.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:i=>{this._err(ye.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+i)},validateNumericCharacterReference:i=>{const a=yA(i);a&&this._err(a,1)}}:void 0)}_err(e,u=0){var i,a;(a=(i=this.handler).onParseError)===null||a===void 0||a.call(i,this.preprocessor.getError(e,u))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,u,i){this.active=!0,this.preprocessor.write(e,u),this._runParsingLoop(),this.paused||i?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let u=0;u<e;u++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,u){return this.preprocessor.startsWith(e,u)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Pt.START_TAG,tagName:"",tagID:g.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Pt.END_TAG,tagName:"",tagID:g.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Pt.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Pt.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,u){this.currentCharacterToken={type:e,chars:u,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,u;const i=this.currentToken;if(cv(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const a=(e=(u=i.location).attrs)!==null&&e!==void 0?e:u.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ye.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=vc(e.tagName),e.type===Pt.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ye.endTagWithAttributes),e.selfClosing&&this._err(ye.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Pt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Pt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Pt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Pt.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,u){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=u;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,u)}_emitCodePoint(e){const u=fv(e)?Pt.WHITESPACE_CHARACTER:e===P.NULL?Pt.NULL_CHARACTER:Pt.CHARACTER;this._appendCharToCurrentCharacterToken(u,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Pt.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=j.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ni.Attribute:Ni.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===j.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===j.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case j.DATA:{this._stateData(e);break}case j.RCDATA:{this._stateRcdata(e);break}case j.RAWTEXT:{this._stateRawtext(e);break}case j.SCRIPT_DATA:{this._stateScriptData(e);break}case j.PLAINTEXT:{this._statePlaintext(e);break}case j.TAG_OPEN:{this._stateTagOpen(e);break}case j.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case j.TAG_NAME:{this._stateTagName(e);break}case j.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case j.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case j.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case j.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case j.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case j.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case j.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case j.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case j.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case j.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case j.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case j.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case j.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case j.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case j.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case j.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case j.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case j.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case j.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case j.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case j.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case j.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case j.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case j.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case j.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case j.BOGUS_COMMENT:{this._stateBogusComment(e);break}case j.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case j.COMMENT_START:{this._stateCommentStart(e);break}case j.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case j.COMMENT:{this._stateComment(e);break}case j.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case j.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case j.COMMENT_END:{this._stateCommentEnd(e);break}case j.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case j.DOCTYPE:{this._stateDoctype(e);break}case j.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case j.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case j.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case j.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case j.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case j.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case j.CDATA_SECTION:{this._stateCdataSection(e);break}case j.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case j.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case j.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case j.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case P.LESS_THAN_SIGN:{this.state=j.TAG_OPEN;break}case P.AMPERSAND:{this._startCharacterReference();break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this._emitCodePoint(e);break}case P.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case P.AMPERSAND:{this._startCharacterReference();break}case P.LESS_THAN_SIGN:{this.state=j.RCDATA_LESS_THAN_SIGN;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(pu);break}case P.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case P.LESS_THAN_SIGN:{this.state=j.RAWTEXT_LESS_THAN_SIGN;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(pu);break}case P.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case P.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_LESS_THAN_SIGN;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(pu);break}case P.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case P.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(pu);break}case P.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(nr(e))this._createStartTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case P.EXCLAMATION_MARK:{this.state=j.MARKUP_DECLARATION_OPEN;break}case P.SOLIDUS:{this.state=j.END_TAG_OPEN;break}case P.QUESTION_MARK:{this._err(ye.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e);break}case P.EOF:{this._err(ye.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ye.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=j.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(nr(e))this._createEndTagToken(),this.state=j.TAG_NAME,this._stateTagName(e);else switch(e){case P.GREATER_THAN_SIGN:{this._err(ye.missingEndTagName),this.state=j.DATA;break}case P.EOF:{this._err(ye.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ye.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this.state=j.BEFORE_ATTRIBUTE_NAME;break}case P.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case P.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.tagName+=pu;break}case P.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:u.tagName+=String.fromCodePoint(Ks(e)?Lo(e):e)}}_stateRcdataLessThanSign(e){e===P.SOLIDUS?this.state=j.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){nr(e)?(this.state=j.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const u=this.currentToken;switch(u.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=j.BEFORE_ATTRIBUTE_NAME,!1;case P.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=j.SELF_CLOSING_START_TAG,!1;case P.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=j.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===P.SOLIDUS?this.state=j.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){nr(e)?(this.state=j.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case P.SOLIDUS:{this.state=j.SCRIPT_DATA_END_TAG_OPEN;break}case P.EXCLAMATION_MARK:{this.state=j.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=j.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){nr(e)?(this.state=j.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===P.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===P.HYPHEN_MINUS?(this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=j.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case P.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case P.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(pu);break}case P.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case P.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case P.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(pu);break}case P.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case P.HYPHEN_MINUS:{this._emitChars("-");break}case P.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case P.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_ESCAPED,this._emitChars(pu);break}case P.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===P.SOLIDUS?this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:nr(e)?(this._emitChars("<"),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){nr(e)?(this.state=j.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(pn.SCRIPT,!1)&&Zm(this.preprocessor.peek(pn.SCRIPT.length))){this._emitCodePoint(e);for(let u=0;u<pn.SCRIPT.length;u++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case P.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case P.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(pu);break}case P.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case P.HYPHEN_MINUS:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case P.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(pu);break}case P.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case P.HYPHEN_MINUS:{this._emitChars("-");break}case P.LESS_THAN_SIGN:{this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case P.GREATER_THAN_SIGN:{this.state=j.SCRIPT_DATA,this._emitChars(">");break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(pu);break}case P.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===P.SOLIDUS?(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(pn.SCRIPT,!1)&&Zm(this.preprocessor.peek(pn.SCRIPT.length))){this._emitCodePoint(e);for(let u=0;u<pn.SCRIPT.length;u++)this._emitCodePoint(this._consume());this.state=j.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=j.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.SOLIDUS:case P.GREATER_THAN_SIGN:case P.EOF:{this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case P.EQUALS_SIGN:{this._err(ye.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=j.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:case P.SOLIDUS:case P.GREATER_THAN_SIGN:case P.EOF:{this._leaveAttrName(),this.state=j.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case P.EQUALS_SIGN:{this._leaveAttrName(),this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case P.QUOTATION_MARK:case P.APOSTROPHE:case P.LESS_THAN_SIGN:{this._err(ye.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.name+=pu;break}default:this.currentAttr.name+=String.fromCodePoint(Ks(e)?Lo(e):e)}}_stateAfterAttributeName(e){switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.SOLIDUS:{this.state=j.SELF_CLOSING_START_TAG;break}case P.EQUALS_SIGN:{this.state=j.BEFORE_ATTRIBUTE_VALUE;break}case P.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentTagToken();break}case P.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=j.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.QUOTATION_MARK:{this.state=j.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case P.APOSTROPHE:{this.state=j.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case P.GREATER_THAN_SIGN:{this._err(ye.missingAttributeValue),this.state=j.DATA,this.emitCurrentTagToken();break}default:this.state=j.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case P.QUOTATION_MARK:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case P.AMPERSAND:{this._startCharacterReference();break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=pu;break}case P.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case P.APOSTROPHE:{this.state=j.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case P.AMPERSAND:{this._startCharacterReference();break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=pu;break}case P.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case P.AMPERSAND:{this._startCharacterReference();break}case P.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case P.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=pu;break}case P.QUOTATION_MARK:case P.APOSTROPHE:case P.LESS_THAN_SIGN:case P.EQUALS_SIGN:case P.GRAVE_ACCENT:{this._err(ye.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case P.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this._leaveAttrValue(),this.state=j.BEFORE_ATTRIBUTE_NAME;break}case P.SOLIDUS:{this._leaveAttrValue(),this.state=j.SELF_CLOSING_START_TAG;break}case P.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=j.DATA,this.emitCurrentTagToken();break}case P.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._err(ye.missingWhitespaceBetweenAttributes),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case P.GREATER_THAN_SIGN:{const u=this.currentToken;u.selfClosing=!0,this.state=j.DATA,this.emitCurrentTagToken();break}case P.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._err(ye.unexpectedSolidusInTag),this.state=j.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const u=this.currentToken;switch(e){case P.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(u);break}case P.EOF:{this.emitCurrentComment(u),this._emitEOFToken();break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.data+=pu;break}default:u.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(pn.DASH_DASH,!0)?(this._createCommentToken(pn.DASH_DASH.length+1),this.state=j.COMMENT_START):this._consumeSequenceIfMatch(pn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(pn.DOCTYPE.length+1),this.state=j.DOCTYPE):this._consumeSequenceIfMatch(pn.CDATA_START,!0)?this.inForeignNode?this.state=j.CDATA_SECTION:(this._err(ye.cdataInHtmlContent),this._createCommentToken(pn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=j.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ye.incorrectlyOpenedComment),this._createCommentToken(2),this.state=j.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case P.HYPHEN_MINUS:{this.state=j.COMMENT_START_DASH;break}case P.GREATER_THAN_SIGN:{this._err(ye.abruptClosingOfEmptyComment),this.state=j.DATA;const u=this.currentToken;this.emitCurrentComment(u);break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const u=this.currentToken;switch(e){case P.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case P.GREATER_THAN_SIGN:{this._err(ye.abruptClosingOfEmptyComment),this.state=j.DATA,this.emitCurrentComment(u);break}case P.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(u),this._emitEOFToken();break}default:u.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateComment(e){const u=this.currentToken;switch(e){case P.HYPHEN_MINUS:{this.state=j.COMMENT_END_DASH;break}case P.LESS_THAN_SIGN:{u.data+="<",this.state=j.COMMENT_LESS_THAN_SIGN;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.data+=pu;break}case P.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(u),this._emitEOFToken();break}default:u.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const u=this.currentToken;switch(e){case P.EXCLAMATION_MARK:{u.data+="!",this.state=j.COMMENT_LESS_THAN_SIGN_BANG;break}case P.LESS_THAN_SIGN:{u.data+="<";break}default:this.state=j.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===P.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=j.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===P.HYPHEN_MINUS?this.state=j.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=j.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==P.GREATER_THAN_SIGN&&e!==P.EOF&&this._err(ye.nestedComment),this.state=j.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const u=this.currentToken;switch(e){case P.HYPHEN_MINUS:{this.state=j.COMMENT_END;break}case P.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(u),this._emitEOFToken();break}default:u.data+="-",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const u=this.currentToken;switch(e){case P.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentComment(u);break}case P.EXCLAMATION_MARK:{this.state=j.COMMENT_END_BANG;break}case P.HYPHEN_MINUS:{u.data+="-";break}case P.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(u),this._emitEOFToken();break}default:u.data+="--",this.state=j.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const u=this.currentToken;switch(e){case P.HYPHEN_MINUS:{u.data+="--!",this.state=j.COMMENT_END_DASH;break}case P.GREATER_THAN_SIGN:{this._err(ye.incorrectlyClosedComment),this.state=j.DATA,this.emitCurrentComment(u);break}case P.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(u),this._emitEOFToken();break}default:u.data+="--!",this.state=j.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_NAME;break}case P.GREATER_THAN_SIGN:{this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case P.EOF:{this._err(ye.eofInDoctype),this._createDoctypeToken(null);const u=this.currentToken;u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.missingWhitespaceBeforeDoctypeName),this.state=j.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Ks(e))this._createDoctypeToken(String.fromCharCode(Lo(e))),this.state=j.DOCTYPE_NAME;else switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.NULL:{this._err(ye.unexpectedNullCharacter),this._createDoctypeToken(pu),this.state=j.DOCTYPE_NAME;break}case P.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeName),this._createDoctypeToken(null);const u=this.currentToken;u.forceQuirks=!0,this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.EOF:{this._err(ye.eofInDoctype),this._createDoctypeToken(null);const u=this.currentToken;u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=j.DOCTYPE_NAME}}_stateDoctypeName(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this.state=j.AFTER_DOCTYPE_NAME;break}case P.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(u);break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.name+=pu;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:u.name+=String.fromCodePoint(Ks(e)?Lo(e):e)}}_stateAfterDoctypeName(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(u);break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(pn.PUBLIC,!1)?this.state=j.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(pn.SYSTEM,!1)?this.state=j.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ye.invalidCharacterSequenceAfterDoctypeName),u.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case P.QUOTATION_MARK:{this._err(ye.missingWhitespaceAfterDoctypePublicKeyword),u.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case P.APOSTROPHE:{this._err(ye.missingWhitespaceAfterDoctypePublicKeyword),u.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case P.GREATER_THAN_SIGN:{this._err(ye.missingDoctypePublicIdentifier),u.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(u);break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypePublicIdentifier),u.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.QUOTATION_MARK:{u.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case P.APOSTROPHE:{u.publicId="",this.state=j.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case P.GREATER_THAN_SIGN:{this._err(ye.missingDoctypePublicIdentifier),u.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(u);break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypePublicIdentifier),u.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const u=this.currentToken;switch(e){case P.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.publicId+=pu;break}case P.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypePublicIdentifier),u.forceQuirks=!0,this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:u.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const u=this.currentToken;switch(e){case P.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.publicId+=pu;break}case P.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypePublicIdentifier),u.forceQuirks=!0,this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:u.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this.state=j.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case P.GREATER_THAN_SIGN:{this.state=j.DATA,this.emitCurrentDoctype(u);break}case P.QUOTATION_MARK:{this._err(ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case P.APOSTROPHE:{this._err(ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),u.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.GREATER_THAN_SIGN:{this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.QUOTATION_MARK:{u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case P.APOSTROPHE:{u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),u.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:{this.state=j.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case P.QUOTATION_MARK:{this._err(ye.missingWhitespaceAfterDoctypeSystemKeyword),u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case P.APOSTROPHE:{this._err(ye.missingWhitespaceAfterDoctypeSystemKeyword),u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case P.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeSystemIdentifier),u.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(u);break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),u.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.QUOTATION_MARK:{u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case P.APOSTROPHE:{u.systemId="",this.state=j.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case P.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeSystemIdentifier),u.forceQuirks=!0,this.state=j.DATA,this.emitCurrentDoctype(u);break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),u.forceQuirks=!0,this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const u=this.currentToken;switch(e){case P.QUOTATION_MARK:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.systemId+=pu;break}case P.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypeSystemIdentifier),u.forceQuirks=!0,this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:u.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const u=this.currentToken;switch(e){case P.APOSTROPHE:{this.state=j.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case P.NULL:{this._err(ye.unexpectedNullCharacter),u.systemId+=pu;break}case P.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypeSystemIdentifier),u.forceQuirks=!0,this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:u.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const u=this.currentToken;switch(e){case P.SPACE:case P.LINE_FEED:case P.TABULATION:case P.FORM_FEED:break;case P.GREATER_THAN_SIGN:{this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.EOF:{this._err(ye.eofInDoctype),u.forceQuirks=!0,this.emitCurrentDoctype(u),this._emitEOFToken();break}default:this._err(ye.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=j.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const u=this.currentToken;switch(e){case P.GREATER_THAN_SIGN:{this.emitCurrentDoctype(u),this.state=j.DATA;break}case P.NULL:{this._err(ye.unexpectedNullCharacter);break}case P.EOF:{this.emitCurrentDoctype(u),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case P.RIGHT_SQUARE_BRACKET:{this.state=j.CDATA_SECTION_BRACKET;break}case P.EOF:{this._err(ye.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===P.RIGHT_SQUARE_BRACKET?this.state=j.CDATA_SECTION_END:(this._emitChars("]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case P.GREATER_THAN_SIGN:{this.state=j.DATA;break}case P.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=j.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(P.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Gm(this.preprocessor.peek(1))?j.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){Gm(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===P.SEMICOLON&&this._err(ye.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const dv=new Set([g.DD,g.DT,g.LI,g.OPTGROUP,g.OPTION,g.P,g.RB,g.RP,g.RT,g.RTC]),Xm=new Set([...dv,g.CAPTION,g.COLGROUP,g.TBODY,g.TD,g.TFOOT,g.TH,g.THEAD,g.TR]),Wo=new Set([g.APPLET,g.CAPTION,g.HTML,g.MARQUEE,g.OBJECT,g.TABLE,g.TD,g.TEMPLATE,g.TH]),AA=new Set([...Wo,g.OL,g.UL]),xA=new Set([...Wo,g.BUTTON]),Wm=new Set([g.ANNOTATION_XML,g.MI,g.MN,g.MO,g.MS,g.MTEXT]),Qm=new Set([g.DESC,g.FOREIGN_OBJECT,g.TITLE]),SA=new Set([g.TR,g.TEMPLATE,g.HTML]),CA=new Set([g.TBODY,g.TFOOT,g.THEAD,g.TEMPLATE,g.HTML]),NA=new Set([g.TABLE,g.TEMPLATE,g.HTML]),DA=new Set([g.TD,g.TH]);class wA{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,u,i){this.treeAdapter=u,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=g.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===g.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Oe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,u){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=u,this.currentTagId=u,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,u,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,u){const i=this._indexOf(e);this.items[i]=u,i===this.stackTop&&(this.current=u)}insertAfter(e,u,i){const a=this._indexOf(e)+1;this.items.splice(a,0,u),this.tagIDs.splice(a,0,i),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(e){let u=this.stackTop+1;do u=this.tagIDs.lastIndexOf(e,u-1);while(u>0&&this.treeAdapter.getNamespaceURI(this.items[u])!==Oe.HTML);this.shortenToLength(Math.max(u,0))}shortenToLength(e){for(;this.stackTop>=e;){const u=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(u,this.stackTop<e)}}popUntilElementPopped(e){const u=this._indexOf(e);this.shortenToLength(Math.max(u,0))}popUntilPopped(e,u){const i=this._indexOfTagNames(e,u);this.shortenToLength(Math.max(i,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(X0,Oe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(DA,Oe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,u){for(let i=this.stackTop;i>=0;i--)if(e.has(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===u)return i;return-1}clearBackTo(e,u){const i=this._indexOfTagNames(e,u);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(NA,Oe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(CA,Oe.HTML)}clearBackToTableRowContext(){this.clearBackTo(SA,Oe.HTML)}remove(e){const u=this._indexOf(e);u>=0&&(u===this.stackTop?this.pop():(this.items.splice(u,1),this.tagIDs.splice(u,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===g.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const u=this._indexOf(e)-1;return u>=0?this.items[u]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===g.HTML}hasInDynamicScope(e,u){for(let i=this.stackTop;i>=0;i--){const a=this.tagIDs[i];switch(this.treeAdapter.getNamespaceURI(this.items[i])){case Oe.HTML:{if(a===e)return!0;if(u.has(a))return!1;break}case Oe.SVG:{if(Qm.has(a))return!1;break}case Oe.MATHML:{if(Wm.has(a))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Wo)}hasInListItemScope(e){return this.hasInDynamicScope(e,AA)}hasInButtonScope(e){return this.hasInDynamicScope(e,xA)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const u=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Oe.HTML:{if(X0.has(u))return!0;if(Wo.has(u))return!1;break}case Oe.SVG:{if(Qm.has(u))return!1;break}case Oe.MATHML:{if(Wm.has(u))return!1;break}}}return!0}hasInTableScope(e){for(let u=this.stackTop;u>=0;u--)if(this.treeAdapter.getNamespaceURI(this.items[u])===Oe.HTML)switch(this.tagIDs[u]){case e:return!0;case g.TABLE:case g.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Oe.HTML)switch(this.tagIDs[e]){case g.TBODY:case g.THEAD:case g.TFOOT:return!0;case g.TABLE:case g.HTML:return!1}return!0}hasInSelectScope(e){for(let u=this.stackTop;u>=0;u--)if(this.treeAdapter.getNamespaceURI(this.items[u])===Oe.HTML)switch(this.tagIDs[u]){case e:return!0;case g.OPTION:case g.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&dv.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&Xm.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&Xm.has(this.currentTagId);)this.pop()}}const Yd=3;var ui;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(ui||(ui={}));const Km={type:ui.Marker};class OA{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,u){const i=[],a=u.length,l=this.treeAdapter.getTagName(e),c=this.treeAdapter.getNamespaceURI(e);for(let f=0;f<this.entries.length;f++){const h=this.entries[f];if(h.type===ui.Marker)break;const{element:p}=h;if(this.treeAdapter.getTagName(p)===l&&this.treeAdapter.getNamespaceURI(p)===c){const E=this.treeAdapter.getAttrList(p);E.length===a&&i.push({idx:f,attrs:E})}}return i}_ensureNoahArkCondition(e){if(this.entries.length<Yd)return;const u=this.treeAdapter.getAttrList(e),i=this._getNoahArkConditionCandidates(e,u);if(i.length<Yd)return;const a=new Map(u.map(c=>[c.name,c.value]));let l=0;for(let c=0;c<i.length;c++){const f=i[c];f.attrs.every(h=>a.get(h.name)===h.value)&&(l+=1,l>=Yd&&this.entries.splice(f.idx,1))}}insertMarker(){this.entries.unshift(Km)}pushElement(e,u){this._ensureNoahArkCondition(e),this.entries.unshift({type:ui.Element,element:e,token:u})}insertElementAfterBookmark(e,u){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:ui.Element,element:e,token:u})}removeEntry(e){const u=this.entries.indexOf(e);u!==-1&&this.entries.splice(u,1)}clearToLastMarker(){const e=this.entries.indexOf(Km);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const u=this.entries.find(i=>i.type===ui.Marker||this.treeAdapter.getTagName(i.element)===e);return u&&u.type===ui.Element?u:null}getElementEntry(e){return this.entries.find(u=>u.type===ui.Element&&u.element===e)}}const Ci={createDocument(){return{nodeName:"#document",mode:xn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,u){return{nodeName:t,tagName:t,attrs:u,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,u){const i=t.childNodes.indexOf(u);t.childNodes.splice(i,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,u,i){const a=t.childNodes.find(l=>l.nodeName==="#documentType");if(a)a.name=e,a.publicId=u,a.systemId=i;else{const l={nodeName:"#documentType",name:e,publicId:u,systemId:i,parentNode:null};Ci.appendChild(t,l)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const u=t.childNodes[t.childNodes.length-1];if(Ci.isTextNode(u)){u.value+=e;return}}Ci.appendChild(t,Ci.createTextNode(e))},insertTextBefore(t,e,u){const i=t.childNodes[t.childNodes.indexOf(u)-1];i&&Ci.isTextNode(i)?i.value+=e:Ci.insertBefore(t,Ci.createTextNode(e),u)},adoptAttributes(t,e){const u=new Set(t.attrs.map(i=>i.name));for(let i=0;i<e.length;i++)u.has(e[i].name)||t.attrs.push(e[i])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},hv="html",RA="about:legacy-compat",IA="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",pv=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],LA=[...pv,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],kA=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),mv=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],BA=[...mv,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function $m(t,e){return e.some(u=>t.startsWith(u))}function MA(t){return t.name===hv&&t.publicId===null&&(t.systemId===null||t.systemId===RA)}function UA(t){if(t.name!==hv)return xn.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===IA)return xn.QUIRKS;let{publicId:u}=t;if(u!==null){if(u=u.toLowerCase(),kA.has(u))return xn.QUIRKS;let i=e===null?LA:pv;if($m(u,i))return xn.QUIRKS;if(i=e===null?mv:BA,$m(u,i))return xn.LIMITED_QUIRKS}return xn.NO_QUIRKS}const Jm={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},PA="definitionurl",FA="definitionURL",HA=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),zA=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Oe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Oe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Oe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Oe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Oe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Oe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Oe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Oe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Oe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Oe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Oe.XMLNS}]]),qA=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),jA=new Set([g.B,g.BIG,g.BLOCKQUOTE,g.BODY,g.BR,g.CENTER,g.CODE,g.DD,g.DIV,g.DL,g.DT,g.EM,g.EMBED,g.H1,g.H2,g.H3,g.H4,g.H5,g.H6,g.HEAD,g.HR,g.I,g.IMG,g.LI,g.LISTING,g.MENU,g.META,g.NOBR,g.OL,g.P,g.PRE,g.RUBY,g.S,g.SMALL,g.SPAN,g.STRONG,g.STRIKE,g.SUB,g.SUP,g.TABLE,g.TT,g.U,g.UL,g.VAR]);function YA(t){const e=t.tagID;return e===g.FONT&&t.attrs.some(({name:i})=>i===Fr.COLOR||i===Fr.SIZE||i===Fr.FACE)||jA.has(e)}function gv(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===PA){t.attrs[e].name=FA;break}}function bv(t){for(let e=0;e<t.attrs.length;e++){const u=HA.get(t.attrs[e].name);u!=null&&(t.attrs[e].name=u)}}function Dh(t){for(let e=0;e<t.attrs.length;e++){const u=zA.get(t.attrs[e].name);u&&(t.attrs[e].prefix=u.prefix,t.attrs[e].name=u.name,t.attrs[e].namespace=u.namespace)}}function VA(t){const e=qA.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=vc(t.tagName))}function GA(t,e){return e===Oe.MATHML&&(t===g.MI||t===g.MO||t===g.MN||t===g.MS||t===g.MTEXT)}function ZA(t,e,u){if(e===Oe.MATHML&&t===g.ANNOTATION_XML){for(let i=0;i<u.length;i++)if(u[i].name===Fr.ENCODING){const a=u[i].value.toLowerCase();return a===Jm.TEXT_HTML||a===Jm.APPLICATION_XML}}return e===Oe.SVG&&(t===g.FOREIGN_OBJECT||t===g.DESC||t===g.TITLE)}function XA(t,e,u,i){return(!i||i===Oe.HTML)&&ZA(t,e,u)||(!i||i===Oe.MATHML)&&GA(t,e)}const WA="hidden",QA=8,KA=3;var Z;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Z||(Z={}));const $A={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},vv=new Set([g.TABLE,g.TBODY,g.TFOOT,g.THEAD,g.TR]),eg={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ci,onParseError:null};class Ev{constructor(e,u,i=null,a=null){this.fragmentContext=i,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=Z.INITIAL,this.originalInsertionMode=Z.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...eg,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=u??this.treeAdapter.createDocument(),this.tokenizer=new TA(this.options,this),this.activeFormattingElements=new OA(this.treeAdapter),this.fragmentContextID=i?vc(this.treeAdapter.getTagName(i)):g.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new wA(this.document,this.treeAdapter,this)}static parse(e,u){const i=new this(u);return i.tokenizer.write(e,!0),i.document}static getFragmentParser(e,u){const i={...eg,...u};e??(e=i.treeAdapter.createElement(he.TEMPLATE,Oe.HTML,[]));const a=i.treeAdapter.createElement("documentmock",Oe.HTML,[]),l=new this(i,a,e);return l.fragmentContextID===g.TEMPLATE&&l.tmplInsertionModeStack.unshift(Z.IN_TEMPLATE),l._initTokenizerForFragmentParsing(),l._insertFakeRootElement(),l._resetInsertionMode(),l._findFormInFragmentContext(),l}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),u=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,u),u}_err(e,u,i){var a;if(!this.onParseError)return;const l=(a=e.location)!==null&&a!==void 0?a:$A,c={code:u,startLine:l.startLine,startCol:l.startCol,startOffset:l.startOffset,endLine:i?l.startLine:l.endLine,endCol:i?l.startCol:l.endCol,endOffset:i?l.startOffset:l.endOffset};this.onParseError(c)}onItemPush(e,u,i){var a,l;(l=(a=this.treeAdapter).onItemPush)===null||l===void 0||l.call(a,e),i&&this.openElements.stackTop>0&&this._setContextModes(e,u)}onItemPop(e,u){var i,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(a=(i=this.treeAdapter).onItemPop)===null||a===void 0||a.call(i,e,this.openElements.current),u){let l,c;this.openElements.stackTop===0&&this.fragmentContext?(l=this.fragmentContext,c=this.fragmentContextID):{current:l,currentTagId:c}=this.openElements,this._setContextModes(l,c)}}_setContextModes(e,u){const i=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Oe.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&e!==void 0&&u!==void 0&&!this._isIntegrationPoint(u,e)}_switchToTextParsing(e,u){this._insertElement(e,Oe.HTML),this.tokenizer.state=u,this.originalInsertionMode=this.insertionMode,this.insertionMode=Z.TEXT}switchToPlaintextParsing(){this.insertionMode=Z.TEXT,this.originalInsertionMode=Z.IN_BODY,this.tokenizer.state=gn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===he.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Oe.HTML))switch(this.fragmentContextID){case g.TITLE:case g.TEXTAREA:{this.tokenizer.state=gn.RCDATA;break}case g.STYLE:case g.XMP:case g.IFRAME:case g.NOEMBED:case g.NOFRAMES:case g.NOSCRIPT:{this.tokenizer.state=gn.RAWTEXT;break}case g.SCRIPT:{this.tokenizer.state=gn.SCRIPT_DATA;break}case g.PLAINTEXT:{this.tokenizer.state=gn.PLAINTEXT;break}}}_setDocumentType(e){const u=e.name||"",i=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,u,i,a),e.location){const c=this.treeAdapter.getChildNodes(this.document).find(f=>this.treeAdapter.isDocumentTypeNode(f));c&&this.treeAdapter.setNodeSourceCodeLocation(c,e.location)}}_attachElementToTree(e,u){if(this.options.sourceCodeLocationInfo){const i=u&&{...u,startTag:u};this.treeAdapter.setNodeSourceCodeLocation(e,i)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const i=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(i??this.document,e)}}_appendElement(e,u){const i=this.treeAdapter.createElement(e.tagName,u,e.attrs);this._attachElementToTree(i,e.location)}_insertElement(e,u){const i=this.treeAdapter.createElement(e.tagName,u,e.attrs);this._attachElementToTree(i,e.location),this.openElements.push(i,e.tagID)}_insertFakeElement(e,u){const i=this.treeAdapter.createElement(e,Oe.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,u)}_insertTemplate(e){const u=this.treeAdapter.createElement(e.tagName,Oe.HTML,e.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(u,i),this._attachElementToTree(u,e.location),this.openElements.push(u,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(he.HTML,Oe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,g.HTML)}_appendCommentNode(e,u){const i=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(u,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_insertCharacters(e){let u,i;if(this._shouldFosterParentOnInsertion()?({parent:u,beforeElement:i}=this._findFosterParentingLocation(),i?this.treeAdapter.insertTextBefore(u,e.chars,i):this.treeAdapter.insertText(u,e.chars)):(u=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(u,e.chars)),!e.location)return;const a=this.treeAdapter.getChildNodes(u),l=i?a.lastIndexOf(i):a.length,c=a[l-1];if(this.treeAdapter.getNodeSourceCodeLocation(c)){const{endLine:h,endCol:p,endOffset:E}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(c,{endLine:h,endCol:p,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(c,e.location)}_adoptNodes(e,u){for(let i=this.treeAdapter.getFirstChild(e);i;i=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(u,i)}_setEndLocation(e,u){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&u.location){const i=u.location,a=this.treeAdapter.getTagName(e),l=u.type===Pt.END_TAG&&a===u.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,l)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let u,i;return this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,i=this.fragmentContextID):{current:u,currentTagId:i}=this.openElements,e.tagID===g.SVG&&this.treeAdapter.getTagName(u)===he.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(u)===Oe.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===g.MGLYPH||e.tagID===g.MALIGNMARK)&&i!==void 0&&!this._isIntegrationPoint(i,u,Oe.HTML)}_processToken(e){switch(e.type){case Pt.CHARACTER:{this.onCharacter(e);break}case Pt.NULL_CHARACTER:{this.onNullCharacter(e);break}case Pt.COMMENT:{this.onComment(e);break}case Pt.DOCTYPE:{this.onDoctype(e);break}case Pt.START_TAG:{this._processStartTag(e);break}case Pt.END_TAG:{this.onEndTag(e);break}case Pt.EOF:{this.onEof(e);break}case Pt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,u,i){const a=this.treeAdapter.getNamespaceURI(u),l=this.treeAdapter.getAttrList(u);return XA(e,a,l,i)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const u=this.activeFormattingElements.entries.findIndex(a=>a.type===ui.Marker||this.openElements.contains(a.element)),i=u===-1?e-1:u-1;for(let a=i;a>=0;a--){const l=this.activeFormattingElements.entries[a];this._insertElement(l.token,this.treeAdapter.getNamespaceURI(l.element)),l.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Z.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(g.P),this.openElements.popUntilTagNamePopped(g.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case g.TR:{this.insertionMode=Z.IN_ROW;return}case g.TBODY:case g.THEAD:case g.TFOOT:{this.insertionMode=Z.IN_TABLE_BODY;return}case g.CAPTION:{this.insertionMode=Z.IN_CAPTION;return}case g.COLGROUP:{this.insertionMode=Z.IN_COLUMN_GROUP;return}case g.TABLE:{this.insertionMode=Z.IN_TABLE;return}case g.BODY:{this.insertionMode=Z.IN_BODY;return}case g.FRAMESET:{this.insertionMode=Z.IN_FRAMESET;return}case g.SELECT:{this._resetInsertionModeForSelect(e);return}case g.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case g.HTML:{this.insertionMode=this.headElement?Z.AFTER_HEAD:Z.BEFORE_HEAD;return}case g.TD:case g.TH:{if(e>0){this.insertionMode=Z.IN_CELL;return}break}case g.HEAD:{if(e>0){this.insertionMode=Z.IN_HEAD;return}break}}this.insertionMode=Z.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let u=e-1;u>0;u--){const i=this.openElements.tagIDs[u];if(i===g.TEMPLATE)break;if(i===g.TABLE){this.insertionMode=Z.IN_SELECT_IN_TABLE;return}}this.insertionMode=Z.IN_SELECT}_isElementCausesFosterParenting(e){return vv.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const u=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case g.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(u)===Oe.HTML)return{parent:this.treeAdapter.getTemplateContent(u),beforeElement:null};break}case g.TABLE:{const i=this.treeAdapter.getParentNode(u);return i?{parent:i,beforeElement:u}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const u=this._findFosterParentingLocation();u.beforeElement?this.treeAdapter.insertBefore(u.parent,e,u.beforeElement):this.treeAdapter.appendChild(u.parent,e)}_isSpecialElement(e,u){const i=this.treeAdapter.getNamespaceURI(e);return gA[i].has(u)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){D8(this,e);return}switch(this.insertionMode){case Z.INITIAL:{Gs(this,e);break}case Z.BEFORE_HTML:{el(this,e);break}case Z.BEFORE_HEAD:{tl(this,e);break}case Z.IN_HEAD:{ul(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{nl(this,e);break}case Z.AFTER_HEAD:{il(this,e);break}case Z.IN_BODY:case Z.IN_CAPTION:case Z.IN_CELL:case Z.IN_TEMPLATE:{yv(this,e);break}case Z.TEXT:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Z.IN_TABLE:case Z.IN_TABLE_BODY:case Z.IN_ROW:{Vd(this,e);break}case Z.IN_TABLE_TEXT:{Nv(this,e);break}case Z.IN_COLUMN_GROUP:{Qo(this,e);break}case Z.AFTER_BODY:{Ko(this,e);break}case Z.AFTER_AFTER_BODY:{Po(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){N8(this,e);return}switch(this.insertionMode){case Z.INITIAL:{Gs(this,e);break}case Z.BEFORE_HTML:{el(this,e);break}case Z.BEFORE_HEAD:{tl(this,e);break}case Z.IN_HEAD:{ul(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{nl(this,e);break}case Z.AFTER_HEAD:{il(this,e);break}case Z.TEXT:{this._insertCharacters(e);break}case Z.IN_TABLE:case Z.IN_TABLE_BODY:case Z.IN_ROW:{Vd(this,e);break}case Z.IN_COLUMN_GROUP:{Qo(this,e);break}case Z.AFTER_BODY:{Ko(this,e);break}case Z.AFTER_AFTER_BODY:{Po(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){W0(this,e);return}switch(this.insertionMode){case Z.INITIAL:case Z.BEFORE_HTML:case Z.BEFORE_HEAD:case Z.IN_HEAD:case Z.IN_HEAD_NO_SCRIPT:case Z.AFTER_HEAD:case Z.IN_BODY:case Z.IN_TABLE:case Z.IN_CAPTION:case Z.IN_COLUMN_GROUP:case Z.IN_TABLE_BODY:case Z.IN_ROW:case Z.IN_CELL:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:case Z.IN_TEMPLATE:case Z.IN_FRAMESET:case Z.AFTER_FRAMESET:{W0(this,e);break}case Z.IN_TABLE_TEXT:{Zs(this,e);break}case Z.AFTER_BODY:{r4(this,e);break}case Z.AFTER_AFTER_BODY:case Z.AFTER_AFTER_FRAMESET:{a4(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Z.INITIAL:{s4(this,e);break}case Z.BEFORE_HEAD:case Z.IN_HEAD:case Z.IN_HEAD_NO_SCRIPT:case Z.AFTER_HEAD:{this._err(e,ye.misplacedDoctype);break}case Z.IN_TABLE_TEXT:{Zs(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ye.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?w8(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Z.INITIAL:{Gs(this,e);break}case Z.BEFORE_HTML:{l4(this,e);break}case Z.BEFORE_HEAD:{c4(this,e);break}case Z.IN_HEAD:{Qn(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{h4(this,e);break}case Z.AFTER_HEAD:{m4(this,e);break}case Z.IN_BODY:{nn(this,e);break}case Z.IN_TABLE:{Ma(this,e);break}case Z.IN_TABLE_TEXT:{Zs(this,e);break}case Z.IN_CAPTION:{f8(this,e);break}case Z.IN_COLUMN_GROUP:{Rh(this,e);break}case Z.IN_TABLE_BODY:{yc(this,e);break}case Z.IN_ROW:{Tc(this,e);break}case Z.IN_CELL:{p8(this,e);break}case Z.IN_SELECT:{Ov(this,e);break}case Z.IN_SELECT_IN_TABLE:{g8(this,e);break}case Z.IN_TEMPLATE:{v8(this,e);break}case Z.AFTER_BODY:{_8(this,e);break}case Z.IN_FRAMESET:{y8(this,e);break}case Z.AFTER_FRAMESET:{A8(this,e);break}case Z.AFTER_AFTER_BODY:{S8(this,e);break}case Z.AFTER_AFTER_FRAMESET:{C8(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?O8(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Z.INITIAL:{Gs(this,e);break}case Z.BEFORE_HTML:{o4(this,e);break}case Z.BEFORE_HEAD:{f4(this,e);break}case Z.IN_HEAD:{d4(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{p4(this,e);break}case Z.AFTER_HEAD:{g4(this,e);break}case Z.IN_BODY:{_c(this,e);break}case Z.TEXT:{t8(this,e);break}case Z.IN_TABLE:{cl(this,e);break}case Z.IN_TABLE_TEXT:{Zs(this,e);break}case Z.IN_CAPTION:{d8(this,e);break}case Z.IN_COLUMN_GROUP:{h8(this,e);break}case Z.IN_TABLE_BODY:{Q0(this,e);break}case Z.IN_ROW:{wv(this,e);break}case Z.IN_CELL:{m8(this,e);break}case Z.IN_SELECT:{Rv(this,e);break}case Z.IN_SELECT_IN_TABLE:{b8(this,e);break}case Z.IN_TEMPLATE:{E8(this,e);break}case Z.AFTER_BODY:{Lv(this,e);break}case Z.IN_FRAMESET:{T8(this,e);break}case Z.AFTER_FRAMESET:{x8(this,e);break}case Z.AFTER_AFTER_BODY:{Po(this,e);break}}}onEof(e){switch(this.insertionMode){case Z.INITIAL:{Gs(this,e);break}case Z.BEFORE_HTML:{el(this,e);break}case Z.BEFORE_HEAD:{tl(this,e);break}case Z.IN_HEAD:{ul(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{nl(this,e);break}case Z.AFTER_HEAD:{il(this,e);break}case Z.IN_BODY:case Z.IN_TABLE:case Z.IN_CAPTION:case Z.IN_COLUMN_GROUP:case Z.IN_TABLE_BODY:case Z.IN_ROW:case Z.IN_CELL:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:{Sv(this,e);break}case Z.TEXT:{u8(this,e);break}case Z.IN_TABLE_TEXT:{Zs(this,e);break}case Z.IN_TEMPLATE:{Iv(this,e);break}case Z.AFTER_BODY:case Z.IN_FRAMESET:case Z.AFTER_FRAMESET:case Z.AFTER_AFTER_BODY:case Z.AFTER_AFTER_FRAMESET:{Oh(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===P.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Z.IN_HEAD:case Z.IN_HEAD_NO_SCRIPT:case Z.AFTER_HEAD:case Z.TEXT:case Z.IN_COLUMN_GROUP:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:case Z.IN_FRAMESET:case Z.AFTER_FRAMESET:{this._insertCharacters(e);break}case Z.IN_BODY:case Z.IN_CAPTION:case Z.IN_CELL:case Z.IN_TEMPLATE:case Z.AFTER_BODY:case Z.AFTER_AFTER_BODY:case Z.AFTER_AFTER_FRAMESET:{_v(this,e);break}case Z.IN_TABLE:case Z.IN_TABLE_BODY:case Z.IN_ROW:{Vd(this,e);break}case Z.IN_TABLE_TEXT:{Cv(this,e);break}}}}function JA(t,e){let u=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return u?t.openElements.contains(u.element)?t.openElements.hasInScope(e.tagID)||(u=null):(t.activeFormattingElements.removeEntry(u),u=null):xv(t,e),u}function e4(t,e){let u=null,i=t.openElements.stackTop;for(;i>=0;i--){const a=t.openElements.items[i];if(a===e.element)break;t._isSpecialElement(a,t.openElements.tagIDs[i])&&(u=a)}return u||(t.openElements.shortenToLength(Math.max(i,0)),t.activeFormattingElements.removeEntry(e)),u}function t4(t,e,u){let i=e,a=t.openElements.getCommonAncestor(e);for(let l=0,c=a;c!==u;l++,c=a){a=t.openElements.getCommonAncestor(c);const f=t.activeFormattingElements.getElementEntry(c),h=f&&l>=KA;!f||h?(h&&t.activeFormattingElements.removeEntry(f),t.openElements.remove(c)):(c=u4(t,f),i===e&&(t.activeFormattingElements.bookmark=f),t.treeAdapter.detachNode(i),t.treeAdapter.appendChild(c,i),i=c)}return i}function u4(t,e){const u=t.treeAdapter.getNamespaceURI(e.element),i=t.treeAdapter.createElement(e.token.tagName,u,e.token.attrs);return t.openElements.replace(e.element,i),e.element=i,i}function n4(t,e,u){const i=t.treeAdapter.getTagName(e),a=vc(i);if(t._isElementCausesFosterParenting(a))t._fosterParentElement(u);else{const l=t.treeAdapter.getNamespaceURI(e);a===g.TEMPLATE&&l===Oe.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,u)}}function i4(t,e,u){const i=t.treeAdapter.getNamespaceURI(u.element),{token:a}=u,l=t.treeAdapter.createElement(a.tagName,i,a.attrs);t._adoptNodes(e,l),t.treeAdapter.appendChild(e,l),t.activeFormattingElements.insertElementAfterBookmark(l,a),t.activeFormattingElements.removeEntry(u),t.openElements.remove(u.element),t.openElements.insertAfter(e,l,a.tagID)}function wh(t,e){for(let u=0;u<QA;u++){const i=JA(t,e);if(!i)break;const a=e4(t,i);if(!a)break;t.activeFormattingElements.bookmark=i;const l=t4(t,a,i.element),c=t.openElements.getCommonAncestor(i.element);t.treeAdapter.detachNode(l),c&&n4(t,c,l),i4(t,a,i)}}function W0(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function r4(t,e){t._appendCommentNode(e,t.openElements.items[0])}function a4(t,e){t._appendCommentNode(e,t.document)}function Oh(t,e){if(t.stopped=!0,e.location){const u=t.fragmentContext?0:2;for(let i=t.openElements.stackTop;i>=u;i--)t._setEndLocation(t.openElements.items[i],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const i=t.openElements.items[0],a=t.treeAdapter.getNodeSourceCodeLocation(i);if(a&&!a.endTag&&(t._setEndLocation(i,e),t.openElements.stackTop>=1)){const l=t.openElements.items[1],c=t.treeAdapter.getNodeSourceCodeLocation(l);c&&!c.endTag&&t._setEndLocation(l,e)}}}}function s4(t,e){t._setDocumentType(e);const u=e.forceQuirks?xn.QUIRKS:UA(e);MA(e)||t._err(e,ye.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,u),t.insertionMode=Z.BEFORE_HTML}function Gs(t,e){t._err(e,ye.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,xn.QUIRKS),t.insertionMode=Z.BEFORE_HTML,t._processToken(e)}function l4(t,e){e.tagID===g.HTML?(t._insertElement(e,Oe.HTML),t.insertionMode=Z.BEFORE_HEAD):el(t,e)}function o4(t,e){const u=e.tagID;(u===g.HTML||u===g.HEAD||u===g.BODY||u===g.BR)&&el(t,e)}function el(t,e){t._insertFakeRootElement(),t.insertionMode=Z.BEFORE_HEAD,t._processToken(e)}function c4(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.HEAD:{t._insertElement(e,Oe.HTML),t.headElement=t.openElements.current,t.insertionMode=Z.IN_HEAD;break}default:tl(t,e)}}function f4(t,e){const u=e.tagID;u===g.HEAD||u===g.BODY||u===g.HTML||u===g.BR?tl(t,e):t._err(e,ye.endTagWithoutMatchingOpenElement)}function tl(t,e){t._insertFakeElement(he.HEAD,g.HEAD),t.headElement=t.openElements.current,t.insertionMode=Z.IN_HEAD,t._processToken(e)}function Qn(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.BASE:case g.BASEFONT:case g.BGSOUND:case g.LINK:case g.META:{t._appendElement(e,Oe.HTML),e.ackSelfClosing=!0;break}case g.TITLE:{t._switchToTextParsing(e,gn.RCDATA);break}case g.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,gn.RAWTEXT):(t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_HEAD_NO_SCRIPT);break}case g.NOFRAMES:case g.STYLE:{t._switchToTextParsing(e,gn.RAWTEXT);break}case g.SCRIPT:{t._switchToTextParsing(e,gn.SCRIPT_DATA);break}case g.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Z.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Z.IN_TEMPLATE);break}case g.HEAD:{t._err(e,ye.misplacedStartTagForHeadElement);break}default:ul(t,e)}}function d4(t,e){switch(e.tagID){case g.HEAD:{t.openElements.pop(),t.insertionMode=Z.AFTER_HEAD;break}case g.BODY:case g.BR:case g.HTML:{ul(t,e);break}case g.TEMPLATE:{Vr(t,e);break}default:t._err(e,ye.endTagWithoutMatchingOpenElement)}}function Vr(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==g.TEMPLATE&&t._err(e,ye.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(g.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ye.endTagWithoutMatchingOpenElement)}function ul(t,e){t.openElements.pop(),t.insertionMode=Z.AFTER_HEAD,t._processToken(e)}function h4(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.BASEFONT:case g.BGSOUND:case g.HEAD:case g.LINK:case g.META:case g.NOFRAMES:case g.STYLE:{Qn(t,e);break}case g.NOSCRIPT:{t._err(e,ye.nestedNoscriptInHead);break}default:nl(t,e)}}function p4(t,e){switch(e.tagID){case g.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Z.IN_HEAD;break}case g.BR:{nl(t,e);break}default:t._err(e,ye.endTagWithoutMatchingOpenElement)}}function nl(t,e){const u=e.type===Pt.EOF?ye.openElementsLeftAfterEof:ye.disallowedContentInNoscriptInHead;t._err(e,u),t.openElements.pop(),t.insertionMode=Z.IN_HEAD,t._processToken(e)}function m4(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.BODY:{t._insertElement(e,Oe.HTML),t.framesetOk=!1,t.insertionMode=Z.IN_BODY;break}case g.FRAMESET:{t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_FRAMESET;break}case g.BASE:case g.BASEFONT:case g.BGSOUND:case g.LINK:case g.META:case g.NOFRAMES:case g.SCRIPT:case g.STYLE:case g.TEMPLATE:case g.TITLE:{t._err(e,ye.abandonedHeadElementChild),t.openElements.push(t.headElement,g.HEAD),Qn(t,e),t.openElements.remove(t.headElement);break}case g.HEAD:{t._err(e,ye.misplacedStartTagForHeadElement);break}default:il(t,e)}}function g4(t,e){switch(e.tagID){case g.BODY:case g.HTML:case g.BR:{il(t,e);break}case g.TEMPLATE:{Vr(t,e);break}default:t._err(e,ye.endTagWithoutMatchingOpenElement)}}function il(t,e){t._insertFakeElement(he.BODY,g.BODY),t.insertionMode=Z.IN_BODY,Ec(t,e)}function Ec(t,e){switch(e.type){case Pt.CHARACTER:{yv(t,e);break}case Pt.WHITESPACE_CHARACTER:{_v(t,e);break}case Pt.COMMENT:{W0(t,e);break}case Pt.START_TAG:{nn(t,e);break}case Pt.END_TAG:{_c(t,e);break}case Pt.EOF:{Sv(t,e);break}}}function _v(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function yv(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function b4(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function v4(t,e){const u=t.openElements.tryPeekProperlyNestedBodyElement();u&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(u,e.attrs))}function E4(t,e){const u=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&u&&(t.treeAdapter.detachNode(u),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_FRAMESET)}function _4(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,Oe.HTML)}function y4(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&X0.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Oe.HTML)}function T4(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,Oe.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function A4(t,e){const u=t.openElements.tmplCount>0;(!t.formElement||u)&&(t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,Oe.HTML),u||(t.formElement=t.openElements.current))}function x4(t,e){t.framesetOk=!1;const u=e.tagID;for(let i=t.openElements.stackTop;i>=0;i--){const a=t.openElements.tagIDs[i];if(u===g.LI&&a===g.LI||(u===g.DD||u===g.DT)&&(a===g.DD||a===g.DT)){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.popUntilTagNamePopped(a);break}if(a!==g.ADDRESS&&a!==g.DIV&&a!==g.P&&t._isSpecialElement(t.openElements.items[i],a))break}t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,Oe.HTML)}function S4(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,Oe.HTML),t.tokenizer.state=gn.PLAINTEXT}function C4(t,e){t.openElements.hasInScope(g.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(g.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Oe.HTML),t.framesetOk=!1}function N4(t,e){const u=t.activeFormattingElements.getElementEntryInScopeWithTagName(he.A);u&&(wh(t,e),t.openElements.remove(u.element),t.activeFormattingElements.removeEntry(u)),t._reconstructActiveFormattingElements(),t._insertElement(e,Oe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function D4(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Oe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function w4(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(g.NOBR)&&(wh(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Oe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function O4(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Oe.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function R4(t,e){t.treeAdapter.getDocumentMode(t.document)!==xn.QUIRKS&&t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._insertElement(e,Oe.HTML),t.framesetOk=!1,t.insertionMode=Z.IN_TABLE}function Tv(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Oe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Av(t){const e=cv(t,Fr.TYPE);return e!=null&&e.toLowerCase()===WA}function I4(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Oe.HTML),Av(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function L4(t,e){t._appendElement(e,Oe.HTML),e.ackSelfClosing=!0}function k4(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._appendElement(e,Oe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function B4(t,e){e.tagName=he.IMG,e.tagID=g.IMG,Tv(t,e)}function M4(t,e){t._insertElement(e,Oe.HTML),t.skipNextNewLine=!0,t.tokenizer.state=gn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Z.TEXT}function U4(t,e){t.openElements.hasInButtonScope(g.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,gn.RAWTEXT)}function P4(t,e){t.framesetOk=!1,t._switchToTextParsing(e,gn.RAWTEXT)}function tg(t,e){t._switchToTextParsing(e,gn.RAWTEXT)}function F4(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Oe.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Z.IN_TABLE||t.insertionMode===Z.IN_CAPTION||t.insertionMode===Z.IN_TABLE_BODY||t.insertionMode===Z.IN_ROW||t.insertionMode===Z.IN_CELL?Z.IN_SELECT_IN_TABLE:Z.IN_SELECT}function H4(t,e){t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Oe.HTML)}function z4(t,e){t.openElements.hasInScope(g.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Oe.HTML)}function q4(t,e){t.openElements.hasInScope(g.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(g.RTC),t._insertElement(e,Oe.HTML)}function j4(t,e){t._reconstructActiveFormattingElements(),gv(e),Dh(e),e.selfClosing?t._appendElement(e,Oe.MATHML):t._insertElement(e,Oe.MATHML),e.ackSelfClosing=!0}function Y4(t,e){t._reconstructActiveFormattingElements(),bv(e),Dh(e),e.selfClosing?t._appendElement(e,Oe.SVG):t._insertElement(e,Oe.SVG),e.ackSelfClosing=!0}function ug(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Oe.HTML)}function nn(t,e){switch(e.tagID){case g.I:case g.S:case g.B:case g.U:case g.EM:case g.TT:case g.BIG:case g.CODE:case g.FONT:case g.SMALL:case g.STRIKE:case g.STRONG:{D4(t,e);break}case g.A:{N4(t,e);break}case g.H1:case g.H2:case g.H3:case g.H4:case g.H5:case g.H6:{y4(t,e);break}case g.P:case g.DL:case g.OL:case g.UL:case g.DIV:case g.DIR:case g.NAV:case g.MAIN:case g.MENU:case g.ASIDE:case g.CENTER:case g.FIGURE:case g.FOOTER:case g.HEADER:case g.HGROUP:case g.DIALOG:case g.DETAILS:case g.ADDRESS:case g.ARTICLE:case g.SEARCH:case g.SECTION:case g.SUMMARY:case g.FIELDSET:case g.BLOCKQUOTE:case g.FIGCAPTION:{_4(t,e);break}case g.LI:case g.DD:case g.DT:{x4(t,e);break}case g.BR:case g.IMG:case g.WBR:case g.AREA:case g.EMBED:case g.KEYGEN:{Tv(t,e);break}case g.HR:{k4(t,e);break}case g.RB:case g.RTC:{z4(t,e);break}case g.RT:case g.RP:{q4(t,e);break}case g.PRE:case g.LISTING:{T4(t,e);break}case g.XMP:{U4(t,e);break}case g.SVG:{Y4(t,e);break}case g.HTML:{b4(t,e);break}case g.BASE:case g.LINK:case g.META:case g.STYLE:case g.TITLE:case g.SCRIPT:case g.BGSOUND:case g.BASEFONT:case g.TEMPLATE:{Qn(t,e);break}case g.BODY:{v4(t,e);break}case g.FORM:{A4(t,e);break}case g.NOBR:{w4(t,e);break}case g.MATH:{j4(t,e);break}case g.TABLE:{R4(t,e);break}case g.INPUT:{I4(t,e);break}case g.PARAM:case g.TRACK:case g.SOURCE:{L4(t,e);break}case g.IMAGE:{B4(t,e);break}case g.BUTTON:{C4(t,e);break}case g.APPLET:case g.OBJECT:case g.MARQUEE:{O4(t,e);break}case g.IFRAME:{P4(t,e);break}case g.SELECT:{F4(t,e);break}case g.OPTION:case g.OPTGROUP:{H4(t,e);break}case g.NOEMBED:case g.NOFRAMES:{tg(t,e);break}case g.FRAMESET:{E4(t,e);break}case g.TEXTAREA:{M4(t,e);break}case g.NOSCRIPT:{t.options.scriptingEnabled?tg(t,e):ug(t,e);break}case g.PLAINTEXT:{S4(t,e);break}case g.COL:case g.TH:case g.TD:case g.TR:case g.HEAD:case g.FRAME:case g.TBODY:case g.TFOOT:case g.THEAD:case g.CAPTION:case g.COLGROUP:break;default:ug(t,e)}}function V4(t,e){if(t.openElements.hasInScope(g.BODY)&&(t.insertionMode=Z.AFTER_BODY,t.options.sourceCodeLocationInfo)){const u=t.openElements.tryPeekProperlyNestedBodyElement();u&&t._setEndLocation(u,e)}}function G4(t,e){t.openElements.hasInScope(g.BODY)&&(t.insertionMode=Z.AFTER_BODY,Lv(t,e))}function Z4(t,e){const u=e.tagID;t.openElements.hasInScope(u)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(u))}function X4(t){const e=t.openElements.tmplCount>0,{formElement:u}=t;e||(t.formElement=null),(u||e)&&t.openElements.hasInScope(g.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(g.FORM):u&&t.openElements.remove(u))}function W4(t){t.openElements.hasInButtonScope(g.P)||t._insertFakeElement(he.P,g.P),t._closePElement()}function Q4(t){t.openElements.hasInListItemScope(g.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(g.LI),t.openElements.popUntilTagNamePopped(g.LI))}function K4(t,e){const u=e.tagID;t.openElements.hasInScope(u)&&(t.openElements.generateImpliedEndTagsWithExclusion(u),t.openElements.popUntilTagNamePopped(u))}function $4(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function J4(t,e){const u=e.tagID;t.openElements.hasInScope(u)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(u),t.activeFormattingElements.clearToLastMarker())}function e8(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(he.BR,g.BR),t.openElements.pop(),t.framesetOk=!1}function xv(t,e){const u=e.tagName,i=e.tagID;for(let a=t.openElements.stackTop;a>0;a--){const l=t.openElements.items[a],c=t.openElements.tagIDs[a];if(i===c&&(i!==g.UNKNOWN||t.treeAdapter.getTagName(l)===u)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.stackTop>=a&&t.openElements.shortenToLength(a);break}if(t._isSpecialElement(l,c))break}}function _c(t,e){switch(e.tagID){case g.A:case g.B:case g.I:case g.S:case g.U:case g.EM:case g.TT:case g.BIG:case g.CODE:case g.FONT:case g.NOBR:case g.SMALL:case g.STRIKE:case g.STRONG:{wh(t,e);break}case g.P:{W4(t);break}case g.DL:case g.UL:case g.OL:case g.DIR:case g.DIV:case g.NAV:case g.PRE:case g.MAIN:case g.MENU:case g.ASIDE:case g.BUTTON:case g.CENTER:case g.FIGURE:case g.FOOTER:case g.HEADER:case g.HGROUP:case g.DIALOG:case g.ADDRESS:case g.ARTICLE:case g.DETAILS:case g.SEARCH:case g.SECTION:case g.SUMMARY:case g.LISTING:case g.FIELDSET:case g.BLOCKQUOTE:case g.FIGCAPTION:{Z4(t,e);break}case g.LI:{Q4(t);break}case g.DD:case g.DT:{K4(t,e);break}case g.H1:case g.H2:case g.H3:case g.H4:case g.H5:case g.H6:{$4(t);break}case g.BR:{e8(t);break}case g.BODY:{V4(t,e);break}case g.HTML:{G4(t,e);break}case g.FORM:{X4(t);break}case g.APPLET:case g.OBJECT:case g.MARQUEE:{J4(t,e);break}case g.TEMPLATE:{Vr(t,e);break}default:xv(t,e)}}function Sv(t,e){t.tmplInsertionModeStack.length>0?Iv(t,e):Oh(t,e)}function t8(t,e){var u;e.tagID===g.SCRIPT&&((u=t.scriptHandler)===null||u===void 0||u.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function u8(t,e){t._err(e,ye.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Vd(t,e){if(t.openElements.currentTagId!==void 0&&vv.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Z.IN_TABLE_TEXT,e.type){case Pt.CHARACTER:{Nv(t,e);break}case Pt.WHITESPACE_CHARACTER:{Cv(t,e);break}}else yl(t,e)}function n8(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_CAPTION}function i8(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_COLUMN_GROUP}function r8(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(he.COLGROUP,g.COLGROUP),t.insertionMode=Z.IN_COLUMN_GROUP,Rh(t,e)}function a8(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_TABLE_BODY}function s8(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(he.TBODY,g.TBODY),t.insertionMode=Z.IN_TABLE_BODY,yc(t,e)}function l8(t,e){t.openElements.hasInTableScope(g.TABLE)&&(t.openElements.popUntilTagNamePopped(g.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function o8(t,e){Av(e)?t._appendElement(e,Oe.HTML):yl(t,e),e.ackSelfClosing=!0}function c8(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Oe.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Ma(t,e){switch(e.tagID){case g.TD:case g.TH:case g.TR:{s8(t,e);break}case g.STYLE:case g.SCRIPT:case g.TEMPLATE:{Qn(t,e);break}case g.COL:{r8(t,e);break}case g.FORM:{c8(t,e);break}case g.TABLE:{l8(t,e);break}case g.TBODY:case g.TFOOT:case g.THEAD:{a8(t,e);break}case g.INPUT:{o8(t,e);break}case g.CAPTION:{n8(t,e);break}case g.COLGROUP:{i8(t,e);break}default:yl(t,e)}}function cl(t,e){switch(e.tagID){case g.TABLE:{t.openElements.hasInTableScope(g.TABLE)&&(t.openElements.popUntilTagNamePopped(g.TABLE),t._resetInsertionMode());break}case g.TEMPLATE:{Vr(t,e);break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:case g.TBODY:case g.TD:case g.TFOOT:case g.TH:case g.THEAD:case g.TR:break;default:yl(t,e)}}function yl(t,e){const u=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Ec(t,e),t.fosterParentingEnabled=u}function Cv(t,e){t.pendingCharacterTokens.push(e)}function Nv(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Zs(t,e){let u=0;if(t.hasNonWhitespacePendingCharacterToken)for(;u<t.pendingCharacterTokens.length;u++)yl(t,t.pendingCharacterTokens[u]);else for(;u<t.pendingCharacterTokens.length;u++)t._insertCharacters(t.pendingCharacterTokens[u]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Dv=new Set([g.CAPTION,g.COL,g.COLGROUP,g.TBODY,g.TD,g.TFOOT,g.TH,g.THEAD,g.TR]);function f8(t,e){const u=e.tagID;Dv.has(u)?t.openElements.hasInTableScope(g.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(g.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Z.IN_TABLE,Ma(t,e)):nn(t,e)}function d8(t,e){const u=e.tagID;switch(u){case g.CAPTION:case g.TABLE:{t.openElements.hasInTableScope(g.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(g.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Z.IN_TABLE,u===g.TABLE&&cl(t,e));break}case g.BODY:case g.COL:case g.COLGROUP:case g.HTML:case g.TBODY:case g.TD:case g.TFOOT:case g.TH:case g.THEAD:case g.TR:break;default:_c(t,e)}}function Rh(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.COL:{t._appendElement(e,Oe.HTML),e.ackSelfClosing=!0;break}case g.TEMPLATE:{Qn(t,e);break}default:Qo(t,e)}}function h8(t,e){switch(e.tagID){case g.COLGROUP:{t.openElements.currentTagId===g.COLGROUP&&(t.openElements.pop(),t.insertionMode=Z.IN_TABLE);break}case g.TEMPLATE:{Vr(t,e);break}case g.COL:break;default:Qo(t,e)}}function Qo(t,e){t.openElements.currentTagId===g.COLGROUP&&(t.openElements.pop(),t.insertionMode=Z.IN_TABLE,t._processToken(e))}function yc(t,e){switch(e.tagID){case g.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_ROW;break}case g.TH:case g.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(he.TR,g.TR),t.insertionMode=Z.IN_ROW,Tc(t,e);break}case g.CAPTION:case g.COL:case g.COLGROUP:case g.TBODY:case g.TFOOT:case g.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE,Ma(t,e));break}default:Ma(t,e)}}function Q0(t,e){const u=e.tagID;switch(e.tagID){case g.TBODY:case g.TFOOT:case g.THEAD:{t.openElements.hasInTableScope(u)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE);break}case g.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE,cl(t,e));break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:case g.TD:case g.TH:case g.TR:break;default:cl(t,e)}}function Tc(t,e){switch(e.tagID){case g.TH:case g.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Oe.HTML),t.insertionMode=Z.IN_CELL,t.activeFormattingElements.insertMarker();break}case g.CAPTION:case g.COL:case g.COLGROUP:case g.TBODY:case g.TFOOT:case g.THEAD:case g.TR:{t.openElements.hasInTableScope(g.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY,yc(t,e));break}default:Ma(t,e)}}function wv(t,e){switch(e.tagID){case g.TR:{t.openElements.hasInTableScope(g.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY);break}case g.TABLE:{t.openElements.hasInTableScope(g.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY,Q0(t,e));break}case g.TBODY:case g.TFOOT:case g.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(g.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY,Q0(t,e));break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:case g.TD:case g.TH:break;default:cl(t,e)}}function p8(t,e){const u=e.tagID;Dv.has(u)?(t.openElements.hasInTableScope(g.TD)||t.openElements.hasInTableScope(g.TH))&&(t._closeTableCell(),Tc(t,e)):nn(t,e)}function m8(t,e){const u=e.tagID;switch(u){case g.TD:case g.TH:{t.openElements.hasInTableScope(u)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(u),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Z.IN_ROW);break}case g.TABLE:case g.TBODY:case g.TFOOT:case g.THEAD:case g.TR:{t.openElements.hasInTableScope(u)&&(t._closeTableCell(),wv(t,e));break}case g.BODY:case g.CAPTION:case g.COL:case g.COLGROUP:case g.HTML:break;default:_c(t,e)}}function Ov(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.OPTION:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t._insertElement(e,Oe.HTML);break}case g.OPTGROUP:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t.openElements.currentTagId===g.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Oe.HTML);break}case g.HR:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop(),t.openElements.currentTagId===g.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Oe.HTML),e.ackSelfClosing=!0;break}case g.INPUT:case g.KEYGEN:case g.TEXTAREA:case g.SELECT:{t.openElements.hasInSelectScope(g.SELECT)&&(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode(),e.tagID!==g.SELECT&&t._processStartTag(e));break}case g.SCRIPT:case g.TEMPLATE:{Qn(t,e);break}}}function Rv(t,e){switch(e.tagID){case g.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===g.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===g.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===g.OPTGROUP&&t.openElements.pop();break}case g.OPTION:{t.openElements.currentTagId===g.OPTION&&t.openElements.pop();break}case g.SELECT:{t.openElements.hasInSelectScope(g.SELECT)&&(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode());break}case g.TEMPLATE:{Vr(t,e);break}}}function g8(t,e){const u=e.tagID;u===g.CAPTION||u===g.TABLE||u===g.TBODY||u===g.TFOOT||u===g.THEAD||u===g.TR||u===g.TD||u===g.TH?(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode(),t._processStartTag(e)):Ov(t,e)}function b8(t,e){const u=e.tagID;u===g.CAPTION||u===g.TABLE||u===g.TBODY||u===g.TFOOT||u===g.THEAD||u===g.TR||u===g.TD||u===g.TH?t.openElements.hasInTableScope(u)&&(t.openElements.popUntilTagNamePopped(g.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Rv(t,e)}function v8(t,e){switch(e.tagID){case g.BASE:case g.BASEFONT:case g.BGSOUND:case g.LINK:case g.META:case g.NOFRAMES:case g.SCRIPT:case g.STYLE:case g.TEMPLATE:case g.TITLE:{Qn(t,e);break}case g.CAPTION:case g.COLGROUP:case g.TBODY:case g.TFOOT:case g.THEAD:{t.tmplInsertionModeStack[0]=Z.IN_TABLE,t.insertionMode=Z.IN_TABLE,Ma(t,e);break}case g.COL:{t.tmplInsertionModeStack[0]=Z.IN_COLUMN_GROUP,t.insertionMode=Z.IN_COLUMN_GROUP,Rh(t,e);break}case g.TR:{t.tmplInsertionModeStack[0]=Z.IN_TABLE_BODY,t.insertionMode=Z.IN_TABLE_BODY,yc(t,e);break}case g.TD:case g.TH:{t.tmplInsertionModeStack[0]=Z.IN_ROW,t.insertionMode=Z.IN_ROW,Tc(t,e);break}default:t.tmplInsertionModeStack[0]=Z.IN_BODY,t.insertionMode=Z.IN_BODY,nn(t,e)}}function E8(t,e){e.tagID===g.TEMPLATE&&Vr(t,e)}function Iv(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(g.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):Oh(t,e)}function _8(t,e){e.tagID===g.HTML?nn(t,e):Ko(t,e)}function Lv(t,e){var u;if(e.tagID===g.HTML){if(t.fragmentContext||(t.insertionMode=Z.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===g.HTML){t._setEndLocation(t.openElements.items[0],e);const i=t.openElements.items[1];i&&!(!((u=t.treeAdapter.getNodeSourceCodeLocation(i))===null||u===void 0)&&u.endTag)&&t._setEndLocation(i,e)}}else Ko(t,e)}function Ko(t,e){t.insertionMode=Z.IN_BODY,Ec(t,e)}function y8(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.FRAMESET:{t._insertElement(e,Oe.HTML);break}case g.FRAME:{t._appendElement(e,Oe.HTML),e.ackSelfClosing=!0;break}case g.NOFRAMES:{Qn(t,e);break}}}function T8(t,e){e.tagID===g.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==g.FRAMESET&&(t.insertionMode=Z.AFTER_FRAMESET))}function A8(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.NOFRAMES:{Qn(t,e);break}}}function x8(t,e){e.tagID===g.HTML&&(t.insertionMode=Z.AFTER_AFTER_FRAMESET)}function S8(t,e){e.tagID===g.HTML?nn(t,e):Po(t,e)}function Po(t,e){t.insertionMode=Z.IN_BODY,Ec(t,e)}function C8(t,e){switch(e.tagID){case g.HTML:{nn(t,e);break}case g.NOFRAMES:{Qn(t,e);break}}}function N8(t,e){e.chars=pu,t._insertCharacters(e)}function D8(t,e){t._insertCharacters(e),t.framesetOk=!1}function kv(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Oe.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function w8(t,e){if(YA(e))kv(t),t._startTagOutsideForeignContent(e);else{const u=t._getAdjustedCurrentElement(),i=t.treeAdapter.getNamespaceURI(u);i===Oe.MATHML?gv(e):i===Oe.SVG&&(VA(e),bv(e)),Dh(e),e.selfClosing?t._appendElement(e,i):t._insertElement(e,i),e.ackSelfClosing=!0}}function O8(t,e){if(e.tagID===g.P||e.tagID===g.BR){kv(t),t._endTagOutsideForeignContent(e);return}for(let u=t.openElements.stackTop;u>0;u--){const i=t.openElements.items[u];if(t.treeAdapter.getNamespaceURI(i)===Oe.HTML){t._endTagOutsideForeignContent(e);break}const a=t.treeAdapter.getTagName(i);if(a.toLowerCase()===e.tagName){e.tagName=a,t.openElements.shortenToLength(u);break}}}function Bv(t,e){return function(i){let a,l=0,c="";for(;a=t.exec(i);)l!==a.index&&(c+=i.substring(l,a.index)),c+=e.get(a[0].charCodeAt(0)),l=a.index+1;return c+i.substring(l)}}const R8=Bv(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),I8=Bv(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),L8=new Set([he.AREA,he.BASE,he.BASEFONT,he.BGSOUND,he.BR,he.COL,he.EMBED,he.FRAME,he.HR,he.IMG,he.INPUT,he.KEYGEN,he.LINK,he.META,he.PARAM,he.SOURCE,he.TRACK,he.WBR]);function k8(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===Oe.HTML&&L8.has(e.treeAdapter.getTagName(t))}const B8={treeAdapter:Ci,scriptingEnabled:!0};function M8(t,e){const u={...B8,...e};return Mv(t,u)}function U8(t,e){let u="";const i=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===he.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===Oe.HTML?e.treeAdapter.getTemplateContent(t):t,a=e.treeAdapter.getChildNodes(i);if(a)for(const l of a)u+=Mv(l,e);return u}function Mv(t,e){return e.treeAdapter.isElementNode(t)?P8(t,e):e.treeAdapter.isTextNode(t)?H8(t,e):e.treeAdapter.isCommentNode(t)?z8(t,e):e.treeAdapter.isDocumentTypeNode(t)?q8(t,e):""}function P8(t,e){const u=e.treeAdapter.getTagName(t);return`<${u}${F8(t,e)}>${k8(t,e)?"":`${U8(t,e)}</${u}>`}`}function F8(t,{treeAdapter:e}){let u="";for(const i of e.getAttrList(t)){if(u+=" ",i.namespace)switch(i.namespace){case Oe.XML:{u+=`xml:${i.name}`;break}case Oe.XMLNS:{i.name!=="xmlns"&&(u+="xmlns:"),u+=i.name;break}case Oe.XLINK:{u+=`xlink:${i.name}`;break}default:u+=`${i.prefix}:${i.name}`}else u+=i.name;u+=`="${R8(i.value)}"`}return u}function H8(t,e){const{treeAdapter:u}=e,i=u.getTextNodeContent(t),a=u.getParentNode(t),l=a&&u.isElementNode(a)&&u.getTagName(a);return l&&u.getNamespaceURI(a)===Oe.HTML&&vA(l,e.scriptingEnabled)?i:I8(i)}function z8(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function q8(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}function j8(t,e){return Ev.parse(t,e)}function Y8(t,e,u){typeof t=="string"&&(u=e,e=t,t=null);const i=Ev.getFragmentParser(t,u);return i.tokenizer.write(e,!0),i.getFragment()}function ng(t){const e=t.includes('"')?"'":'"';return e+t+e}function V8(t,e,u){let i="!DOCTYPE ";return t&&(i+=t),e?i+=` PUBLIC ${ng(e)}`:u&&(i+=" SYSTEM"),u&&(i+=` ${ng(u)}`),i}const ir={isCommentNode:hc,isElementNode:ct,isTextNode:ri,createDocument(){const t=new Hr([]);return t["x-mode"]=xn.NO_QUIRKS,t},createDocumentFragment(){return new Hr([])},createElement(t,e,u){const i=Object.create(null),a=Object.create(null),l=Object.create(null);for(let f=0;f<u.length;f++){const h=u[f].name;i[h]=u[f].value,a[h]=u[f].namespace,l[h]=u[f].prefix}const c=new ph(t,i,[]);return c.namespace=e,c["x-attribsNamespace"]=a,c["x-attribsPrefix"]=l,c},createCommentNode(t){return new fh(t)},createTextNode(t){return new rl(t)},appendChild(t,e){const u=t.children[t.children.length-1];u&&(u.next=e,e.prev=u),t.children.push(e),e.parent=t},insertBefore(t,e,u){const i=t.children.indexOf(u),{prev:a}=u;a&&(a.next=e,e.prev=a),u.prev=e,e.next=u,t.children.splice(i,0,e),e.parent=t},setTemplateContent(t,e){ir.appendChild(t,e)},getTemplateContent(t){return t.children[0]},setDocumentType(t,e,u,i){const a=V8(e,u,i);let l=t.children.find(c=>P0(c)&&c.name==="!doctype");l?l.data=a??null:(l=new dh("!doctype",a),ir.appendChild(t,l)),l["x-name"]=e,l["x-publicId"]=u,l["x-systemId"]=i},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode(t){return t["x-mode"]},detachNode(t){if(t.parent){const e=t.parent.children.indexOf(t),{prev:u,next:i}=t;t.prev=null,t.next=null,u&&(u.next=i),i&&(i.prev=u),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){const u=t.children[t.children.length-1];u&&ri(u)?u.data+=e:ir.appendChild(t,ir.createTextNode(e))},insertTextBefore(t,e,u){const i=t.children[t.children.indexOf(u)-1];i&&ri(i)?i.data+=e:ir.insertBefore(t,ir.createTextNode(e),u)},adoptAttributes(t,e){for(let u=0;u<e.length;u++){const i=e[u].name;t.attribs[i]===void 0&&(t.attribs[i]=e[u].value,t["x-attribsNamespace"][i]=e[u].namespace,t["x-attribsPrefix"][i]=e[u].prefix)}},getFirstChild(t){return t.children[0]},getChildNodes(t){return t.children},getParentNode(t){return t.parent},getAttrList(t){return t.attributes},getTagName(t){return t.name},getNamespaceURI(t){return t.namespace},getTextNodeContent(t){return t.data},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){var e;return(e=t["x-name"])!==null&&e!==void 0?e:""},getDocumentTypeNodePublicId(t){var e;return(e=t["x-publicId"])!==null&&e!==void 0?e:""},getDocumentTypeNodeSystemId(t){var e;return(e=t["x-systemId"])!==null&&e!==void 0?e:""},isDocumentTypeNode(t){return P0(t)&&t.name==="!doctype"},setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){e.endOffset!=null&&(t.endIndex=e.endOffset),t.sourceCodeLocation={...t.sourceCodeLocation,...e}}};function G8(t,e,u,i){var a;return(a=e.treeAdapter)!==null&&a!==void 0||(e.treeAdapter=ir),e.scriptingEnabled!==!1&&(e.scriptingEnabled=!0),u?j8(t,e):Y8(i,t,e)}const Z8={treeAdapter:ir};function X8(t){const e="length"in t?t:[t];for(let i=0;i<e.length;i+=1){const a=e[i];mr(a)&&Array.prototype.splice.call(e,i,1,...a.children)}let u="";for(let i=0;i<e.length;i+=1){const a=e[i];u+=M8(a,Z8)}return u}const W8=_6((t,e,u,i)=>e._useHtmlParser2?Xy(t,e):G8(t,e,u,i)),Gd=J6(W8,(t,e)=>e._useHtmlParser2?pc(t,e):X8(t));function cC(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Q8=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class fl extends Error{}class Sn extends fl{constructor(e,u,i,a){super(`${Sn.makeMessage(e,u,i)}`),this.status=e,this.headers=a,this.requestID=a?.get("x-request-id"),this.error=u;const l=u;this.code=l?.code,this.param=l?.param,this.type=l?.type}static makeMessage(e,u,i){const a=u?.message?typeof u.message=="string"?u.message:JSON.stringify(u.message):u?JSON.stringify(u):i;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,u,i,a){if(!e||!a)return new Uv({message:i,cause:Q8(u)});const l=u?.error;return e===400?new K8(e,l,i,a):e===401?new $8(e,l,i,a):e===403?new J8(e,l,i,a):e===404?new ex(e,l,i,a):e===409?new tx(e,l,i,a):e===422?new ux(e,l,i,a):e===429?new nx(e,l,i,a):e>=500?new ix(e,l,i,a):new Sn(e,l,i,a)}}class fC extends Sn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Uv extends Sn{constructor({message:e,cause:u}){super(void 0,void 0,e||"Connection error.",void 0),u&&(this.cause=u)}}class dC extends Uv{constructor({message:e}={}){super({message:e??"Request timed out."})}}class K8 extends Sn{}class $8 extends Sn{}class J8 extends Sn{}class ex extends Sn{}class tx extends Sn{}class ux extends Sn{}class nx extends Sn{}class ix extends Sn{}class rx extends fl{constructor(){super("Could not parse response content as the length limit was reached")}}class ax extends fl{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class hC extends Error{constructor(e){super(e)}}function sx(t,e){const u={...t};return Object.defineProperties(u,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),u}function lx(t){return t?.$brand==="auto-parseable-response-format"}function Ih(t){return t?.$brand==="auto-parseable-tool"}function pC(t,e){return!e||!dx(e)?{...t,choices:t.choices.map(u=>({...u,message:{...u.message,parsed:null,...u.message.tool_calls?{tool_calls:u.message.tool_calls}:void 0}}))}:ox(t,e)}function ox(t,e){const u=t.choices.map(i=>{if(i.finish_reason==="length")throw new rx;if(i.finish_reason==="content_filter")throw new ax;return{...i,message:{...i.message,...i.message.tool_calls?{tool_calls:i.message.tool_calls?.map(a=>fx(e,a))??void 0}:void 0,parsed:i.message.content&&!i.message.refusal?cx(e,i.message.content):null}}});return{...t,choices:u}}function cx(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function fx(t,e){const u=t.tools?.find(i=>i.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Ih(u)?u.$parseRaw(e.function.arguments):u?.function.strict?JSON.parse(e.function.arguments):null}}}function mC(t,e){if(!t)return!1;const u=t.tools?.find(i=>i.function?.name===e.function.name);return Ih(u)||u?.function.strict||!1}function dx(t){return lx(t.response_format)?!0:t.tools?.some(e=>Ih(e)||e.type==="function"&&e.function.strict===!0)??!1}function gC(t){for(const e of t??[]){if(e.type!=="function")throw new fl(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new fl(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const hx=Symbol("Let zodToJsonSchema decide on which parser to use"),ig={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},px=t=>typeof t=="string"?{...ig,basePath:["#"],definitions:{},name:t}:{...ig,basePath:["#"],definitions:{},...t},K0=t=>"_def"in t?t._def:t;function mx(t){if(!t)return!0;for(const e in t)return!1;return!0}const gx=t=>{const e=px(t),u=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:u,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([i,a])=>[K0(a),{def:K0(a),path:[...e.basePath,e.definitionPath,i],jsonSchema:void 0}]))}};function Pv(t,e,u,i){i?.errorMessages&&u&&(t.errorMessage={...t.errorMessage,[e]:u})}function $t(t,e,u,i,a){t[e]=u,Pv(t,e,i,a)}var jt;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function u(a){throw new Error}t.assertNever=u,t.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},t.getValidEnumValues=a=>{const l=t.objectKeys(a).filter(f=>typeof a[a[f]]!="number"),c={};for(const f of l)c[f]=a[f];return t.objectValues(c)},t.objectValues=a=>t.objectKeys(a).map(function(l){return a[l]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},t.find=(a,l)=>{for(const c of a)if(l(c))return c},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function i(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}t.joinValues=i,t.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(jt||(jt={}));var rg;(function(t){t.mergeShapes=(e,u)=>({...e,...u})})(rg||(rg={}));const $e=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rr=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return Number.isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Fe=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class wi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const u=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,u):this.__proto__=u,this.name="ZodError",this.issues=e}format(e){const u=e||function(l){return l.message},i={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)i._errors.push(u(c));else{let f=i,h=0;for(;h<c.path.length;){const p=c.path[h];h===c.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(u(c))):f[p]=f[p]||{_errors:[]},f=f[p],h++}}};return a(this),i}static assert(e){if(!(e instanceof wi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=u=>u.message){const u={},i=[];for(const a of this.issues)a.path.length>0?(u[a.path[0]]=u[a.path[0]]||[],u[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:u}}get formErrors(){return this.flatten()}}wi.create=t=>new wi(t);const $0=(t,e)=>{let u;switch(t.code){case Fe.invalid_type:t.received===$e.undefined?u="Required":u=`Expected ${t.expected}, received ${t.received}`;break;case Fe.invalid_literal:u=`Invalid literal value, expected ${JSON.stringify(t.expected,jt.jsonStringifyReplacer)}`;break;case Fe.unrecognized_keys:u=`Unrecognized key(s) in object: ${jt.joinValues(t.keys,", ")}`;break;case Fe.invalid_union:u="Invalid input";break;case Fe.invalid_union_discriminator:u=`Invalid discriminator value. Expected ${jt.joinValues(t.options)}`;break;case Fe.invalid_enum_value:u=`Invalid enum value. Expected ${jt.joinValues(t.options)}, received '${t.received}'`;break;case Fe.invalid_arguments:u="Invalid function arguments";break;case Fe.invalid_return_type:u="Invalid function return type";break;case Fe.invalid_date:u="Invalid date";break;case Fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(u=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(u=`${u} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?u=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?u=`Invalid input: must end with "${t.validation.endsWith}"`:jt.assertNever(t.validation):t.validation!=="regex"?u=`Invalid ${t.validation}`:u="Invalid";break;case Fe.too_small:t.type==="array"?u=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?u=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?u=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?u=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:u="Invalid input";break;case Fe.too_big:t.type==="array"?u=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?u=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?u=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?u=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?u=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:u="Invalid input";break;case Fe.custom:u="Invalid input";break;case Fe.invalid_intersection_types:u="Intersection results could not be merged";break;case Fe.not_multiple_of:u=`Number must be a multiple of ${t.multipleOf}`;break;case Fe.not_finite:u="Number must be finite";break;default:u=e.defaultError,jt.assertNever(t)}return{message:u}};let bx=$0;function vx(){return bx}const Ex=t=>{const{data:e,path:u,errorMaps:i,issueData:a}=t,l=[...u,...a.path||[]],c={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let f="";const h=i.filter(p=>!!p).slice().reverse();for(const p of h)f=p(c,{data:e,defaultError:f}).message;return{...a,path:l,message:f}};function We(t,e){const u=vx(),i=Ex({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,u,u===$0?void 0:$0].filter(a=>!!a)});t.common.issues.push(i)}class Cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,u){const i=[];for(const a of u){if(a.status==="aborted")return vt;a.status==="dirty"&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,u){const i=[];for(const a of u){const l=await a.key,c=await a.value;i.push({key:l,value:c})}return Cn.mergeObjectSync(e,i)}static mergeObjectSync(e,u){const i={};for(const a of u){const{key:l,value:c}=a;if(l.status==="aborted"||c.status==="aborted")return vt;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(i[l.value]=c.value)}return{status:e.value,value:i}}}const vt=Object.freeze({status:"aborted"}),$s=t=>({status:"dirty",value:t}),Pn=t=>({status:"valid",value:t}),ag=t=>t.status==="aborted",sg=t=>t.status==="dirty",Ua=t=>t.status==="valid",$o=t=>typeof Promise<"u"&&t instanceof Promise;var Je;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Je||(Je={}));class hr{constructor(e,u,i,a){this._cachedPath=[],this.parent=e,this.data=u,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lg=(t,e)=>{if(Ua(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const u=new wi(t.common.issues);return this._error=u,this._error}}};function Nt(t){if(!t)return{};const{errorMap:e,invalid_type_error:u,required_error:i,description:a}=t;if(e&&(u||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,f)=>{const{message:h}=t;return c.code==="invalid_enum_value"?{message:h??f.defaultError}:typeof f.data>"u"?{message:h??i??f.defaultError}:c.code!=="invalid_type"?{message:f.defaultError}:{message:h??u??f.defaultError}},description:a}}class Ft{get description(){return this._def.description}_getType(e){return rr(e.data)}_getOrReturnCtx(e,u){return u||{common:e.parent.common,data:e.data,parsedType:rr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Cn,ctx:{common:e.parent.common,data:e.data,parsedType:rr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const u=this._parse(e);if($o(u))throw new Error("Synchronous parse encountered promise.");return u}_parseAsync(e){const u=this._parse(e);return Promise.resolve(u)}parse(e,u){const i=this.safeParse(e,u);if(i.success)return i.data;throw i.error}safeParse(e,u){const i={common:{issues:[],async:u?.async??!1,contextualErrorMap:u?.errorMap},path:u?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rr(e)},a=this._parseSync({data:e,path:i.path,parent:i});return lg(i,a)}"~validate"(e){const u={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rr(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:u});return Ua(i)?{value:i.value}:{issues:u.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),u.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:u}).then(i=>Ua(i)?{value:i.value}:{issues:u.common.issues})}async parseAsync(e,u){const i=await this.safeParseAsync(e,u);if(i.success)return i.data;throw i.error}async safeParseAsync(e,u){const i={common:{issues:[],contextualErrorMap:u?.errorMap,async:!0},path:u?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rr(e)},a=this._parse({data:e,path:i.path,parent:i}),l=await($o(a)?a:Promise.resolve(a));return lg(i,l)}refine(e,u){const i=a=>typeof u=="string"||typeof u>"u"?{message:u}:typeof u=="function"?u(a):u;return this._refinement((a,l)=>{const c=e(a),f=()=>l.addIssue({code:Fe.custom,...i(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(f(),!1)):c?!0:(f(),!1)})}refinement(e,u){return this._refinement((i,a)=>e(i)?!0:(a.addIssue(typeof u=="function"?u(i,a):u),!1))}_refinement(e){return new Fa({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:u=>this["~validate"](u)}}optional(){return dr.create(this,this._def)}nullable(){return Ha.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ai.create(this)}promise(){return uc.create(this,this._def)}or(e){return ec.create([this,e],this._def)}and(e){return tc.create(this,e,this._def)}transform(e){return new Fa({...Nt(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const u=typeof e=="function"?e:()=>e;return new eh({...Nt(this._def),innerType:this,defaultValue:u,typeName:Ye.ZodDefault})}brand(){return new qx({typeName:Ye.ZodBranded,type:this,...Nt(this._def)})}catch(e){const u=typeof e=="function"?e:()=>e;return new th({...Nt(this._def),innerType:this,catchValue:u,typeName:Ye.ZodCatch})}describe(e){const u=this.constructor;return new u({...this._def,description:e})}pipe(e){return Lh.create(this,e)}readonly(){return uh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _x=/^c[^\s-]{8,}$/i,yx=/^[0-9a-z]+$/,Tx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ax=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xx=/^[a-z0-9_-]{21}$/i,Sx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Cx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Nx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Dx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zd;const wx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ox=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ix=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Fv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Bx=new RegExp(`^${Fv}$`);function Hv(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const u=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${u}`}function Mx(t){return new RegExp(`^${Hv(t)}$`)}function Ux(t){let e=`${Fv}T${Hv(t)}`;const u=[];return u.push(t.local?"Z?":"Z"),t.offset&&u.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${u.join("|")})`,new RegExp(`^${e}$`)}function Px(t,e){return!!((e==="v4"||!e)&&wx.test(t)||(e==="v6"||!e)&&Rx.test(t))}function Fx(t,e){if(!Sx.test(t))return!1;try{const[u]=t.split("."),i=u.replace(/-/g,"+").replace(/_/g,"/").padEnd(u.length+(4-u.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Hx(t,e){return!!((e==="v4"||!e)&&Ox.test(t)||(e==="v6"||!e)&&Ix.test(t))}class or extends Ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){const l=this._getOrReturnCtx(e);return We(l,{code:Fe.invalid_type,expected:$e.string,received:l.parsedType}),vt}const i=new Cn;let a;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")e.data.length>l.value&&(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,f=e.data.length<l.value;(c||f)&&(a=this._getOrReturnCtx(e,a),c?We(a,{code:Fe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):f&&We(a,{code:Fe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")Nx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"email",code:Fe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Zd||(Zd=new RegExp(Dx,"u")),Zd.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"emoji",code:Fe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")Ax.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"uuid",code:Fe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")xx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"nanoid",code:Fe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")_x.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"cuid",code:Fe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")yx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"cuid2",code:Fe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")Tx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"ulid",code:Fe.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),We(a,{validation:"url",code:Fe.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"regex",code:Fe.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?Ux(l).test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?Bx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?Mx(l).test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?Cx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"duration",code:Fe.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?Px(e.data,l.version)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"ip",code:Fe.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?Fx(e.data,l.alg)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"jwt",code:Fe.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?Hx(e.data,l.version)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"cidr",code:Fe.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?Lx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"base64",code:Fe.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?kx.test(e.data)||(a=this._getOrReturnCtx(e,a),We(a,{validation:"base64url",code:Fe.invalid_string,message:l.message}),i.dirty()):jt.assertNever(l);return{status:i.value,value:e.data}}_regex(e,u,i){return this.refinement(a=>e.test(a),{validation:u,code:Fe.invalid_string,...Je.errToObj(i)})}_addCheck(e){return new or({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Je.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Je.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Je.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Je.errToObj(e)})}regex(e,u){return this._addCheck({kind:"regex",regex:e,...Je.errToObj(u)})}includes(e,u){return this._addCheck({kind:"includes",value:e,position:u?.position,...Je.errToObj(u?.message)})}startsWith(e,u){return this._addCheck({kind:"startsWith",value:e,...Je.errToObj(u)})}endsWith(e,u){return this._addCheck({kind:"endsWith",value:e,...Je.errToObj(u)})}min(e,u){return this._addCheck({kind:"min",value:e,...Je.errToObj(u)})}max(e,u){return this._addCheck({kind:"max",value:e,...Je.errToObj(u)})}length(e,u){return this._addCheck({kind:"length",value:e,...Je.errToObj(u)})}nonempty(e){return this.min(1,Je.errToObj(e))}trim(){return new or({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new or({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new or({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const u of this._def.checks)u.kind==="min"&&(e===null||u.value>e)&&(e=u.value);return e}get maxLength(){let e=null;for(const u of this._def.checks)u.kind==="max"&&(e===null||u.value<e)&&(e=u.value);return e}}or.create=t=>new or({checks:[],typeName:Ye.ZodString,coerce:t?.coerce??!1,...Nt(t)});function zx(t,e){const u=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,a=u>i?u:i,l=Number.parseInt(t.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}class dl extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){const l=this._getOrReturnCtx(e);return We(l,{code:Fe.invalid_type,expected:$e.number,received:l.parsedType}),vt}let i;const a=new Cn;for(const l of this._def.checks)l.kind==="int"?jt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?zx(e.data,l.value)!==0&&(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.not_finite,message:l.message}),a.dirty()):jt.assertNever(l);return{status:a.value,value:e.data}}gte(e,u){return this.setLimit("min",e,!0,Je.toString(u))}gt(e,u){return this.setLimit("min",e,!1,Je.toString(u))}lte(e,u){return this.setLimit("max",e,!0,Je.toString(u))}lt(e,u){return this.setLimit("max",e,!1,Je.toString(u))}setLimit(e,u,i,a){return new dl({...this._def,checks:[...this._def.checks,{kind:e,value:u,inclusive:i,message:Je.toString(a)}]})}_addCheck(e){return new dl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(e)})}multipleOf(e,u){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(u)})}finite(e){return this._addCheck({kind:"finite",message:Je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(e)})}get minValue(){let e=null;for(const u of this._def.checks)u.kind==="min"&&(e===null||u.value>e)&&(e=u.value);return e}get maxValue(){let e=null;for(const u of this._def.checks)u.kind==="max"&&(e===null||u.value<e)&&(e=u.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jt.isInteger(e.value))}get isFinite(){let e=null,u=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(u===null||i.value>u)&&(u=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(u)&&Number.isFinite(e)}}dl.create=t=>new dl({checks:[],typeName:Ye.ZodNumber,coerce:t?.coerce||!1,...Nt(t)});class hl extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==$e.bigint)return this._getInvalidInput(e);let i;const a=new Cn;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),We(i,{code:Fe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):jt.assertNever(l);return{status:a.value,value:e.data}}_getInvalidInput(e){const u=this._getOrReturnCtx(e);return We(u,{code:Fe.invalid_type,expected:$e.bigint,received:u.parsedType}),vt}gte(e,u){return this.setLimit("min",e,!0,Je.toString(u))}gt(e,u){return this.setLimit("min",e,!1,Je.toString(u))}lte(e,u){return this.setLimit("max",e,!0,Je.toString(u))}lt(e,u){return this.setLimit("max",e,!1,Je.toString(u))}setLimit(e,u,i,a){return new hl({...this._def,checks:[...this._def.checks,{kind:e,value:u,inclusive:i,message:Je.toString(a)}]})}_addCheck(e){return new hl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(e)})}multipleOf(e,u){return this._addCheck({kind:"multipleOf",value:e,message:Je.toString(u)})}get minValue(){let e=null;for(const u of this._def.checks)u.kind==="min"&&(e===null||u.value>e)&&(e=u.value);return e}get maxValue(){let e=null;for(const u of this._def.checks)u.kind==="max"&&(e===null||u.value<e)&&(e=u.value);return e}}hl.create=t=>new hl({checks:[],typeName:Ye.ZodBigInt,coerce:t?.coerce??!1,...Nt(t)});class og extends Ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){const i=this._getOrReturnCtx(e);return We(i,{code:Fe.invalid_type,expected:$e.boolean,received:i.parsedType}),vt}return Pn(e.data)}}og.create=t=>new og({typeName:Ye.ZodBoolean,coerce:t?.coerce||!1,...Nt(t)});class Jo extends Ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){const l=this._getOrReturnCtx(e);return We(l,{code:Fe.invalid_type,expected:$e.date,received:l.parsedType}),vt}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return We(l,{code:Fe.invalid_date}),vt}const i=new Cn;let a;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),We(a,{code:Fe.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):jt.assertNever(l);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jo({...this._def,checks:[...this._def.checks,e]})}min(e,u){return this._addCheck({kind:"min",value:e.getTime(),message:Je.toString(u)})}max(e,u){return this._addCheck({kind:"max",value:e.getTime(),message:Je.toString(u)})}get minDate(){let e=null;for(const u of this._def.checks)u.kind==="min"&&(e===null||u.value>e)&&(e=u.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const u of this._def.checks)u.kind==="max"&&(e===null||u.value<e)&&(e=u.value);return e!=null?new Date(e):null}}Jo.create=t=>new Jo({checks:[],coerce:t?.coerce||!1,typeName:Ye.ZodDate,...Nt(t)});class cg extends Ft{_parse(e){if(this._getType(e)!==$e.symbol){const i=this._getOrReturnCtx(e);return We(i,{code:Fe.invalid_type,expected:$e.symbol,received:i.parsedType}),vt}return Pn(e.data)}}cg.create=t=>new cg({typeName:Ye.ZodSymbol,...Nt(t)});class fg extends Ft{_parse(e){if(this._getType(e)!==$e.undefined){const i=this._getOrReturnCtx(e);return We(i,{code:Fe.invalid_type,expected:$e.undefined,received:i.parsedType}),vt}return Pn(e.data)}}fg.create=t=>new fg({typeName:Ye.ZodUndefined,...Nt(t)});class dg extends Ft{_parse(e){if(this._getType(e)!==$e.null){const i=this._getOrReturnCtx(e);return We(i,{code:Fe.invalid_type,expected:$e.null,received:i.parsedType}),vt}return Pn(e.data)}}dg.create=t=>new dg({typeName:Ye.ZodNull,...Nt(t)});class hg extends Ft{constructor(){super(...arguments),this._any=!0}_parse(e){return Pn(e.data)}}hg.create=t=>new hg({typeName:Ye.ZodAny,...Nt(t)});class pg extends Ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pn(e.data)}}pg.create=t=>new pg({typeName:Ye.ZodUnknown,...Nt(t)});class pr extends Ft{_parse(e){const u=this._getOrReturnCtx(e);return We(u,{code:Fe.invalid_type,expected:$e.never,received:u.parsedType}),vt}}pr.create=t=>new pr({typeName:Ye.ZodNever,...Nt(t)});class mg extends Ft{_parse(e){if(this._getType(e)!==$e.undefined){const i=this._getOrReturnCtx(e);return We(i,{code:Fe.invalid_type,expected:$e.void,received:i.parsedType}),vt}return Pn(e.data)}}mg.create=t=>new mg({typeName:Ye.ZodVoid,...Nt(t)});class ai extends Ft{_parse(e){const{ctx:u,status:i}=this._processInputParams(e),a=this._def;if(u.parsedType!==$e.array)return We(u,{code:Fe.invalid_type,expected:$e.array,received:u.parsedType}),vt;if(a.exactLength!==null){const c=u.data.length>a.exactLength.value,f=u.data.length<a.exactLength.value;(c||f)&&(We(u,{code:c?Fe.too_big:Fe.too_small,minimum:f?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&u.data.length<a.minLength.value&&(We(u,{code:Fe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&u.data.length>a.maxLength.value&&(We(u,{code:Fe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),u.common.async)return Promise.all([...u.data].map((c,f)=>a.type._parseAsync(new hr(u,c,u.path,f)))).then(c=>Cn.mergeArray(i,c));const l=[...u.data].map((c,f)=>a.type._parseSync(new hr(u,c,u.path,f)));return Cn.mergeArray(i,l)}get element(){return this._def.type}min(e,u){return new ai({...this._def,minLength:{value:e,message:Je.toString(u)}})}max(e,u){return new ai({...this._def,maxLength:{value:e,message:Je.toString(u)}})}length(e,u){return new ai({...this._def,exactLength:{value:e,message:Je.toString(u)}})}nonempty(e){return this.min(1,e)}}ai.create=(t,e)=>new ai({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...Nt(e)});function wa(t){if(t instanceof Mu){const e={};for(const u in t.shape){const i=t.shape[u];e[u]=dr.create(wa(i))}return new Mu({...t._def,shape:()=>e})}else return t instanceof ai?new ai({...t._def,type:wa(t.element)}):t instanceof dr?dr.create(wa(t.unwrap())):t instanceof Ha?Ha.create(wa(t.unwrap())):t instanceof qr?qr.create(t.items.map(e=>wa(e))):t}class Mu extends Ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),u=jt.objectKeys(e);return this._cached={shape:e,keys:u},this._cached}_parse(e){if(this._getType(e)!==$e.object){const p=this._getOrReturnCtx(e);return We(p,{code:Fe.invalid_type,expected:$e.object,received:p.parsedType}),vt}const{status:i,ctx:a}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),f=[];if(!(this._def.catchall instanceof pr&&this._def.unknownKeys==="strip"))for(const p in a.data)c.includes(p)||f.push(p);const h=[];for(const p of c){const E=l[p],_=a.data[p];h.push({key:{status:"valid",value:p},value:E._parse(new hr(a,_,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof pr){const p=this._def.unknownKeys;if(p==="passthrough")for(const E of f)h.push({key:{status:"valid",value:E},value:{status:"valid",value:a.data[E]}});else if(p==="strict")f.length>0&&(We(a,{code:Fe.unrecognized_keys,keys:f}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const E of f){const _=a.data[E];h.push({key:{status:"valid",value:E},value:p._parse(new hr(a,_,a.path,E)),alwaysSet:E in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const E of h){const _=await E.key,x=await E.value;p.push({key:_,value:x,alwaysSet:E.alwaysSet})}return p}).then(p=>Cn.mergeObjectSync(i,p)):Cn.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(e){return Je.errToObj,new Mu({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(u,i)=>{const a=this._def.errorMap?.(u,i).message??i.defaultError;return u.code==="unrecognized_keys"?{message:Je.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Mu({...this._def,unknownKeys:"strip"})}passthrough(){return new Mu({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mu({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mu({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ye.ZodObject})}setKey(e,u){return this.augment({[e]:u})}catchall(e){return new Mu({...this._def,catchall:e})}pick(e){const u={};for(const i of jt.objectKeys(e))e[i]&&this.shape[i]&&(u[i]=this.shape[i]);return new Mu({...this._def,shape:()=>u})}omit(e){const u={};for(const i of jt.objectKeys(this.shape))e[i]||(u[i]=this.shape[i]);return new Mu({...this._def,shape:()=>u})}deepPartial(){return wa(this)}partial(e){const u={};for(const i of jt.objectKeys(this.shape)){const a=this.shape[i];e&&!e[i]?u[i]=a:u[i]=a.optional()}return new Mu({...this._def,shape:()=>u})}required(e){const u={};for(const i of jt.objectKeys(this.shape))if(e&&!e[i])u[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof dr;)l=l._def.innerType;u[i]=l}return new Mu({...this._def,shape:()=>u})}keyof(){return zv(jt.objectKeys(this.shape))}}Mu.create=(t,e)=>new Mu({shape:()=>t,unknownKeys:"strip",catchall:pr.create(),typeName:Ye.ZodObject,...Nt(e)});Mu.strictCreate=(t,e)=>new Mu({shape:()=>t,unknownKeys:"strict",catchall:pr.create(),typeName:Ye.ZodObject,...Nt(e)});Mu.lazycreate=(t,e)=>new Mu({shape:t,unknownKeys:"strip",catchall:pr.create(),typeName:Ye.ZodObject,...Nt(e)});class ec extends Ft{_parse(e){const{ctx:u}=this._processInputParams(e),i=this._def.options;function a(l){for(const f of l)if(f.result.status==="valid")return f.result;for(const f of l)if(f.result.status==="dirty")return u.common.issues.push(...f.ctx.common.issues),f.result;const c=l.map(f=>new wi(f.ctx.common.issues));return We(u,{code:Fe.invalid_union,unionErrors:c}),vt}if(u.common.async)return Promise.all(i.map(async l=>{const c={...u,common:{...u.common,issues:[]},parent:null};return{result:await l._parseAsync({data:u.data,path:u.path,parent:c}),ctx:c}})).then(a);{let l;const c=[];for(const h of i){const p={...u,common:{...u.common,issues:[]},parent:null},E=h._parseSync({data:u.data,path:u.path,parent:p});if(E.status==="valid")return E;E.status==="dirty"&&!l&&(l={result:E,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(l)return u.common.issues.push(...l.ctx.common.issues),l.result;const f=c.map(h=>new wi(h));return We(u,{code:Fe.invalid_union,unionErrors:f}),vt}}get options(){return this._def.options}}ec.create=(t,e)=>new ec({options:t,typeName:Ye.ZodUnion,...Nt(e)});function J0(t,e){const u=rr(t),i=rr(e);if(t===e)return{valid:!0,data:t};if(u===$e.object&&i===$e.object){const a=jt.objectKeys(e),l=jt.objectKeys(t).filter(f=>a.indexOf(f)!==-1),c={...t,...e};for(const f of l){const h=J0(t[f],e[f]);if(!h.valid)return{valid:!1};c[f]=h.data}return{valid:!0,data:c}}else if(u===$e.array&&i===$e.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<t.length;l++){const c=t[l],f=e[l],h=J0(c,f);if(!h.valid)return{valid:!1};a.push(h.data)}return{valid:!0,data:a}}else return u===$e.date&&i===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class tc extends Ft{_parse(e){const{status:u,ctx:i}=this._processInputParams(e),a=(l,c)=>{if(ag(l)||ag(c))return vt;const f=J0(l.value,c.value);return f.valid?((sg(l)||sg(c))&&u.dirty(),{status:u.value,value:f.data}):(We(i,{code:Fe.invalid_intersection_types}),vt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,c])=>a(l,c)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}tc.create=(t,e,u)=>new tc({left:t,right:e,typeName:Ye.ZodIntersection,...Nt(u)});class qr extends Ft{_parse(e){const{status:u,ctx:i}=this._processInputParams(e);if(i.parsedType!==$e.array)return We(i,{code:Fe.invalid_type,expected:$e.array,received:i.parsedType}),vt;if(i.data.length<this._def.items.length)return We(i,{code:Fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),vt;!this._def.rest&&i.data.length>this._def.items.length&&(We(i,{code:Fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),u.dirty());const l=[...i.data].map((c,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new hr(i,c,i.path,f)):null}).filter(c=>!!c);return i.common.async?Promise.all(l).then(c=>Cn.mergeArray(u,c)):Cn.mergeArray(u,l)}get items(){return this._def.items}rest(e){return new qr({...this._def,rest:e})}}qr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qr({items:t,typeName:Ye.ZodTuple,rest:null,...Nt(e)})};class gg extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:u,ctx:i}=this._processInputParams(e);if(i.parsedType!==$e.map)return We(i,{code:Fe.invalid_type,expected:$e.map,received:i.parsedType}),vt;const a=this._def.keyType,l=this._def.valueType,c=[...i.data.entries()].map(([f,h],p)=>({key:a._parse(new hr(i,f,i.path,[p,"key"])),value:l._parse(new hr(i,h,i.path,[p,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of c){const p=await h.key,E=await h.value;if(p.status==="aborted"||E.status==="aborted")return vt;(p.status==="dirty"||E.status==="dirty")&&u.dirty(),f.set(p.value,E.value)}return{status:u.value,value:f}})}else{const f=new Map;for(const h of c){const p=h.key,E=h.value;if(p.status==="aborted"||E.status==="aborted")return vt;(p.status==="dirty"||E.status==="dirty")&&u.dirty(),f.set(p.value,E.value)}return{status:u.value,value:f}}}}gg.create=(t,e,u)=>new gg({valueType:e,keyType:t,typeName:Ye.ZodMap,...Nt(u)});class pl extends Ft{_parse(e){const{status:u,ctx:i}=this._processInputParams(e);if(i.parsedType!==$e.set)return We(i,{code:Fe.invalid_type,expected:$e.set,received:i.parsedType}),vt;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(We(i,{code:Fe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),u.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(We(i,{code:Fe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),u.dirty());const l=this._def.valueType;function c(h){const p=new Set;for(const E of h){if(E.status==="aborted")return vt;E.status==="dirty"&&u.dirty(),p.add(E.value)}return{status:u.value,value:p}}const f=[...i.data.values()].map((h,p)=>l._parse(new hr(i,h,i.path,p)));return i.common.async?Promise.all(f).then(h=>c(h)):c(f)}min(e,u){return new pl({...this._def,minSize:{value:e,message:Je.toString(u)}})}max(e,u){return new pl({...this._def,maxSize:{value:e,message:Je.toString(u)}})}size(e,u){return this.min(e,u).max(e,u)}nonempty(e){return this.min(1,e)}}pl.create=(t,e)=>new pl({valueType:t,minSize:null,maxSize:null,typeName:Ye.ZodSet,...Nt(e)});class bg extends Ft{get schema(){return this._def.getter()}_parse(e){const{ctx:u}=this._processInputParams(e);return this._def.getter()._parse({data:u.data,path:u.path,parent:u})}}bg.create=(t,e)=>new bg({getter:t,typeName:Ye.ZodLazy,...Nt(e)});class vg extends Ft{_parse(e){if(e.data!==this._def.value){const u=this._getOrReturnCtx(e);return We(u,{received:u.data,code:Fe.invalid_literal,expected:this._def.value}),vt}return{status:"valid",value:e.data}}get value(){return this._def.value}}vg.create=(t,e)=>new vg({value:t,typeName:Ye.ZodLiteral,...Nt(e)});function zv(t,e){return new Pa({values:t,typeName:Ye.ZodEnum,...Nt(e)})}class Pa extends Ft{_parse(e){if(typeof e.data!="string"){const u=this._getOrReturnCtx(e),i=this._def.values;return We(u,{expected:jt.joinValues(i),received:u.parsedType,code:Fe.invalid_type}),vt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const u=this._getOrReturnCtx(e),i=this._def.values;return We(u,{received:u.data,code:Fe.invalid_enum_value,options:i}),vt}return Pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const u of this._def.values)e[u]=u;return e}get Values(){const e={};for(const u of this._def.values)e[u]=u;return e}get Enum(){const e={};for(const u of this._def.values)e[u]=u;return e}extract(e,u=this._def){return Pa.create(e,{...this._def,...u})}exclude(e,u=this._def){return Pa.create(this.options.filter(i=>!e.includes(i)),{...this._def,...u})}}Pa.create=zv;class Eg extends Ft{_parse(e){const u=jt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==$e.string&&i.parsedType!==$e.number){const a=jt.objectValues(u);return We(i,{expected:jt.joinValues(a),received:i.parsedType,code:Fe.invalid_type}),vt}if(this._cache||(this._cache=new Set(jt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=jt.objectValues(u);return We(i,{received:i.data,code:Fe.invalid_enum_value,options:a}),vt}return Pn(e.data)}get enum(){return this._def.values}}Eg.create=(t,e)=>new Eg({values:t,typeName:Ye.ZodNativeEnum,...Nt(e)});class uc extends Ft{unwrap(){return this._def.type}_parse(e){const{ctx:u}=this._processInputParams(e);if(u.parsedType!==$e.promise&&u.common.async===!1)return We(u,{code:Fe.invalid_type,expected:$e.promise,received:u.parsedType}),vt;const i=u.parsedType===$e.promise?u.data:Promise.resolve(u.data);return Pn(i.then(a=>this._def.type.parseAsync(a,{path:u.path,errorMap:u.common.contextualErrorMap})))}}uc.create=(t,e)=>new uc({type:t,typeName:Ye.ZodPromise,...Nt(e)});class Fa extends Ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:u,ctx:i}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:c=>{We(i,c),c.fatal?u.abort():u.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const c=a.transform(i.data,l);if(i.common.async)return Promise.resolve(c).then(async f=>{if(u.value==="aborted")return vt;const h=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return h.status==="aborted"?vt:h.status==="dirty"||u.value==="dirty"?$s(h.value):h});{if(u.value==="aborted")return vt;const f=this._def.schema._parseSync({data:c,path:i.path,parent:i});return f.status==="aborted"?vt:f.status==="dirty"||u.value==="dirty"?$s(f.value):f}}if(a.type==="refinement"){const c=f=>{const h=a.refinement(f,l);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?vt:(f.status==="dirty"&&u.dirty(),c(f.value),{status:u.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?vt:(f.status==="dirty"&&u.dirty(),c(f.value).then(()=>({status:u.value,value:f.value}))))}if(a.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Ua(c))return vt;const f=a.transform(c.value,l);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:u.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>Ua(c)?Promise.resolve(a.transform(c.value,l)).then(f=>({status:u.value,value:f})):vt);jt.assertNever(a)}}Fa.create=(t,e,u)=>new Fa({schema:t,typeName:Ye.ZodEffects,effect:e,...Nt(u)});Fa.createWithPreprocess=(t,e,u)=>new Fa({schema:e,effect:{type:"preprocess",transform:t},typeName:Ye.ZodEffects,...Nt(u)});class dr extends Ft{_parse(e){return this._getType(e)===$e.undefined?Pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dr.create=(t,e)=>new dr({innerType:t,typeName:Ye.ZodOptional,...Nt(e)});class Ha extends Ft{_parse(e){return this._getType(e)===$e.null?Pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ha.create=(t,e)=>new Ha({innerType:t,typeName:Ye.ZodNullable,...Nt(e)});class eh extends Ft{_parse(e){const{ctx:u}=this._processInputParams(e);let i=u.data;return u.parsedType===$e.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:u.path,parent:u})}removeDefault(){return this._def.innerType}}eh.create=(t,e)=>new eh({innerType:t,typeName:Ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Nt(e)});class th extends Ft{_parse(e){const{ctx:u}=this._processInputParams(e),i={...u,common:{...u.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return $o(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new wi(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new wi(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}th.create=(t,e)=>new th({innerType:t,typeName:Ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Nt(e)});class _g extends Ft{_parse(e){if(this._getType(e)!==$e.nan){const i=this._getOrReturnCtx(e);return We(i,{code:Fe.invalid_type,expected:$e.nan,received:i.parsedType}),vt}return{status:"valid",value:e.data}}}_g.create=t=>new _g({typeName:Ye.ZodNaN,...Nt(t)});class qx extends Ft{_parse(e){const{ctx:u}=this._processInputParams(e),i=u.data;return this._def.type._parse({data:i,path:u.path,parent:u})}unwrap(){return this._def.type}}class Lh extends Ft{_parse(e){const{status:u,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?vt:l.status==="dirty"?(u.dirty(),$s(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?vt:a.status==="dirty"?(u.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(e,u){return new Lh({in:e,out:u,typeName:Ye.ZodPipeline})}}class uh extends Ft{_parse(e){const u=this._def.innerType._parse(e),i=a=>(Ua(a)&&(a.value=Object.freeze(a.value)),a);return $o(u)?u.then(a=>i(a)):i(u)}unwrap(){return this._def.innerType}}uh.create=(t,e)=>new uh({innerType:t,typeName:Ye.ZodReadonly,...Nt(e)});var Ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const jx=or.create;pr.create;const Yx=ai.create,Vx=Mu.create;ec.create;tc.create;qr.create;Pa.create;uc.create;dr.create;Ha.create;function Gx(){return{}}function Zx(t,e){const u={type:"array"};return t.type?._def?.typeName!==Ye.ZodAny&&(u.items=Yt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&$t(u,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&$t(u,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&($t(u,"minItems",t.exactLength.value,t.exactLength.message,e),$t(u,"maxItems",t.exactLength.value,t.exactLength.message,e)),u}function Xx(t,e){const u={type:"integer",format:"int64"};if(!t.checks)return u;for(const i of t.checks)switch(i.kind){case"min":e.target==="jsonSchema7"?i.inclusive?$t(u,"minimum",i.value,i.message,e):$t(u,"exclusiveMinimum",i.value,i.message,e):(i.inclusive||(u.exclusiveMinimum=!0),$t(u,"minimum",i.value,i.message,e));break;case"max":e.target==="jsonSchema7"?i.inclusive?$t(u,"maximum",i.value,i.message,e):$t(u,"exclusiveMaximum",i.value,i.message,e):(i.inclusive||(u.exclusiveMaximum=!0),$t(u,"maximum",i.value,i.message,e));break;case"multipleOf":$t(u,"multipleOf",i.value,i.message,e);break}return u}function Wx(){return{type:"boolean"}}function Qx(t,e){return Yt(t.type._def,e)}const Kx=(t,e)=>Yt(t.innerType._def,e);function qv(t,e,u){const i=u??e.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((a,l)=>qv(t,e,a))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return $x(t,e)}}const $x=(t,e)=>{const u={type:"integer",format:"unix-time"};if(e.target==="openApi3")return u;for(const i of t.checks)switch(i.kind){case"min":$t(u,"minimum",i.value,i.message,e);break;case"max":$t(u,"maximum",i.value,i.message,e);break}return u};function Jx(t,e){return{...Yt(t.innerType._def,e),default:t.defaultValue()}}function eS(t,e,u){return e.effectStrategy==="input"?Yt(t.schema._def,e,u):{}}function tS(t){return{type:"string",enum:[...t.values]}}const uS=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function nS(t,e){const u=[Yt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Yt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(l=>!!l);let i=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return u.forEach(l=>{if(uS(l))a.push(...l.allOf),l.unevaluatedProperties===void 0&&(i=void 0);else{let c=l;if("additionalProperties"in l&&l.additionalProperties===!1){const{additionalProperties:f,...h}=l;c=h}else i=void 0;a.push(c)}}),a.length?{allOf:a,...i}:void 0}function iS(t,e){const u=typeof t.value;return u!=="bigint"&&u!=="number"&&u!=="boolean"&&u!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:u==="bigint"?"integer":u,enum:[t.value]}:{type:u==="bigint"?"integer":u,const:t.value}}let Xd;const Ur={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Xd===void 0&&(Xd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Xd),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function jv(t,e){const u={type:"string"};function i(a){return e.patternStrategy==="escape"?rS(a):a}if(t.checks)for(const a of t.checks)switch(a.kind){case"min":$t(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,a.value):a.value,a.message,e);break;case"max":$t(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Yn(u,"email",a.message,e);break;case"format:idn-email":Yn(u,"idn-email",a.message,e);break;case"pattern:zod":Vn(u,Ur.email,a.message,e);break}break;case"url":Yn(u,"uri",a.message,e);break;case"uuid":Yn(u,"uuid",a.message,e);break;case"regex":Vn(u,a.regex,a.message,e);break;case"cuid":Vn(u,Ur.cuid,a.message,e);break;case"cuid2":Vn(u,Ur.cuid2,a.message,e);break;case"startsWith":Vn(u,RegExp(`^${i(a.value)}`),a.message,e);break;case"endsWith":Vn(u,RegExp(`${i(a.value)}$`),a.message,e);break;case"datetime":Yn(u,"date-time",a.message,e);break;case"date":Yn(u,"date",a.message,e);break;case"time":Yn(u,"time",a.message,e);break;case"duration":Yn(u,"duration",a.message,e);break;case"length":$t(u,"minLength",typeof u.minLength=="number"?Math.max(u.minLength,a.value):a.value,a.message,e),$t(u,"maxLength",typeof u.maxLength=="number"?Math.min(u.maxLength,a.value):a.value,a.message,e);break;case"includes":{Vn(u,RegExp(i(a.value)),a.message,e);break}case"ip":{a.version!=="v6"&&Yn(u,"ipv4",a.message,e),a.version!=="v4"&&Yn(u,"ipv6",a.message,e);break}case"emoji":Vn(u,Ur.emoji,a.message,e);break;case"ulid":{Vn(u,Ur.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Yn(u,"binary",a.message,e);break}case"contentEncoding:base64":{$t(u,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{Vn(u,Ur.base64,a.message,e);break}}break}case"nanoid":Vn(u,Ur.nanoid,a.message,e)}return u}const rS=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),Yn=(t,e,u,i)=>{t.format||t.anyOf?.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&i.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...u&&i.errorMessages&&{errorMessage:{format:u}}})):$t(t,"format",e,u,i)},Vn=(t,e,u,i)=>{t.pattern||t.allOf?.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&i.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:yg(e,i),...u&&i.errorMessages&&{errorMessage:{pattern:u}}})):$t(t,"pattern",yg(e,i),u,i)},yg=(t,e)=>{const u=typeof t=="function"?t():t;if(!e.applyRegexFlags||!u.flags)return u.source;const i={i:u.flags.includes("i"),m:u.flags.includes("m"),s:u.flags.includes("s")},a=i.i?u.source.toLowerCase():u.source;let l="",c=!1,f=!1,h=!1;for(let p=0;p<a.length;p++){if(c){l+=a[p],c=!1;continue}if(i.i){if(f){if(a[p].match(/[a-z]/)){h?(l+=a[p],l+=`${a[p-2]}-${a[p]}`.toUpperCase(),h=!1):a[p+1]==="-"&&a[p+2]?.match(/[a-z]/)?(l+=a[p],h=!0):l+=`${a[p]}${a[p].toUpperCase()}`;continue}}else if(a[p].match(/[a-z]/)){l+=`[${a[p]}${a[p].toUpperCase()}]`;continue}}if(i.m){if(a[p]==="^"){l+=`(^|(?<=[\r
]))`;continue}else if(a[p]==="$"){l+=`($|(?=[\r
]))`;continue}}if(i.s&&a[p]==="."){l+=f?`${a[p]}\r
`:`[${a[p]}\r
]`;continue}l+=a[p],a[p]==="\\"?c=!0:f&&a[p]==="]"?f=!1:!f&&a[p]==="["&&(f=!0)}try{const p=new RegExp(l)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),u.source}return l};function Yv(t,e){if(e.target==="openApi3"&&t.keyType?._def.typeName===Ye.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((i,a)=>({...i,[a]:Yt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",a]})??{}}),{}),additionalProperties:!1};const u={type:"object",additionalProperties:Yt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return u;if(t.keyType?._def.typeName===Ye.ZodString&&t.keyType._def.checks?.length){const i=Object.entries(jv(t.keyType._def,e)).reduce((a,[l,c])=>l==="type"?a:{...a,[l]:c},{});return{...u,propertyNames:i}}else if(t.keyType?._def.typeName===Ye.ZodEnum)return{...u,propertyNames:{enum:t.keyType._def.values}};return u}function aS(t,e){if(e.mapStrategy==="record")return Yv(t,e);const u=Yt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},i=Yt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[u,i],minItems:2,maxItems:2}}}function sS(t){const e=t.values,i=Object.keys(t.values).filter(l=>typeof e[e[l]]!="number").map(l=>e[l]),a=Array.from(new Set(i.map(l=>typeof l)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:i}}function lS(){return{not:{}}}function oS(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const nc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function cS(t,e){if(e.target==="openApi3")return Tg(t,e);const u=t.options instanceof Map?Array.from(t.options.values()):t.options;if(u.every(i=>i._def.typeName in nc&&(!i._def.checks||!i._def.checks.length))){const i=u.reduce((a,l)=>{const c=nc[l._def.typeName];return c&&!a.includes(c)?[...a,c]:a},[]);return{type:i.length>1?i:i[0]}}else if(u.every(i=>i._def.typeName==="ZodLiteral"&&!i.description)){const i=u.reduce((a,l)=>{const c=typeof l._def.value;switch(c){case"string":case"number":case"boolean":return[...a,c];case"bigint":return[...a,"integer"];case"object":if(l._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(i.length===u.length){const a=i.filter((l,c,f)=>f.indexOf(l)===c);return{type:a.length>1?a:a[0],enum:u.reduce((l,c)=>l.includes(c._def.value)?l:[...l,c._def.value],[])}}}else if(u.every(i=>i._def.typeName==="ZodEnum"))return{type:"string",enum:u.reduce((i,a)=>[...i,...a._def.values.filter(l=>!i.includes(l))],[])};return Tg(t,e)}const Tg=(t,e)=>{const u=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((i,a)=>Yt(i._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(i=>!!i&&(!e.strictUnions||typeof i=="object"&&Object.keys(i).length>0));return u.length?{anyOf:u}:void 0};function fS(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:nc[t.innerType._def.typeName],nullable:!0}:{type:[nc[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const i=Yt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return i&&"$ref"in i?{allOf:[i],nullable:!0}:i&&{...i,nullable:!0}}const u=Yt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return u&&{anyOf:[u,{type:"null"}]}}function dS(t,e){const u={type:"number"};if(!t.checks)return u;for(const i of t.checks)switch(i.kind){case"int":u.type="integer",Pv(u,"type",i.message,e);break;case"min":e.target==="jsonSchema7"?i.inclusive?$t(u,"minimum",i.value,i.message,e):$t(u,"exclusiveMinimum",i.value,i.message,e):(i.inclusive||(u.exclusiveMinimum=!0),$t(u,"minimum",i.value,i.message,e));break;case"max":e.target==="jsonSchema7"?i.inclusive?$t(u,"maximum",i.value,i.message,e):$t(u,"exclusiveMaximum",i.value,i.message,e):(i.inclusive||(u.exclusiveMaximum=!0),$t(u,"maximum",i.value,i.message,e));break;case"multipleOf":$t(u,"multipleOf",i.value,i.message,e);break}return u}function hS(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":Yt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":Yt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function pS(t,e){const u={type:"object",...Object.entries(t.shape()).reduce((i,[a,l])=>{if(l===void 0||l._def===void 0)return i;const c=[...e.currentPath,"properties",a],f=Yt(l._def,{...e,currentPath:c,propertyPath:c});if(f===void 0)return i;if(e.openaiStrictMode&&l.isOptional()&&!l.isNullable()&&typeof l._def?.defaultValue>"u")throw new Error(`Zod field at \`${c.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...i.properties,[a]:f},required:l.isOptional()&&!e.openaiStrictMode?i.required:[...i.required,a]}},{properties:{},required:[]}),additionalProperties:hS(t,e)};return u.required.length||delete u.required,u}const mS=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return Yt(t.innerType._def,e);const u=Yt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return u?{anyOf:[{not:{}},u]}:{}},gS=(t,e)=>{if(e.pipeStrategy==="input")return Yt(t.in._def,e);if(e.pipeStrategy==="output")return Yt(t.out._def,e);const u=Yt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),i=Yt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",u?"1":"0"]});return{allOf:[u,i].filter(a=>a!==void 0)}};function bS(t,e){return Yt(t.type._def,e)}function vS(t,e){const i={type:"array",uniqueItems:!0,items:Yt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&$t(i,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&$t(i,"maxItems",t.maxSize.value,t.maxSize.message,e),i}function ES(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((u,i)=>Yt(u._def,{...e,currentPath:[...e.currentPath,"items",`${i}`]})).reduce((u,i)=>i===void 0?u:[...u,i],[]),additionalItems:Yt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((u,i)=>Yt(u._def,{...e,currentPath:[...e.currentPath,"items",`${i}`]})).reduce((u,i)=>i===void 0?u:[...u,i],[])}}function _S(){return{not:{}}}function yS(){return{}}const TS=(t,e)=>Yt(t.innerType._def,e);function Yt(t,e,u=!1){const i=e.seen.get(t);if(e.override){const c=e.override?.(t,e,i,u);if(c!==hx)return c}if(i&&!u){const c=AS(i,e);if(c!==void 0)return"$ref"in c&&e.seenRefs.add(c.$ref),c}const a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);const l=SS(t,t.typeName,e,u);return l&&CS(t,e,l),a.jsonSchema=l,l}const AS=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"extract-to-root":const u=t.path.slice(e.basePath.length+1).join("_");return u!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[u]=t.def),{$ref:[...e.basePath,e.definitionPath,u].join("/")};case"relative":return{$ref:xS(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((i,a)=>e.currentPath[a]===i)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},xS=(t,e)=>{let u=0;for(;u<t.length&&u<e.length&&t[u]===e[u];u++);return[(t.length-u).toString(),...e.slice(u)].join("/")},SS=(t,e,u,i)=>{switch(e){case Ye.ZodString:return jv(t,u);case Ye.ZodNumber:return dS(t,u);case Ye.ZodObject:return pS(t,u);case Ye.ZodBigInt:return Xx(t,u);case Ye.ZodBoolean:return Wx();case Ye.ZodDate:return qv(t,u);case Ye.ZodUndefined:return _S();case Ye.ZodNull:return oS(u);case Ye.ZodArray:return Zx(t,u);case Ye.ZodUnion:case Ye.ZodDiscriminatedUnion:return cS(t,u);case Ye.ZodIntersection:return nS(t,u);case Ye.ZodTuple:return ES(t,u);case Ye.ZodRecord:return Yv(t,u);case Ye.ZodLiteral:return iS(t,u);case Ye.ZodEnum:return tS(t);case Ye.ZodNativeEnum:return sS(t);case Ye.ZodNullable:return fS(t,u);case Ye.ZodOptional:return mS(t,u);case Ye.ZodMap:return aS(t,u);case Ye.ZodSet:return vS(t,u);case Ye.ZodLazy:return Yt(t.getter()._def,u);case Ye.ZodPromise:return bS(t,u);case Ye.ZodNaN:case Ye.ZodNever:return lS();case Ye.ZodEffects:return eS(t,u,i);case Ye.ZodAny:return Gx();case Ye.ZodUnknown:return yS();case Ye.ZodDefault:return Jx(t,u);case Ye.ZodBranded:return Qx(t,u);case Ye.ZodReadonly:return TS(t,u);case Ye.ZodCatch:return Kx(t,u);case Ye.ZodPipeline:return gS(t,u);case Ye.ZodFunction:case Ye.ZodVoid:case Ye.ZodSymbol:return;default:return(a=>{})()}},CS=(t,e,u)=>(t.description&&(u.description=t.description,e.markdownDescription&&(u.markdownDescription=t.description)),u),NS=(t,e)=>{const u=gx(e),i=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,a=Yt(t._def,i===void 0?u:{...u,currentPath:[...u.basePath,u.definitionPath,i]},!1)??{},l=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;l!==void 0&&(a.title=l);const c=(()=>{if(mx(u.definitions))return;const h={},p=new Set;for(let E=0;E<500;E++){const _=Object.entries(u.definitions).filter(([x])=>!p.has(x));if(_.length===0)break;for(const[x,S]of _)h[x]=Yt(K0(S),{...u,currentPath:[...u.basePath,u.definitionPath,x]},!0)??{},p.add(x)}return h})(),f=i===void 0?c?{...a,[u.definitionPath]:c}:a:u.nameStrategy==="duplicate-ref"?{...a,...c||u.seenRefs.size?{[u.definitionPath]:{...c,...u.seenRefs.size?{[i]:a}:void 0}}:void 0}:{$ref:[...u.$refStrategy==="relative"?[]:u.basePath,u.definitionPath,i].join("/"),[u.definitionPath]:{...c,[i]:a}};return u.target==="jsonSchema7"?f.$schema="http://json-schema.org/draft-07/schema#":u.target==="jsonSchema2019-09"&&(f.$schema="https://json-schema.org/draft/2019-09/schema#"),f};function DS(t,e){return NS(t,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function wS(t,e,u){return sx({type:"json_schema",json_schema:{...u,name:e,strict:!0,schema:DS(t,{name:e})}},i=>t.parse(JSON.parse(i)))}const OS="You are a book translator.",RS=Vx({translation_paragraphs:Yx(jx())}),IS=async({apiKey:t,epubFile:e,chunkSize:u,translationMode:i,setStatus:a,baseUrl:l,targetLanguage:c,modelName:f,abortSignal:h,onProgress:p,getPausePromise:E})=>{a("Initializing...");const _=await xm(()=>import("./index-CH1W8cmI.js"),[]),x=new _.OpenAI({apiKey:t,dangerouslyAllowBrowser:!0,baseURL:l||void 0});try{a("Unpacking EPUB...");const B=await(await xm(()=>import("./jszip.min-B7Kmex8g.js").then(q=>q.j),[])).loadAsync(e),w=await B.file("META-INF/container.xml")?.async("string");if(!w)throw new Error("META-INF/container.xml not found.");const A=Gd(w,{xmlMode:!0})("rootfile").attr("full-path");if(!A)throw new Error("OPF file path not found in container.xml.");const N=await B.file(A)?.async("string");if(!N)throw new Error(`OPF file not found: ${A}`);const I=Gd(N,{xmlMode:!0}),V=new Map,D=A.includes("/")?A.substring(0,A.lastIndexOf("/")):"";I("manifest > item").each((q,H)=>{const Y=I(H).attr("id"),oe=I(H).attr("href");if(Y&&oe){const J=D?`${D}/${oe}`:oe;V.set(Y,J)}});const U=I("spine > itemref").map((q,H)=>{const Y=I(H).attr("idref");return V.get(Y||"")}).get().filter(Boolean);for(const q of U){a(`Processing: ${q}`);const H=await B.file(q)?.async("string"),Y=Gd(H,{xmlMode:!0}),oe=Y("p").toArray();if(oe.length===0)continue;const J=[];for(let de=0;de<oe.length;de+=u)J.push(oe.slice(de,de+u));for(let de=0;de<J.length;de++){const Re=J[de];a(`Translating chunk ${de+1}/${J.length} of ${q}...`);const te=`\`\`\`
${Re.map(De=>Y(De).text()).join(`

`).replace(/&#xa0;/g," ")}

\`\`\`

${c}`,ge=(await x.chat.completions.parse({model:f,messages:[{role:"system",content:OS},{role:"user",content:te}],response_format:wS(RS,"translation_paragraphs")},{signal:h?.signal})).choices[0].message.parsed?.translation_paragraphs||[];Re.forEach((De,G)=>{const ie=ge[G]||"";i==="replace"?Y(De).html(ie):Y(De).after(`<p class="translated-bilingual">${ie}</p>`)})}if(B.file(q,Y.html({xmlMode:!0})),p){const de=await B.generateAsync({type:"blob"});p({currentFile:q,fileIndex:U.indexOf(q)+1,totalFiles:U.length,status:`Processed ${q}`,translatedBlob:de,htmlContent:Y("body").html()})}E&&await E()}return await B.generateAsync({type:"blob"})}catch(S){throw console.error("Error during translation:",S),S}};var ko={exports:{}},Wd={exports:{}},Qd,Ag;function Vv(){if(Ag)return Qd;Ag=1;var t=void 0;return Qd=function(e){return e!==t&&e!==null},Qd}var Kd,xg;function LS(){if(xg)return Kd;xg=1;var t=Vv(),e={object:!0,function:!0,undefined:!0};return Kd=function(u){return t(u)?hasOwnProperty.call(e,typeof u):!1},Kd}var $d,Sg;function kS(){if(Sg)return $d;Sg=1;var t=LS();return $d=function(e){if(!t(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},$d}var Jd,Cg;function BS(){if(Cg)return Jd;Cg=1;var t=kS();return Jd=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!t(e)},Jd}var e0,Ng;function MS(){if(Ng)return e0;Ng=1;var t=BS(),e=/^\s*class[\s{/}]/,u=Function.prototype.toString;return e0=function(i){return!(!t(i)||e.test(u.call(i)))},e0}var t0,Dg;function US(){return Dg||(Dg=1,t0=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),t0}var u0,wg;function PS(){return wg||(wg=1,u0=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),u0}var n0,Og;function FS(){return Og||(Og=1,n0=function(){}),n0}var i0,Rg;function kh(){if(Rg)return i0;Rg=1;var t=FS()();return i0=function(e){return e!==t&&e!==null},i0}var r0,Ig;function HS(){if(Ig)return r0;Ig=1;var t=kh(),e=Object.keys;return r0=function(u){return e(t(u)?Object(u):u)},r0}var a0,Lg;function zS(){return Lg||(Lg=1,a0=PS()()?Object.keys:HS()),a0}var s0,kg;function qS(){if(kg)return s0;kg=1;var t=kh();return s0=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e},s0}var l0,Bg;function jS(){if(Bg)return l0;Bg=1;var t=zS(),e=qS(),u=Math.max;return l0=function(i,a){var l,c,f=u(arguments.length,2),h;for(i=Object(e(i)),h=function(p){try{i[p]=a[p]}catch(E){l||(l=E)}},c=1;c<f;++c)a=arguments[c],t(a).forEach(h);if(l!==void 0)throw l;return i},l0}var o0,Mg;function YS(){return Mg||(Mg=1,o0=US()()?Object.assign:jS()),o0}var c0,Ug;function VS(){if(Ug)return c0;Ug=1;var t=kh(),e=Array.prototype.forEach,u=Object.create,i=function(a,l){var c;for(c in a)l[c]=a[c]};return c0=function(a){var l=u(null);return e.call(arguments,function(c){t(c)&&i(Object(c),l)}),l},c0}var f0,Pg;function GS(){if(Pg)return f0;Pg=1;var t="razdwatrzy";return f0=function(){return typeof t.contains!="function"?!1:t.contains("dwa")===!0&&t.contains("foo")===!1},f0}var d0,Fg;function ZS(){if(Fg)return d0;Fg=1;var t=String.prototype.indexOf;return d0=function(e){return t.call(this,e,arguments[1])>-1},d0}var h0,Hg;function XS(){return Hg||(Hg=1,h0=GS()()?String.prototype.contains:ZS()),h0}var zg;function WS(){if(zg)return Wd.exports;zg=1;var t=Vv(),e=MS(),u=YS(),i=VS(),a=XS(),l=Wd.exports=function(c,f){var h,p,E,_,x;return arguments.length<2||typeof c!="string"?(_=f,f=c,c=null):_=arguments[2],t(c)?(h=a.call(c,"c"),p=a.call(c,"e"),E=a.call(c,"w")):(h=E=!0,p=!1),x={value:f,configurable:h,enumerable:p,writable:E},_?u(i(_),x):x};return l.gs=function(c,f,h){var p,E,_,x;return typeof c!="string"?(_=h,h=f,f=c,c=null):_=arguments[3],t(f)?e(f)?t(h)?e(h)||(_=h,h=void 0):h=void 0:(_=f,f=h=void 0):f=void 0,t(c)?(p=a.call(c,"c"),E=a.call(c,"e")):(p=!0,E=!1),x={get:f,set:h,configurable:p,enumerable:E},_?u(i(_),x):x},Wd.exports}var p0,qg;function QS(){return qg||(qg=1,p0=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}),p0}var jg;function KS(){return jg||(jg=1,function(t,e){var u=WS(),i=QS(),a=Function.prototype.apply,l=Function.prototype.call,c=Object.create,f=Object.defineProperty,h=Object.defineProperties,p=Object.prototype.hasOwnProperty,E={configurable:!0,enumerable:!1,writable:!0},_,x,S,B,w,y,A;_=function(N,I){var V;return i(I),p.call(this,"__ee__")?V=this.__ee__:(V=E.value=c(null),f(this,"__ee__",E),E.value=null),V[N]?typeof V[N]=="object"?V[N].push(I):V[N]=[V[N],I]:V[N]=I,this},x=function(N,I){var V,D;return i(I),D=this,_.call(this,N,V=function(){S.call(D,N,V),a.call(I,this,arguments)}),V.__eeOnceListener__=I,this},S=function(N,I){var V,D,U,z;if(i(I),!p.call(this,"__ee__"))return this;if(V=this.__ee__,!V[N])return this;if(D=V[N],typeof D=="object")for(z=0;U=D[z];++z)(U===I||U.__eeOnceListener__===I)&&(D.length===2?V[N]=D[z?0:1]:D.splice(z,1));else(D===I||D.__eeOnceListener__===I)&&delete V[N];return this},B=function(N){var I,V,D,U,z;if(p.call(this,"__ee__")&&(U=this.__ee__[N],!!U))if(typeof U=="object"){for(V=arguments.length,z=new Array(V-1),I=1;I<V;++I)z[I-1]=arguments[I];for(U=U.slice(),I=0;D=U[I];++I)a.call(D,this,z)}else switch(arguments.length){case 1:l.call(U,this);break;case 2:l.call(U,this,arguments[1]);break;case 3:l.call(U,this,arguments[1],arguments[2]);break;default:for(V=arguments.length,z=new Array(V-1),I=1;I<V;++I)z[I-1]=arguments[I];a.call(U,this,z)}},w={on:_,once:x,off:S,emit:B},y={on:u(_),once:u(x),off:u(S),emit:u(B)},A=h({},y),t.exports=e=function(N){return N==null?c(A):h(Object(N),y)},e.methods=w}(ko,ko.exports)),ko.exports}var $S=KS();const li=jr($S);var Xs={},xi={},Sa={},Yg;function Ac(){if(Yg)return Sa;Yg=1;function t(a,l,c){if(c===void 0&&(c=Array.prototype),a&&typeof c.find=="function")return c.find.call(a,l);for(var f=0;f<a.length;f++)if(Object.prototype.hasOwnProperty.call(a,f)){var h=a[f];if(l.call(void 0,h,f,a))return h}}function e(a,l){return l===void 0&&(l=Object),l&&typeof l.freeze=="function"?l.freeze(a):a}var u=e({HTML:"text/html",isHTML:function(a){return a===u.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Sa.find=t,Sa.freeze=e,Sa.MIME_TYPE=u,Sa.NAMESPACE=i,Sa}var Vg;function Gv(){if(Vg)return xi;Vg=1;var t=Ac(),e=t.find,u=t.NAMESPACE;function i(T){return T!==""}function a(T){return T?T.split(/[\t\n\f\r ]+/).filter(i):[]}function l(T,b){return T.hasOwnProperty(b)||(T[b]=!0),T}function c(T){if(!T)return[];var b=a(T);return Object.keys(b.reduce(l,{}))}function f(T){return function(b){return T&&T.indexOf(b)!==-1}}function h(T,b){for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(b[L]=T[L])}function p(T,b){var L=T.prototype;if(!(L instanceof b)){let ee=function(){};ee.prototype=b.prototype,ee=new ee,h(L,ee),T.prototype=L=ee}L.constructor!=T&&(typeof T!="function"&&console.error("unknown Class:"+T),L.constructor=T)}var E={},_=E.ELEMENT_NODE=1,x=E.ATTRIBUTE_NODE=2,S=E.TEXT_NODE=3,B=E.CDATA_SECTION_NODE=4,w=E.ENTITY_REFERENCE_NODE=5,y=E.ENTITY_NODE=6,A=E.PROCESSING_INSTRUCTION_NODE=7,N=E.COMMENT_NODE=8,I=E.DOCUMENT_NODE=9,V=E.DOCUMENT_TYPE_NODE=10,D=E.DOCUMENT_FRAGMENT_NODE=11,U=E.NOTATION_NODE=12,z={},q={};z.INDEX_SIZE_ERR=(q[1]="Index size error",1),z.DOMSTRING_SIZE_ERR=(q[2]="DOMString size error",2);var H=z.HIERARCHY_REQUEST_ERR=(q[3]="Hierarchy request error",3);z.WRONG_DOCUMENT_ERR=(q[4]="Wrong document",4),z.INVALID_CHARACTER_ERR=(q[5]="Invalid character",5),z.NO_DATA_ALLOWED_ERR=(q[6]="No data allowed",6),z.NO_MODIFICATION_ALLOWED_ERR=(q[7]="No modification allowed",7);var Y=z.NOT_FOUND_ERR=(q[8]="Not found",8);z.NOT_SUPPORTED_ERR=(q[9]="Not supported",9);var oe=z.INUSE_ATTRIBUTE_ERR=(q[10]="Attribute in use",10);z.INVALID_STATE_ERR=(q[11]="Invalid state",11),z.SYNTAX_ERR=(q[12]="Syntax error",12),z.INVALID_MODIFICATION_ERR=(q[13]="Invalid modification",13),z.NAMESPACE_ERR=(q[14]="Invalid namespace",14),z.INVALID_ACCESS_ERR=(q[15]="Invalid access",15);function J(T,b){if(b instanceof Error)var L=b;else L=this,Error.call(this,q[T]),this.message=q[T],Error.captureStackTrace&&Error.captureStackTrace(this,J);return L.code=T,b&&(this.message=this.message+": "+b),L}J.prototype=Error.prototype,h(z,J);function de(){}de.prototype={length:0,item:function(T){return T>=0&&T<this.length?this[T]:null},toString:function(T,b){for(var L=[],ee=0;ee<this.length;ee++)xe(this[ee],L,T,b);return L.join("")},filter:function(T){return Array.prototype.filter.call(this,T)},indexOf:function(T){return Array.prototype.indexOf.call(this,T)}};function Re(T,b){this._node=T,this._refresh=b,Se(this)}function Se(T){var b=T._node._inc||T._node.ownerDocument._inc;if(T._inc!==b){var L=T._refresh(T._node);if(K(T,"length",L.length),!T.$$length||L.length<T.$$length)for(var ee=L.length;ee in T;ee++)Object.prototype.hasOwnProperty.call(T,ee)&&delete T[ee];h(L,T),T._inc=b}}Re.prototype.item=function(T){return Se(this),this[T]||null},p(Re,de);function te(){}function le(T,b){for(var L=T.length;L--;)if(T[L]===b)return L}function ge(T,b,L,ee){if(ee?b[le(b,ee)]=L:b[b.length++]=L,T){L.ownerElement=T;var v=T.ownerDocument;v&&(ee&&Ge(v,T,ee),Ve(v,T,L))}}function De(T,b,L){var ee=le(b,L);if(ee>=0){for(var v=b.length-1;ee<v;)b[ee]=b[++ee];if(b.length=v,T){var ue=T.ownerDocument;ue&&(Ge(ue,T,L),L.ownerElement=null)}}else throw new J(Y,new Error(T.tagName+"@"+L))}te.prototype={length:0,item:de.prototype.item,getNamedItem:function(T){for(var b=this.length;b--;){var L=this[b];if(L.nodeName==T)return L}},setNamedItem:function(T){var b=T.ownerElement;if(b&&b!=this._ownerElement)throw new J(oe);var L=this.getNamedItem(T.nodeName);return ge(this._ownerElement,this,T,L),L},setNamedItemNS:function(T){var b=T.ownerElement,L;if(b&&b!=this._ownerElement)throw new J(oe);return L=this.getNamedItemNS(T.namespaceURI,T.localName),ge(this._ownerElement,this,T,L),L},removeNamedItem:function(T){var b=this.getNamedItem(T);return De(this._ownerElement,this,b),b},removeNamedItemNS:function(T,b){var L=this.getNamedItemNS(T,b);return De(this._ownerElement,this,L),L},getNamedItemNS:function(T,b){for(var L=this.length;L--;){var ee=this[L];if(ee.localName==b&&ee.namespaceURI==T)return ee}return null}};function G(){}G.prototype={hasFeature:function(T,b){return!0},createDocument:function(T,b,L){var ee=new Ee;if(ee.implementation=this,ee.childNodes=new de,ee.doctype=L||null,L&&ee.appendChild(L),b){var v=ee.createElementNS(T,b);ee.appendChild(v)}return ee},createDocumentType:function(T,b,L){var ee=new Lt;return ee.name=T,ee.nodeName=T,ee.publicId=b||"",ee.systemId=L||"",ee}};function ie(){}ie.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(T,b){return mu(this,T,b)},replaceChild:function(T,b){mu(this,T,b,lu),b&&this.removeChild(b)},removeChild:function(T){return He(this,T)},appendChild:function(T){return this.insertBefore(T,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(T){return Ze(this.ownerDocument||this,this,T)},normalize:function(){for(var T=this.firstChild;T;){var b=T.nextSibling;b&&b.nodeType==S&&T.nodeType==S?(this.removeChild(b),T.appendData(b.data)):(T.normalize(),T=b)}},isSupported:function(T,b){return this.ownerDocument.implementation.hasFeature(T,b)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(T){for(var b=this;b;){var L=b._nsMap;if(L){for(var ee in L)if(Object.prototype.hasOwnProperty.call(L,ee)&&L[ee]===T)return ee}b=b.nodeType==x?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(T){for(var b=this;b;){var L=b._nsMap;if(L&&T in L&&Object.prototype.hasOwnProperty.call(L,T))return L[T];b=b.nodeType==x?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(T){var b=this.lookupPrefix(T);return b==null}};function _e(T){return T=="<"&&"&lt;"||T==">"&&"&gt;"||T=="&"&&"&amp;"||T=='"'&&"&quot;"||"&#"+T.charCodeAt()+";"}h(E,ie),h(E,ie.prototype);function Ne(T,b){if(b(T))return!0;if(T=T.firstChild)do if(Ne(T,b))return!0;while(T=T.nextSibling)}function Ee(){this.ownerDocument=this}function Ve(T,b,L){T&&T._inc++;var ee=L.namespaceURI;ee===u.XMLNS&&(b._nsMap[L.prefix?L.localName:""]=L.value)}function Ge(T,b,L,ee){T&&T._inc++;var v=L.namespaceURI;v===u.XMLNS&&delete b._nsMap[L.prefix?L.localName:""]}function ut(T,b,L){if(T&&T._inc){T._inc++;var ee=b.childNodes;if(L)ee[ee.length++]=L;else{for(var v=b.firstChild,ue=0;v;)ee[ue++]=v,v=v.nextSibling;ee.length=ue,delete ee[ee.length]}}}function He(T,b){var L=b.previousSibling,ee=b.nextSibling;return L?L.nextSibling=ee:T.firstChild=ee,ee?ee.previousSibling=L:T.lastChild=L,b.parentNode=null,b.previousSibling=null,b.nextSibling=null,ut(T.ownerDocument,T),b}function Tt(T){return T&&(T.nodeType===ie.DOCUMENT_NODE||T.nodeType===ie.DOCUMENT_FRAGMENT_NODE||T.nodeType===ie.ELEMENT_NODE)}function Ht(T){return T&&(_t(T)||Et(T)||ft(T)||T.nodeType===ie.DOCUMENT_FRAGMENT_NODE||T.nodeType===ie.COMMENT_NODE||T.nodeType===ie.PROCESSING_INSTRUCTION_NODE)}function ft(T){return T&&T.nodeType===ie.DOCUMENT_TYPE_NODE}function _t(T){return T&&T.nodeType===ie.ELEMENT_NODE}function Et(T){return T&&T.nodeType===ie.TEXT_NODE}function At(T,b){var L=T.childNodes||[];if(e(L,_t)||ft(b))return!1;var ee=e(L,ft);return!(b&&ee&&L.indexOf(ee)>L.indexOf(b))}function Zt(T,b){var L=T.childNodes||[];function ee(ue){return _t(ue)&&ue!==b}if(e(L,ee))return!1;var v=e(L,ft);return!(b&&v&&L.indexOf(v)>L.indexOf(b))}function It(T,b,L){if(!Tt(T))throw new J(H,"Unexpected parent node type "+T.nodeType);if(L&&L.parentNode!==T)throw new J(Y,"child not in parent");if(!Ht(b)||ft(b)&&T.nodeType!==ie.DOCUMENT_NODE)throw new J(H,"Unexpected node type "+b.nodeType+" for parent node type "+T.nodeType)}function ht(T,b,L){var ee=T.childNodes||[],v=b.childNodes||[];if(b.nodeType===ie.DOCUMENT_FRAGMENT_NODE){var ue=v.filter(_t);if(ue.length>1||e(v,Et))throw new J(H,"More than one element or text in fragment");if(ue.length===1&&!At(T,L))throw new J(H,"Element in fragment can not be inserted before doctype")}if(_t(b)&&!At(T,L))throw new J(H,"Only one element can be added and only after doctype");if(ft(b)){if(e(ee,ft))throw new J(H,"Only one doctype is allowed");var fe=e(ee,_t);if(L&&ee.indexOf(fe)<ee.indexOf(L))throw new J(H,"Doctype can only be inserted before an element");if(!L&&fe)throw new J(H,"Doctype can not be appended since element is present")}}function lu(T,b,L){var ee=T.childNodes||[],v=b.childNodes||[];if(b.nodeType===ie.DOCUMENT_FRAGMENT_NODE){var ue=v.filter(_t);if(ue.length>1||e(v,Et))throw new J(H,"More than one element or text in fragment");if(ue.length===1&&!Zt(T,L))throw new J(H,"Element in fragment can not be inserted before doctype")}if(_t(b)&&!Zt(T,L))throw new J(H,"Only one element can be added and only after doctype");if(ft(b)){if(e(ee,function(Q){return ft(Q)&&Q!==L}))throw new J(H,"Only one doctype is allowed");var fe=e(ee,_t);if(L&&ee.indexOf(fe)<ee.indexOf(L))throw new J(H,"Doctype can only be inserted before an element")}}function mu(T,b,L,ee){It(T,b,L),T.nodeType===ie.DOCUMENT_NODE&&(ee||ht)(T,b,L);var v=b.parentNode;if(v&&v.removeChild(b),b.nodeType===D){var ue=b.firstChild;if(ue==null)return b;var fe=b.lastChild}else ue=fe=b;var O=L?L.previousSibling:T.lastChild;ue.previousSibling=O,fe.nextSibling=L,O?O.nextSibling=ue:T.firstChild=ue,L==null?T.lastChild=fe:L.previousSibling=fe;do ue.parentNode=T;while(ue!==fe&&(ue=ue.nextSibling));return ut(T.ownerDocument||T,T),b.nodeType==D&&(b.firstChild=b.lastChild=null),b}function fu(T,b){return b.parentNode&&b.parentNode.removeChild(b),b.parentNode=T,b.previousSibling=T.lastChild,b.nextSibling=null,b.previousSibling?b.previousSibling.nextSibling=b:T.firstChild=b,T.lastChild=b,ut(T.ownerDocument,T,b),b}Ee.prototype={nodeName:"#document",nodeType:I,doctype:null,documentElement:null,_inc:1,insertBefore:function(T,b){if(T.nodeType==D){for(var L=T.firstChild;L;){var ee=L.nextSibling;this.insertBefore(L,b),L=ee}return T}return mu(this,T,b),T.ownerDocument=this,this.documentElement===null&&T.nodeType===_&&(this.documentElement=T),T},removeChild:function(T){return this.documentElement==T&&(this.documentElement=null),He(this,T)},replaceChild:function(T,b){mu(this,T,b,lu),T.ownerDocument=this,b&&this.removeChild(b),_t(T)&&(this.documentElement=T)},importNode:function(T,b){return ke(this,T,b)},getElementById:function(T){var b=null;return Ne(this.documentElement,function(L){if(L.nodeType==_&&L.getAttribute("id")==T)return b=L,!0}),b},getElementsByClassName:function(T){var b=c(T);return new Re(this,function(L){var ee=[];return b.length>0&&Ne(L.documentElement,function(v){if(v!==L&&v.nodeType===_){var ue=v.getAttribute("class");if(ue){var fe=T===ue;if(!fe){var O=c(ue);fe=b.every(f(O))}fe&&ee.push(v)}}}),ee})},createElement:function(T){var b=new nt;b.ownerDocument=this,b.nodeName=T,b.tagName=T,b.localName=T,b.childNodes=new de;var L=b.attributes=new te;return L._ownerElement=b,b},createDocumentFragment:function(){var T=new Ju;return T.ownerDocument=this,T.childNodes=new de,T},createTextNode:function(T){var b=new xu;return b.ownerDocument=this,b.appendData(T),b},createComment:function(T){var b=new rn;return b.ownerDocument=this,b.appendData(T),b},createCDATASection:function(T){var b=new Su;return b.ownerDocument=this,b.appendData(T),b},createProcessingInstruction:function(T,b){var L=new Xu;return L.ownerDocument=this,L.tagName=L.nodeName=L.target=T,L.nodeValue=L.data=b,L},createAttribute:function(T){var b=new pt;return b.ownerDocument=this,b.name=T,b.nodeName=T,b.localName=T,b.specified=!0,b},createEntityReference:function(T){var b=new Ru;return b.ownerDocument=this,b.nodeName=T,b},createElementNS:function(T,b){var L=new nt,ee=b.split(":"),v=L.attributes=new te;return L.childNodes=new de,L.ownerDocument=this,L.nodeName=b,L.tagName=b,L.namespaceURI=T,ee.length==2?(L.prefix=ee[0],L.localName=ee[1]):L.localName=b,v._ownerElement=L,L},createAttributeNS:function(T,b){var L=new pt,ee=b.split(":");return L.ownerDocument=this,L.nodeName=b,L.name=b,L.namespaceURI=T,L.specified=!0,ee.length==2?(L.prefix=ee[0],L.localName=ee[1]):L.localName=b,L}},p(Ee,ie);function nt(){this._nsMap={}}nt.prototype={nodeType:_,hasAttribute:function(T){return this.getAttributeNode(T)!=null},getAttribute:function(T){var b=this.getAttributeNode(T);return b&&b.value||""},getAttributeNode:function(T){return this.attributes.getNamedItem(T)},setAttribute:function(T,b){var L=this.ownerDocument.createAttribute(T);L.value=L.nodeValue=""+b,this.setAttributeNode(L)},removeAttribute:function(T){var b=this.getAttributeNode(T);b&&this.removeAttributeNode(b)},appendChild:function(T){return T.nodeType===D?this.insertBefore(T,null):fu(this,T)},setAttributeNode:function(T){return this.attributes.setNamedItem(T)},setAttributeNodeNS:function(T){return this.attributes.setNamedItemNS(T)},removeAttributeNode:function(T){return this.attributes.removeNamedItem(T.nodeName)},removeAttributeNS:function(T,b){var L=this.getAttributeNodeNS(T,b);L&&this.removeAttributeNode(L)},hasAttributeNS:function(T,b){return this.getAttributeNodeNS(T,b)!=null},getAttributeNS:function(T,b){var L=this.getAttributeNodeNS(T,b);return L&&L.value||""},setAttributeNS:function(T,b,L){var ee=this.ownerDocument.createAttributeNS(T,b);ee.value=ee.nodeValue=""+L,this.setAttributeNode(ee)},getAttributeNodeNS:function(T,b){return this.attributes.getNamedItemNS(T,b)},getElementsByTagName:function(T){return new Re(this,function(b){var L=[];return Ne(b,function(ee){ee!==b&&ee.nodeType==_&&(T==="*"||ee.tagName==T)&&L.push(ee)}),L})},getElementsByTagNameNS:function(T,b){return new Re(this,function(L){var ee=[];return Ne(L,function(v){v!==L&&v.nodeType===_&&(T==="*"||v.namespaceURI===T)&&(b==="*"||v.localName==b)&&ee.push(v)}),ee})}},Ee.prototype.getElementsByTagName=nt.prototype.getElementsByTagName,Ee.prototype.getElementsByTagNameNS=nt.prototype.getElementsByTagNameNS,p(nt,ie);function pt(){}pt.prototype.nodeType=x,p(pt,ie);function rt(){}rt.prototype={data:"",substringData:function(T,b){return this.data.substring(T,T+b)},appendData:function(T){T=this.data+T,this.nodeValue=this.data=T,this.length=T.length},insertData:function(T,b){this.replaceData(T,0,b)},appendChild:function(T){throw new Error(q[H])},deleteData:function(T,b){this.replaceData(T,b,"")},replaceData:function(T,b,L){var ee=this.data.substring(0,T),v=this.data.substring(T+b);L=ee+L+v,this.nodeValue=this.data=L,this.length=L.length}},p(rt,ie);function xu(){}xu.prototype={nodeName:"#text",nodeType:S,splitText:function(T){var b=this.data,L=b.substring(T);b=b.substring(0,T),this.data=this.nodeValue=b,this.length=b.length;var ee=this.ownerDocument.createTextNode(L);return this.parentNode&&this.parentNode.insertBefore(ee,this.nextSibling),ee}},p(xu,rt);function rn(){}rn.prototype={nodeName:"#comment",nodeType:N},p(rn,rt);function Su(){}Su.prototype={nodeName:"#cdata-section",nodeType:B},p(Su,rt);function Lt(){}Lt.prototype.nodeType=V,p(Lt,ie);function Cu(){}Cu.prototype.nodeType=U,p(Cu,ie);function Jt(){}Jt.prototype.nodeType=y,p(Jt,ie);function Ru(){}Ru.prototype.nodeType=w,p(Ru,ie);function Ju(){}Ju.prototype.nodeName="#document-fragment",Ju.prototype.nodeType=D,p(Ju,ie);function Xu(){}Xu.prototype.nodeType=A,p(Xu,ie);function iu(){}iu.prototype.serializeToString=function(T,b,L){return Eu.call(T,b,L)},ie.prototype.toString=Eu;function Eu(T,b){var L=[],ee=this.nodeType==9&&this.documentElement||this,v=ee.prefix,ue=ee.namespaceURI;if(ue&&v==null){var v=ee.lookupPrefix(ue);if(v==null)var fe=[{namespace:ue,prefix:null}]}return xe(this,L,T,b,fe),L.join("")}function Uu(T,b,L){var ee=T.prefix||"",v=T.namespaceURI;if(!v||ee==="xml"&&v===u.XML||v===u.XMLNS)return!1;for(var ue=L.length;ue--;){var fe=L[ue];if(fe.prefix===ee)return fe.namespace!==v}return!0}function M(T,b,L){T.push(" ",b,'="',L.replace(/[<&"]/g,_e),'"')}function xe(T,b,L,ee,v){if(v||(v=[]),ee)if(T=ee(T),T){if(typeof T=="string"){b.push(T);return}}else return;switch(T.nodeType){case _:var ue=T.attributes,fe=ue.length,bt=T.firstChild,O=T.tagName;L=u.isHTML(T.namespaceURI)||L;var Q=O;if(!L&&!T.prefix&&T.namespaceURI){for(var ce,ze=0;ze<ue.length;ze++)if(ue.item(ze).name==="xmlns"){ce=ue.item(ze).value;break}if(!ce)for(var Me=v.length-1;Me>=0;Me--){var je=v[Me];if(je.prefix===""&&je.namespace===T.namespaceURI){ce=je.namespace;break}}if(ce!==T.namespaceURI)for(var Me=v.length-1;Me>=0;Me--){var je=v[Me];if(je.namespace===T.namespaceURI){je.prefix&&(Q=je.prefix+":"+O);break}}}b.push("<",Q);for(var ot=0;ot<fe;ot++){var du=ue.item(ot);du.prefix=="xmlns"?v.push({prefix:du.localName,namespace:du.value}):du.nodeName=="xmlns"&&v.push({prefix:"",namespace:du.value})}for(var ot=0;ot<fe;ot++){var du=ue.item(ot);if(Uu(du,L,v)){var kt=du.prefix||"",gt=du.namespaceURI;M(b,kt?"xmlns:"+kt:"xmlns",gt),v.push({prefix:kt,namespace:gt})}xe(du,b,L,ee,v)}if(O===Q&&Uu(T,L,v)){var kt=T.prefix||"",gt=T.namespaceURI;M(b,kt?"xmlns:"+kt:"xmlns",gt),v.push({prefix:kt,namespace:gt})}if(bt||L&&!/^(?:meta|link|img|br|hr|input)$/i.test(O)){if(b.push(">"),L&&/^script$/i.test(O))for(;bt;)bt.data?b.push(bt.data):xe(bt,b,L,ee,v.slice()),bt=bt.nextSibling;else for(;bt;)xe(bt,b,L,ee,v.slice()),bt=bt.nextSibling;b.push("</",Q,">")}else b.push("/>");return;case I:case D:for(var bt=T.firstChild;bt;)xe(bt,b,L,ee,v.slice()),bt=bt.nextSibling;return;case x:return M(b,T.name,T.value);case S:return b.push(T.data.replace(/[<&]/g,_e).replace(/]]>/g,"]]&gt;"));case B:return b.push("<![CDATA[",T.data,"]]>");case N:return b.push("<!--",T.data,"-->");case V:var cu=T.publicId,Xt=T.systemId;if(b.push("<!DOCTYPE ",T.name),cu)b.push(" PUBLIC ",cu),Xt&&Xt!="."&&b.push(" ",Xt),b.push(">");else if(Xt&&Xt!=".")b.push(" SYSTEM ",Xt,">");else{var en=T.internalSubset;en&&b.push(" [",en,"]"),b.push(">")}return;case A:return b.push("<?",T.target," ",T.data,"?>");case w:return b.push("&",T.nodeName,";");default:b.push("??",T.nodeName)}}function ke(T,b,L){var ee;switch(b.nodeType){case _:ee=b.cloneNode(!1),ee.ownerDocument=T;case D:break;case x:L=!0;break}if(ee||(ee=b.cloneNode(!1)),ee.ownerDocument=T,ee.parentNode=null,L)for(var v=b.firstChild;v;)ee.appendChild(ke(T,v,L)),v=v.nextSibling;return ee}function Ze(T,b,L){var ee=new b.constructor;for(var v in b)if(Object.prototype.hasOwnProperty.call(b,v)){var ue=b[v];typeof ue!="object"&&ue!=ee[v]&&(ee[v]=ue)}switch(b.childNodes&&(ee.childNodes=new de),ee.ownerDocument=T,ee.nodeType){case _:var fe=b.attributes,O=ee.attributes=new te,Q=fe.length;O._ownerElement=ee;for(var ce=0;ce<Q;ce++)ee.setAttributeNode(Ze(T,fe.item(ce),!0));break;case x:L=!0}if(L)for(var ze=b.firstChild;ze;)ee.appendChild(Ze(T,ze,L)),ze=ze.nextSibling;return ee}function K(T,b,L){T[b]=L}try{if(Object.defineProperty){let T=function(b){switch(b.nodeType){case _:case D:var L=[];for(b=b.firstChild;b;)b.nodeType!==7&&b.nodeType!==8&&L.push(T(b)),b=b.nextSibling;return L.join("");default:return b.nodeValue}};Object.defineProperty(Re.prototype,"length",{get:function(){return Se(this),this.$$length}}),Object.defineProperty(ie.prototype,"textContent",{get:function(){return T(this)},set:function(b){switch(this.nodeType){case _:case D:for(;this.firstChild;)this.removeChild(this.firstChild);(b||String(b))&&this.appendChild(this.ownerDocument.createTextNode(b));break;default:this.data=b,this.value=b,this.nodeValue=b}}}),K=function(b,L,ee){b["$$"+L]=ee}}}catch{}return xi.DocumentType=Lt,xi.DOMException=J,xi.DOMImplementation=G,xi.Element=nt,xi.Node=ie,xi.NodeList=de,xi.XMLSerializer=iu,xi}var Ca={},m0={},Gg;function JS(){return Gg||(Gg=1,function(t){var e=Ac().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES}(m0)),m0}var Bo={},Zg;function e5(){if(Zg)return Bo;Zg=1;var t=Ac().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,u=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+u.source+"*(?::"+e.source+u.source+"*)?$"),a=0,l=1,c=2,f=3,h=4,p=5,E=6,_=7;function x(H,Y){this.message=H,this.locator=Y,Error.captureStackTrace&&Error.captureStackTrace(this,x)}x.prototype=new Error,x.prototype.name=x.name;function S(){}S.prototype={parse:function(H,Y,oe){var J=this.domBuilder;J.startDocument(),V(Y,Y={}),B(H,Y,oe,J,this.errorHandler),J.endDocument()}};function B(H,Y,oe,J,de){function Re(nt){if(nt>65535){nt-=65536;var pt=55296+(nt>>10),rt=56320+(nt&1023);return String.fromCharCode(pt,rt)}else return String.fromCharCode(nt)}function Se(nt){var pt=nt.slice(1,-1);return pt in oe?oe[pt]:pt.charAt(0)==="#"?Re(parseInt(pt.substr(1).replace("x","0x"))):(de.error("entity not found:"+nt),nt)}function te(nt){if(nt>Ee){var pt=H.substring(Ee,nt).replace(/&#?\w+;/g,Se);ie&&le(Ee),J.characters(pt,0,nt-Ee),Ee=nt}}function le(nt,pt){for(;nt>=De&&(pt=G.exec(H));)ge=pt.index,De=ge+pt[0].length,ie.lineNumber++;ie.columnNumber=nt-ge+1}for(var ge=0,De=0,G=/.*(?:\r\n?|\n)|.*$/g,ie=J.locator,_e=[{currentNSMap:Y}],Ne={},Ee=0;;){try{var Ve=H.indexOf("<",Ee);if(Ve<0){if(!H.substr(Ee).match(/^\s*$/)){var Ge=J.doc,ut=Ge.createTextNode(H.substr(Ee));Ge.appendChild(ut),J.currentElement=ut}return}switch(Ve>Ee&&te(Ve),H.charAt(Ve+1)){case"/":var It=H.indexOf(">",Ve+3),He=H.substring(Ve+2,It).replace(/[ \t\n\r]+$/g,""),Tt=_e.pop();It<0?(He=H.substring(Ve+2).replace(/[\s<].*/,""),de.error("end tag name: "+He+" is not complete:"+Tt.tagName),It=Ve+1+He.length):He.match(/\s</)&&(He=He.replace(/[\s<].*/,""),de.error("end tag name: "+He+" maybe not complete"),It=Ve+1+He.length);var Ht=Tt.localNSMap,ft=Tt.tagName==He,_t=ft||Tt.tagName&&Tt.tagName.toLowerCase()==He.toLowerCase();if(_t){if(J.endElement(Tt.uri,Tt.localName,He),Ht)for(var Et in Ht)Object.prototype.hasOwnProperty.call(Ht,Et)&&J.endPrefixMapping(Et);ft||de.fatalError("end tag name: "+He+" is not match the current start tagName:"+Tt.tagName)}else _e.push(Tt);It++;break;case"?":ie&&le(Ve),It=U(H,Ve,J);break;case"!":ie&&le(Ve),It=D(H,Ve,J,de);break;default:ie&&le(Ve);var At=new z,Zt=_e[_e.length-1].currentNSMap,It=y(H,Ve,At,Zt,Se,de),ht=At.length;if(!At.closed&&I(H,It,At.tagName,Ne)&&(At.closed=!0,oe.nbsp||de.warning("unclosed xml attribute")),ie&&ht){for(var lu=w(ie,{}),mu=0;mu<ht;mu++){var fu=At[mu];le(fu.offset),fu.locator=w(ie,{})}J.locator=lu,A(At,J,Zt)&&_e.push(At),J.locator=ie}else A(At,J,Zt)&&_e.push(At);t.isHTML(At.uri)&&!At.closed?It=N(H,It,At.tagName,Se,J):It++}}catch(nt){if(nt instanceof x)throw nt;de.error("element parse error: "+nt),It=-1}It>Ee?Ee=It:te(Math.max(Ve,Ee)+1)}}function w(H,Y){return Y.lineNumber=H.lineNumber,Y.columnNumber=H.columnNumber,Y}function y(H,Y,oe,J,de,Re){function Se(ie,_e,Ne){oe.attributeNames.hasOwnProperty(ie)&&Re.fatalError("Attribute "+ie+" redefined"),oe.addValue(ie,_e,Ne)}for(var te,le,ge=++Y,De=a;;){var G=H.charAt(ge);switch(G){case"=":if(De===l)te=H.slice(Y,ge),De=f;else if(De===c)De=f;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(De===f||De===l)if(De===l&&(Re.warning('attribute value must after "="'),te=H.slice(Y,ge)),Y=ge+1,ge=H.indexOf(G,Y),ge>0)le=H.slice(Y,ge).replace(/&#?\w+;/g,de),Se(te,le,Y-1),De=p;else throw new Error("attribute value no end '"+G+"' match");else if(De==h)le=H.slice(Y,ge).replace(/&#?\w+;/g,de),Se(te,le,Y),Re.warning('attribute "'+te+'" missed start quot('+G+")!!"),Y=ge+1,De=p;else throw new Error('attribute value must after "="');break;case"/":switch(De){case a:oe.setTagName(H.slice(Y,ge));case p:case E:case _:De=_,oe.closed=!0;case h:case l:break;case c:oe.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Re.error("unexpected end of input"),De==a&&oe.setTagName(H.slice(Y,ge)),ge;case">":switch(De){case a:oe.setTagName(H.slice(Y,ge));case p:case E:case _:break;case h:case l:le=H.slice(Y,ge),le.slice(-1)==="/"&&(oe.closed=!0,le=le.slice(0,-1));case c:De===c&&(le=te),De==h?(Re.warning('attribute "'+le+'" missed quot(")!'),Se(te,le.replace(/&#?\w+;/g,de),Y)):((!t.isHTML(J[""])||!le.match(/^(?:disabled|checked|selected)$/i))&&Re.warning('attribute "'+le+'" missed value!! "'+le+'" instead!!'),Se(le,le,Y));break;case f:throw new Error("attribute value missed!!")}return ge;case"":G=" ";default:if(G<=" ")switch(De){case a:oe.setTagName(H.slice(Y,ge)),De=E;break;case l:te=H.slice(Y,ge),De=c;break;case h:var le=H.slice(Y,ge).replace(/&#?\w+;/g,de);Re.warning('attribute "'+le+'" missed quot(")!!'),Se(te,le,Y);case p:De=E;break}else switch(De){case c:oe.tagName,(!t.isHTML(J[""])||!te.match(/^(?:disabled|checked|selected)$/i))&&Re.warning('attribute "'+te+'" missed value!! "'+te+'" instead2!!'),Se(te,te,Y),Y=ge,De=l;break;case p:Re.warning('attribute space is required"'+te+'"!!');case E:De=l,Y=ge;break;case f:De=h,Y=ge;break;case _:throw new Error("elements closed character '/' and '>' must be connected to")}}ge++}}function A(H,Y,oe){for(var J=H.tagName,de=null,G=H.length;G--;){var Re=H[G],Se=Re.qName,te=Re.value,ie=Se.indexOf(":");if(ie>0)var le=Re.prefix=Se.slice(0,ie),ge=Se.slice(ie+1),De=le==="xmlns"&&ge;else ge=Se,le=null,De=Se==="xmlns"&&"";Re.localName=ge,De!==!1&&(de==null&&(de={},V(oe,oe={})),oe[De]=de[De]=te,Re.uri=t.XMLNS,Y.startPrefixMapping(De,te))}for(var G=H.length;G--;){Re=H[G];var le=Re.prefix;le&&(le==="xml"&&(Re.uri=t.XML),le!=="xmlns"&&(Re.uri=oe[le||""]))}var ie=J.indexOf(":");ie>0?(le=H.prefix=J.slice(0,ie),ge=H.localName=J.slice(ie+1)):(le=null,ge=H.localName=J);var _e=H.uri=oe[le||""];if(Y.startElement(_e,ge,J,H),H.closed){if(Y.endElement(_e,ge,J),de)for(le in de)Object.prototype.hasOwnProperty.call(de,le)&&Y.endPrefixMapping(le)}else return H.currentNSMap=oe,H.localNSMap=de,!0}function N(H,Y,oe,J,de){if(/^(?:script|textarea)$/i.test(oe)){var Re=H.indexOf("</"+oe+">",Y),Se=H.substring(Y+1,Re);if(/[&<]/.test(Se))return/^script$/i.test(oe)?(de.characters(Se,0,Se.length),Re):(Se=Se.replace(/&#?\w+;/g,J),de.characters(Se,0,Se.length),Re)}return Y+1}function I(H,Y,oe,J){var de=J[oe];return de==null&&(de=H.lastIndexOf("</"+oe+">"),de<Y&&(de=H.lastIndexOf("</"+oe)),J[oe]=de),de<Y}function V(H,Y){for(var oe in H)Object.prototype.hasOwnProperty.call(H,oe)&&(Y[oe]=H[oe])}function D(H,Y,oe,J){var de=H.charAt(Y+2);switch(de){case"-":if(H.charAt(Y+3)==="-"){var Re=H.indexOf("-->",Y+4);return Re>Y?(oe.comment(H,Y+4,Re-Y-4),Re+3):(J.error("Unclosed comment"),-1)}else return-1;default:if(H.substr(Y+3,6)=="CDATA["){var Re=H.indexOf("]]>",Y+9);return oe.startCDATA(),oe.characters(H,Y+9,Re-Y-9),oe.endCDATA(),Re+3}var Se=q(H,Y),te=Se.length;if(te>1&&/!doctype/i.test(Se[0][0])){var le=Se[1][0],ge=!1,De=!1;te>3&&(/^public$/i.test(Se[2][0])?(ge=Se[3][0],De=te>4&&Se[4][0]):/^system$/i.test(Se[2][0])&&(De=Se[3][0]));var G=Se[te-1];return oe.startDTD(le,ge,De),oe.endDTD(),G.index+G[0].length}}return-1}function U(H,Y,oe){var J=H.indexOf("?>",Y);if(J){var de=H.substring(Y,J).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return de?(de[0].length,oe.processingInstruction(de[1],de[2]),J+2):-1}return-1}function z(){this.attributeNames={}}z.prototype={setTagName:function(H){if(!i.test(H))throw new Error("invalid tagName:"+H);this.tagName=H},addValue:function(H,Y,oe){if(!i.test(H))throw new Error("invalid attribute:"+H);this.attributeNames[H]=this.length,this[this.length++]={qName:H,value:Y,offset:oe}},length:0,getLocalName:function(H){return this[H].localName},getLocator:function(H){return this[H].locator},getQName:function(H){return this[H].qName},getURI:function(H){return this[H].uri},getValue:function(H){return this[H].value}};function q(H,Y){var oe,J=[],de=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(de.lastIndex=Y,de.exec(H);oe=de.exec(H);)if(J.push(oe),oe[1])return J}return Bo.XMLReader=S,Bo.ParseError=x,Bo}var Xg;function t5(){if(Xg)return Ca;Xg=1;var t=Ac(),e=Gv(),u=JS(),i=e5(),a=e.DOMImplementation,l=t.NAMESPACE,c=i.ParseError,f=i.XMLReader;function h(w){this.options=w||{locator:{}}}h.prototype.parseFromString=function(w,y){var A=this.options,N=new f,I=A.domBuilder||new E,V=A.errorHandler,D=A.locator,U=A.xmlns||{},z=/\/x?html?$/.test(y),q=z?u.HTML_ENTITIES:u.XML_ENTITIES;return D&&I.setDocumentLocator(D),N.errorHandler=p(V,I,D),N.domBuilder=A.domBuilder||I,z&&(U[""]=l.HTML),U.xml=U.xml||l.XML,w&&typeof w=="string"?N.parse(w,U,q):N.errorHandler.error("invalid doc source"),I.doc};function p(w,y,A){if(!w){if(y instanceof E)return y;w=y}var N={},I=w instanceof Function;A=A||{};function V(D){var U=w[D];!U&&I&&(U=w.length==2?function(z){w(D,z)}:w),N[D]=U&&function(z){U("[xmldom "+D+"]	"+z+x(A))}||function(){}}return V("warning"),V("error"),V("fatalError"),N}function E(){this.cdata=!1}function _(w,y){y.lineNumber=w.lineNumber,y.columnNumber=w.columnNumber}E.prototype={startDocument:function(){this.doc=new a().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(w,y,A,N){var I=this.doc,V=I.createElementNS(w,A||y),D=N.length;B(this,V),this.currentElement=V,this.locator&&_(this.locator,V);for(var U=0;U<D;U++){var w=N.getURI(U),z=N.getValue(U),A=N.getQName(U),q=I.createAttributeNS(w,A);this.locator&&_(N.getLocator(U),q),q.value=q.nodeValue=z,V.setAttributeNode(q)}},endElement:function(w,y,A){var N=this.currentElement;N.tagName,this.currentElement=N.parentNode},startPrefixMapping:function(w,y){},endPrefixMapping:function(w){},processingInstruction:function(w,y){var A=this.doc.createProcessingInstruction(w,y);this.locator&&_(this.locator,A),B(this,A)},ignorableWhitespace:function(w,y,A){},characters:function(w,y,A){if(w=S.apply(this,arguments),w){if(this.cdata)var N=this.doc.createCDATASection(w);else var N=this.doc.createTextNode(w);this.currentElement?this.currentElement.appendChild(N):/^\s*$/.test(w)&&this.doc.appendChild(N),this.locator&&_(this.locator,N)}},skippedEntity:function(w){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(w){(this.locator=w)&&(w.lineNumber=0)},comment:function(w,y,A){w=S.apply(this,arguments);var N=this.doc.createComment(w);this.locator&&_(this.locator,N),B(this,N)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(w,y,A){var N=this.doc.implementation;if(N&&N.createDocumentType){var I=N.createDocumentType(w,y,A);this.locator&&_(this.locator,I),B(this,I),this.doc.doctype=I}},warning:function(w){console.warn("[xmldom warning]	"+w,x(this.locator))},error:function(w){console.error("[xmldom error]	"+w,x(this.locator))},fatalError:function(w){throw new c(w,this.locator)}};function x(w){if(w)return`
@`+(w.systemId||"")+"#[line:"+w.lineNumber+",col:"+w.columnNumber+"]"}function S(w,y,A){return typeof w=="string"?w.substr(y,A):w.length>=y+A||y?new java.lang.String(w,y,A)+"":w}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(w){E.prototype[w]=function(){return null}});function B(w,y){w.currentElement?w.currentElement.appendChild(y):w.doc.appendChild(y)}return Ca.__DOMHandler=E,Ca.DOMParser=h,Ca.DOMImplementation=e.DOMImplementation,Ca.XMLSerializer=e.XMLSerializer,Ca}var Wg;function u5(){if(Wg)return Xs;Wg=1;var t=Gv();return Xs.DOMImplementation=t.DOMImplementation,Xs.XMLSerializer=t.XMLSerializer,Xs.DOMParser=t5().DOMParser,Xs}var Zv=u5();const Bh=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,n5=1,i5=3,Xv=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function xc(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(u=="x"?i:i&7|8).toString(16)});return e}function r5(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function Wv(t){return!!(t&&t.nodeType==1)}function Au(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Qv(t){let e=parseFloat(t);return Au(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function Oa(t){var e=["Webkit","webkit","Moz","O","ms"],u=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=t.toLowerCase(),a=e.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return t;for(var l=0;l<a;l++)if(typeof document.body.style[u[l]+i]<"u")return u[l]+i;return t}function Kv(t){for(var e=1,u=arguments.length;e<u;e++){var i=arguments[e];for(var a in i)t[a]===void 0&&(t[a]=i[a])}return t}function $u(t){var e=[].slice.call(arguments,1);return e.forEach(function(u){u&&Object.getOwnPropertyNames(u).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(u,i))})}),t}function a5(t,e,u){var i=za(t,e,u);return e.splice(i,0,t),i}function za(t,e,u,i,a){var l=i||0,c=a||e.length,f=parseInt(l+(c-l)/2),h;return u||(u=function(p,E){if(p>E)return 1;if(p<E)return-1;if(p==E)return 0}),c-l<=0?f:(h=u(e[f],t),c-l===1?h>=0?f:f+1:h===0?f:h===-1?za(t,e,u,f,c):za(t,e,u,l,f))}function ic(t,e,u,i,a){var l=i||0,c=a||e.length,f=parseInt(l+(c-l)/2),h;return u||(u=function(p,E){if(p>E)return 1;if(p<E)return-1;if(p==E)return 0}),c-l<=0?-1:(h=u(e[f],t),c-l===1?h===0?f:-1:h===0?f:h===-1?ic(t,e,u,f,c):ic(t,e,u,l,f))}function Fo(t){var e=window.getComputedStyle(t),u=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,l=0;return u.forEach(function(c){a+=parseFloat(e[c])||0}),i.forEach(function(c){l+=parseFloat(e[c])||0}),{height:l,width:a}}function rc(t){var e=window.getComputedStyle(t),u=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],a=0,l=0;return u.forEach(function(c){a+=parseFloat(e[c])||0}),i.forEach(function(c){l+=parseFloat(e[c])||0}),{height:l,width:a}}function nh(t){let e,u=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let i=u.createRange();i.selectNodeContents(t),e=i.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function ac(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function Mh(t,e){for(var u=t.parentNode,i=u.childNodes,a,l=-1,c=0;c<i.length&&(a=i[c],a.nodeType===e&&l++,a!=t);c++);return l}function s5(t){return Mh(t,i5)}function $v(t){return Mh(t,n5)}function ml(t){return["xml","opf","ncx"].indexOf(t)>-1}function Jv(t,e){return new Blob([t],{type:e})}function sc(t,e){var u,i=Jv(t,e);return u=Xv.createObjectURL(i),u}function eE(t){return Xv.revokeObjectURL(t)}function ih(t,e){var u,i;if(typeof t=="string")return u=btoa(t),i="data:"+e+";base64,"+u,i}function tE(t){return Object.prototype.toString.call(t).slice(8,-1)}function si(t,e,u){var i,a;return typeof DOMParser>"u"||u?a=Zv.DOMParser:a=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),i=new a().parseFromString(t,e),i}function su(t,e){var u;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector<"u")return t.querySelector(e);if(u=t.getElementsByTagName(e),u.length)return u[0]}function Oi(t,e){return typeof t.querySelector<"u"?t.querySelectorAll(e):t.getElementsByTagName(e)}function Ra(t,e,u){var i,a;if(typeof t.querySelector<"u"){e+="[";for(var l in u)e+=l+"~='"+u[l]+"'";return e+="]",t.querySelector(e)}else if(i=t.getElementsByTagName(e),a=Array.prototype.slice.call(i,0).filter(function(c){for(var f in u)if(c.getAttribute(f)===u[f])return!0;return!1}),a)return a[0]}function lc(t,e){var u=t.ownerDocument||t;typeof u.createTreeWalker<"u"?uE(t,e,NodeFilter.SHOW_TEXT):Uh(t,function(i){i&&i.nodeType===3&&e(i)})}function uE(t,e,u){var i=document.createTreeWalker(t,u,null,!1);let a;for(;a=i.nextNode();)e(a)}function Uh(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(Uh(t,e))return!0;t=t.nextSibling}while(t)}function nE(t){return new Promise(function(e,u){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){e(i.result)}})}function Ot(){this.resolve=null,this.reject=null,this.id=xc(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function oc(t,e,u){var i;if(typeof t.querySelector<"u"&&(i=t.querySelector(`${e}[*|type="${u}"]`)),!i||i.length===0){i=Oi(t,e);for(var a=0;a<i.length;a++)if(i[a].getAttributeNS("http://www.idpf.org/2007/ops","type")===u||i[a].getAttribute("epub:type")===u)return i[a]}else return i}function rh(t){for(var e=[],u=t.childNodes,i=0;i<u.length;i++){let a=u[i];a.nodeType===1&&e.push(a)}return e}function ah(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function Ia(t,e,u){for(var i=[],a=t.childNodes,l=0;l<a.length;l++){let c=a[l];if(c.nodeType===1&&c.nodeName.toLowerCase()===e){if(u)return c;i.push(c)}}if(!u)return i}function l5(t,e){let u;if(!(t===null||e===""))for(u=t.parentNode;u.nodeType===1;){if(u.tagName.toLowerCase()===e)return u;u=u.parentNode}}class iE{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,u){this.startContainer=e,this.startOffset=u,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,u){this.endContainer=e,this.endOffset=u,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let u=e.parentNode,i=Array.prototype.indexOf.call(u.childNodes,e);this.setStart(u,i),this.setEnd(u,i+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let u=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,u)}_commonAncestorContainer(e,u){var i=ah(e||this.startContainer),a=ah(u||this.endContainer);if(i[0]==a[0]){for(var l=0;l<i.length;l++)if(i[l]!=a[l])return i[l-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const o5=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:iE,blob2base64:nE,borders:rc,bounds:Fo,createBase64Url:ih,createBlob:Jv,createBlobUrl:sc,defaults:Kv,defer:Ot,documentHeight:r5,extend:$u,filterChildren:Ia,findChildren:rh,getParentByTagName:l5,indexOfElementNode:$v,indexOfNode:Mh,indexOfSorted:ic,indexOfTextNode:s5,insert:a5,isElement:Wv,isFloat:Qv,isNumber:Au,isXml:ml,locationOf:za,nodeBounds:nh,parents:ah,parse:si,prefixed:Oa,qs:su,qsa:Oi,qsp:Ra,querySelectorByType:oc,requestAnimationFrame:Bh,revokeBlobUrl:eE,sprint:lc,treeWalker:uE,type:tE,uuid:xc,walk:Uh,windowBounds:ac},Symbol.toStringTag,{value:"Module"}));var g0,Qg;function c5(){if(Qg)return g0;if(Qg=1,!t)var t={cwd:function(){return"/"}};function e(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+l)}function u(l,c){for(var f="",h=-1,p=0,E,_=0;_<=l.length;++_){if(_<l.length)E=l.charCodeAt(_);else{if(E===47)break;E=47}if(E===47){if(!(h===_-1||p===1))if(h!==_-1&&p===2){if(f.length<2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){for(var x=f.length-1,S=x;S>=0&&f.charCodeAt(S)!==47;--S);if(S!==x){S===-1?f="":f=f.slice(0,S),h=_,p=0;continue}}else if(f.length===2||f.length===1){f="",h=_,p=0;continue}}c&&(f.length>0?f+="/..":f="..")}else f.length>0?f+="/"+l.slice(h+1,_):f=l.slice(h+1,_);h=_,p=0}else E===46&&p!==-1?++p:p=-1}return f}function i(l,c){var f=c.dir||c.root,h=c.base||(c.name||"")+(c.ext||"");return f?f===c.root?f+h:f+l+h:h}var a={resolve:function(){for(var c="",f=!1,h,p=arguments.length-1;p>=-1&&!f;p--){var E;p>=0?E=arguments[p]:(h===void 0&&(h=t.cwd()),E=h),e(E),E.length!==0&&(c=E+"/"+c,f=E.charCodeAt(0)===47)}return c=u(c,!f),f?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(c){if(e(c),c.length===0)return".";var f=c.charCodeAt(0)===47,h=c.charCodeAt(c.length-1)===47;return c=u(c,!f),c.length===0&&!f&&(c="."),c.length>0&&h&&(c+="/"),f?"/"+c:c},isAbsolute:function(c){return e(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,f=0;f<arguments.length;++f){var h=arguments[f];e(h),h.length>0&&(c===void 0?c=h:c+="/"+h)}return c===void 0?".":a.normalize(c)},relative:function(c,f){if(e(c),e(f),c===f||(c=a.resolve(c),f=a.resolve(f),c===f))return"";for(var h=1;h<c.length&&c.charCodeAt(h)===47;++h);for(var p=c.length,E=p-h,_=1;_<f.length&&f.charCodeAt(_)===47;++_);for(var x=f.length,S=x-_,B=E<S?E:S,w=-1,y=0;y<=B;++y){if(y===B){if(S>B){if(f.charCodeAt(_+y)===47)return f.slice(_+y+1);if(y===0)return f.slice(_+y)}else E>B&&(c.charCodeAt(h+y)===47?w=y:y===0&&(w=0));break}var A=c.charCodeAt(h+y),N=f.charCodeAt(_+y);if(A!==N)break;A===47&&(w=y)}var I="";for(y=h+w+1;y<=p;++y)(y===p||c.charCodeAt(y)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+f.slice(_+w):(_+=w,f.charCodeAt(_)===47&&++_,f.slice(_))},_makeLong:function(c){return c},dirname:function(c){if(e(c),c.length===0)return".";for(var f=c.charCodeAt(0),h=f===47,p=-1,E=!0,_=c.length-1;_>=1;--_)if(f=c.charCodeAt(_),f===47){if(!E){p=_;break}}else E=!1;return p===-1?h?"/":".":h&&p===1?"//":c.slice(0,p)},basename:function(c,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');e(c);var h=0,p=-1,E=!0,_;if(f!==void 0&&f.length>0&&f.length<=c.length){if(f.length===c.length&&f===c)return"";var x=f.length-1,S=-1;for(_=c.length-1;_>=0;--_){var B=c.charCodeAt(_);if(B===47){if(!E){h=_+1;break}}else S===-1&&(E=!1,S=_+1),x>=0&&(B===f.charCodeAt(x)?--x===-1&&(p=_):(x=-1,p=S))}return h===p?p=S:p===-1&&(p=c.length),c.slice(h,p)}else{for(_=c.length-1;_>=0;--_)if(c.charCodeAt(_)===47){if(!E){h=_+1;break}}else p===-1&&(E=!1,p=_+1);return p===-1?"":c.slice(h,p)}},extname:function(c){e(c);for(var f=-1,h=0,p=-1,E=!0,_=0,x=c.length-1;x>=0;--x){var S=c.charCodeAt(x);if(S===47){if(!E){h=x+1;break}continue}p===-1&&(E=!1,p=x+1),S===46?f===-1?f=x:_!==1&&(_=1):f!==-1&&(_=-1)}return f===-1||p===-1||_===0||_===1&&f===p-1&&f===h+1?"":c.slice(f,p)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof c);return i("/",c)},parse:function(c){e(c);var f={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return f;var h=c.charCodeAt(0),p=h===47,E;p?(f.root="/",E=1):E=0;for(var _=-1,x=0,S=-1,B=!0,w=c.length-1,y=0;w>=E;--w){if(h=c.charCodeAt(w),h===47){if(!B){x=w+1;break}continue}S===-1&&(B=!1,S=w+1),h===46?_===-1?_=w:y!==1&&(y=1):_!==-1&&(y=-1)}return _===-1||S===-1||y===0||y===1&&_===S-1&&_===x+1?S!==-1&&(x===0&&p?f.base=f.name=c.slice(1,S):f.base=f.name=c.slice(x,S)):(x===0&&p?(f.name=c.slice(1,_),f.base=c.slice(1,S)):(f.name=c.slice(x,_),f.base=c.slice(x,S)),f.ext=c.slice(_,S)),x>0?f.dir=c.slice(0,x-1):p&&(f.dir="/"),f},sep:"/",delimiter:":",posix:null};return g0=a,g0}var f5=c5();const cr=jr(f5);class Ri{constructor(e){var u,i;u=e.indexOf("://"),u>-1&&(e=new URL(e).pathname),i=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(e){return cr.parse(e)}isAbsolute(e){return cr.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return cr.resolve(this.directory,e)}relative(e){var u=e&&e.indexOf("://")>-1;return u?e:cr.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class Xn{constructor(e,u){var i=e.indexOf("://")>-1,a=e,l;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=u,!i&&u!==!1&&typeof u!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,a=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(l=new Ri(this.base),a=l.resolve(a))}this.Path=new Ri(a),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var u=e.indexOf("://")>-1,i;return u?e:(i=cr.resolve(this.directory,e),this.origin+i)}relative(e){return cr.relative(e,this.directory)}toString(){return this.href}}const Na=1,Bn=3,d5=9;class Rt{constructor(e,u,i){var a;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Rt))return new Rt(e,u,i);if(typeof u=="string"?this.base=this.parseComponent(u):typeof u=="object"&&u.steps&&(this.base=u),a=this.checkType(e),a==="string")return this.str=e,$u(this,this.parse(e));if(a==="range")return $u(this,this.fromRange(e,this.base,i));if(a==="node")return $u(this,this.fromNode(e,this.base,i));if(a==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(tE(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Rt?"EpubCFI":!1}parse(e){var u={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,a,l;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),i=this.getChapterComponent(e),i?(u.base=this.parseComponent(i),a=this.getPathComponent(e),u.path=this.parseComponent(a),l=this.getRange(e),l&&(u.range=!0,u.start=this.parseComponent(l[0]),u.end=this.parseComponent(l[1])),u.spinePos=u.base.steps[1].index,u):{spinePos:-1})}parseComponent(e){var u={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),a=i[0].split("/"),l;return i.length>1&&(l=i[1],u.terminal=this.parseTerminal(l)),a[0]===""&&a.shift(),u.steps=a.map((function(c){return this.parseStep(c)}).bind(this)),u}parseStep(e){var u,i,a,l,c;if(l=e.match(/\[(.*)\]/),l&&l[1]&&(c=l[1]),i=parseInt(e),!isNaN(i))return i%2===0?(u="element",a=i/2-1):(u="text",a=(i-1)/2),{type:u,index:a,id:c||null}}parseTerminal(e){var u,i,a=e.match(/\[(.*)\]/);return a&&a[1]?(u=parseInt(e.split("[")[0]),i=a[1]):u=parseInt(e),Au(u)||(u=null),{offset:u,assertion:i}}getChapterComponent(e){var u=e.split("!");return u[0]}getPathComponent(e){var u=e.split("!");if(u[1])return u[1].split(",")[0]}getRange(e){var u=e.split(",");return u.length===3?[u[1],u[2]]:!1}getCharecterOffsetComponent(e){var u=e.split(":");return u[1]||""}joinSteps(e){return e?e.map(function(u){var i="";return u.type==="element"&&(i+=(u.index+1)*2),u.type==="text"&&(i+=1+2*u.index),u.id&&(i+="["+u.id+"]"),i}).join("/"):""}segmentString(e){var u="/";return u+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(u+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(u+="["+e.terminal.assertion+"]"),u}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,u){var i,a,l,c;if(typeof e=="string"&&(e=new Rt(e)),typeof u=="string"&&(u=new Rt(u)),e.spinePos>u.spinePos)return 1;if(e.spinePos<u.spinePos)return-1;e.range?(i=e.path.steps.concat(e.start.steps),l=e.start.terminal):(i=e.path.steps,l=e.path.terminal),u.range?(a=u.path.steps.concat(u.start.steps),c=u.start.terminal):(a=u.path.steps,c=u.path.terminal);for(var f=0;f<i.length;f++){if(!i[f])return-1;if(!a[f]||i[f].index>a[f].index)return 1;if(i[f].index<a[f].index)return-1}return i.length<a.length?-1:l.offset>c.offset?1:l.offset<c.offset?-1:0}step(e){var u=e.nodeType===Bn?"text":"element";return{id:e.id,tagName:e.tagName,type:u,index:this.position(e)}}filteredStep(e,u){var i=this.filter(e,u),a;if(i)return a=i.nodeType===Bn?"text":"element",{id:i.id,tagName:i.tagName,type:a,index:this.filteredPosition(i,u)}}pathTo(e,u,i){for(var a={steps:[],terminal:{offset:null,assertion:null}},l=e,c;l&&l.parentNode&&l.parentNode.nodeType!=d5;)i?c=this.filteredStep(l,i):c=this.step(l),c&&a.steps.unshift(c),l=l.parentNode;return u!=null&&u>=0&&(a.terminal.offset=u,a.steps[a.steps.length-1].type!="text"&&a.steps.push({type:"text",index:0})),a}equalStep(e,u){return!e||!u?!1:e.index===u.index&&e.id===u.id&&e.type===u.type}fromRange(e,u,i){var a={range:!1,base:{},path:{},start:null,end:null},l=e.startContainer,c=e.endContainer,f=e.startOffset,h=e.endOffset,p=!1;if(i&&(p=l.ownerDocument.querySelector("."+i)!=null),typeof u=="string"?(a.base=this.parseComponent(u),a.spinePos=a.base.steps[1].index):typeof u=="object"&&(a.base=u),e.collapsed)p&&(f=this.patchOffset(l,f,i)),a.path=this.pathTo(l,f,i);else{a.range=!0,p&&(f=this.patchOffset(l,f,i)),a.start=this.pathTo(l,f,i),p&&(h=this.patchOffset(c,h,i)),a.end=this.pathTo(c,h,i),a.path={steps:[],terminal:null};var E=a.start.steps.length,_;for(_=0;_<E&&this.equalStep(a.start.steps[_],a.end.steps[_]);_++)_===E-1?a.start.terminal===a.end.terminal&&(a.path.steps.push(a.start.steps[_]),a.range=!1):a.path.steps.push(a.start.steps[_]);a.start.steps=a.start.steps.slice(a.path.steps.length),a.end.steps=a.end.steps.slice(a.path.steps.length)}return a}fromNode(e,u,i){var a={range:!1,base:{},path:{},start:null,end:null};return typeof u=="string"?(a.base=this.parseComponent(u),a.spinePos=a.base.steps[1].index):typeof u=="object"&&(a.base=u),a.path=this.pathTo(e,null,i),a}filter(e,u){var i,a,l,c,f,h=!1;return e.nodeType===Bn?(h=!0,l=e.parentNode,i=e.parentNode.classList.contains(u)):(h=!1,i=e.classList.contains(u)),i&&h?(c=l.previousSibling,f=l.nextSibling,c&&c.nodeType===Bn?a=c:f&&f.nodeType===Bn&&(a=f),a||e):i&&!h?!1:e}patchOffset(e,u,i){if(e.nodeType!=Bn)throw new Error("Anchor must be a text node");var a=e,l=u;for(e.parentNode.classList.contains(i)&&(a=e.parentNode);a.previousSibling;){if(a.previousSibling.nodeType===Na)if(a.previousSibling.classList.contains(i))l+=a.previousSibling.textContent.length;else break;else l+=a.previousSibling.textContent.length;a=a.previousSibling}return l}normalizedMap(e,u,i){var a={},l=-1,c,f=e.length,h,p;for(c=0;c<f;c++)h=e[c].nodeType,h===Na&&e[c].classList.contains(i)&&(h=Bn),c>0&&h===Bn&&p===Bn?a[c]=l:u===h&&(l=l+1,a[c]=l),p=h;return a}position(e){var u,i;return e.nodeType===Na?(u=e.parentNode.children,u||(u=rh(e.parentNode)),i=Array.prototype.indexOf.call(u,e)):(u=this.textNodes(e.parentNode),i=u.indexOf(e)),i}filteredPosition(e,u){var i,a,l;return e.nodeType===Na?(i=e.parentNode.children,l=this.normalizedMap(i,Na,u)):(i=e.parentNode.childNodes,e.parentNode.classList.contains(u)&&(e=e.parentNode,i=e.parentNode.childNodes),l=this.normalizedMap(i,Bn,u)),a=Array.prototype.indexOf.call(i,e),l[a]}stepsToXpath(e){var u=[".","*"];return e.forEach(function(i){var a=i.index+1;i.id?u.push("*[position()="+a+" and @id='"+i.id+"']"):i.type==="text"?u.push("text()["+a+"]"):u.push("*["+a+"]")}),u.join("/")}stepsToQuerySelector(e){var u=["html"];return e.forEach(function(i){var a=i.index+1;i.id?u.push("#"+i.id):i.type==="text"||u.push("*:nth-child("+a+")")}),u.join(">")}textNodes(e,u){return Array.prototype.slice.call(e.childNodes).filter(function(i){return i.nodeType===Bn?!0:!!(u&&i.classList.contains(u))})}walkToNode(e,u,i){var a=u||document,l=a.documentElement,c,f,h=e.length,p;for(p=0;p<h&&(f=e[p],f.type==="element"?f.id?l=a.getElementById(f.id):(c=l.children||rh(l),l=c[f.index]):f.type==="text"&&(l=this.textNodes(l,i)[f.index]),!!l);p++);return l}findNode(e,u,i){var a=u||document,l,c;return!i&&typeof a.evaluate<"u"?(c=this.stepsToXpath(e),l=a.evaluate(c,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?l=this.walkToNode(e,a,i):l=this.walkToNode(e,a),l}fixMiss(e,u,i,a){var l=this.findNode(e.slice(0,-1),i,a),c=l.childNodes,f=this.normalizedMap(c,Bn,a),h,p,E=e[e.length-1].index;for(let _ in f){if(!f.hasOwnProperty(_))return;if(f[_]===E)if(h=c[_],p=h.textContent.length,u>p)u=u-p;else{h.nodeType===Na?l=h.childNodes[0]:l=h;break}}return{container:l,offset:u}}toRange(e,u){var i=e||document,a,l,c,f,h,p=this,E,_,x=u?i.querySelector("."+u)!=null:!1,S;if(typeof i.createRange<"u"?a=i.createRange():a=new iE,p.range?(l=p.start,E=p.path.steps.concat(l.steps),f=this.findNode(E,i,x?u:null),c=p.end,_=p.path.steps.concat(c.steps),h=this.findNode(_,i,x?u:null)):(l=p.path,E=p.path.steps,f=this.findNode(p.path.steps,i,x?u:null)),f)try{l.terminal.offset!=null?a.setStart(f,l.terminal.offset):a.setStart(f,0)}catch{S=this.fixMiss(E,l.terminal.offset,i,x?u:null),a.setStart(S.container,S.offset)}else return console.log("No startContainer found for",this.toString()),null;if(h)try{c.terminal.offset!=null?a.setEnd(h,c.terminal.offset):a.setEnd(h,0)}catch{S=this.fixMiss(_,p.end.terminal.offset,i,x?u:null),a.setEnd(S.container,S.offset)}return a}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,u,i){var a=parseInt(u),l=(e+1)*2,c="/"+l+"/";return c+=(a+1)*2,i&&(c+="["+i+"]"),c}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Wn{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var u=0;u<arguments[e].length;++u)this.hooks.push(arguments[e][u])}deregister(e){let u;for(let i=0;i<this.hooks.length;i++)if(u=this.hooks[i],u===e){this.hooks.splice(i,1);break}}trigger(){var e=arguments,u=this.context,i=[];return this.hooks.forEach(function(a){try{var l=a.apply(u,e)}catch(c){console.log(c)}l&&typeof l.then=="function"&&i.push(l)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function rE(t,e){var u,i,a=e.url,l=a.indexOf("://")>-1;t&&(i=su(t,"head"),u=su(i,"base"),u||(u=t.createElement("base"),i.insertBefore(u,i.firstChild)),!l&&window&&window.location&&(a=window.location.origin+a),u.setAttribute("href",a))}function h5(t,e){var u,i,a=e.canonical;t&&(u=su(t,"head"),i=su(u,"link[rel='canonical']"),i?i.setAttribute("href",a):(i=t.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",a),u.appendChild(i)))}function p5(t,e){var u,i,a=e.idref;t&&(u=su(t,"head"),i=su(u,"link[property='dc.identifier']"),i?i.setAttribute("content",a):(i=t.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",a),u.appendChild(i)))}function m5(t,e){var u=t.querySelectorAll("a[href]");if(u.length)for(var i=su(t.ownerDocument,"base"),a=i?i.getAttribute("href"):void 0,l=(function(f){var h=f.getAttribute("href");if(h.indexOf("mailto:")!==0){var p=h.indexOf("://")>-1;if(p)f.setAttribute("target","_blank");else{var E;try{E=new Xn(h,a)}catch{}f.onclick=function(){return E&&E.hash?e(E.Path.path+E.hash):e(E?E.Path.path:h),!1}}}}).bind(this),c=0;c<u.length;c++)l(u[c])}function Kg(t,e,u){return e.forEach(function(i,a){i&&u[a]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(i,"g"),u[a]))}),t}function gl(t,e,u,i){var a=typeof window<"u"?window.URL:!1,l=a?"blob":"arraybuffer",c=new Ot,f=new XMLHttpRequest,h=XMLHttpRequest.prototype,p;"overrideMimeType"in h||Object.defineProperty(h,"overrideMimeType",{value:function(){}}),u&&(f.withCredentials=!0),f.onreadystatechange=_,f.onerror=E,f.open("GET",t,!0);for(p in i)f.setRequestHeader(p,i[p]);e=="json"&&f.setRequestHeader("Accept","application/json"),e||(e=new Ri(t).extension),e=="blob"&&(f.responseType=l),ml(e)&&f.overrideMimeType("text/xml"),e=="binary"&&(f.responseType="arraybuffer"),f.send();function E(x){c.reject(x)}function _(){if(this.readyState===XMLHttpRequest.DONE){var x=!1;if((this.responseType===""||this.responseType==="document")&&(x=this.responseXML),this.status===200||this.status===0||x){var S;if(!this.response&&!x)return c.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),c.promise;if(this.status===403)return c.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),c.promise;x?S=this.responseXML:ml(e)?S=si(this.response,"text/xml"):e=="xhtml"?S=si(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?S=si(this.response,"text/html"):e=="json"?S=JSON.parse(this.response):e=="blob"?a?S=this.response:S=new Blob([this.response]):S=this.response,c.resolve(S)}else c.reject({status:this.status,message:this.response,stack:new Error().stack})}}return c.promise}class g5{constructor(e,u){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,u?this.hooks=u:(this.hooks={},this.hooks.serialize=new Wn(this),this.hooks.content=new Wn(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var u=e||this.request||gl,i=new Ot,a=i.promise;return this.contents?i.resolve(this.contents):u(this.url).then((function(l){return this.document=l,this.contents=l.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(l){i.reject(l)}),a}base(){return rE(this.document,this)}render(e){var u=new Ot,i=u.promise;return this.output,this.load(e).then((function(a){var l=typeof navigator<"u"&&navigator.userAgent||"",c=l.indexOf("Trident")>=0,f;typeof XMLSerializer>"u"||c?f=Zv.DOMParser:f=XMLSerializer;var h=new f;return this.output=h.serializeToString(a),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){u.resolve(this.output)}).bind(this)).catch(function(a){u.reject(a)}),i}find(e){var u=this,i=[],a=e.toLowerCase(),l=function(c){for(var f=c.textContent.toLowerCase(),h=u.document.createRange(),p,E,_=-1,x,S=150;E!=-1;)E=f.indexOf(a,_+1),E!=-1&&(h=u.document.createRange(),h.setStart(c,E),h.setEnd(c,E+a.length),p=u.cfiFromRange(h),c.textContent.length<S?x=c.textContent:(x=c.textContent.substring(E-S/2,E+S/2),x="..."+x+"..."),i.push({cfi:p,excerpt:x})),_=E};return lc(u.document,function(c){l(c)}),i}search(e,u=5){if(typeof document.createTreeWalker>"u")return this.find(e);let i=[];const a=150,l=this,c=e.toLowerCase(),f=function(_){const B=_.reduce((w,y)=>w+y.textContent,"").toLowerCase().indexOf(c);if(B!=-1){const y=B+c.length;let A=0,N=0;if(B<_[0].length){let I;for(;A<_.length-1&&(N+=_[A].length,!(y<=N));)A+=1;let V=_[0],D=_[A],U=l.document.createRange();U.setStart(V,B);let z=_.slice(0,A).reduce((H,Y)=>H+Y.textContent.length,0);U.setEnd(D,z>y?y:y-z),I=l.cfiFromRange(U);let q=_.slice(0,A+1).reduce((H,Y)=>H+Y.textContent,"");q.length>a&&(q=q.substring(B-a/2,B+a/2),q="..."+q+"..."),i.push({cfi:I,excerpt:q})}}},h=document.createTreeWalker(l.document,NodeFilter.SHOW_TEXT,null,!1);let p,E=[];for(;p=h.nextNode();)E.push(p),E.length==u&&(f(E.slice(0,u)),E=E.slice(1,u));return E.length>0&&f(E),i}reconcileLayoutSettings(e){var u={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(i){var a=i.replace("rendition:",""),l=a.indexOf("-"),c,f;l!=-1&&(c=a.slice(0,l),f=a.slice(l+1),u[c]=f)}),u}cfiFromRange(e){return new Rt(e,this.cfiBase).toString()}cfiFromElement(e){return new Rt(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class b5{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Wn,this.hooks.content=new Wn,this.hooks.content.register(rE),this.hooks.content.register(h5),this.hooks.content.register(p5),this.epubcfi=new Rt,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,u,i){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((a,l)=>{var c=this.manifest[a.idref],f;a.index=l,a.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,a.index,a.id),a.href&&(a.url=u(a.href,!0),a.canonical=i(a.href)),c&&(a.href=c.href,a.url=u(a.href,!0),a.canonical=i(a.href),c.properties.length&&a.properties.push.apply(a.properties,c.properties)),a.linear==="yes"?(a.prev=(function(){let h=a.index;for(;h>0;){let p=this.get(h-1);if(p&&p.linear)return p;h-=1}}).bind(this),a.next=(function(){let h=a.index;for(;h<this.spineItems.length-1;){let p=this.get(h+1);if(p&&p.linear)return p;h+=1}}).bind(this)):(a.prev=function(){},a.next=function(){}),f=new g5(a,this.hooks),this.append(f)}),this.loaded=!0}get(e){var u=0;if(typeof e>"u")for(;u<this.spineItems.length;){let i=this.spineItems[u];if(i&&i.linear)break;u+=1}else this.epubcfi.isCfiString(e)?u=new Rt(e).spinePos:typeof e=="number"||isNaN(e)===!1?u=e:typeof e=="string"&&e.indexOf("#")===0?u=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],u=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[u]||null}append(e){var u=this.spineItems.length;return e.index=u,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=u,this.spineByHref[encodeURI(e.href)]=u,this.spineByHref[e.href]=u,this.spineById[e.idref]=u,u}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(u,i){u.index=i}),0}remove(e){var u=this.spineItems.indexOf(e);if(u>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(u,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let u=this.get(e);if(u&&u.linear)return u;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let u=this.get(e);if(u&&u.linear)return u;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Ph{constructor(e){this._q=[],this.context=e,this.tick=Bh,this.running=!1,this.paused=!1}enqueue(){var e,u,i,a=[].shift.call(arguments),l=arguments;if(!a)throw new Error("No Task Provided");return typeof a=="function"?(e=new Ot,u=e.promise,i={task:a,args:l,deferred:e,promise:u}):i={promise:a},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var e,u,i;if(this._q.length&&!this.paused){if(e=this._q.shift(),u=e.task,u)return i=u.apply(this.context,e.args),i&&typeof i.then=="function"?i.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,i),e.promise);if(e.promise)return e.promise}else return e=new Ot,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Ot),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Sc="0.3",Ho=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Xe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class aE{constructor(e,u,i){this.spine=e,this.request=u,this.pause=i||100,this.q=new Ph(this),this.epubcfi=new Rt,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(u){u.linear&&this.q.enqueue(this.process.bind(this),u)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(u){var i=new Ot,a=this.parse(u,e.cfiBase);return this._locations=this._locations.concat(a),e.unload(),this.processingTimeout=setTimeout(()=>i.resolve(a),this.pause),i.promise}).bind(this))}parse(e,u,i){var a=[],l,c=e.ownerDocument,f=su(c,"body"),h=0,p,E=i||this.break,_=function(x){var S=x.length,B,w=0;if(x.textContent.trim().length===0)return!1;for(h==0&&(l=this.createRange(),l.startContainer=x,l.startOffset=0),B=E-h,B>S&&(h+=S,w=S);w<S;)if(B=E-h,h===0&&(w+=1,l=this.createRange(),l.startContainer=x,l.startOffset=w),w+B>=S)h+=S-w,w=S;else{w+=B,l.endContainer=x,l.endOffset=w;let y=new Rt(l,u).toString();a.push(y),h=0}p=x};if(lc(f,_.bind(this)),l&&l.startContainer&&p){l.endContainer=p,l.endOffset=p.length;let x=new Rt(l,u).toString();a.push(x),h=0}return a}generateFromWords(e,u,i){var a=e?new Rt(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(l){l.linear&&(a?l.index>=a.spinePos&&this.q.enqueue(this.processWords.bind(this),l,u,a,i):this.q.enqueue(this.processWords.bind(this),l,u,a,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,u,i,a){return a&&this._locationsWords.length>=a?Promise.resolve():e.load(this.request).then((function(l){var c=new Ot,f=this.parseWords(l,e,u,i),h=a-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(f.length>=a?f.slice(0,h):f),e.unload(),this.processingTimeout=setTimeout(()=>c.resolve(f),this.pause),c.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,u,i,a){var l=u.cfiBase,c=[],f=e.ownerDocument,h=su(f,"body"),p=i,E=a?a.spinePos!==u.index:!0,_;a&&u.index===a.spinePos&&(_=a.findNode(a.range?a.path.steps.concat(a.start.steps):a.path.steps,e.ownerDocument));var x=function(S){if(!E)if(S===_)E=!0;else return!1;if(S.textContent.length<10&&S.textContent.trim().length===0)return!1;var B=this.countWords(S.textContent),w,y=0;if(B===0)return!1;for(w=p-this._wordCounter,w>B&&(this._wordCounter+=B,y=B);y<B;)if(w=p-this._wordCounter,y+w>=B)this._wordCounter+=B-y,y=B;else{y+=w;let A=new Rt(S,l);c.push({cfi:A.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return lc(h,x.bind(this)),c}locationFromCfi(e){let u;return Rt.prototype.isCfiString(e)&&(e=new Rt(e)),this._locations.length===0?-1:(u=za(e,this._locations,this.epubcfi.compare),u>this.total?this.total:u)}percentageFromCfi(e){if(this._locations.length===0)return null;var u=this.locationFromCfi(e);return this.percentageFromLocation(u)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var u=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(u=this._locations[e]),u}cfiFromPercentage(e){let u;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let i=new Rt(this._locations[this.total]);return i.collapse(),i.toString()}return u=Math.ceil(this.total*e),this.cfiFromLocation(u)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var u;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(u=this.locationFromCfi(e),this._current=u):u=e,this.emit(Xe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(u)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}li(aE.prototype);class v5{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var u;if(!e)throw new Error("Container File Not Found");if(u=su(e,"rootfile"),!u)throw new Error("No RootFile Found");this.packagePath=u.getAttribute("full-path"),this.directory=cr.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class $g{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var u,i,a;if(!e)throw new Error("Package File Not Found");if(u=su(e,"metadata"),!u)throw new Error("No Metadata Found");if(i=su(e,"manifest"),!i)throw new Error("No Manifest Found");if(a=su(e,"spine"),!a)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,a),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=$v(a),this.spine=this.parseSpine(a,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(u),this.metadata.direction=a.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var u={};return u.title=this.getElementText(e,"title"),u.creator=this.getElementText(e,"creator"),u.description=this.getElementText(e,"description"),u.pubdate=this.getElementText(e,"date"),u.publisher=this.getElementText(e,"publisher"),u.identifier=this.getElementText(e,"identifier"),u.language=this.getElementText(e,"language"),u.rights=this.getElementText(e,"rights"),u.modified_date=this.getPropertyText(e,"dcterms:modified"),u.layout=this.getPropertyText(e,"rendition:layout"),u.orientation=this.getPropertyText(e,"rendition:orientation"),u.flow=this.getPropertyText(e,"rendition:flow"),u.viewport=this.getPropertyText(e,"rendition:viewport"),u.media_active_class=this.getPropertyText(e,"media:active-class"),u.spread=this.getPropertyText(e,"rendition:spread"),u}parseManifest(e){var u={},i=Oi(e,"item"),a=Array.prototype.slice.call(i);return a.forEach(function(l){var c=l.getAttribute("id"),f=l.getAttribute("href")||"",h=l.getAttribute("media-type")||"",p=l.getAttribute("media-overlay")||"",E=l.getAttribute("properties")||"";u[c]={href:f,type:h,overlay:p,properties:E.length?E.split(" "):[]}}),u}parseSpine(e,u){var i=[],a=Oi(e,"itemref"),l=Array.prototype.slice.call(a);return l.forEach(function(c,f){var h=c.getAttribute("idref"),p=c.getAttribute("properties")||"",E=p.length?p.split(" "):[],_={id:c.getAttribute("id"),idref:h,linear:c.getAttribute("linear")||"yes",properties:E,index:f};i.push(_)}),i}findUniqueIdentifier(e){var u=e.documentElement.getAttribute("unique-identifier");if(!u)return"";var i=e.getElementById(u);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(e){var u=Ra(e,"item",{properties:"nav"});return u?u.getAttribute("href"):!1}findNcxPath(e,u){var i=Ra(e,"item",{"media-type":"application/x-dtbncx+xml"}),a;return i||(a=u.getAttribute("toc"),a&&(i=e.querySelector(`#${a}`))),i?i.getAttribute("href"):!1}findCoverPath(e){var u=su(e,"package");u.getAttribute("version");var i=Ra(e,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var a=Ra(e,"meta",{name:"cover"});if(a){var l=a.getAttribute("content"),c=e.getElementById(l);return c?c.getAttribute("href"):""}else return!1}getElementText(e,u){var i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",u),a;return!i||i.length===0?"":(a=i[0],a.childNodes.length?a.childNodes[0].nodeValue:"")}getPropertyText(e,u){var i=Ra(e,"meta",{property:u});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let u=e.readingOrder||e.spine;return this.spine=u.map((i,a)=>(i.index=a,i.linear=i.linear||"yes",i)),e.resources.forEach((i,a)=>{this.manifest[a]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((i,a)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class b0{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let u=e.nodeType,i,a;u&&(i=su(e,"html"),a=su(e,"ncx")),u?i?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):a&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var u,i=0;i<e.length;i++)u=e[i],u.href&&(this.tocByHref[u.href]=i),u.id&&(this.tocById[u.id]=i),this.length++,u.subitems.length&&this.unpack(u.subitems)}get(e){var u;return e?(e.indexOf("#")===0?u=this.tocById[e.substring(1)]:e in this.tocByHref&&(u=this.tocByHref[e]),this.getByIndex(e,u,this.toc)):this.toc}getByIndex(e,u,i){if(i.length===0)return;const a=i[u];if(a&&(e===a.id||e===a.href))return a;{let l;for(let c=0;c<i.length&&(l=this.getByIndex(e,u,i[c].subitems),!l);++c);return l}}landmark(e){var u;return e?(u=this.landmarksByType[e],this.landmarks[u]):this.landmarks}parseNav(e){var u=oc(e,"nav","toc"),i=[];if(!u)return i;let a=Ia(u,"ol",!0);return a&&(i=this.parseNavList(a)),i}parseNavList(e,u){const i=[];if(!e||!e.children)return i;for(let a=0;a<e.children.length;a++){const l=this.navItem(e.children[a],u);l&&i.push(l)}return i}navItem(e,u){let i=e.getAttribute("id")||void 0,a=Ia(e,"a",!0)||Ia(e,"span",!0);if(!a)return;let l=a.getAttribute("href")||"";i||(i=l);let c=a.textContent||"",f=[],h=Ia(e,"ol",!0);return h&&(f=this.parseNavList(h,i)),{id:i,href:l,label:c,subitems:f,parent:u}}parseLandmarks(e){var u=oc(e,"nav","landmarks"),i=u?Oi(u,"li"):[],a=i.length,l,c=[],f;if(!i||a===0)return c;for(l=0;l<a;++l)f=this.landmarkItem(i[l]),f&&(c.push(f),this.landmarksByType[f.type]=l);return c}landmarkItem(e){let u=Ia(e,"a",!0);if(!u)return;let i=u.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,a=u.getAttribute("href")||"",l=u.textContent||"";return{href:a,label:l,type:i}}parseNcx(e){var u=Oi(e,"navPoint"),i=u.length,a,l={},c=[],f,h;if(!u||i===0)return c;for(a=0;a<i;++a)f=this.ncxItem(u[a]),l[f.id]=f,f.parent?(h=l[f.parent],h.subitems.push(f)):c.push(f);return c}ncxItem(e){var u=e.getAttribute("id")||!1,i=su(e,"content"),a=i.getAttribute("src"),l=su(e,"navLabel"),c=l.textContent?l.textContent:"",f=[],h=e.parentNode,p;return h&&(h.nodeName==="navPoint"||h.nodeName.split(":").slice(-1)[0]==="navPoint")&&(p=h.getAttribute("id")),{id:u,href:a,label:c,subitems:f,parent:p}}load(e){return e.map(u=>(u.label=u.title,u.subitems=u.children?this.load(u.children):[],u))}forEach(e){return this.toc.forEach(e)}}var Ws={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},E5=function(){var t,e,u,i,a={};for(t in Ws)if(Ws.hasOwnProperty(t)){for(e in Ws[t])if(Ws[t].hasOwnProperty(e))if(u=Ws[t][e],typeof u=="string")a[u]=t+"/"+e;else for(i=0;i<u.length;i++)a[u[i]]=t+"/"+e}return a}(),_5="text/plain";function y5(t){return t&&E5[t.split(".").pop().toLowerCase()]||_5}const ka={lookup:y5};class T5{constructor(e,u){this.settings={replacements:u&&u.replacements||"base64",archive:u&&u.archive,resolver:u&&u.resolver,request:u&&u.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(u){return e[u]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var u=new Xn(e),i=ka.lookup(u.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(a=>nE(a)).then(a=>ih(a,i)):this.settings.request(e,"blob").then(a=>sc(a,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(u){u(this.urls)}).bind(this));var e=this.urls.map(u=>{var i=this.settings.resolver(u);return this.createUrl(i).catch(a=>(console.error(a),null))});return Promise.all(e).then(u=>(this.replacementUrls=u.filter(i=>typeof i=="string"),u))}replaceCss(e,u){var i=[];return e=e||this.settings.archive,u=u||this.settings.resolver,this.cssUrls.forEach((function(a){var l=this.createCssFile(a,e,u).then((function(c){var f=this.urls.indexOf(a);f>-1&&(this.replacementUrls[f]=c)}).bind(this));i.push(l)}).bind(this)),Promise.all(i)}createCssFile(e){var u;if(cr.isAbsolute(e))return new Promise(function(c){c()});var i=this.settings.resolver(e),a;this.settings.archive?a=this.settings.archive.getText(i):a=this.settings.request(i,"text");var l=this.urls.map(c=>{var f=this.settings.resolver(c),h=new Ri(i).relative(f);return h});return a?a.then(c=>(c=Kg(c,l,this.replacementUrls),this.settings.replacements==="base64"?u=ih(c,"text/css"):u=sc(c,"text/css"),u),c=>new Promise(function(f){f()})):new Promise(function(c){c()})}relativeTo(e,u){return u=u||this.settings.resolver,this.urls.map((function(i){var a=u(i),l=new Ri(e).relative(a);return l}).bind(this))}get(e){var u=this.urls.indexOf(e);if(u!==-1)return this.replacementUrls.length?new Promise((function(i,a){i(this.replacementUrls[u])}).bind(this)):this.createUrl(e)}substitute(e,u){var i;return u?i=this.relativeTo(u):i=this.urls,Kg(e,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class v0{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Rt,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var u=su(e,"html"),i=su(e,"ncx");if(u)return this.parseNav(e);if(i)return this.parseNcx(e)}parseNav(e){var u=oc(e,"nav","page-list"),i=u?Oi(u,"li"):[],a=i.length,l,c=[],f;if(!i||a===0)return c;for(l=0;l<a;++l)f=this.item(i[l]),c.push(f);return c}parseNcx(e){var u=[],i=0,a,l,c,f=0;if(l=su(e,"pageList"),!l||(c=Oi(l,"pageTarget"),f=c.length,!c||c.length===0))return u;for(i=0;i<f;++i)a=this.ncxItem(c[i]),u.push(a);return u}ncxItem(e){var u=su(e,"navLabel"),i=su(u,"text"),a=i.textContent,l=su(e,"content"),c=l.getAttribute("src"),f=parseInt(a,10);return{href:c,page:f}}item(e){var u=su(e,"a"),i=u.getAttribute("href")||"",a=u.textContent||"",l=parseInt(a),c=i.indexOf("epubcfi"),f,h,p;return c!=-1?(f=i.split("#"),h=f[0],p=f.length>1?f[1]:!1,{cfi:p,href:i,packageUrl:h,page:l}):{href:i,page:l}}process(e){e.forEach(function(u){this.pages.push(u.page),u.cfi&&this.locations.push(u.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var u=-1;if(this.locations.length===0)return-1;var i=ic(e,this.locations,this.epubcfi.compare);return i!=-1?u=this.pages[i]:(i=za(e,this.locations,this.epubcfi.compare),u=i-1>=0?this.pages[i-1]:this.pages[0],u!==void 0||(u=-1)),u}cfiFromPage(e){var u=-1;typeof e!="number"&&(e=parseInt(e));var i=this.pages.indexOf(e);return i!=-1&&(u=this.locations[i]),u}pageFromPercentage(e){var u=Math.round(this.totalPages*e);return u}percentageFromPage(e){var u=(e-this.firstPage)/this.totalPages;return Math.round(u*1e3)/1e3}percentageFromCfi(e){var u=this.pageFromCfi(e),i=this.percentageFromPage(u);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class sE{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,u){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),u>=0&&(this._minSpreadWidth=u),this._spread}calculate(e,u,i){var a=1,l=i||0,c=e,f=u,h=Math.floor(c/12),p,E,_,x;this._spread&&c>=this._minSpreadWidth?a=2:a=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(l=h%2===0?h:h-1),this.name==="pre-paginated"&&(l=0),a>1?(p=c/a-l,_=p+l):(p=c,_=c),this.name==="pre-paginated"&&a>1&&(c=p),E=p*a+l,x=c,this.width=c,this.height=f,this.spreadWidth=E,this.pageWidth=_,this.delta=x,this.columnWidth=p,this.gap=l,this.divisor=a,this.update({width:c,height:f,spreadWidth:E,pageWidth:_,delta:x,columnWidth:p,gap:l,divisor:a})}format(e,u,i){var a;return this.name==="pre-paginated"?a=e.fit(this.columnWidth,this.height,u):this._flow==="paginated"?a=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?a=e.size(null,this.height):a=e.size(this.width,null),a}count(e,u){let i,a;return this.name==="pre-paginated"?(i=1,a=1):this._flow==="paginated"?(u=u||this.delta,i=Math.ceil(e/u),a=i*this.divisor):(u=u||this.height,i=Math.ceil(e/u),a=i),{spreads:i,pages:a}}update(e){if(Object.keys(e).forEach(u=>{this.props[u]===e[u]&&delete e[u]}),Object.keys(e).length>0){let u=$u(this.props,e);this.emit(Xe.LAYOUT.UPDATED,u,e)}}}li(sE.prototype);class A5{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var u in e)e.hasOwnProperty(u)&&(typeof e[u]=="string"?this.registerUrl(u,e[u]):this.registerRules(u,e[u]))}registerCss(e,u){this._themes[e]={serialized:u},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,u){var i=new Xn(u);this._themes[e]={url:i.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,u){this._themes[e]={rules:u},(this._injected[e]||e=="default")&&this.update(e)}select(e){var u=this._current,i;this._current=e,this.update(e),i=this.rendition.getContents(),i.forEach(a=>{a.removeClass(u),a.addClass(e)})}update(e){var u=this.rendition.getContents();u.forEach(i=>{this.add(e,i)})}inject(e){var u=[],i=this._themes,a;for(var l in i)i.hasOwnProperty(l)&&(l===this._current||l==="default")&&(a=i[l],(a.rules&&Object.keys(a.rules).length>0||a.url&&u.indexOf(a.url)===-1)&&this.add(l,e),this._injected.push(l));this._current!="default"&&e.addClass(this._current)}add(e,u){var i=this._themes[e];!i||!u||(i.url?u.addStylesheet(i.url):i.serialized?(u.addStylesheetCss(i.serialized,e),i.injected=!0):i.rules&&(u.addStylesheetRules(i.rules,e),i.injected=!0))}override(e,u,i){var a=this.rendition.getContents();this._overrides[e]={value:u,priority:i===!0},a.forEach(l=>{l.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var u=this.rendition.getContents();delete this._overrides[e],u.forEach(i=>{i.css(e)})}overrides(e){var u=this._overrides;for(var i in u)u.hasOwnProperty(i)&&e.css(i,u[i].value,u[i].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class cc{constructor(e,u,i,a=!1){this.layout=e,this.horizontal=i==="horizontal",this.direction=u||"ltr",this._dev=a}section(e){var u=this.findRanges(e),i=this.rangeListToCfiList(e.section.cfiBase,u);return i}page(e,u,i,a){var l=e&&e.document?e.document.body:!1,c;if(l){if(c=this.rangePairToCfiPair(u,{start:this.findStart(l,i,a),end:this.findEnd(l,i,a)}),this._dev===!0){let f=e.document,h=new Rt(c.start).toRange(f),p=new Rt(c.end).toRange(f),E=f.defaultView.getSelection(),_=f.createRange();E.removeAllRanges(),_.setStart(h.startContainer,h.startOffset),_.setEnd(p.endContainer,p.endOffset),E.addRange(_)}return c}}walk(e,u){if(!(e&&e.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(h){return h.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},a=i.acceptNode;a.acceptNode=i.acceptNode;for(var l=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,a,!1),c,f;(c=l.nextNode())&&(f=u(c),!f););return f}}findRanges(e){for(var u=[],i=e.contents.scrollWidth(),a=Math.ceil(i/this.layout.spreadWidth),l=a*this.layout.divisor,c=this.layout.columnWidth,f=this.layout.gap,h,p,E=0;E<l.pages;E++)h=(c+f)*E,p=c*(E+1)+f*E,u.push({start:this.findStart(e.document.body,h,p),end:this.findEnd(e.document.body,h,p)});return u}findStart(e,u,i){for(var a=[e],l,c,f=e;a.length;)if(l=a.shift(),c=this.walk(l,h=>{var p,E,_,x,S;if(S=nh(h),this.horizontal&&this.direction==="ltr"){if(p=this.horizontal?S.left:S.top,E=this.horizontal?S.right:S.bottom,p>=u&&p<=i)return h;if(E>u)return h;f=h,a.push(h)}else if(this.horizontal&&this.direction==="rtl"){if(p=S.left,E=S.right,E<=i&&E>=u)return h;if(p<i)return h;f=h,a.push(h)}else{if(_=S.top,x=S.bottom,_>=u&&_<=i)return h;if(x>u)return h;f=h,a.push(h)}}),c)return this.findTextStartRange(c,u,i);return this.findTextStartRange(f,u,i)}findEnd(e,u,i){for(var a=[e],l,c=e,f;a.length;)if(l=a.shift(),f=this.walk(l,h=>{var p,E,_,x,S;if(S=nh(h),this.horizontal&&this.direction==="ltr"){if(p=Math.round(S.left),E=Math.round(S.right),p>i&&c)return c;if(E>i)return h;c=h,a.push(h)}else if(this.horizontal&&this.direction==="rtl"){if(p=Math.round(this.horizontal?S.left:S.top),E=Math.round(this.horizontal?S.right:S.bottom),E<u&&c)return c;if(p<u)return h;c=h,a.push(h)}else{if(_=Math.round(S.top),x=Math.round(S.bottom),_>i&&c)return c;if(x>i)return h;c=h,a.push(h)}}),f)return this.findTextEndRange(f,u,i);return this.findTextEndRange(c,u,i)}findTextStartRange(e,u,i){for(var a=this.splitTextNodeIntoRanges(e),l,c,f,h,p,E=0;E<a.length;E++)if(l=a[E],c=l.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(f=c.left,f>=u)return l}else if(this.horizontal&&this.direction==="rtl"){if(p=c.right,p<=i)return l}else if(h=c.top,h>=u)return l;return a[0]}findTextEndRange(e,u,i){for(var a=this.splitTextNodeIntoRanges(e),l,c,f,h,p,E,_,x=0;x<a.length;x++){if(c=a[x],f=c.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(h=f.left,p=f.right,h>i&&l)return l;if(p>i)return c}else if(this.horizontal&&this.direction==="rtl"){if(h=f.left,p=f.right,p<u&&l)return l;if(h<u)return c}else{if(E=f.top,_=f.bottom,E>i&&l)return l;if(_>i)return c}l=c}return a[a.length-1]}splitTextNodeIntoRanges(e,u){var i=[],a=e.textContent||"",l=a.trim(),c,f=e.ownerDocument,h=u||" ",p=l.indexOf(h);if(p===-1||e.nodeType!=Node.TEXT_NODE)return c=f.createRange(),c.selectNodeContents(e),[c];for(c=f.createRange(),c.setStart(e,0),c.setEnd(e,p),i.push(c),c=!1;p!=-1;)p=l.indexOf(h,p+1),p>0&&(c&&(c.setEnd(e,p),i.push(c)),c=f.createRange(),c.setStart(e,p+1));return c&&(c.setEnd(e,l.length),i.push(c)),i}rangePairToCfiPair(e,u){var i=u.start,a=u.end;i.collapse(!0),a.collapse(!1);let l=new Rt(i,e).toString(),c=new Rt(a,e).toString();return{start:l,end:c}}rangeListToCfiList(e,u){for(var i=[],a,l=0;l<u.length;l++)a=this.rangePairToCfiPair(e,u[l]),i.push(a);return i}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const lE=typeof navigator<"u",x5=lE&&/Chrome/.test(navigator.userAgent),Jg=lE&&!x5&&/AppleWebKit/.test(navigator.userAgent),S5=1;class Fh{constructor(e,u,i,a){this.epubcfi=new Rt,this.document=e,this.documentElement=this.document.documentElement,this.content=u||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=a||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",Sc),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Ho}width(e){var u=this.content;return e&&Au(e)&&(e=e+"px"),e&&(u.style.width=e),parseInt(this.window.getComputedStyle(u).width)}height(e){var u=this.content;return e&&Au(e)&&(e=e+"px"),e&&(u.style.height=e),parseInt(this.window.getComputedStyle(u).height)}contentWidth(e){var u=this.content||this.document.body;return e&&Au(e)&&(e=e+"px"),e&&(u.style.width=e),parseInt(this.window.getComputedStyle(u).width)}contentHeight(e){var u=this.content||this.document.body;return e&&Au(e)&&(e=e+"px"),e&&(u.style.height=e),parseInt(this.window.getComputedStyle(u).height)}textWidth(){let e,u,i=this.document.createRange(),a=this.content||this.document.body,l=rc(a);return i.selectNodeContents(a),e=i.getBoundingClientRect(),u=e.width,l&&l.width&&(u+=l.width),Math.round(u)}textHeight(){let e,u,i=this.document.createRange(),a=this.content||this.document.body;return i.selectNodeContents(a),e=i.getBoundingClientRect(),u=e.bottom,Math.round(u)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,u,i){var a=this.content||this.document.body;return u?a.style.setProperty(e,u,i?"important":""):a.style.removeProperty(e),this.window.getComputedStyle(a)[e]}viewport(e){var u=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},a=[],l={};if(u&&u.hasAttribute("content")){let c=u.getAttribute("content"),f=c.match(/width\s*=\s*([^,]*)/),h=c.match(/height\s*=\s*([^,]*)/),p=c.match(/initial-scale\s*=\s*([^,]*)/),E=c.match(/minimum-scale\s*=\s*([^,]*)/),_=c.match(/maximum-scale\s*=\s*([^,]*)/),x=c.match(/user-scalable\s*=\s*([^,]*)/);f&&f.length&&typeof f[1]<"u"&&(i.width=f[1]),h&&h.length&&typeof h[1]<"u"&&(i.height=h[1]),p&&p.length&&typeof p[1]<"u"&&(i.scale=p[1]),E&&E.length&&typeof E[1]<"u"&&(i.minimum=E[1]),_&&_.length&&typeof _[1]<"u"&&(i.maximum=_[1]),x&&x.length&&typeof x[1]<"u"&&(i.scalable=x[1])}return l=Kv(e||{},i),e&&(l.width&&a.push("width="+l.width),l.height&&a.push("height="+l.height),l.scale&&a.push("initial-scale="+l.scale),l.scalable==="no"?(a.push("minimum-scale="+l.scale),a.push("maximum-scale="+l.scale),a.push("user-scalable="+l.scalable)):(l.scalable&&a.push("user-scalable="+l.scalable),l.minimum&&a.push("minimum-scale="+l.minimum),l.maximum&&a.push("minimum-scale="+l.maximum)),u||(u=this.document.createElement("meta"),u.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(u)),u.setAttribute("content",a.join(", ")),this.window.scrollTo(0,0)),l}expand(){this.emit(Xe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),u=this.textHeight();(e!=this._size.width||u!=this._size.height)&&(this._size={width:e,height:u},this.onResize&&this.onResize(this._size),this.emit(Xe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,u=(function(f){f.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<e.length;i+=1){var a;try{a=e[i].cssRules}catch{return}if(!a)return;for(var l=0;l<a.length;l+=1)if(a[l].media){var c=this.window.matchMedia(a[l].media.mediaText);c.addListener(u)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(u=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),u,i=0;i<e.length;i++)u=e[i],typeof u.naturalWidth<"u"&&u.naturalWidth===0&&(u.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,u){var i,a={left:0,top:0};if(!this.document)return a;if(this.epubcfi.isCfiString(e)){let l=new Rt(e).toRange(this.document,u);if(l){try{if(!l.endContainer||l.startContainer==l.endContainer&&l.startOffset==l.endOffset){let c=l.startContainer.textContent.indexOf(" ",l.startOffset);c==-1&&(c=l.startContainer.textContent.length),l.setEnd(l.startContainer,c)}}catch(c){console.error("setting end offset to start container length failed",c)}if(l.startContainer.nodeType===Node.ELEMENT_NODE)i=l.startContainer.getBoundingClientRect(),a.left=i.left,a.top=i.top;else if(Jg){let c=l.startContainer,f=new Range;try{c.nodeType===S5?i=c.getBoundingClientRect():l.startOffset+2<c.length?(f.setStart(c,l.startOffset),f.setEnd(c,l.startOffset+2),i=f.getBoundingClientRect()):l.startOffset-2>0?(f.setStart(c,l.startOffset-2),f.setEnd(c,l.startOffset),i=f.getBoundingClientRect()):i=c.parentNode.getBoundingClientRect()}catch(h){console.error(h,h.stack)}}else i=l.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let l=e.substring(e.indexOf("#")+1),c=this.document.getElementById(l);if(c)if(Jg){let f=new Range;f.selectNode(c),i=f.getBoundingClientRect()}else i=c.getBoundingClientRect()}return i&&(a.left=i.left,a.top=i.top),a}addStylesheet(e){return new Promise((function(u,i){var a,l=!1;if(!this.document){u(!1);return}if(a=this.document.querySelector("link[href='"+e+"']"),a){u(!0);return}a=this.document.createElement("link"),a.type="text/css",a.rel="stylesheet",a.href=e,a.onload=a.onreadystatechange=function(){!l&&(!this.readyState||this.readyState=="complete")&&(l=!0,setTimeout(()=>{u(!0)},1))},this.document.head.appendChild(a)}).bind(this))}_getStylesheetNode(e){var u;return e="epubjs-inserted-css-"+(e||""),this.document?(u=this.document.getElementById(e),u||(u=this.document.createElement("style"),u.id=e,this.document.head.appendChild(u)),u):!1}addStylesheetCss(e,u){if(!this.document||!e)return!1;var i;return i=this._getStylesheetNode(u),i.innerHTML=e,!0}addStylesheetRules(e,u){var i;if(!(!this.document||!e||e.length===0))if(i=this._getStylesheetNode(u).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var a=0,l=e.length;a<l;a++){var c=1,f=e[a],h=e[a][0],p="";Object.prototype.toString.call(f[1][0])==="[object Array]"&&(f=f[1],c=0);for(var E=f.length;c<E;c++){var _=f[c];p+=_[0]+":"+_[1]+(_[2]?" !important":"")+`;
`}i.insertRule(h+"{"+p+"}",i.cssRules.length)}else Object.keys(e).forEach(S=>{const B=e[S];if(Array.isArray(B))B.forEach(w=>{const A=Object.keys(w).map(N=>`${N}:${w[N]}`).join(";");i.insertRule(`${S}{${A}}`,i.cssRules.length)});else{const y=Object.keys(B).map(A=>`${A}:${B[A]}`).join(";");i.insertRule(`${S}{${y}}`,i.cssRules.length)}})}addScript(e){return new Promise((function(u,i){var a,l=!1;if(!this.document){u(!1);return}a=this.document.createElement("script"),a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){!l&&(!this.readyState||this.readyState=="complete")&&(l=!0,setTimeout(function(){u(!0)},1))},this.document.head.appendChild(a)}).bind(this))}addClass(e){var u;this.document&&(u=this.content||this.document.body,u&&u.classList.add(e))}removeClass(e){var u;this.document&&(u=this.content||this.document.body,u&&u.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),Ho.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(Ho.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var u=this.window.getSelection();this.triggerSelectedEvent(u)}).bind(this),250)}triggerSelectedEvent(e){var u,i;e&&e.rangeCount>0&&(u=e.getRangeAt(0),u.collapsed||(i=new Rt(u,this.cfiBase).toString(),this.emit(Xe.CONTENTS.SELECTED,i),this.emit(Xe.CONTENTS.SELECTED_RANGE,u)))}range(e,u){var i=new Rt(e);return i.toRange(this.document,u)}cfiFromRange(e,u){return new Rt(e,this.cfiBase,u).toString()}cfiFromNode(e,u){return new Rt(e,this.cfiBase,u).toString()}map(e){var u=new cc(e);return u.section()}size(e,u){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),i.width=e,this.css("padding","0 "+e/12+"px")),u>=0&&(this.height(u),i.height=u),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(e,u,i,a,l){let c=Oa("column-axis"),f=Oa("column-gap"),h=Oa("column-width"),p=Oa("column-fill"),_=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),l==="rtl"&&_==="horizontal"&&this.direction(l),this.width(e),this.height(u),this.viewport({width:e,height:u,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),_==="vertical"?(this.css("padding-top",a/2+"px",!0),this.css("padding-bottom",a/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(c,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",a/2+"px",!0),this.css("padding-right",a/2+"px",!0),this.css(c,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(p,"auto"),this.css(f,a+"px"),this.css(h,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,u,i){var a="scale("+e+")",l="";this.css("transform-origin","top left"),(u>=0||i>=0)&&(l=" translate("+(u||0)+"px, "+(i||0)+"px )"),this.css("transform",a+l)}fit(e,u,i){var a=this.viewport(),l=parseInt(a.width),c=parseInt(a.height),f=e/l,h=u/c,p=f<h?f:h;if(this.layoutStyle("paginated"),this.width(l),this.height(c),this.overflow("hidden"),this.scaler(p,0,0),this.css("background-size",l*p+"px "+c*p+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var E=e-l*p;this.css("margin-left",E+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,u,i,a,l){var c=new cc(u,l);return c.page(this,e,i,a)}linksHandler(){m5(this.content,e=>{this.emit(Xe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let u=Oa("writing-mode");return e&&this.documentElement&&(this.documentElement.style[u]=e),this.window.getComputedStyle(this.documentElement)[u]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,u){return navigator.epubReadingSystem={name:e,version:u,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}li(Fh.prototype);class C5{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,u,i,a,l,c){let f=encodeURI(u+e),p=new Rt(u).spinePos,E=new oE({type:e,cfiRange:u,data:i,sectionIndex:p,cb:a,className:l,styles:c});return this._annotations[f]=E,p in this._annotationsBySectionIndex?this._annotationsBySectionIndex[p].push(f):this._annotationsBySectionIndex[p]=[f],this.rendition.views().forEach(x=>{E.sectionIndex===x.index&&E.attach(x)}),E}remove(e,u){let i=encodeURI(e+u);if(i in this._annotations){let a=this._annotations[i];if(u&&a.type!==u)return;this.rendition.views().forEach(c=>{this._removeFromAnnotationBySectionIndex(a.sectionIndex,i),a.sectionIndex===c.index&&a.detach(c)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(e,u){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(i=>i!==u)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,u,i,a,l){return this.add("highlight",e,u,i,a,l)}underline(e,u,i,a,l){return this.add("underline",e,u,i,a,l)}mark(e,u,i){return this.add("mark",e,u,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let u=e.index;u in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[u].forEach(a=>{this._annotations[a].attach(e)})}clear(e){let u=e.index;u in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[u].forEach(a=>{this._annotations[a].detach(e)})}show(){}hide(){}}class oE{constructor({type:e,cfiRange:u,data:i,sectionIndex:a,cb:l,className:c,styles:f}){this.type=e,this.cfiRange=u,this.data=i,this.sectionIndex=a,this.mark=void 0,this.cb=l,this.className=c,this.styles=f}update(e){this.data=e}attach(e){let{cfiRange:u,data:i,type:a,mark:l,cb:c,className:f,styles:h}=this,p;return a==="highlight"?p=e.highlight(u,i,c,f,h):a==="underline"?p=e.underline(u,i,c,f,h):a==="mark"&&(p=e.mark(u,i,c)),this.mark=p,this.emit(Xe.ANNOTATION.ATTACH,p),p}detach(e){let{cfiRange:u,type:i}=this,a;return e&&(i==="highlight"?a=e.unhighlight(u):i==="underline"?a=e.ununderline(u):i==="mark"&&(a=e.unmark(u))),this.mark=void 0,this.emit(Xe.ANNOTATION.DETACH,a),a}text(){}}li(oE.prototype);var Gn={},Qs={},eb;function N5(){if(eb)return Qs;eb=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.createElement=t;function t(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return Qs.default={createElement:t},Qs}var Da={},tb;function D5(){if(tb)return Da;tb=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.proxyMouse=t,Da.clone=e,Da.default={proxyMouse:t};function t(i,a){function l(p){for(var E=a.length-1;E>=0;E--){var _=a[E],x=p.clientX,S=p.clientY;if(p.touches&&p.touches.length&&(x=p.touches[0].clientX,S=p.touches[0].clientY),!!u(_,i,x,S)){_.dispatchEvent(e(p));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var c=["mouseup","mousedown","click","touchstart"],f=0;f<c.length;f++){var h=c[f];this.target.addEventListener(h,function(p){return l(p)},!1)}}function e(i){var a=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,a)}catch{var l=document.createEvent("MouseEvents");return l.initMouseEvent(i.type,!1,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget),l}}function u(i,a,l,c){var f=a.getBoundingClientRect();function h(S,B,w){var y=S.top-f.top,A=S.left-f.left,N=y+S.height,I=A+S.width;return y<=w&&A<=B&&N>w&&I>B}var p=i.getBoundingClientRect();if(!h(p,l,c))return!1;for(var E=i.getClientRects(),_=0,x=E.length;_<x;_++)if(h(E[_],l,c))return!0;return!1}return Da}var ub;function w5(){if(ub)return Gn;ub=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.Underline=Gn.Highlight=Gn.Mark=Gn.Pane=void 0;var t=function w(y,A,N){y===null&&(y=Function.prototype);var I=Object.getOwnPropertyDescriptor(y,A);if(I===void 0){var V=Object.getPrototypeOf(y);return V===null?void 0:w(V,A,N)}else{if("value"in I)return I.value;var D=I.get;return D===void 0?void 0:D.call(N)}},e=function(){function w(y,A){for(var N=0;N<A.length;N++){var I=A[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(y,I.key,I)}}return function(y,A,N){return A&&w(y.prototype,A),N&&w(y,N),y}}(),u=N5(),i=c(u),a=D5(),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function h(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}function p(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}Gn.Pane=function(){function w(y){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;p(this,w),this.target=y,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),l.default.proxyMouse(this.target,this.marks),this.container=A,this.container.appendChild(this.element),this.render()}return e(w,[{key:"addMark",value:function(A){var N=i.default.createElement("g");return this.element.appendChild(N),A.bind(N,this.container),this.marks.push(A),A.render(),A}},{key:"removeMark",value:function(A){var N=this.marks.indexOf(A);if(N!==-1){var I=A.unbind();this.element.removeChild(I),this.marks.splice(N,1)}}},{key:"render",value:function(){S(this.element,x(this.target,this.container));var A=!0,N=!1,I=void 0;try{for(var V=this.marks[Symbol.iterator](),D;!(A=(D=V.next()).done);A=!0){var U=D.value;U.render()}}catch(z){N=!0,I=z}finally{try{!A&&V.return&&V.return()}finally{if(N)throw I}}}}]),w}();var E=Gn.Mark=function(){function w(){p(this,w),this.element=null}return e(w,[{key:"bind",value:function(A,N){this.element=A,this.container=N}},{key:"unbind",value:function(){var A=this.element;return this.element=null,A}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(A){this.element&&this.element.dispatchEvent(A)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var A=[],N=this.element.firstChild;N;)A.push(N.getBoundingClientRect()),N=N.nextSibling;return A}},{key:"filteredRanges",value:function(){var A=Array.from(this.range.getClientRects());return A.filter(function(N){for(var I=0;I<A.length;I++){if(A[I]===N)return!0;var V=B(A[I],N);if(V)return!1}return!0})}}]),w}(),_=Gn.Highlight=function(w){h(y,w);function y(A,N,I,V){p(this,y);var D=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return D.range=A,D.className=N,D.data=I||{},D.attributes=V||{},D}return e(y,[{key:"bind",value:function(N,I){t(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"bind",this).call(this,N,I);for(var V in this.data)this.data.hasOwnProperty(V)&&(this.element.dataset[V]=this.data[V]);for(var V in this.attributes)this.attributes.hasOwnProperty(V)&&this.element.setAttribute(V,this.attributes[V]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var N=this.element.ownerDocument.createDocumentFragment(),I=this.filteredRanges(),V=this.element.getBoundingClientRect(),D=this.container.getBoundingClientRect(),U=0,z=I.length;U<z;U++){var q=I[U],H=i.default.createElement("rect");H.setAttribute("x",q.left-V.left+D.left),H.setAttribute("y",q.top-V.top+D.top),H.setAttribute("height",q.height),H.setAttribute("width",q.width),N.appendChild(H)}this.element.appendChild(N)}}]),y}(E);Gn.Underline=function(w){h(y,w);function y(A,N,I,V){return p(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,A,N,I,V))}return e(y,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var N=this.element.ownerDocument.createDocumentFragment(),I=this.filteredRanges(),V=this.element.getBoundingClientRect(),D=this.container.getBoundingClientRect(),U=0,z=I.length;U<z;U++){var q=I[U],H=i.default.createElement("rect");H.setAttribute("x",q.left-V.left+D.left),H.setAttribute("y",q.top-V.top+D.top),H.setAttribute("height",q.height),H.setAttribute("width",q.width),H.setAttribute("fill","none");var Y=i.default.createElement("line");Y.setAttribute("x1",q.left-V.left+D.left),Y.setAttribute("x2",q.left-V.left+D.left+q.width),Y.setAttribute("y1",q.top-V.top+D.top+q.height-1),Y.setAttribute("y2",q.top-V.top+D.top+q.height-1),Y.setAttribute("stroke-width",1),Y.setAttribute("stroke","black"),Y.setAttribute("stroke-linecap","square"),N.appendChild(H),N.appendChild(Y)}this.element.appendChild(N)}}]),y}(_);function x(w,y){var A=y.getBoundingClientRect(),N=w.getBoundingClientRect();return{top:N.top-A.top,left:N.left-A.left,height:w.scrollHeight,width:w.scrollWidth}}function S(w,y){w.style.setProperty("top",y.top+"px","important"),w.style.setProperty("left",y.left+"px","important"),w.style.setProperty("height",y.height+"px","important"),w.style.setProperty("width",y.width+"px","important")}function B(w,y){return y.right<=w.right&&y.left>=w.left&&y.top>=w.top&&y.bottom<=w.bottom}return Gn}var Mo=w5();class cE{constructor(e,u){this.settings=$u({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},u||{}),this.id="epubjs-view-"+xc(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Rt,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var u=document.createElement("div");return u.classList.add("epub-view"),u.style.height="0px",u.style.width="0px",u.style.overflow="hidden",u.style.position="relative",u.style.display="block",e&&e=="horizontal"?u.style.flex="none":u.style.flex="initial",u}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Fo(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,u){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),a;return this.settings.flow==="scrolled"?a=i.indexOf("vertical")===0?"horizontal":"vertical":a=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(a),this.emit(Xe.VIEWS.AXIS,a),this.setWritingMode(i),this.emit(Xe.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((l,c)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),l()})}).bind(this),(function(i){return this.emit(Xe.VIEWS.LOAD_ERROR,i),new Promise((a,l)=>{l(i)})}).bind(this)).then((function(){this.emit(Xe.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,u){var i=e||this.settings.width,a=u||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,a):this.settings.axis==="horizontal"?this.lock("height",i,a):this.lock("width",i,a),this.settings.width=i,this.settings.height=a}lock(e,u,i){var a=rc(this.element),l;this.iframe?l=rc(this.iframe):l={width:0,height:0},e=="width"&&Au(u)&&(this.lockedWidth=u-a.width-l.width),e=="height"&&Au(i)&&(this.lockedHeight=i-a.height-l.height),e==="both"&&Au(u)&&Au(i)&&(this.lockedWidth=u-a.width-l.width,this.lockedHeight=i-a.height-l.height),this.displayed&&this.iframe&&this.expand()}expand(e){var u=this.lockedWidth,i=this.lockedHeight,a;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(u=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(u=this.contents.textWidth(),u%this.layout.pageWidth>0&&(u=Math.ceil(u/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(a=u/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&a%2>0&&(u+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||u!=this._width||i!=this._height)&&this.reframe(u,i),this._expanding=!1)}reframe(e,u){var i;Au(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),Au(u)&&(this.element.style.height=u+"px",this.iframe.style.height=u+"px",this._height=u);let a=this.prevBounds?e-this.prevBounds.width:e,l=this.prevBounds?u-this.prevBounds.height:u;i={width:e,height:u,widthDelta:a,heightDelta:l},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let c;for(let f in this.marks)this.marks.hasOwnProperty(f)&&(c=this.marks[f],this.placeMark(c.element,c.range))}),this.onResize(this,i),this.emit(Xe.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=Fo(this.element)}load(e){var u=new Ot,i=u.promise;if(!this.iframe)return u.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(l){this.onLoad(l,u)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=sc(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return u.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var a=this;MSApp.execUnsafeLocalFunction(function(){a.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return i}onLoad(e,u){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Fh(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(Xe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Xe.CONTENTS.RESIZE,a=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),u.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var u=new Ot;return this.displayed?u.resolve(this):this.render(e).then((function(){this.emit(Xe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,u.resolve(this)}).bind(this),function(i){u.reject(i,this)}),u.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Xe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Xe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var u=this.contents.locationOf(e,this.settings.ignoreClass);return{left:u.left,top:u.top}}onDisplayed(e){}onResize(e,u){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=Fo(this.element)),this.elementBounds}highlight(e,u={},i,a="epubjs-hl",l={}){if(!this.contents)return;const c=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},l);let f=this.contents.range(e),h=()=>{this.emit(Xe.VIEWS.MARK_CLICKED,e,u)};u.epubcfi=e,this.pane||(this.pane=new Mo.Pane(this.iframe,this.element));let p=new Mo.Highlight(f,a,u,c),E=this.pane.addMark(p);return this.highlights[e]={mark:E,element:E.element,listeners:[h,i]},E.element.setAttribute("ref",a),E.element.addEventListener("click",h),E.element.addEventListener("touchstart",h),i&&(E.element.addEventListener("click",i),E.element.addEventListener("touchstart",i)),E}underline(e,u={},i,a="epubjs-ul",l={}){if(!this.contents)return;const c=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},l);let f=this.contents.range(e),h=()=>{this.emit(Xe.VIEWS.MARK_CLICKED,e,u)};u.epubcfi=e,this.pane||(this.pane=new Mo.Pane(this.iframe,this.element));let p=new Mo.Underline(f,a,u,c),E=this.pane.addMark(p);return this.underlines[e]={mark:E,element:E.element,listeners:[h,i]},E.element.setAttribute("ref",a),E.element.addEventListener("click",h),E.element.addEventListener("touchstart",h),i&&(E.element.addEventListener("click",i),E.element.addEventListener("touchstart",i)),E}mark(e,u={},i){if(!this.contents)return;if(e in this.marks)return this.marks[e];let a=this.contents.range(e);if(!a)return;let l=a.commonAncestorContainer,c=l.nodeType===1?l:l.parentNode,f=p=>{this.emit(Xe.VIEWS.MARK_CLICKED,e,u)};a.collapsed&&l.nodeType===1?(a=new Range,a.selectNodeContents(l)):a.collapsed&&(a=new Range,a.selectNodeContents(c));let h=this.document.createElement("a");return h.setAttribute("ref","epubjs-mk"),h.style.position="absolute",h.dataset.epubcfi=e,u&&Object.keys(u).forEach(p=>{h.dataset[p]=u[p]}),i&&(h.addEventListener("click",i),h.addEventListener("touchstart",i)),h.addEventListener("click",f),h.addEventListener("touchstart",f),this.placeMark(h,a),this.element.appendChild(h),this.marks[e]={element:h,range:a,listeners:[f,i]},c}placeMark(e,u){let i,a,l;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let f=u.getBoundingClientRect();i=f.top,a=f.right}else{let f=u.getClientRects(),h;for(var c=0;c!=f.length;c++)h=f[c],(!l||h.left<l)&&(l=h.left,a=Math.ceil(l/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=h.top)}e.style.top=`${i}px`,e.style.left=`${a}px`}unhighlight(e){let u;e in this.highlights&&(u=this.highlights[e],this.pane.removeMark(u.mark),u.listeners.forEach(i=>{i&&(u.element.removeEventListener("click",i),u.element.removeEventListener("touchstart",i))}),delete this.highlights[e])}ununderline(e){let u;e in this.underlines&&(u=this.underlines[e],this.pane.removeMark(u.mark),u.listeners.forEach(i=>{i&&(u.element.removeEventListener("click",i),u.element.removeEventListener("touchstart",i))}),delete this.underlines[e])}unmark(e){let u;e in this.marks&&(u=this.marks[e],this.element.removeChild(u.element),u.listeners.forEach(i=>{i&&(u.element.removeEventListener("click",i),u.element.removeEventListener("touchstart",i))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&eE(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}li(cE.prototype);function O5(){var t="reverse",e=R5();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function R5(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var u=document.createElement("span");u.style.width="1px",u.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",e.appendChild(u),e.appendChild(i),t.appendChild(e),t}var E0,nb;function Hh(){if(nb)return E0;nb=1;function t(e){var u=typeof e;return e!=null&&(u=="object"||u=="function")}return E0=t,E0}var _0,ib;function I5(){if(ib)return _0;ib=1;var t=typeof Un=="object"&&Un&&Un.Object===Object&&Un;return _0=t,_0}var y0,rb;function fE(){if(rb)return y0;rb=1;var t=I5(),e=typeof self=="object"&&self&&self.Object===Object&&self,u=t||e||Function("return this")();return y0=u,y0}var T0,ab;function L5(){if(ab)return T0;ab=1;var t=fE(),e=function(){return t.Date.now()};return T0=e,T0}var A0,sb;function k5(){if(sb)return A0;sb=1;var t=/\s/;function e(u){for(var i=u.length;i--&&t.test(u.charAt(i)););return i}return A0=e,A0}var x0,lb;function B5(){if(lb)return x0;lb=1;var t=k5(),e=/^\s+/;function u(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return x0=u,x0}var S0,ob;function dE(){if(ob)return S0;ob=1;var t=fE(),e=t.Symbol;return S0=e,S0}var C0,cb;function M5(){if(cb)return C0;cb=1;var t=dE(),e=Object.prototype,u=e.hasOwnProperty,i=e.toString,a=t?t.toStringTag:void 0;function l(c){var f=u.call(c,a),h=c[a];try{c[a]=void 0;var p=!0}catch{}var E=i.call(c);return p&&(f?c[a]=h:delete c[a]),E}return C0=l,C0}var N0,fb;function U5(){if(fb)return N0;fb=1;var t=Object.prototype,e=t.toString;function u(i){return e.call(i)}return N0=u,N0}var D0,db;function P5(){if(db)return D0;db=1;var t=dE(),e=M5(),u=U5(),i="[object Null]",a="[object Undefined]",l=t?t.toStringTag:void 0;function c(f){return f==null?f===void 0?a:i:l&&l in Object(f)?e(f):u(f)}return D0=c,D0}var w0,hb;function F5(){if(hb)return w0;hb=1;function t(e){return e!=null&&typeof e=="object"}return w0=t,w0}var O0,pb;function H5(){if(pb)return O0;pb=1;var t=P5(),e=F5(),u="[object Symbol]";function i(a){return typeof a=="symbol"||e(a)&&t(a)==u}return O0=i,O0}var R0,mb;function z5(){if(mb)return R0;mb=1;var t=B5(),e=Hh(),u=H5(),i=NaN,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;function h(p){if(typeof p=="number")return p;if(u(p))return i;if(e(p)){var E=typeof p.valueOf=="function"?p.valueOf():p;p=e(E)?E+"":E}if(typeof p!="string")return p===0?p:+p;p=t(p);var _=l.test(p);return _||c.test(p)?f(p.slice(2),_?2:8):a.test(p)?i:+p}return R0=h,R0}var I0,gb;function hE(){if(gb)return I0;gb=1;var t=Hh(),e=L5(),u=z5(),i="Expected a function",a=Math.max,l=Math.min;function c(f,h,p){var E,_,x,S,B,w,y=0,A=!1,N=!1,I=!0;if(typeof f!="function")throw new TypeError(i);h=u(h)||0,t(p)&&(A=!!p.leading,N="maxWait"in p,x=N?a(u(p.maxWait)||0,h):x,I="trailing"in p?!!p.trailing:I);function V(de){var Re=E,Se=_;return E=_=void 0,y=de,S=f.apply(Se,Re),S}function D(de){return y=de,B=setTimeout(q,h),A?V(de):S}function U(de){var Re=de-w,Se=de-y,te=h-Re;return N?l(te,x-Se):te}function z(de){var Re=de-w,Se=de-y;return w===void 0||Re>=h||Re<0||N&&Se>=x}function q(){var de=e();if(z(de))return H(de);B=setTimeout(q,U(de))}function H(de){return B=void 0,I&&E?V(de):(E=_=void 0,S)}function Y(){B!==void 0&&clearTimeout(B),y=0,E=w=_=B=void 0}function oe(){return B===void 0?S:H(e())}function J(){var de=e(),Re=z(de);if(E=arguments,_=this,w=de,Re){if(B===void 0)return D(w);if(N)return clearTimeout(B),B=setTimeout(q,h),V(w)}return B===void 0&&(B=setTimeout(q,h)),S}return J.cancel=Y,J.flush=oe,J}return I0=c,I0}var L0,bb;function q5(){if(bb)return L0;bb=1;var t=hE(),e=Hh(),u="Expected a function";function i(a,l,c){var f=!0,h=!0;if(typeof a!="function")throw new TypeError(u);return e(c)&&(f="leading"in c?!!c.leading:f,h="trailing"in c?!!c.trailing:h),t(a,l,{leading:f,maxWait:l,trailing:h})}return L0=i,L0}var j5=q5();const Y5=jr(j5);class V5{constructor(e){this.settings=e||{},this.id="epubjs-container-"+xc(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let u=e.height,i=e.width,a=e.overflow||!1,l=e.axis||"vertical",c=e.direction;$u(this.settings,e),e.height&&Au(e.height)&&(u=e.height+"px"),e.width&&Au(e.width)&&(i=e.width+"px");let f=document.createElement("div");return f.id=this.id,f.classList.add("epub-container"),f.style.wordSpacing="0",f.style.lineHeight="0",f.style.verticalAlign="top",f.style.position="relative",l==="horizontal"&&(f.style.display="flex",f.style.flexDirection="row",f.style.flexWrap="nowrap"),i&&(f.style.width=i),u&&(f.style.height=u),a&&(a==="scroll"&&l==="vertical"?(f.style["overflow-y"]=a,f.style["overflow-x"]="hidden"):a==="scroll"&&l==="horizontal"?(f.style["overflow-y"]="hidden",f.style["overflow-x"]=a):f.style.overflow=a),c&&(f.dir=c,f.style.direction=c),c&&this.settings.fullsize&&(document.body.style.direction=c),f}wrap(e){var u=document.createElement("div");return u.style.visibility="hidden",u.style.overflow="hidden",u.style.width="0",u.style.height="0",u.appendChild(e),u}getElement(e){var u;if(Wv(e)?u=e:typeof e=="string"&&(u=document.getElementById(e)),!u)throw new Error("Not an Element");return u}attachTo(e){var u=this.getElement(e),i;if(u)return this.settings.hidden?i=this.wrapper:i=this.container,u.appendChild(i),this.element=u,u}getContainer(){return this.container}onResize(e){(!Au(this.settings.width)||!Au(this.settings.height))&&(this.resizeFunc=Y5(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,u){var i;let a=e||this.settings.width,l=u||this.settings.height;e===null?(i=this.element.getBoundingClientRect(),i.width&&(e=Math.floor(i.width),this.container.style.width=e+"px")):Au(e)?this.container.style.width=e+"px":this.container.style.width=e,u===null?(i=i||this.element.getBoundingClientRect(),i.height&&(u=i.height,this.container.style.height=u+"px")):Au(u)?this.container.style.height=u+"px":this.container.style.height=u,Au(e)||(e=this.container.clientWidth),Au(u)||(u=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let c=ac(),f=window.getComputedStyle(document.body),h={left:parseFloat(f["padding-left"])||0,right:parseFloat(f["padding-right"])||0,top:parseFloat(f["padding-top"])||0,bottom:parseFloat(f["padding-bottom"])||0};return a||(e=c.width-h.left-h.right),(this.settings.fullsize&&!l||!l)&&(u=c.height-h.top-h.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:u-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?ac():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,u){var i="#"+this.id+" ",a="";this.sheet||(this.sheet=this.getSheet()),u.forEach(function(l){for(var c in l)l.hasOwnProperty(c)&&(a+=c+":"+l[c]+";")}),this.sheet.insertRule(i+e+" {"+a+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class G5{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,u){return this._views.splice(u,0,e),this.container&&(u<this.container.children.length?this.container.insertBefore(e.element,this.container.children[u]):this.container.appendChild(e.element)),this.length++,e}remove(e){var u=this._views.indexOf(e);u>-1&&this._views.splice(u,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,u=this.length;if(this.length){for(var i=0;i<u;i++)e=this._views[i],this.destroy(e);this._views=[],this.length=0}}find(e){for(var u,i=this.length,a=0;a<i;a++)if(u=this._views[a],u.displayed&&u.section.index==e.index)return u}displayed(){for(var e=[],u,i=this.length,a=0;a<i;a++)u=this._views[a],u.displayed&&e.push(u);return e}show(){for(var e,u=this.length,i=0;i<u;i++)e=this._views[i],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,u=this.length,i=0;i<u;i++)e=this._views[i],e.displayed&&e.hide();this.hidden=!0}}class fc{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Ph(this),this.settings=$u(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),$u(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,u){let i=e.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=u,this.settings.rtlScrollType=O5(),this.stage=new V5({width:u.width,height:u.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new G5(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(u){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:u}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Xe.MANAGERS.ORIENTATION_CHANGE,u)}).bind(this),500)}onResized(e){this.resize()}resize(e,u,i){let a=this.stage.size(e,u);if(this.winBounds=ac(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===a.width&&this._stageSize.height===a.height||(this._stageSize=a,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Xe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(e,u){return new this.View(e,$u(this.viewSettings,{forceRight:u}))}handleNextPrePaginated(e,u,i){let a;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||u.index===0)return;if(a=u.next(),a&&!a.properties.includes("page-spread-left"))return i.call(this,a)}}display(e,u){var i=new Ot,a=i.promise;(u===e.href||Au(u))&&(u=void 0);var l=this.views.find(e);if(l&&e&&this.layout.name!=="pre-paginated"){let f=l.offset();if(this.settings.direction==="ltr")this.scrollTo(f.left,f.top,!0);else{let h=l.width();this.scrollTo(f.left+h,f.top,!0)}if(u){let h=l.locationOf(u),p=l.width();this.moveTo(h,p)}return i.resolve(),a}this.clear();let c=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(c=!0),this.add(e,c).then((function(f){if(u){let h=f.locationOf(u),p=f.width();this.moveTo(h,p)}}).bind(this),f=>{i.reject(f)}).then((function(){return this.handleNextPrePaginated(c,e,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),a}afterDisplayed(e){this.emit(Xe.MANAGERS.ADDED,e)}afterResized(e){this.emit(Xe.MANAGERS.RESIZE,e.section)}moveTo(e,u){var i=0,a=0;this.isPaginated?(i=Math.floor(e.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),a=Math.floor(e.top/this.layout.delta)*this.layout.delta,a+this.layout.delta>this.container.scrollHeight&&(a=this.container.scrollHeight-this.layout.delta)):a=e.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-u),this.scrollTo(i,a,!0)}add(e,u){var i=this.createView(e,u);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Xe.VIEWS.AXIS,a=>{this.updateAxis(a)}),i.on(Xe.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),i.display(this.request)}append(e,u){var i=this.createView(e,u);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Xe.VIEWS.AXIS,a=>{this.updateAxis(a)}),i.on(Xe.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),i.display(this.request)}prepend(e,u){var i=this.createView(e,u);return i.on(Xe.VIEWS.RESIZED,a=>{this.counter(a)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Xe.VIEWS.AXIS,a=>{this.updateAxis(a)}),i.on(Xe.VIEWS.WRITING_MODE,a=>{this.updateWritingMode(a)}),i.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,u;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,u=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,u<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(u=this.container.scrollLeft,u>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(u=this.container.scrollLeft+this.layout.delta*-1,u>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.append(e,a).then((function(){return this.handleNextPrePaginated(a,e,this.append)}).bind(this),l=>l).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,u;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,u=this.container.scrollLeft,u>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(u=this.container.scrollLeft+this.container.offsetWidth,u<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(u=this.container.scrollLeft,u<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(a=!0),this.prepend(e,a).then((function(){var l;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(l=e.prev(),l))return this.prepend(l)}).bind(this),l=>l).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),u=this.container.getBoundingClientRect(),i=u.height<window.innerHeight?u.height:window.innerHeight,a=u.width<window.innerWidth?u.width:window.innerWidth,l=this.settings.axis==="vertical";this.settings.direction;let c=0,f=0;return this.settings.fullsize&&(c=l?window.scrollY:window.scrollX),e.map(p=>{let{index:E,href:_}=p.section,x=p.position(),S=p.width(),B=p.height(),w,y,A,N;l?(w=c+u.top-x.top+f,y=w+i-f,N=this.layout.count(B,i).pages,A=i):(w=c+u.left-x.left+f,y=w+a-f,N=this.layout.count(S,a).pages,A=a);let I=Math.ceil(w/A),V=[],D=Math.ceil(y/A);if(this.settings.direction==="rtl"&&!l){let q=I;I=N-D,D=N-q}V=[];for(var U=I;U<=D;U++){let q=U+1;V.push(q)}let z=this.mapping.page(p.contents,p.section.cfiBase,w,y);return{index:E,href:_,pages:V,totalPages:N,mapping:z}})}paginatedLocation(){let e=this.visible(),u=this.container.getBoundingClientRect(),i=0,a=0;return this.settings.fullsize&&(i=window.scrollX),e.map(c=>{let{index:f,href:h}=c.section,p,E=c.position(),_=c.width(),x,S,B;this.settings.direction==="rtl"?(p=u.right-i,B=Math.min(Math.abs(p-E.left),this.layout.width)-a,S=E.width-(E.right-p)-a,x=S-B):(p=u.left+i,B=Math.min(E.right-p,this.layout.width)-a,x=p-E.left+a,S=x+B),a+=B;let w=this.mapping.page(c.contents,c.section.cfiBase,x,S),y=this.layout.count(_).pages,A=Math.floor(x/this.layout.pageWidth),N=[],I=Math.floor(S/this.layout.pageWidth);if(A<0&&(A=0,I=I+1),this.settings.direction==="rtl"){let D=A;A=y-I,I=y-D}for(var V=A+1;V<=I;V++){let D=V;N.push(D)}return{index:f,href:h,pages:N,totalPages:y,mapping:w}})}isVisible(e,u,i,a){var l=e.position(),c=a||this.bounds();return this.settings.axis==="horizontal"&&l.right>c.left-u&&l.left<c.right+i?!0:this.settings.axis==="vertical"&&l.bottom>c.top-u&&l.top<c.bottom+i}visible(){for(var e=this.bounds(),u=this.views.displayed(),i=u.length,a=[],l,c,f=0;f<i;f++)c=u[f],l=this.isVisible(c,0,0,e),l===!0&&a.push(c);return a}scrollBy(e,u,i){let a=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*a,u*a):(e&&(this.container.scrollLeft+=e*a),u&&(this.container.scrollTop+=u)),this.scrolled=!0}scrollTo(e,u,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,u):(this.container.scrollLeft=e,this.container.scrollTop=u),this.scrolled=!0}onScroll(){let e,u;this.settings.fullsize?(e=window.scrollY,u=window.scrollX):(e=this.container.scrollTop,u=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=u,this.ignore?this.ignore=!1:(this.emit(Xe.MANAGERS.SCROLL,{top:e,left:u}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(Xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new cc(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(u){u&&u.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,u){!u&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new cc(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,u="auto"){let i=e==="paginated"||e==="auto";this.isPaginated=i,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":u,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(u){const i=u&&u.contents;i&&e.push(i)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}li(fc.prototype);const Z5={easeInCubic:function(t){return Math.pow(t,3)}};class sh{constructor(e,u){this.settings=$u({duration:80,minVelocity:.2,minDistance:10,easing:Z5.easeInCubic},u||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Xe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Xe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let u=e.contents;["touchstart","touchmove","touchend"].forEach(i=>{u.on(i,a=>this.triggerViewEvent(a,u))})}triggerViewEvent(e,u){this.emit(e.type,e,u)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:u,screenY:i}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=u,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=u,this.endTouchY=i,this.endTime=this.now()}onTouchMove(e){let{screenX:u,screenY:i}=e.touches[0],a=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&a<10&&(this.element.scrollLeft-=u-this.endTouchX),this.endTouchX=u,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let u=this.wasSwiped();u!==0?this.snap(u):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,u=this.endTouchX-this.startTouchX,i=Math.abs(u),a=this.endTime-this.startTime,l=u/a,c=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=e)return 0;if(l>c)return-1;if(l<-c)return 1}needsSnap(){let e=this.scrollLeft,u=this.layout.pageWidth*this.layout.divisor;return e%u!==0}snap(e=0){let u=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,a=Math.round(u/i)*i;return e&&(a+=e*i),this.smoothScrollTo(a)}smoothScrollTo(e){const u=new Ot,i=this.scrollLeft,a=this.now(),l=this.settings.duration,c=this.settings.easing;this.snapping=!0;function f(){const h=this.now(),p=Math.min(1,(h-a)/l);if(c(p),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,u.resolve();return}p<1?(window.requestAnimationFrame(f.bind(this)),this.scrollTo(i+(e-i)*p,0)):(this.scrollTo(e,0),this.snapping=!1,u.resolve())}return f.call(this),u.promise}scrollTo(e=0,u=0){this.fullsize?window.scroll(e,u):(this.scroller.scrollLeft=e,this.scroller.scrollTop=u)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}li(sh.prototype);var X5=hE();const W5=jr(X5);class Q5 extends fc{constructor(e){super(e),this.name="continuous",this.settings=$u(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),$u(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,u){return fc.prototype.display.call(this,e,u).then((function(){return this.fill()}).bind(this))}fill(e){var u=e||new Ot;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(u):u.resolve()}),u.promise}moveTo(e){var u=0,i=0;this.isPaginated?(u=Math.floor(e.left/this.layout.delta)*this.layout.delta,u+this.settings.offsetDelta):(i=e.top,e.top+this.settings.offsetDelta),(u>0||i>0)&&this.scrollBy(u,i,!0)}afterResized(e){this.emit(Xe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var u=this.createView(e);return this.views.append(u),u.on(Xe.VIEWS.RESIZED,i=>{u.expanded=!0}),u.on(Xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),u.on(Xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),u.onDisplayed=this.afterDisplayed.bind(this),u.onResize=this.afterResized.bind(this),u.display(this.request)}append(e){var u=this.createView(e);return u.on(Xe.VIEWS.RESIZED,i=>{u.expanded=!0}),u.on(Xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),u.on(Xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(u),u.onDisplayed=this.afterDisplayed.bind(this),u}prepend(e){var u=this.createView(e);return u.on(Xe.VIEWS.RESIZED,i=>{this.counter(i),u.expanded=!0}),u.on(Xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),u.on(Xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(u),u.onDisplayed=this.afterDisplayed.bind(this),u}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var u=this.bounds(),i=this.views.all(),a=i.length,l=typeof e<"u"?e:this.settings.offset||0,c,f,h=new Ot,p=[],E=0;E<a;E++)if(f=i[E],c=this.isVisible(f,l,l,u),c===!0)if(f.displayed)f.show();else{let _=f.display(this.request).then(function(x){x.show()},x=>{f.hide()});p.push(_)}else this.q.enqueue(f.destroy.bind(f)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return p.length?Promise.all(p).catch(_=>{h.reject(_)}):(h.resolve(),h.promise)}check(e,u){var i=new Ot,a=[],l=this.settings.axis==="horizontal",c=this.settings.offset||0;e&&l&&(c=e),u&&!l&&(c=u);var f=this._bounds;let h=l?this.scrollLeft:this.scrollTop,p=l?Math.floor(f.width):f.height,E=l?this.container.scrollWidth:this.container.scrollHeight,_=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",x=this.settings.rtlScrollType,S=this.settings.direction==="rtl";this.settings.fullsize?(l&&S&&x==="negative"||!l&&S&&x==="default")&&(h=h*-1):(S&&x==="default"&&_==="horizontal"&&(h=E-p-h),S&&x==="negative"&&_==="horizontal"&&(h=h*-1));let B=()=>{let I=this.views.first(),V=I&&I.section.prev();V&&a.push(this.prepend(V))},w=()=>{let I=this.views.last(),V=I&&I.section.next();V&&a.push(this.append(V))},y=h+p+c,A=h-c;y>=E&&w(),A<0&&B();let N=a.map(I=>I.display(this.request));return a.length?Promise.all(N).then(()=>this.check()).then(()=>this.update(c),I=>I):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var e=new Ot,u=this.views.displayed(),i=u[0],a=u[u.length-1],l=this.views.indexOf(i),c=this.views.indexOf(a),f=this.views.slice(0,l),h=this.views.slice(c+1),p=0;p<f.length-1;p++)this.erase(f[p],f);for(var E=1;E<h.length;E++)this.erase(h[E]);return e.resolve(),e.promise}erase(e,u){var i,a;this.settings.fullsize?(i=window.scrollY,a=window.scrollX):(i=this.container.scrollTop,a=this.container.scrollLeft);var l=e.bounds();this.views.remove(e),u&&(this.settings.axis==="vertical"?this.scrollTo(0,i-l.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(a+Math.floor(l.width),0,!0):this.scrollTo(a,0,!0):this.scrollTo(a-Math.floor(l.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(u){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new sh(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=Bh;let u=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*u,this.scrollLeft=window.scrollX*u):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=W5(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,u,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*i,u=window.scrollX*i):(e=this.container.scrollTop,u=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=u,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(u-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=u,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(Xe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new sh(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class zh{constructor(e,u){this.settings=$u(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),$u(this.settings,u),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Wn(this),this.hooks.serialize=new Wn(this),this.hooks.content=new Wn(this),this.hooks.unloaded=new Wn(this),this.hooks.layout=new Wn(this),this.hooks.render=new Wn(this),this.hooks.show=new Wn(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new A5(this),this.annotations=new C5(this),this.epubcfi=new Rt,this.q=new Ph(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Ot,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var u;return typeof e=="string"&&e==="default"?u=fc:typeof e=="string"&&e==="continuous"?u=Q5:u=e,u}requireView(e){var u;return typeof e=="string"&&e==="iframe"?u=cE:u=e,u}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Xe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Xe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Xe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Xe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Xe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Xe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(Xe.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var u=new Ot,i=u.promise,a;return this.displaying=u,this.book.locations.length()&&Qv(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),a=this.book.spine.get(e),a?(this.manager.display(a,e).then(()=>{u.resolve(a),this.displaying=void 0,this.emit(Xe.RENDITION.DISPLAYED,a),this.reportLocation()},l=>{this.emit(Xe.RENDITION.DISPLAY_ERROR,l)}),i):(u.reject(new Error("No Section Found")),i)}}afterDisplayed(e){e.on(Xe.VIEWS.MARK_CLICKED,(u,i)=>this.triggerMarkEvent(u,i,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(Xe.RENDITION.RENDERED,e.section,e)}):this.emit(Xe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(Xe.RENDITION.REMOVED,e.section,e)})}onResized(e,u){this.emit(Xe.RENDITION.RESIZED,{width:e.width,height:e.height},u),this.location&&this.location.start&&this.display(u||this.location.start.cfi)}onOrientationChange(e){this.emit(Xe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,u,i){e&&(this.settings.width=e),u&&(this.settings.height=u),this.manager.resize(e,u,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var u,i=this.settings.layout||e.layout||"reflowable",a=this.settings.spread||e.spread||"auto",l=this.settings.orientation||e.orientation||"auto",c=this.settings.flow||e.flow||"auto",f=e.viewport||"",h=this.settings.minSpreadWidth||e.minSpreadWidth||800,p=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),u={layout:i,spread:a,orientation:l,flow:c,viewport:f,minSpreadWidth:h,direction:p},u}flow(e){var u=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(u="scrolled"),(e==="auto"||e==="paginated")&&(u="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(u),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(u),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new sE(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Xe.LAYOUT.UPDATED,(u,i)=>{this.emit(Xe.RENDITION.LAYOUT,u,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,u){this.settings.spread=e,u&&(this.settings.minSpreadWidth=u),this._layout&&this._layout.spread(e,u),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(a){let l=this.located(a);!l||!l.start||!l.end||(this.location=l,this.emit(Xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Xe.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let a=this.located(i);if(!a||!a.start||!a.end)return;this.location=a,this.emit(Xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Xe.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(u){return this.located(u)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let u=e[0],i=e[e.length-1],a={start:{index:u.index,href:u.href,cfi:u.mapping.start,displayed:{page:u.pages[0]||1,total:u.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},l=this.book.locations.locationFromCfi(u.mapping.start),c=this.book.locations.locationFromCfi(i.mapping.end);l!=null&&(a.start.location=l,a.start.percentage=this.book.locations.percentageFromLocation(l)),c!=null&&(a.end.location=c,a.end.percentage=this.book.locations.percentageFromLocation(c));let f=this.book.pageList.pageFromCfi(u.mapping.start),h=this.book.pageList.pageFromCfi(i.mapping.end);return f!=-1&&(a.start.page=f),h!=-1&&(a.end.page=h),i.index===this.book.spine.last().index&&a.end.displayed.page>=a.end.displayed.total&&(a.atEnd=!0),u.index===this.book.spine.first().index&&a.start.displayed.page===1&&(a.atStart=!0),a}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){Ho.forEach(u=>{e.on(u,i=>this.triggerViewEvent(i,e))}),e.on(Xe.CONTENTS.SELECTED,u=>this.triggerSelectedEvent(u,e))}triggerViewEvent(e,u){this.emit(e.type,e,u)}triggerSelectedEvent(e,u){this.emit(Xe.RENDITION.SELECTED,e,u)}triggerMarkEvent(e,u,i){this.emit(Xe.RENDITION.MARK_CLICKED,e,u,i)}getRange(e,u){var i=new Rt(e),a=this.manager.visible().filter(function(l){if(i.spinePos===l.index)return!0});if(a.length)return a[0].contents.range(i,u)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(l){l()});let u=e.window.getComputedStyle(e.content,null),i=(e.content.offsetHeight-(parseFloat(u.paddingTop)+parseFloat(u.paddingBottom)))*.95,a=parseFloat(u.paddingLeft)+parseFloat(u.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-a+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(l,c){setTimeout(function(){l()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(Xe.CONTENTS.LINK_CLICKED,u=>{let i=this.book.path.relative(u);this.display(i)})}injectStylesheet(e,u){let i=e.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(i)}injectScript(e,u){let i=e.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",e.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(e,u){let i=this.book.packaging.metadata.identifier,a=e.createElement("meta");a.setAttribute("name","dc.relation.ispartof"),i&&a.setAttribute("content",i),e.getElementsByTagName("head")[0].appendChild(a)}}li(zh.prototype);function fr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var k0={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var vb;function K5(){return vb||(vb=1,function(t,e){(function(u){t.exports=u()})(function(){return function u(i,a,l){function c(p,E){if(!a[p]){if(!i[p]){var _=typeof fr=="function"&&fr;if(!E&&_)return _(p,!0);if(f)return f(p,!0);var x=new Error("Cannot find module '"+p+"'");throw x.code="MODULE_NOT_FOUND",x}var S=a[p]={exports:{}};i[p][0].call(S.exports,function(B){var w=i[p][1][B];return c(w||B)},S,S.exports,u,i,a,l)}return a[p].exports}for(var f=typeof fr=="function"&&fr,h=0;h<l.length;h++)c(l[h]);return c}({1:[function(u,i,a){var l=u("./utils"),c=u("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(h){for(var p=[],E,_,x,S,B,w,y,A=0,N=h.length,I=N,V=l.getTypeOf(h)!=="string";A<h.length;)I=N-A,V?(E=h[A++],_=A<N?h[A++]:0,x=A<N?h[A++]:0):(E=h.charCodeAt(A++),_=A<N?h.charCodeAt(A++):0,x=A<N?h.charCodeAt(A++):0),S=E>>2,B=(E&3)<<4|_>>4,w=I>1?(_&15)<<2|x>>6:64,y=I>2?x&63:64,p.push(f.charAt(S)+f.charAt(B)+f.charAt(w)+f.charAt(y));return p.join("")},a.decode=function(h){var p,E,_,x,S,B,w,y=0,A=0,N="data:";if(h.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");h=h.replace(/[^A-Za-z0-9+/=]/g,"");var I=h.length*3/4;if(h.charAt(h.length-1)===f.charAt(64)&&I--,h.charAt(h.length-2)===f.charAt(64)&&I--,I%1!==0)throw new Error("Invalid base64 input, bad content length.");var V;for(c.uint8array?V=new Uint8Array(I|0):V=new Array(I|0);y<h.length;)x=f.indexOf(h.charAt(y++)),S=f.indexOf(h.charAt(y++)),B=f.indexOf(h.charAt(y++)),w=f.indexOf(h.charAt(y++)),p=x<<2|S>>4,E=(S&15)<<4|B>>2,_=(B&3)<<6|w,V[A++]=p,B!==64&&(V[A++]=E),w!==64&&(V[A++]=_);return V}},{"./support":30,"./utils":32}],2:[function(u,i,a){var l=u("./external"),c=u("./stream/DataWorker"),f=u("./stream/Crc32Probe"),h=u("./stream/DataLengthProbe");function p(E,_,x,S,B){this.compressedSize=E,this.uncompressedSize=_,this.crc32=x,this.compression=S,this.compressedContent=B}p.prototype={getContentWorker:function(){var E=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),_=this;return E.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(E,_,x){return E.pipe(new f).pipe(new h("uncompressedSize")).pipe(_.compressWorker(x)).pipe(new h("compressedSize")).withStreamInfo("compression",_)},i.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,i,a){var l=u("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},a.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,i,a){var l=u("./utils");function c(){for(var E,_=[],x=0;x<256;x++){E=x;for(var S=0;S<8;S++)E=E&1?3988292384^E>>>1:E>>>1;_[x]=E}return _}var f=c();function h(E,_,x,S){var B=f,w=S+x;E=E^-1;for(var y=S;y<w;y++)E=E>>>8^B[(E^_[y])&255];return E^-1}function p(E,_,x,S){var B=f,w=S+x;E=E^-1;for(var y=S;y<w;y++)E=E>>>8^B[(E^_.charCodeAt(y))&255];return E^-1}i.exports=function(_,x){if(typeof _>"u"||!_.length)return 0;var S=l.getTypeOf(_)!=="string";return S?h(x|0,_,_.length,0):p(x|0,_,_.length,0)}},{"./utils":32}],5:[function(u,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(u,i,a){var l=null;typeof Promise<"u"?l=Promise:l=u("lie"),i.exports={Promise:l}},{lie:37}],7:[function(u,i,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=u("pako"),f=u("./utils"),h=u("./stream/GenericWorker"),p=l?"uint8array":"array";a.magic="\b\0";function E(_,x){h.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=x,this.meta={}}f.inherits(E,h),E.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(p,_.data),!1)},E.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(x){_.push({data:x,meta:_.meta})}},a.compressWorker=function(_){return new E("Deflate",_)},a.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,i,a){var l=u("../utils"),c=u("../stream/GenericWorker"),f=u("../utf8"),h=u("../crc32"),p=u("../signature"),E=function(A,N){var I="",V;for(V=0;V<N;V++)I+=String.fromCharCode(A&255),A=A>>>8;return I},_=function(A,N){var I=A;return A||(I=N?16893:33204),(I&65535)<<16},x=function(A){return(A||0)&63},S=function(A,N,I,V,D,U){var z=A.file,q=A.compression,H=U!==f.utf8encode,Y=l.transformTo("string",U(z.name)),oe=l.transformTo("string",f.utf8encode(z.name)),J=z.comment,de=l.transformTo("string",U(J)),Re=l.transformTo("string",f.utf8encode(J)),Se=oe.length!==z.name.length,te=Re.length!==J.length,le,ge,De="",G="",ie="",_e=z.dir,Ne=z.date,Ee={crc32:0,compressedSize:0,uncompressedSize:0};(!N||I)&&(Ee.crc32=A.crc32,Ee.compressedSize=A.compressedSize,Ee.uncompressedSize=A.uncompressedSize);var Ve=0;N&&(Ve|=8),!H&&(Se||te)&&(Ve|=2048);var Ge=0,ut=0;_e&&(Ge|=16),D==="UNIX"?(ut=798,Ge|=_(z.unixPermissions,_e)):(ut=20,Ge|=x(z.dosPermissions)),le=Ne.getUTCHours(),le=le<<6,le=le|Ne.getUTCMinutes(),le=le<<5,le=le|Ne.getUTCSeconds()/2,ge=Ne.getUTCFullYear()-1980,ge=ge<<4,ge=ge|Ne.getUTCMonth()+1,ge=ge<<5,ge=ge|Ne.getUTCDate(),Se&&(G=E(1,1)+E(h(Y),4)+oe,De+="up"+E(G.length,2)+G),te&&(ie=E(1,1)+E(h(de),4)+Re,De+="uc"+E(ie.length,2)+ie);var He="";He+=`
\0`,He+=E(Ve,2),He+=q.magic,He+=E(le,2),He+=E(ge,2),He+=E(Ee.crc32,4),He+=E(Ee.compressedSize,4),He+=E(Ee.uncompressedSize,4),He+=E(Y.length,2),He+=E(De.length,2);var Tt=p.LOCAL_FILE_HEADER+He+Y+De,Ht=p.CENTRAL_FILE_HEADER+E(ut,2)+He+E(de.length,2)+"\0\0\0\0"+E(Ge,4)+E(V,4)+Y+De+de;return{fileRecord:Tt,dirRecord:Ht}},B=function(A,N,I,V,D){var U="",z=l.transformTo("string",D(V));return U=p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+E(A,2)+E(A,2)+E(N,4)+E(I,4)+E(z.length,2)+z,U},w=function(A){var N="";return N=p.DATA_DESCRIPTOR+E(A.crc32,4)+E(A.compressedSize,4)+E(A.uncompressedSize,4),N};function y(A,N,I,V){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=N,this.zipPlatform=I,this.encodeFileName=V,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(y,c),y.prototype.push=function(A){var N=A.meta.percent||0,I=this.entriesCount,V=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,c.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:I?(N+100*(I-V-1))/I:100}}))},y.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var N=this.streamFiles&&!A.file.dir;if(N){var I=S(A,N,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:I.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(A){this.accumulate=!1;var N=this.streamFiles&&!A.file.dir,I=S(A,N,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(I.dirRecord),N)this.push({data:w(A),meta:{percent:100}});else for(this.push({data:I.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var A=this.bytesWritten,N=0;N<this.dirRecords.length;N++)this.push({data:this.dirRecords[N],meta:{percent:100}});var I=this.bytesWritten-A,V=B(this.dirRecords.length,I,A,this.zipComment,this.encodeFileName);this.push({data:V,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(A){this._sources.push(A);var N=this;return A.on("data",function(I){N.processChunk(I)}),A.on("end",function(){N.closedSource(N.previous.streamInfo),N._sources.length?N.prepareNextSource():N.end()}),A.on("error",function(I){N.error(I)}),this},y.prototype.resume=function(){if(!c.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},y.prototype.error=function(A){var N=this._sources;if(!c.prototype.error.call(this,A))return!1;for(var I=0;I<N.length;I++)try{N[I].error(A)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var A=this._sources,N=0;N<A.length;N++)A[N].lock()},i.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,i,a){var l=u("../compressions"),c=u("./ZipFileWorker"),f=function(h,p){var E=h||p,_=l[E];if(!_)throw new Error(E+" is not a valid compression method !");return _};a.generateWorker=function(h,p,E){var _=new c(p.streamFiles,E,p.platform,p.encodeFileName),x=0;try{h.forEach(function(S,B){x++;var w=f(B.options.compression,p.compression),y=B.options.compressionOptions||p.compressionOptions||{},A=B.dir,N=B.date;B._compressWorker(w,y).withStreamInfo("file",{name:S,dir:A,date:N,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(_)}),_.entriesCount=x}catch(S){_.error(S)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,i,a){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var f in this)typeof this[f]!="function"&&(c[f]=this[f]);return c}}l.prototype=u("./object"),l.prototype.loadAsync=u("./load"),l.support=u("./support"),l.defaults=u("./defaults"),l.version="3.10.1",l.loadAsync=function(c,f){return new l().loadAsync(c,f)},l.external=u("./external"),i.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,i,a){var l=u("./utils"),c=u("./external"),f=u("./utf8"),h=u("./zipEntries"),p=u("./stream/Crc32Probe"),E=u("./nodejsUtils");function _(x){return new c.Promise(function(S,B){var w=x.decompressed.getContentWorker().pipe(new p);w.on("error",function(y){B(y)}).on("end",function(){w.streamInfo.crc32!==x.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}i.exports=function(x,S){var B=this;return S=l.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),E.isNode&&E.isStream(x)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",x,!0,S.optimizedBinaryString,S.base64).then(function(w){var y=new h(S);return y.load(w),y}).then(function(y){var A=[c.Promise.resolve(y)],N=y.files;if(S.checkCRC32)for(var I=0;I<N.length;I++)A.push(_(N[I]));return c.Promise.all(A)}).then(function(y){for(var A=y.shift(),N=A.files,I=0;I<N.length;I++){var V=N[I],D=V.fileNameStr,U=l.resolve(V.fileNameStr);B.file(U,V.decompressed,{binary:!0,optimizedBinaryString:!0,date:V.date,dir:V.dir,comment:V.fileCommentStr.length?V.fileCommentStr:null,unixPermissions:V.unixPermissions,dosPermissions:V.dosPermissions,createFolders:S.createFolders}),V.dir||(B.file(U).unsafeOriginalName=D)}return A.zipComment.length&&(B.comment=A.zipComment),B})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,i,a){var l=u("../utils"),c=u("../stream/GenericWorker");function f(h,p){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(p)}l.inherits(f,c),f.prototype._bindStream=function(h){var p=this;this._stream=h,h.pause(),h.on("data",function(E){p.push({data:E,meta:{percent:0}})}).on("error",function(E){p.isPaused?this.generatedError=E:p.error(E)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},f.prototype.pause=function(){return c.prototype.pause.call(this)?(this._stream.pause(),!0):!1},f.prototype.resume=function(){return c.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,i,a){var l=u("readable-stream").Readable,c=u("../utils");c.inherits(f,l);function f(h,p,E){l.call(this,p),this._helper=h;var _=this;h.on("data",function(x,S){_.push(x)||_._helper.pause(),E&&E(S)}).on("error",function(x){_.emit("error",x)}).on("end",function(){_.push(null)})}f.prototype._read=function(){this._helper.resume()},i.exports=f},{"../utils":32,"readable-stream":16}],14:[function(u,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(u,i,a){var l=u("./utf8"),c=u("./utils"),f=u("./stream/GenericWorker"),h=u("./stream/StreamHelper"),p=u("./defaults"),E=u("./compressedObject"),_=u("./zipObject"),x=u("./generate"),S=u("./nodejsUtils"),B=u("./nodejs/NodejsStreamInputAdapter"),w=function(D,U,z){var q=c.getTypeOf(U),H,Y=c.extend(z||{},p);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&Y.unixPermissions&16384&&(Y.dir=!0),Y.dosPermissions&&Y.dosPermissions&16&&(Y.dir=!0),Y.dir&&(D=A(D)),Y.createFolders&&(H=y(D))&&N.call(this,H,!0);var oe=q==="string"&&Y.binary===!1&&Y.base64===!1;(!z||typeof z.binary>"u")&&(Y.binary=!oe);var J=U instanceof E&&U.uncompressedSize===0;(J||Y.dir||!U||U.length===0)&&(Y.base64=!1,Y.binary=!0,U="",Y.compression="STORE",q="string");var de=null;U instanceof E||U instanceof f?de=U:S.isNode&&S.isStream(U)?de=new B(D,U):de=c.prepareContent(D,U,Y.binary,Y.optimizedBinaryString,Y.base64);var Re=new _(D,de,Y);this.files[D]=Re},y=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var U=D.lastIndexOf("/");return U>0?D.substring(0,U):""},A=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},N=function(D,U){return U=typeof U<"u"?U:p.createFolders,D=A(D),this.files[D]||w.call(this,D,null,{dir:!0,createFolders:U}),this.files[D]};function I(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var V={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var U,z,q;for(U in this.files)q=this.files[U],z=U.slice(this.root.length,U.length),z&&U.slice(0,this.root.length)===this.root&&D(z,q)},filter:function(D){var U=[];return this.forEach(function(z,q){D(z,q)&&U.push(q)}),U},file:function(D,U,z){if(arguments.length===1)if(I(D)){var q=D;return this.filter(function(Y,oe){return!oe.dir&&q.test(Y)})}else{var H=this.files[this.root+D];return H&&!H.dir?H:null}else D=this.root+D,w.call(this,D,U,z);return this},folder:function(D){if(!D)return this;if(I(D))return this.filter(function(H,Y){return Y.dir&&D.test(H)});var U=this.root+D,z=N.call(this,U),q=this.clone();return q.root=z.name,q},remove:function(D){D=this.root+D;var U=this.files[D];if(U||(D.slice(-1)!=="/"&&(D+="/"),U=this.files[D]),U&&!U.dir)delete this.files[D];else for(var z=this.filter(function(H,Y){return Y.name.slice(0,D.length)===D}),q=0;q<z.length;q++)delete this.files[z[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var U,z={};try{if(z=c.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode}),z.type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");c.checkSupport(z.type),(z.platform==="darwin"||z.platform==="freebsd"||z.platform==="linux"||z.platform==="sunos")&&(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var q=z.comment||this.comment||"";U=x.generateWorker(this,z,q)}catch(H){U=new f("error"),U.error(H)}return new h(U,z.type||"string",z.mimeType)},generateAsync:function(D,U){return this.generateInternalStream(D).accumulate(U)},generateNodeStream:function(D,U){return D=D||{},D.type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(U)}};i.exports=V},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,i,a){i.exports=u("stream")},{stream:void 0}],17:[function(u,i,a){var l=u("./DataReader"),c=u("../utils");function f(h){l.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=h[p]&255}c.inherits(f,l),f.prototype.byteAt=function(h){return this.data[this.zero+h]},f.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),E=h.charCodeAt(1),_=h.charCodeAt(2),x=h.charCodeAt(3),S=this.length-4;S>=0;--S)if(this.data[S]===p&&this.data[S+1]===E&&this.data[S+2]===_&&this.data[S+3]===x)return S-this.zero;return-1},f.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),E=h.charCodeAt(1),_=h.charCodeAt(2),x=h.charCodeAt(3),S=this.readData(4);return p===S[0]&&E===S[1]&&_===S[2]&&x===S[3]},f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},i.exports=f},{"../utils":32,"./DataReader":18}],18:[function(u,i,a){var l=u("../utils");function c(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var h=0,p;for(this.checkOffset(f),p=this.index+f-1;p>=this.index;p--)h=(h<<8)+this.byteAt(p);return this.index+=f,h},readString:function(f){return l.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC((f>>25&127)+1980,(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(f&31)<<1))}},i.exports=c},{"../utils":32}],19:[function(u,i,a){var l=u("./Uint8ArrayReader"),c=u("../utils");function f(h){l.call(this,h)}c.inherits(f,l),f.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},i.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,i,a){var l=u("./DataReader"),c=u("../utils");function f(h){l.call(this,h)}c.inherits(f,l),f.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},f.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},f.prototype.readAndCheckSignature=function(h){var p=this.readData(4);return h===p},f.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},i.exports=f},{"../utils":32,"./DataReader":18}],21:[function(u,i,a){var l=u("./ArrayReader"),c=u("../utils");function f(h){l.call(this,h)}c.inherits(f,l),f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},i.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(u,i,a){var l=u("../utils"),c=u("../support"),f=u("./ArrayReader"),h=u("./StringReader"),p=u("./NodeBufferReader"),E=u("./Uint8ArrayReader");i.exports=function(_){var x=l.getTypeOf(_);return l.checkSupport(x),x==="string"&&!c.uint8array?new h(_):x==="nodebuffer"?new p(_):c.uint8array?new E(l.transformTo("uint8array",_)):new f(l.transformTo("array",_))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,i,a){var l=u("./GenericWorker"),c=u("../utils");function f(h){l.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(f,l),f.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},i.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(u,i,a){var l=u("./GenericWorker"),c=u("../crc32"),f=u("../utils");function h(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f.inherits(h,l),h.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},i.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,i,a){var l=u("../utils"),c=u("./GenericWorker");function f(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}l.inherits(f,c),f.prototype.processChunk=function(h){if(h){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+h.data.length}c.prototype.processChunk.call(this,h)},i.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(u,i,a){var l=u("../utils"),c=u("./GenericWorker"),f=16*1024;function h(p){c.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(_){E.dataIsReady=!0,E.data=_,E.max=_&&_.length||0,E.type=l.getTypeOf(_),E.isPaused||E._tickAndRepeat()},function(_){E.error(_)})}l.inherits(h,c),h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return c.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0):!1},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=f,E=null,_=Math.min(this.max,this.index+p);if(this.index>=this.max)return this.end();switch(this.type){case"string":E=this.data.substring(this.index,_);break;case"uint8array":E=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":E=this.data.slice(this.index,_);break}return this.index=_,this.push({data:E,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(u,i,a){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return this.isFinished?!1:(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,f){return this._listeners[c].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,f){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,f)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var f=this;return c.on("data",function(h){f.processChunk(h)}),c.on("end",function(){f.end()}),c.on("error",function(h){f.error(h)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var c=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,f){return this.extraStreamInfo[c]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},i.exports=l},{}],29:[function(u,i,a){var l=u("../utils"),c=u("./ConvertWorker"),f=u("./GenericWorker"),h=u("../base64"),p=u("../support"),E=u("../external"),_=null;if(p.nodestream)try{_=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(y,A,N){switch(y){case"blob":return l.newBlob(l.transformTo("arraybuffer",A),N);case"base64":return h.encode(A);default:return l.transformTo(y,A)}}function S(y,A){var N,I=0,V=null,D=0;for(N=0;N<A.length;N++)D+=A[N].length;switch(y){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(V=new Uint8Array(D),N=0;N<A.length;N++)V.set(A[N],I),I+=A[N].length;return V;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+y+"'")}}function B(y,A){return new E.Promise(function(N,I){var V=[],D=y._internalType,U=y._outputType,z=y._mimeType;y.on("data",function(q,H){V.push(q),A&&A(H)}).on("error",function(q){V=[],I(q)}).on("end",function(){try{var q=x(U,S(D,V),z);N(q)}catch(H){I(H)}V=[]}).resume()})}function w(y,A,N){var I=A;switch(A){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string";break}try{this._internalType=I,this._outputType=A,this._mimeType=N,l.checkSupport(I),this._worker=y.pipe(new c(I)),y.lock()}catch(V){this._worker=new f("error"),this._worker.error(V)}}w.prototype={accumulate:function(y){return B(this,y)},on:function(y,A){var N=this;return y==="data"?this._worker.on(y,function(I){A.call(N,I.data,I.meta)}):this._worker.on(y,function(){l.delay(A,arguments,N)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},y)}},i.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var l=new ArrayBuffer(0);try{a.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,f=new c;f.append(l),a.blob=f.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!u("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(u,i,a){for(var l=u("./utils"),c=u("./support"),f=u("./nodejsUtils"),h=u("./stream/GenericWorker"),p=new Array(256),E=0;E<256;E++)p[E]=E>=252?6:E>=248?5:E>=240?4:E>=224?3:E>=192?2:1;p[254]=p[254]=1;var _=function(y){var A,N,I,V,D,U=y.length,z=0;for(V=0;V<U;V++)N=y.charCodeAt(V),(N&64512)===55296&&V+1<U&&(I=y.charCodeAt(V+1),(I&64512)===56320&&(N=65536+(N-55296<<10)+(I-56320),V++)),z+=N<128?1:N<2048?2:N<65536?3:4;for(c.uint8array?A=new Uint8Array(z):A=new Array(z),D=0,V=0;D<z;V++)N=y.charCodeAt(V),(N&64512)===55296&&V+1<U&&(I=y.charCodeAt(V+1),(I&64512)===56320&&(N=65536+(N-55296<<10)+(I-56320),V++)),N<128?A[D++]=N:N<2048?(A[D++]=192|N>>>6,A[D++]=128|N&63):N<65536?(A[D++]=224|N>>>12,A[D++]=128|N>>>6&63,A[D++]=128|N&63):(A[D++]=240|N>>>18,A[D++]=128|N>>>12&63,A[D++]=128|N>>>6&63,A[D++]=128|N&63);return A},x=function(y,A){var N;for(A=A||y.length,A>y.length&&(A=y.length),N=A-1;N>=0&&(y[N]&192)===128;)N--;return N<0||N===0?A:N+p[y[N]]>A?N:A},S=function(y){var A,N,I,V,D=y.length,U=new Array(D*2);for(N=0,A=0;A<D;){if(I=y[A++],I<128){U[N++]=I;continue}if(V=p[I],V>4){U[N++]=65533,A+=V-1;continue}for(I&=V===2?31:V===3?15:7;V>1&&A<D;)I=I<<6|y[A++]&63,V--;if(V>1){U[N++]=65533;continue}I<65536?U[N++]=I:(I-=65536,U[N++]=55296|I>>10&1023,U[N++]=56320|I&1023)}return U.length!==N&&(U.subarray?U=U.subarray(0,N):U.length=N),l.applyFromCharCode(U)};a.utf8encode=function(A){return c.nodebuffer?f.newBufferFrom(A,"utf-8"):_(A)},a.utf8decode=function(A){return c.nodebuffer?l.transformTo("nodebuffer",A).toString("utf-8"):(A=l.transformTo(c.uint8array?"uint8array":"array",A),S(A))};function B(){h.call(this,"utf-8 decode"),this.leftOver=null}l.inherits(B,h),B.prototype.processChunk=function(y){var A=l.transformTo(c.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var N=A;A=new Uint8Array(N.length+this.leftOver.length),A.set(this.leftOver,0),A.set(N,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var I=x(A),V=A;I!==A.length&&(c.uint8array?(V=A.subarray(0,I),this.leftOver=A.subarray(I,A.length)):(V=A.slice(0,I),this.leftOver=A.slice(I,A.length))),this.push({data:a.utf8decode(V),meta:y.meta})},B.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=B;function w(){h.call(this,"utf-8 encode")}l.inherits(w,h),w.prototype.processChunk=function(y){this.push({data:a.utf8encode(y.data),meta:y.meta})},a.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,i,a){var l=u("./support"),c=u("./base64"),f=u("./nodejsUtils"),h=u("./external");u("setimmediate");function p(y){var A=null;return l.uint8array?A=new Uint8Array(y.length):A=new Array(y.length),_(y,A)}a.newBlob=function(y,A){a.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var N=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,I=new N;return I.append(y),I.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};function E(y){return y}function _(y,A){for(var N=0;N<y.length;++N)A[N]=y.charCodeAt(N)&255;return A}var x={stringifyByChunk:function(y,A,N){var I=[],V=0,D=y.length;if(D<=N)return String.fromCharCode.apply(null,y);for(;V<D;)A==="array"||A==="nodebuffer"?I.push(String.fromCharCode.apply(null,y.slice(V,Math.min(V+N,D)))):I.push(String.fromCharCode.apply(null,y.subarray(V,Math.min(V+N,D)))),V+=N;return I.join("")},stringifyByChar:function(y){for(var A="",N=0;N<y.length;N++)A+=String.fromCharCode(y[N]);return A},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function S(y){var A=65536,N=a.getTypeOf(y),I=!0;if(N==="uint8array"?I=x.applyCanBeUsed.uint8array:N==="nodebuffer"&&(I=x.applyCanBeUsed.nodebuffer),I)for(;A>1;)try{return x.stringifyByChunk(y,N,A)}catch{A=Math.floor(A/2)}return x.stringifyByChar(y)}a.applyFromCharCode=S;function B(y,A){for(var N=0;N<y.length;N++)A[N]=y[N];return A}var w={};w.string={string:E,array:function(y){return _(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return _(y,new Uint8Array(y.length))},nodebuffer:function(y){return _(y,f.allocBuffer(y.length))}},w.array={string:S,array:E,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return f.newBufferFrom(y)}},w.arraybuffer={string:function(y){return S(new Uint8Array(y))},array:function(y){return B(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:E,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return f.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:S,array:function(y){return B(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:E,nodebuffer:function(y){return f.newBufferFrom(y)}},w.nodebuffer={string:S,array:function(y){return B(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return B(y,new Uint8Array(y.length))},nodebuffer:E},a.transformTo=function(y,A){if(A||(A=""),!y)return A;a.checkSupport(y);var N=a.getTypeOf(A),I=w[N][y](A);return I},a.resolve=function(y){for(var A=y.split("/"),N=[],I=0;I<A.length;I++){var V=A[I];V==="."||V===""&&I!==0&&I!==A.length-1||(V===".."?N.pop():N.push(V))}return N.join("/")},a.getTypeOf=function(y){if(typeof y=="string")return"string";if(Object.prototype.toString.call(y)==="[object Array]")return"array";if(l.nodebuffer&&f.isBuffer(y))return"nodebuffer";if(l.uint8array&&y instanceof Uint8Array)return"uint8array";if(l.arraybuffer&&y instanceof ArrayBuffer)return"arraybuffer"},a.checkSupport=function(y){var A=l[y.toLowerCase()];if(!A)throw new Error(y+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(y){var A="",N,I;for(I=0;I<(y||"").length;I++)N=y.charCodeAt(I),A+="\\x"+(N<16?"0":"")+N.toString(16).toUpperCase();return A},a.delay=function(y,A,N){setImmediate(function(){y.apply(N||null,A||[])})},a.inherits=function(y,A){var N=function(){};N.prototype=A.prototype,y.prototype=new N},a.extend=function(){var y={},A,N;for(A=0;A<arguments.length;A++)for(N in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],N)&&typeof y[N]>"u"&&(y[N]=arguments[A][N]);return y},a.prepareContent=function(y,A,N,I,V){var D=h.Promise.resolve(A).then(function(U){var z=l.blob&&(U instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(U))!==-1);return z&&typeof FileReader<"u"?new h.Promise(function(q,H){var Y=new FileReader;Y.onload=function(oe){q(oe.target.result)},Y.onerror=function(oe){H(oe.target.error)},Y.readAsArrayBuffer(U)}):U});return D.then(function(U){var z=a.getTypeOf(U);return z?(z==="arraybuffer"?U=a.transformTo("uint8array",U):z==="string"&&(V?U=c.decode(U):N&&I!==!0&&(U=p(U))),U):h.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,i,a){var l=u("./reader/readerFor"),c=u("./utils"),f=u("./signature"),h=u("./zipEntry"),p=u("./support");function E(_){this.files=[],this.loadOptions=_}E.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(x)+", expected "+c.pretty(_)+")")}},isSignature:function(_,x){var S=this.reader.index;this.reader.setIndex(_);var B=this.reader.readString(4),w=B===x;return this.reader.setIndex(S),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),x=p.uint8array?"uint8array":"array",S=c.transformTo(x,_);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _=this.zip64EndOfCentralSize-44,x=0,S,B,w;x<_;)S=this.reader.readInt(2),B=this.reader.readInt(4),w=this.reader.readData(B),this.zip64ExtensibleData[S]={id:S,length:B,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,x;for(_=0;_<this.files.length;_++)x=this.files[_],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)_=new h({zip64:this.zip64},this.loadOptions),_.readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(_<0){var x=!this.isSignature(0,f.LOCAL_FILE_HEADER);throw x?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(_);var S=_;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,_=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),_<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var B=this.centralDirOffset+this.centralDirSize;this.zip64&&(B+=20,B+=12+this.zip64EndOfCentralSize);var w=S-B;if(w>0)this.isSignature(S,f.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(_){this.reader=l(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,i,a){var l=u("./reader/readerFor"),c=u("./utils"),f=u("./compressedObject"),h=u("./crc32"),p=u("./utf8"),E=u("./compressions"),_=u("./support"),x=0,S=3,B=function(y){for(var A in E)if(Object.prototype.hasOwnProperty.call(E,A)&&E[A].magic===y)return E[A];return null};function w(y,A){this.options=y,this.loadOptions=A}w.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(y){var A,N;if(y.skip(22),this.fileNameLength=y.readInt(2),N=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(A=B(this.compressionMethod),A===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,A,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var A=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(A),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),y===x&&(this.dosPermissions=this.externalFileAttributes&63),y===S&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var A=y.index+this.extraFieldsLength,N,I,V;for(this.extraFields||(this.extraFields={});y.index+4<A;)N=y.readInt(2),I=y.readInt(2),V=y.readData(I),this.extraFields[N]={id:N,length:I,value:V};y.setIndex(A)},handleUTF8:function(){var y=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var N=c.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var V=c.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(V)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var A=l(y.value);return A.readInt(1)!==1||h(this.fileName)!==A.readInt(4)?null:p.utf8decode(A.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var A=l(y.value);return A.readInt(1)!==1||h(this.fileComment)!==A.readInt(4)?null:p.utf8decode(A.readData(y.length-5))}return null}},i.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,i,a){var l=u("./stream/StreamHelper"),c=u("./stream/DataWorker"),f=u("./utf8"),h=u("./compressedObject"),p=u("./stream/GenericWorker"),E=function(B,w,y){this.name=B,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=w,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}};E.prototype={internalStream:function(B){var w=null,y="string";try{if(!B)throw new Error("No output type specified.");y=B.toLowerCase();var A=y==="string"||y==="text";(y==="binarystring"||y==="text")&&(y="string"),w=this._decompressWorker();var N=!this._dataBinary;N&&!A&&(w=w.pipe(new f.Utf8EncodeWorker)),!N&&A&&(w=w.pipe(new f.Utf8DecodeWorker))}catch(I){w=new p("error"),w.error(I)}return new l(w,y,"")},async:function(B,w){return this.internalStream(B).accumulate(w)},nodeStream:function(B,w){return this.internalStream(B||"nodebuffer").toNodejsStream(w)},_compressWorker:function(B,w){if(this._data instanceof h&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new f.Utf8EncodeWorker)),h.createWorkerFrom(y,B,w)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<_.length;S++)E.prototype[_[S]]=x;i.exports=E},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,i,a){(function(l){var c=l.MutationObserver||l.WebKitMutationObserver,f;if(c){var h=0,p=new c(B),E=l.document.createTextNode("");p.observe(E,{characterData:!0}),f=function(){E.data=h=++h%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var _=new l.MessageChannel;_.port1.onmessage=B,f=function(){_.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?f=function(){var y=l.document.createElement("script");y.onreadystatechange=function(){B(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:f=function(){setTimeout(B,0)};var x,S=[];function B(){x=!0;for(var y,A,N=S.length;N;){for(A=S,S=[],y=-1;++y<N;)A[y]();N=S.length}x=!1}i.exports=w;function w(y){S.push(y)===1&&!x&&f()}}).call(this,typeof Un<"u"?Un:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,i,a){var l=u("immediate");function c(){}var f={},h=["REJECTED"],p=["FULFILLED"],E=["PENDING"];i.exports=_;function _(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,D!==c&&w(this,D)}_.prototype.finally=function(D){if(typeof D!="function")return this;var U=this.constructor;return this.then(z,q);function z(H){function Y(){return H}return U.resolve(D()).then(Y)}function q(H){function Y(){throw H}return U.resolve(D()).then(Y)}},_.prototype.catch=function(D){return this.then(null,D)},_.prototype.then=function(D,U){if(typeof D!="function"&&this.state===p||typeof U!="function"&&this.state===h)return this;var z=new this.constructor(c);if(this.state!==E){var q=this.state===p?D:U;S(z,q,this.outcome)}else this.queue.push(new x(z,D,U));return z};function x(D,U,z){this.promise=D,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}x.prototype.callFulfilled=function(D){f.resolve(this.promise,D)},x.prototype.otherCallFulfilled=function(D){S(this.promise,this.onFulfilled,D)},x.prototype.callRejected=function(D){f.reject(this.promise,D)},x.prototype.otherCallRejected=function(D){S(this.promise,this.onRejected,D)};function S(D,U,z){l(function(){var q;try{q=U(z)}catch(H){return f.reject(D,H)}q===D?f.reject(D,new TypeError("Cannot resolve promise with itself")):f.resolve(D,q)})}f.resolve=function(D,U){var z=y(B,U);if(z.status==="error")return f.reject(D,z.value);var q=z.value;if(q)w(D,q);else{D.state=p,D.outcome=U;for(var H=-1,Y=D.queue.length;++H<Y;)D.queue[H].callFulfilled(U)}return D},f.reject=function(D,U){D.state=h,D.outcome=U;for(var z=-1,q=D.queue.length;++z<q;)D.queue[z].callRejected(U);return D};function B(D){var U=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof U=="function")return function(){U.apply(D,arguments)}}function w(D,U){var z=!1;function q(J){z||(z=!0,f.reject(D,J))}function H(J){z||(z=!0,f.resolve(D,J))}function Y(){U(H,q)}var oe=y(Y);oe.status==="error"&&q(oe.value)}function y(D,U){var z={};try{z.value=D(U),z.status="success"}catch(q){z.status="error",z.value=q}return z}_.resolve=A;function A(D){return D instanceof this?D:f.resolve(new this(c),D)}_.reject=N;function N(D){var U=new this(c);return f.reject(U,D)}_.all=I;function I(D){var U=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=D.length,q=!1;if(!z)return this.resolve([]);for(var H=new Array(z),Y=0,oe=-1,J=new this(c);++oe<z;)de(D[oe],oe);return J;function de(Re,Se){U.resolve(Re).then(te,function(le){q||(q=!0,f.reject(J,le))});function te(le){H[Se]=le,++Y===z&&!q&&(q=!0,f.resolve(J,H))}}}_.race=V;function V(D){var U=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=D.length,q=!1;if(!z)return this.resolve([]);for(var H=-1,Y=new this(c);++H<z;)oe(D[H]);return Y;function oe(J){U.resolve(J).then(function(de){q||(q=!0,f.resolve(Y,de))},function(de){q||(q=!0,f.reject(Y,de))})}}},{immediate:36}],38:[function(u,i,a){var l=u("./lib/utils/common").assign,c=u("./lib/deflate"),f=u("./lib/inflate"),h=u("./lib/zlib/constants"),p={};l(p,c,f,h),i.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,i,a){var l=u("./zlib/deflate"),c=u("./utils/common"),f=u("./utils/strings"),h=u("./zlib/messages"),p=u("./zlib/zstream"),E=Object.prototype.toString,_=0,x=4,S=0,B=1,w=2,y=-1,A=0,N=8;function I(z){if(!(this instanceof I))return new I(z);this.options=c.assign({level:y,method:N,chunkSize:16384,windowBits:15,memLevel:8,strategy:A,to:""},z||{});var q=this.options;q.raw&&q.windowBits>0?q.windowBits=-q.windowBits:q.gzip&&q.windowBits>0&&q.windowBits<16&&(q.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var H=l.deflateInit2(this.strm,q.level,q.method,q.windowBits,q.memLevel,q.strategy);if(H!==S)throw new Error(h[H]);if(q.header&&l.deflateSetHeader(this.strm,q.header),q.dictionary){var Y;if(typeof q.dictionary=="string"?Y=f.string2buf(q.dictionary):E.call(q.dictionary)==="[object ArrayBuffer]"?Y=new Uint8Array(q.dictionary):Y=q.dictionary,H=l.deflateSetDictionary(this.strm,Y),H!==S)throw new Error(h[H]);this._dict_set=!0}}I.prototype.push=function(z,q){var H=this.strm,Y=this.options.chunkSize,oe,J;if(this.ended)return!1;J=q===~~q?q:q===!0?x:_,typeof z=="string"?H.input=f.string2buf(z):E.call(z)==="[object ArrayBuffer]"?H.input=new Uint8Array(z):H.input=z,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new c.Buf8(Y),H.next_out=0,H.avail_out=Y),oe=l.deflate(H,J),oe!==B&&oe!==S)return this.onEnd(oe),this.ended=!0,!1;(H.avail_out===0||H.avail_in===0&&(J===x||J===w))&&(this.options.to==="string"?this.onData(f.buf2binstring(c.shrinkBuf(H.output,H.next_out))):this.onData(c.shrinkBuf(H.output,H.next_out)))}while((H.avail_in>0||H.avail_out===0)&&oe!==B);return J===x?(oe=l.deflateEnd(this.strm),this.onEnd(oe),this.ended=!0,oe===S):(J===w&&(this.onEnd(S),H.avail_out=0),!0)},I.prototype.onData=function(z){this.chunks.push(z)},I.prototype.onEnd=function(z){z===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg};function V(z,q){var H=new I(q);if(H.push(z,!0),H.err)throw H.msg||h[H.err];return H.result}function D(z,q){return q=q||{},q.raw=!0,V(z,q)}function U(z,q){return q=q||{},q.gzip=!0,V(z,q)}a.Deflate=I,a.deflate=V,a.deflateRaw=D,a.gzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,i,a){var l=u("./zlib/inflate"),c=u("./utils/common"),f=u("./utils/strings"),h=u("./zlib/constants"),p=u("./zlib/messages"),E=u("./zlib/zstream"),_=u("./zlib/gzheader"),x=Object.prototype.toString;function S(y){if(!(this instanceof S))return new S(y);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&A.windowBits>=0&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),A.windowBits>=0&&A.windowBits<16&&!(y&&y.windowBits)&&(A.windowBits+=32),A.windowBits>15&&A.windowBits<48&&(A.windowBits&15)===0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var N=l.inflateInit2(this.strm,A.windowBits);if(N!==h.Z_OK)throw new Error(p[N]);this.header=new _,l.inflateGetHeader(this.strm,this.header)}S.prototype.push=function(y,A){var N=this.strm,I=this.options.chunkSize,V=this.options.dictionary,D,U,z,q,H,Y,oe=!1;if(this.ended)return!1;U=A===~~A?A:A===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof y=="string"?N.input=f.binstring2buf(y):x.call(y)==="[object ArrayBuffer]"?N.input=new Uint8Array(y):N.input=y,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new c.Buf8(I),N.next_out=0,N.avail_out=I),D=l.inflate(N,h.Z_NO_FLUSH),D===h.Z_NEED_DICT&&V&&(typeof V=="string"?Y=f.string2buf(V):x.call(V)==="[object ArrayBuffer]"?Y=new Uint8Array(V):Y=V,D=l.inflateSetDictionary(this.strm,Y)),D===h.Z_BUF_ERROR&&oe===!0&&(D=h.Z_OK,oe=!1),D!==h.Z_STREAM_END&&D!==h.Z_OK)return this.onEnd(D),this.ended=!0,!1;N.next_out&&(N.avail_out===0||D===h.Z_STREAM_END||N.avail_in===0&&(U===h.Z_FINISH||U===h.Z_SYNC_FLUSH))&&(this.options.to==="string"?(z=f.utf8border(N.output,N.next_out),q=N.next_out-z,H=f.buf2string(N.output,z),N.next_out=q,N.avail_out=I-q,q&&c.arraySet(N.output,N.output,z,q,0),this.onData(H)):this.onData(c.shrinkBuf(N.output,N.next_out))),N.avail_in===0&&N.avail_out===0&&(oe=!0)}while((N.avail_in>0||N.avail_out===0)&&D!==h.Z_STREAM_END);return D===h.Z_STREAM_END&&(U=h.Z_FINISH),U===h.Z_FINISH?(D=l.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===h.Z_OK):(U===h.Z_SYNC_FLUSH&&(this.onEnd(h.Z_OK),N.avail_out=0),!0)},S.prototype.onData=function(y){this.chunks.push(y)},S.prototype.onEnd=function(y){y===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg};function B(y,A){var N=new S(A);if(N.push(y,!0),N.err)throw N.msg||p[N.err];return N.result}function w(y,A){return A=A||{},A.raw=!0,B(y,A)}a.Inflate=S,a.inflate=B,a.inflateRaw=w,a.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,i,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(h){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var E=p.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var _ in E)E.hasOwnProperty(_)&&(h[_]=E[_])}}return h},a.shrinkBuf=function(h,p){return h.length===p?h:h.subarray?h.subarray(0,p):(h.length=p,h)};var c={arraySet:function(h,p,E,_,x){if(p.subarray&&h.subarray){h.set(p.subarray(E,E+_),x);return}for(var S=0;S<_;S++)h[x+S]=p[E+S]},flattenChunks:function(h){var p,E,_,x,S,B;for(_=0,p=0,E=h.length;p<E;p++)_+=h[p].length;for(B=new Uint8Array(_),x=0,p=0,E=h.length;p<E;p++)S=h[p],B.set(S,x),x+=S.length;return B}},f={arraySet:function(h,p,E,_,x){for(var S=0;S<_;S++)h[x+S]=p[E+S]},flattenChunks:function(h){return[].concat.apply([],h)}};a.setTyped=function(h){h?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,f))},a.setTyped(l)},{}],42:[function(u,i,a){var l=u("./common"),c=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var h=new l.Buf8(256),p=0;p<256;p++)h[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;h[254]=h[254]=1,a.string2buf=function(_){var x,S,B,w,y,A=_.length,N=0;for(w=0;w<A;w++)S=_.charCodeAt(w),(S&64512)===55296&&w+1<A&&(B=_.charCodeAt(w+1),(B&64512)===56320&&(S=65536+(S-55296<<10)+(B-56320),w++)),N+=S<128?1:S<2048?2:S<65536?3:4;for(x=new l.Buf8(N),y=0,w=0;y<N;w++)S=_.charCodeAt(w),(S&64512)===55296&&w+1<A&&(B=_.charCodeAt(w+1),(B&64512)===56320&&(S=65536+(S-55296<<10)+(B-56320),w++)),S<128?x[y++]=S:S<2048?(x[y++]=192|S>>>6,x[y++]=128|S&63):S<65536?(x[y++]=224|S>>>12,x[y++]=128|S>>>6&63,x[y++]=128|S&63):(x[y++]=240|S>>>18,x[y++]=128|S>>>12&63,x[y++]=128|S>>>6&63,x[y++]=128|S&63);return x};function E(_,x){if(x<65537&&(_.subarray&&f||!_.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(_,x));for(var S="",B=0;B<x;B++)S+=String.fromCharCode(_[B]);return S}a.buf2binstring=function(_){return E(_,_.length)},a.binstring2buf=function(_){for(var x=new l.Buf8(_.length),S=0,B=x.length;S<B;S++)x[S]=_.charCodeAt(S);return x},a.buf2string=function(_,x){var S,B,w,y,A=x||_.length,N=new Array(A*2);for(B=0,S=0;S<A;){if(w=_[S++],w<128){N[B++]=w;continue}if(y=h[w],y>4){N[B++]=65533,S+=y-1;continue}for(w&=y===2?31:y===3?15:7;y>1&&S<A;)w=w<<6|_[S++]&63,y--;if(y>1){N[B++]=65533;continue}w<65536?N[B++]=w:(w-=65536,N[B++]=55296|w>>10&1023,N[B++]=56320|w&1023)}return E(N,B)},a.utf8border=function(_,x){var S;for(x=x||_.length,x>_.length&&(x=_.length),S=x-1;S>=0&&(_[S]&192)===128;)S--;return S<0||S===0?x:S+h[_[S]]>x?S:x}},{"./common":41}],43:[function(u,i,a){function l(c,f,h,p){for(var E=c&65535|0,_=c>>>16&65535|0,x=0;h!==0;){x=h>2e3?2e3:h,h-=x;do E=E+f[p++]|0,_=_+E|0;while(--x);E%=65521,_%=65521}return E|_<<16|0}i.exports=l},{}],44:[function(u,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,i,a){function l(){for(var h,p=[],E=0;E<256;E++){h=E;for(var _=0;_<8;_++)h=h&1?3988292384^h>>>1:h>>>1;p[E]=h}return p}var c=l();function f(h,p,E,_){var x=c,S=_+E;h^=-1;for(var B=_;B<S;B++)h=h>>>8^x[(h^p[B])&255];return h^-1}i.exports=f},{}],46:[function(u,i,a){var l=u("../utils/common"),c=u("./trees"),f=u("./adler32"),h=u("./crc32"),p=u("./messages"),E=0,_=1,x=3,S=4,B=5,w=0,y=1,A=-2,N=-3,I=-5,V=-1,D=1,U=2,z=3,q=4,H=0,Y=2,oe=8,J=9,de=15,Re=8,Se=29,te=256,le=te+1+Se,ge=30,De=19,G=2*le+1,ie=15,_e=3,Ne=258,Ee=Ne+_e+1,Ve=32,Ge=42,ut=69,He=73,Tt=91,Ht=103,ft=113,_t=666,Et=1,At=2,Zt=3,It=4,ht=3;function lu(v,ue){return v.msg=p[ue],ue}function mu(v){return(v<<1)-(v>4?9:0)}function fu(v){for(var ue=v.length;--ue>=0;)v[ue]=0}function nt(v){var ue=v.state,fe=ue.pending;fe>v.avail_out&&(fe=v.avail_out),fe!==0&&(l.arraySet(v.output,ue.pending_buf,ue.pending_out,fe,v.next_out),v.next_out+=fe,ue.pending_out+=fe,v.total_out+=fe,v.avail_out-=fe,ue.pending-=fe,ue.pending===0&&(ue.pending_out=0))}function pt(v,ue){c._tr_flush_block(v,v.block_start>=0?v.block_start:-1,v.strstart-v.block_start,ue),v.block_start=v.strstart,nt(v.strm)}function rt(v,ue){v.pending_buf[v.pending++]=ue}function xu(v,ue){v.pending_buf[v.pending++]=ue>>>8&255,v.pending_buf[v.pending++]=ue&255}function rn(v,ue,fe,O){var Q=v.avail_in;return Q>O&&(Q=O),Q===0?0:(v.avail_in-=Q,l.arraySet(ue,v.input,v.next_in,Q,fe),v.state.wrap===1?v.adler=f(v.adler,ue,Q,fe):v.state.wrap===2&&(v.adler=h(v.adler,ue,Q,fe)),v.next_in+=Q,v.total_in+=Q,Q)}function Su(v,ue){var fe=v.max_chain_length,O=v.strstart,Q,ce,ze=v.prev_length,Me=v.nice_match,je=v.strstart>v.w_size-Ee?v.strstart-(v.w_size-Ee):0,ot=v.window,du=v.w_mask,kt=v.prev,gt=v.strstart+Ne,bt=ot[O+ze-1],cu=ot[O+ze];v.prev_length>=v.good_match&&(fe>>=2),Me>v.lookahead&&(Me=v.lookahead);do if(Q=ue,!(ot[Q+ze]!==cu||ot[Q+ze-1]!==bt||ot[Q]!==ot[O]||ot[++Q]!==ot[O+1])){O+=2,Q++;do;while(ot[++O]===ot[++Q]&&ot[++O]===ot[++Q]&&ot[++O]===ot[++Q]&&ot[++O]===ot[++Q]&&ot[++O]===ot[++Q]&&ot[++O]===ot[++Q]&&ot[++O]===ot[++Q]&&ot[++O]===ot[++Q]&&O<gt);if(ce=Ne-(gt-O),O=gt-Ne,ce>ze){if(v.match_start=ue,ze=ce,ce>=Me)break;bt=ot[O+ze-1],cu=ot[O+ze]}}while((ue=kt[ue&du])>je&&--fe!==0);return ze<=v.lookahead?ze:v.lookahead}function Lt(v){var ue=v.w_size,fe,O,Q,ce,ze;do{if(ce=v.window_size-v.lookahead-v.strstart,v.strstart>=ue+(ue-Ee)){l.arraySet(v.window,v.window,ue,ue,0),v.match_start-=ue,v.strstart-=ue,v.block_start-=ue,O=v.hash_size,fe=O;do Q=v.head[--fe],v.head[fe]=Q>=ue?Q-ue:0;while(--O);O=ue,fe=O;do Q=v.prev[--fe],v.prev[fe]=Q>=ue?Q-ue:0;while(--O);ce+=ue}if(v.strm.avail_in===0)break;if(O=rn(v.strm,v.window,v.strstart+v.lookahead,ce),v.lookahead+=O,v.lookahead+v.insert>=_e)for(ze=v.strstart-v.insert,v.ins_h=v.window[ze],v.ins_h=(v.ins_h<<v.hash_shift^v.window[ze+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[ze+_e-1])&v.hash_mask,v.prev[ze&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=ze,ze++,v.insert--,!(v.lookahead+v.insert<_e)););}while(v.lookahead<Ee&&v.strm.avail_in!==0)}function Cu(v,ue){var fe=65535;for(fe>v.pending_buf_size-5&&(fe=v.pending_buf_size-5);;){if(v.lookahead<=1){if(Lt(v),v.lookahead===0&&ue===E)return Et;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var O=v.block_start+fe;if((v.strstart===0||v.strstart>=O)&&(v.lookahead=v.strstart-O,v.strstart=O,pt(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-Ee&&(pt(v,!1),v.strm.avail_out===0))return Et}return v.insert=0,ue===S?(pt(v,!0),v.strm.avail_out===0?Zt:It):(v.strstart>v.block_start&&(pt(v,!1),v.strm.avail_out===0),Et)}function Jt(v,ue){for(var fe,O;;){if(v.lookahead<Ee){if(Lt(v),v.lookahead<Ee&&ue===E)return Et;if(v.lookahead===0)break}if(fe=0,v.lookahead>=_e&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+_e-1])&v.hash_mask,fe=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),fe!==0&&v.strstart-fe<=v.w_size-Ee&&(v.match_length=Su(v,fe)),v.match_length>=_e)if(O=c._tr_tally(v,v.strstart-v.match_start,v.match_length-_e),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=_e){v.match_length--;do v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+_e-1])&v.hash_mask,fe=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart;while(--v.match_length!==0);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else O=c._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(O&&(pt(v,!1),v.strm.avail_out===0))return Et}return v.insert=v.strstart<_e-1?v.strstart:_e-1,ue===S?(pt(v,!0),v.strm.avail_out===0?Zt:It):v.last_lit&&(pt(v,!1),v.strm.avail_out===0)?Et:At}function Ru(v,ue){for(var fe,O,Q;;){if(v.lookahead<Ee){if(Lt(v),v.lookahead<Ee&&ue===E)return Et;if(v.lookahead===0)break}if(fe=0,v.lookahead>=_e&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+_e-1])&v.hash_mask,fe=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=_e-1,fe!==0&&v.prev_length<v.max_lazy_match&&v.strstart-fe<=v.w_size-Ee&&(v.match_length=Su(v,fe),v.match_length<=5&&(v.strategy===D||v.match_length===_e&&v.strstart-v.match_start>4096)&&(v.match_length=_e-1)),v.prev_length>=_e&&v.match_length<=v.prev_length){Q=v.strstart+v.lookahead-_e,O=c._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-_e),v.lookahead-=v.prev_length-1,v.prev_length-=2;do++v.strstart<=Q&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+_e-1])&v.hash_mask,fe=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart);while(--v.prev_length!==0);if(v.match_available=0,v.match_length=_e-1,v.strstart++,O&&(pt(v,!1),v.strm.avail_out===0))return Et}else if(v.match_available){if(O=c._tr_tally(v,0,v.window[v.strstart-1]),O&&pt(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return Et}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(O=c._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<_e-1?v.strstart:_e-1,ue===S?(pt(v,!0),v.strm.avail_out===0?Zt:It):v.last_lit&&(pt(v,!1),v.strm.avail_out===0)?Et:At}function Ju(v,ue){for(var fe,O,Q,ce,ze=v.window;;){if(v.lookahead<=Ne){if(Lt(v),v.lookahead<=Ne&&ue===E)return Et;if(v.lookahead===0)break}if(v.match_length=0,v.lookahead>=_e&&v.strstart>0&&(Q=v.strstart-1,O=ze[Q],O===ze[++Q]&&O===ze[++Q]&&O===ze[++Q])){ce=v.strstart+Ne;do;while(O===ze[++Q]&&O===ze[++Q]&&O===ze[++Q]&&O===ze[++Q]&&O===ze[++Q]&&O===ze[++Q]&&O===ze[++Q]&&O===ze[++Q]&&Q<ce);v.match_length=Ne-(ce-Q),v.match_length>v.lookahead&&(v.match_length=v.lookahead)}if(v.match_length>=_e?(fe=c._tr_tally(v,1,v.match_length-_e),v.lookahead-=v.match_length,v.strstart+=v.match_length,v.match_length=0):(fe=c._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++),fe&&(pt(v,!1),v.strm.avail_out===0))return Et}return v.insert=0,ue===S?(pt(v,!0),v.strm.avail_out===0?Zt:It):v.last_lit&&(pt(v,!1),v.strm.avail_out===0)?Et:At}function Xu(v,ue){for(var fe;;){if(v.lookahead===0&&(Lt(v),v.lookahead===0)){if(ue===E)return Et;break}if(v.match_length=0,fe=c._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++,fe&&(pt(v,!1),v.strm.avail_out===0))return Et}return v.insert=0,ue===S?(pt(v,!0),v.strm.avail_out===0?Zt:It):v.last_lit&&(pt(v,!1),v.strm.avail_out===0)?Et:At}function iu(v,ue,fe,O,Q){this.good_length=v,this.max_lazy=ue,this.nice_length=fe,this.max_chain=O,this.func=Q}var Eu;Eu=[new iu(0,0,0,0,Cu),new iu(4,4,8,4,Jt),new iu(4,5,16,8,Jt),new iu(4,6,32,32,Jt),new iu(4,4,16,16,Ru),new iu(8,16,32,32,Ru),new iu(8,16,128,128,Ru),new iu(8,32,128,256,Ru),new iu(32,128,258,1024,Ru),new iu(32,258,258,4096,Ru)];function Uu(v){v.window_size=2*v.w_size,fu(v.head),v.max_lazy_match=Eu[v.level].max_lazy,v.good_match=Eu[v.level].good_length,v.nice_match=Eu[v.level].nice_length,v.max_chain_length=Eu[v.level].max_chain,v.strstart=0,v.block_start=0,v.lookahead=0,v.insert=0,v.match_length=v.prev_length=_e-1,v.match_available=0,v.ins_h=0}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(G*2),this.dyn_dtree=new l.Buf16((2*ge+1)*2),this.bl_tree=new l.Buf16((2*De+1)*2),fu(this.dyn_ltree),fu(this.dyn_dtree),fu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(ie+1),this.heap=new l.Buf16(2*le+1),fu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*le+1),fu(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(v){var ue;return!v||!v.state?lu(v,A):(v.total_in=v.total_out=0,v.data_type=Y,ue=v.state,ue.pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?Ge:ft,v.adler=ue.wrap===2?0:1,ue.last_flush=E,c._tr_init(ue),w)}function ke(v){var ue=xe(v);return ue===w&&Uu(v.state),ue}function Ze(v,ue){return!v||!v.state||v.state.wrap!==2?A:(v.state.gzhead=ue,w)}function K(v,ue,fe,O,Q,ce){if(!v)return A;var ze=1;if(ue===V&&(ue=6),O<0?(ze=0,O=-O):O>15&&(ze=2,O-=16),Q<1||Q>J||fe!==oe||O<8||O>15||ue<0||ue>9||ce<0||ce>q)return lu(v,A);O===8&&(O=9);var Me=new M;return v.state=Me,Me.strm=v,Me.wrap=ze,Me.gzhead=null,Me.w_bits=O,Me.w_size=1<<Me.w_bits,Me.w_mask=Me.w_size-1,Me.hash_bits=Q+7,Me.hash_size=1<<Me.hash_bits,Me.hash_mask=Me.hash_size-1,Me.hash_shift=~~((Me.hash_bits+_e-1)/_e),Me.window=new l.Buf8(Me.w_size*2),Me.head=new l.Buf16(Me.hash_size),Me.prev=new l.Buf16(Me.w_size),Me.lit_bufsize=1<<Q+6,Me.pending_buf_size=Me.lit_bufsize*4,Me.pending_buf=new l.Buf8(Me.pending_buf_size),Me.d_buf=1*Me.lit_bufsize,Me.l_buf=3*Me.lit_bufsize,Me.level=ue,Me.strategy=ce,Me.method=fe,ke(v)}function T(v,ue){return K(v,ue,oe,de,Re,H)}function b(v,ue){var fe,O,Q,ce;if(!v||!v.state||ue>B||ue<0)return v?lu(v,A):A;if(O=v.state,!v.output||!v.input&&v.avail_in!==0||O.status===_t&&ue!==S)return lu(v,v.avail_out===0?I:A);if(O.strm=v,fe=O.last_flush,O.last_flush=ue,O.status===Ge)if(O.wrap===2)v.adler=0,rt(O,31),rt(O,139),rt(O,8),O.gzhead?(rt(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),rt(O,O.gzhead.time&255),rt(O,O.gzhead.time>>8&255),rt(O,O.gzhead.time>>16&255),rt(O,O.gzhead.time>>24&255),rt(O,O.level===9?2:O.strategy>=U||O.level<2?4:0),rt(O,O.gzhead.os&255),O.gzhead.extra&&O.gzhead.extra.length&&(rt(O,O.gzhead.extra.length&255),rt(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(v.adler=h(v.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=ut):(rt(O,0),rt(O,0),rt(O,0),rt(O,0),rt(O,0),rt(O,O.level===9?2:O.strategy>=U||O.level<2?4:0),rt(O,ht),O.status=ft);else{var ze=oe+(O.w_bits-8<<4)<<8,Me=-1;O.strategy>=U||O.level<2?Me=0:O.level<6?Me=1:O.level===6?Me=2:Me=3,ze|=Me<<6,O.strstart!==0&&(ze|=Ve),ze+=31-ze%31,O.status=ft,xu(O,ze),O.strstart!==0&&(xu(O,v.adler>>>16),xu(O,v.adler&65535)),v.adler=1}if(O.status===ut)if(O.gzhead.extra){for(Q=O.pending;O.gzindex<(O.gzhead.extra.length&65535)&&!(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>Q&&(v.adler=h(v.adler,O.pending_buf,O.pending-Q,Q)),nt(v),Q=O.pending,O.pending===O.pending_buf_size));)rt(O,O.gzhead.extra[O.gzindex]&255),O.gzindex++;O.gzhead.hcrc&&O.pending>Q&&(v.adler=h(v.adler,O.pending_buf,O.pending-Q,Q)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=He)}else O.status=He;if(O.status===He)if(O.gzhead.name){Q=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>Q&&(v.adler=h(v.adler,O.pending_buf,O.pending-Q,Q)),nt(v),Q=O.pending,O.pending===O.pending_buf_size)){ce=1;break}O.gzindex<O.gzhead.name.length?ce=O.gzhead.name.charCodeAt(O.gzindex++)&255:ce=0,rt(O,ce)}while(ce!==0);O.gzhead.hcrc&&O.pending>Q&&(v.adler=h(v.adler,O.pending_buf,O.pending-Q,Q)),ce===0&&(O.gzindex=0,O.status=Tt)}else O.status=Tt;if(O.status===Tt)if(O.gzhead.comment){Q=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>Q&&(v.adler=h(v.adler,O.pending_buf,O.pending-Q,Q)),nt(v),Q=O.pending,O.pending===O.pending_buf_size)){ce=1;break}O.gzindex<O.gzhead.comment.length?ce=O.gzhead.comment.charCodeAt(O.gzindex++)&255:ce=0,rt(O,ce)}while(ce!==0);O.gzhead.hcrc&&O.pending>Q&&(v.adler=h(v.adler,O.pending_buf,O.pending-Q,Q)),ce===0&&(O.status=Ht)}else O.status=Ht;if(O.status===Ht&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&nt(v),O.pending+2<=O.pending_buf_size&&(rt(O,v.adler&255),rt(O,v.adler>>8&255),v.adler=0,O.status=ft)):O.status=ft),O.pending!==0){if(nt(v),v.avail_out===0)return O.last_flush=-1,w}else if(v.avail_in===0&&mu(ue)<=mu(fe)&&ue!==S)return lu(v,I);if(O.status===_t&&v.avail_in!==0)return lu(v,I);if(v.avail_in!==0||O.lookahead!==0||ue!==E&&O.status!==_t){var je=O.strategy===U?Xu(O,ue):O.strategy===z?Ju(O,ue):Eu[O.level].func(O,ue);if((je===Zt||je===It)&&(O.status=_t),je===Et||je===Zt)return v.avail_out===0&&(O.last_flush=-1),w;if(je===At&&(ue===_?c._tr_align(O):ue!==B&&(c._tr_stored_block(O,0,0,!1),ue===x&&(fu(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),nt(v),v.avail_out===0))return O.last_flush=-1,w}return ue!==S?w:O.wrap<=0?y:(O.wrap===2?(rt(O,v.adler&255),rt(O,v.adler>>8&255),rt(O,v.adler>>16&255),rt(O,v.adler>>24&255),rt(O,v.total_in&255),rt(O,v.total_in>>8&255),rt(O,v.total_in>>16&255),rt(O,v.total_in>>24&255)):(xu(O,v.adler>>>16),xu(O,v.adler&65535)),nt(v),O.wrap>0&&(O.wrap=-O.wrap),O.pending!==0?w:y)}function L(v){var ue;return!v||!v.state?A:(ue=v.state.status,ue!==Ge&&ue!==ut&&ue!==He&&ue!==Tt&&ue!==Ht&&ue!==ft&&ue!==_t?lu(v,A):(v.state=null,ue===ft?lu(v,N):w))}function ee(v,ue){var fe=ue.length,O,Q,ce,ze,Me,je,ot,du;if(!v||!v.state||(O=v.state,ze=O.wrap,ze===2||ze===1&&O.status!==Ge||O.lookahead))return A;for(ze===1&&(v.adler=f(v.adler,ue,fe,0)),O.wrap=0,fe>=O.w_size&&(ze===0&&(fu(O.head),O.strstart=0,O.block_start=0,O.insert=0),du=new l.Buf8(O.w_size),l.arraySet(du,ue,fe-O.w_size,O.w_size,0),ue=du,fe=O.w_size),Me=v.avail_in,je=v.next_in,ot=v.input,v.avail_in=fe,v.next_in=0,v.input=ue,Lt(O);O.lookahead>=_e;){Q=O.strstart,ce=O.lookahead-(_e-1);do O.ins_h=(O.ins_h<<O.hash_shift^O.window[Q+_e-1])&O.hash_mask,O.prev[Q&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=Q,Q++;while(--ce);O.strstart=Q,O.lookahead=_e-1,Lt(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=_e-1,O.match_available=0,v.next_in=je,v.input=ot,v.avail_in=Me,O.wrap=ze,w}a.deflateInit=T,a.deflateInit2=K,a.deflateReset=ke,a.deflateResetKeep=xe,a.deflateSetHeader=Ze,a.deflate=b,a.deflateEnd=L,a.deflateSetDictionary=ee,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,i,a){function l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=l},{}],48:[function(u,i,a){var l=30,c=12;i.exports=function(h,p){var E,_,x,S,B,w,y,A,N,I,V,D,U,z,q,H,Y,oe,J,de,Re,Se,te,le,ge;E=h.state,_=h.next_in,le=h.input,x=_+(h.avail_in-5),S=h.next_out,ge=h.output,B=S-(p-h.avail_out),w=S+(h.avail_out-257),y=E.dmax,A=E.wsize,N=E.whave,I=E.wnext,V=E.window,D=E.hold,U=E.bits,z=E.lencode,q=E.distcode,H=(1<<E.lenbits)-1,Y=(1<<E.distbits)-1;e:do{U<15&&(D+=le[_++]<<U,U+=8,D+=le[_++]<<U,U+=8),oe=z[D&H];t:for(;;){if(J=oe>>>24,D>>>=J,U-=J,J=oe>>>16&255,J===0)ge[S++]=oe&65535;else if(J&16){de=oe&65535,J&=15,J&&(U<J&&(D+=le[_++]<<U,U+=8),de+=D&(1<<J)-1,D>>>=J,U-=J),U<15&&(D+=le[_++]<<U,U+=8,D+=le[_++]<<U,U+=8),oe=q[D&Y];u:for(;;){if(J=oe>>>24,D>>>=J,U-=J,J=oe>>>16&255,J&16){if(Re=oe&65535,J&=15,U<J&&(D+=le[_++]<<U,U+=8,U<J&&(D+=le[_++]<<U,U+=8)),Re+=D&(1<<J)-1,Re>y){h.msg="invalid distance too far back",E.mode=l;break e}if(D>>>=J,U-=J,J=S-B,Re>J){if(J=Re-J,J>N&&E.sane){h.msg="invalid distance too far back",E.mode=l;break e}if(Se=0,te=V,I===0){if(Se+=A-J,J<de){de-=J;do ge[S++]=V[Se++];while(--J);Se=S-Re,te=ge}}else if(I<J){if(Se+=A+I-J,J-=I,J<de){de-=J;do ge[S++]=V[Se++];while(--J);if(Se=0,I<de){J=I,de-=J;do ge[S++]=V[Se++];while(--J);Se=S-Re,te=ge}}}else if(Se+=I-J,J<de){de-=J;do ge[S++]=V[Se++];while(--J);Se=S-Re,te=ge}for(;de>2;)ge[S++]=te[Se++],ge[S++]=te[Se++],ge[S++]=te[Se++],de-=3;de&&(ge[S++]=te[Se++],de>1&&(ge[S++]=te[Se++]))}else{Se=S-Re;do ge[S++]=ge[Se++],ge[S++]=ge[Se++],ge[S++]=ge[Se++],de-=3;while(de>2);de&&(ge[S++]=ge[Se++],de>1&&(ge[S++]=ge[Se++]))}}else if((J&64)===0){oe=q[(oe&65535)+(D&(1<<J)-1)];continue u}else{h.msg="invalid distance code",E.mode=l;break e}break}}else if((J&64)===0){oe=z[(oe&65535)+(D&(1<<J)-1)];continue t}else if(J&32){E.mode=c;break e}else{h.msg="invalid literal/length code",E.mode=l;break e}break}}while(_<x&&S<w);de=U>>3,_-=de,U-=de<<3,D&=(1<<U)-1,h.next_in=_,h.next_out=S,h.avail_in=_<x?5+(x-_):5-(_-x),h.avail_out=S<w?257+(w-S):257-(S-w),E.hold=D,E.bits=U}},{}],49:[function(u,i,a){var l=u("../utils/common"),c=u("./adler32"),f=u("./crc32"),h=u("./inffast"),p=u("./inftrees"),E=0,_=1,x=2,S=4,B=5,w=6,y=0,A=1,N=2,I=-2,V=-3,D=-4,U=-5,z=8,q=1,H=2,Y=3,oe=4,J=5,de=6,Re=7,Se=8,te=9,le=10,ge=11,De=12,G=13,ie=14,_e=15,Ne=16,Ee=17,Ve=18,Ge=19,ut=20,He=21,Tt=22,Ht=23,ft=24,_t=25,Et=26,At=27,Zt=28,It=29,ht=30,lu=31,mu=32,fu=852,nt=592,pt=15,rt=pt;function xu(K){return(K>>>24&255)+(K>>>8&65280)+((K&65280)<<8)+((K&255)<<24)}function rn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Su(K){var T;return!K||!K.state?I:(T=K.state,K.total_in=K.total_out=T.total=0,K.msg="",T.wrap&&(K.adler=T.wrap&1),T.mode=q,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new l.Buf32(fu),T.distcode=T.distdyn=new l.Buf32(nt),T.sane=1,T.back=-1,y)}function Lt(K){var T;return!K||!K.state?I:(T=K.state,T.wsize=0,T.whave=0,T.wnext=0,Su(K))}function Cu(K,T){var b,L;return!K||!K.state||(L=K.state,T<0?(b=0,T=-T):(b=(T>>4)+1,T<48&&(T&=15)),T&&(T<8||T>15))?I:(L.window!==null&&L.wbits!==T&&(L.window=null),L.wrap=b,L.wbits=T,Lt(K))}function Jt(K,T){var b,L;return K?(L=new rn,K.state=L,L.window=null,b=Cu(K,T),b!==y&&(K.state=null),b):I}function Ru(K){return Jt(K,rt)}var Ju=!0,Xu,iu;function Eu(K){if(Ju){var T;for(Xu=new l.Buf32(512),iu=new l.Buf32(32),T=0;T<144;)K.lens[T++]=8;for(;T<256;)K.lens[T++]=9;for(;T<280;)K.lens[T++]=7;for(;T<288;)K.lens[T++]=8;for(p(_,K.lens,0,288,Xu,0,K.work,{bits:9}),T=0;T<32;)K.lens[T++]=5;p(x,K.lens,0,32,iu,0,K.work,{bits:5}),Ju=!1}K.lencode=Xu,K.lenbits=9,K.distcode=iu,K.distbits=5}function Uu(K,T,b,L){var ee,v=K.state;return v.window===null&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new l.Buf8(v.wsize)),L>=v.wsize?(l.arraySet(v.window,T,b-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):(ee=v.wsize-v.wnext,ee>L&&(ee=L),l.arraySet(v.window,T,b-L,ee,v.wnext),L-=ee,L?(l.arraySet(v.window,T,b-L,L,0),v.wnext=L,v.whave=v.wsize):(v.wnext+=ee,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=ee))),0}function M(K,T){var b,L,ee,v,ue,fe,O,Q,ce,ze,Me,je,ot,du,kt=0,gt,bt,cu,Xt,en,Nn,Wt,Mt,_u=new l.Buf8(4),ln,Iu,Fn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!K||!K.state||!K.output||!K.input&&K.avail_in!==0)return I;b=K.state,b.mode===De&&(b.mode=G),ue=K.next_out,ee=K.output,O=K.avail_out,v=K.next_in,L=K.input,fe=K.avail_in,Q=b.hold,ce=b.bits,ze=fe,Me=O,Mt=y;e:for(;;)switch(b.mode){case q:if(b.wrap===0){b.mode=G;break}for(;ce<16;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(b.wrap&2&&Q===35615){b.check=0,_u[0]=Q&255,_u[1]=Q>>>8&255,b.check=f(b.check,_u,2,0),Q=0,ce=0,b.mode=H;break}if(b.flags=0,b.head&&(b.head.done=!1),!(b.wrap&1)||(((Q&255)<<8)+(Q>>8))%31){K.msg="incorrect header check",b.mode=ht;break}if((Q&15)!==z){K.msg="unknown compression method",b.mode=ht;break}if(Q>>>=4,ce-=4,Wt=(Q&15)+8,b.wbits===0)b.wbits=Wt;else if(Wt>b.wbits){K.msg="invalid window size",b.mode=ht;break}b.dmax=1<<Wt,K.adler=b.check=1,b.mode=Q&512?le:De,Q=0,ce=0;break;case H:for(;ce<16;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(b.flags=Q,(b.flags&255)!==z){K.msg="unknown compression method",b.mode=ht;break}if(b.flags&57344){K.msg="unknown header flags set",b.mode=ht;break}b.head&&(b.head.text=Q>>8&1),b.flags&512&&(_u[0]=Q&255,_u[1]=Q>>>8&255,b.check=f(b.check,_u,2,0)),Q=0,ce=0,b.mode=Y;case Y:for(;ce<32;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}b.head&&(b.head.time=Q),b.flags&512&&(_u[0]=Q&255,_u[1]=Q>>>8&255,_u[2]=Q>>>16&255,_u[3]=Q>>>24&255,b.check=f(b.check,_u,4,0)),Q=0,ce=0,b.mode=oe;case oe:for(;ce<16;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}b.head&&(b.head.xflags=Q&255,b.head.os=Q>>8),b.flags&512&&(_u[0]=Q&255,_u[1]=Q>>>8&255,b.check=f(b.check,_u,2,0)),Q=0,ce=0,b.mode=J;case J:if(b.flags&1024){for(;ce<16;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}b.length=Q,b.head&&(b.head.extra_len=Q),b.flags&512&&(_u[0]=Q&255,_u[1]=Q>>>8&255,b.check=f(b.check,_u,2,0)),Q=0,ce=0}else b.head&&(b.head.extra=null);b.mode=de;case de:if(b.flags&1024&&(je=b.length,je>fe&&(je=fe),je&&(b.head&&(Wt=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),l.arraySet(b.head.extra,L,v,je,Wt)),b.flags&512&&(b.check=f(b.check,L,je,v)),fe-=je,v+=je,b.length-=je),b.length))break e;b.length=0,b.mode=Re;case Re:if(b.flags&2048){if(fe===0)break e;je=0;do Wt=L[v+je++],b.head&&Wt&&b.length<65536&&(b.head.name+=String.fromCharCode(Wt));while(Wt&&je<fe);if(b.flags&512&&(b.check=f(b.check,L,je,v)),fe-=je,v+=je,Wt)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=Se;case Se:if(b.flags&4096){if(fe===0)break e;je=0;do Wt=L[v+je++],b.head&&Wt&&b.length<65536&&(b.head.comment+=String.fromCharCode(Wt));while(Wt&&je<fe);if(b.flags&512&&(b.check=f(b.check,L,je,v)),fe-=je,v+=je,Wt)break e}else b.head&&(b.head.comment=null);b.mode=te;case te:if(b.flags&512){for(;ce<16;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(Q!==(b.check&65535)){K.msg="header crc mismatch",b.mode=ht;break}Q=0,ce=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),K.adler=b.check=0,b.mode=De;break;case le:for(;ce<32;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}K.adler=b.check=xu(Q),Q=0,ce=0,b.mode=ge;case ge:if(b.havedict===0)return K.next_out=ue,K.avail_out=O,K.next_in=v,K.avail_in=fe,b.hold=Q,b.bits=ce,N;K.adler=b.check=1,b.mode=De;case De:if(T===B||T===w)break e;case G:if(b.last){Q>>>=ce&7,ce-=ce&7,b.mode=At;break}for(;ce<3;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}switch(b.last=Q&1,Q>>>=1,ce-=1,Q&3){case 0:b.mode=ie;break;case 1:if(Eu(b),b.mode=ut,T===w){Q>>>=2,ce-=2;break e}break;case 2:b.mode=Ee;break;case 3:K.msg="invalid block type",b.mode=ht}Q>>>=2,ce-=2;break;case ie:for(Q>>>=ce&7,ce-=ce&7;ce<32;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if((Q&65535)!==(Q>>>16^65535)){K.msg="invalid stored block lengths",b.mode=ht;break}if(b.length=Q&65535,Q=0,ce=0,b.mode=_e,T===w)break e;case _e:b.mode=Ne;case Ne:if(je=b.length,je){if(je>fe&&(je=fe),je>O&&(je=O),je===0)break e;l.arraySet(ee,L,v,je,ue),fe-=je,v+=je,O-=je,ue+=je,b.length-=je;break}b.mode=De;break;case Ee:for(;ce<14;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(b.nlen=(Q&31)+257,Q>>>=5,ce-=5,b.ndist=(Q&31)+1,Q>>>=5,ce-=5,b.ncode=(Q&15)+4,Q>>>=4,ce-=4,b.nlen>286||b.ndist>30){K.msg="too many length or distance symbols",b.mode=ht;break}b.have=0,b.mode=Ve;case Ve:for(;b.have<b.ncode;){for(;ce<3;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}b.lens[Fn[b.have++]]=Q&7,Q>>>=3,ce-=3}for(;b.have<19;)b.lens[Fn[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,ln={bits:b.lenbits},Mt=p(E,b.lens,0,19,b.lencode,0,b.work,ln),b.lenbits=ln.bits,Mt){K.msg="invalid code lengths set",b.mode=ht;break}b.have=0,b.mode=Ge;case Ge:for(;b.have<b.nlen+b.ndist;){for(;kt=b.lencode[Q&(1<<b.lenbits)-1],gt=kt>>>24,bt=kt>>>16&255,cu=kt&65535,!(gt<=ce);){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(cu<16)Q>>>=gt,ce-=gt,b.lens[b.have++]=cu;else{if(cu===16){for(Iu=gt+2;ce<Iu;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(Q>>>=gt,ce-=gt,b.have===0){K.msg="invalid bit length repeat",b.mode=ht;break}Wt=b.lens[b.have-1],je=3+(Q&3),Q>>>=2,ce-=2}else if(cu===17){for(Iu=gt+3;ce<Iu;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}Q>>>=gt,ce-=gt,Wt=0,je=3+(Q&7),Q>>>=3,ce-=3}else{for(Iu=gt+7;ce<Iu;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}Q>>>=gt,ce-=gt,Wt=0,je=11+(Q&127),Q>>>=7,ce-=7}if(b.have+je>b.nlen+b.ndist){K.msg="invalid bit length repeat",b.mode=ht;break}for(;je--;)b.lens[b.have++]=Wt}}if(b.mode===ht)break;if(b.lens[256]===0){K.msg="invalid code -- missing end-of-block",b.mode=ht;break}if(b.lenbits=9,ln={bits:b.lenbits},Mt=p(_,b.lens,0,b.nlen,b.lencode,0,b.work,ln),b.lenbits=ln.bits,Mt){K.msg="invalid literal/lengths set",b.mode=ht;break}if(b.distbits=6,b.distcode=b.distdyn,ln={bits:b.distbits},Mt=p(x,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,ln),b.distbits=ln.bits,Mt){K.msg="invalid distances set",b.mode=ht;break}if(b.mode=ut,T===w)break e;case ut:b.mode=He;case He:if(fe>=6&&O>=258){K.next_out=ue,K.avail_out=O,K.next_in=v,K.avail_in=fe,b.hold=Q,b.bits=ce,h(K,Me),ue=K.next_out,ee=K.output,O=K.avail_out,v=K.next_in,L=K.input,fe=K.avail_in,Q=b.hold,ce=b.bits,b.mode===De&&(b.back=-1);break}for(b.back=0;kt=b.lencode[Q&(1<<b.lenbits)-1],gt=kt>>>24,bt=kt>>>16&255,cu=kt&65535,!(gt<=ce);){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(bt&&(bt&240)===0){for(Xt=gt,en=bt,Nn=cu;kt=b.lencode[Nn+((Q&(1<<Xt+en)-1)>>Xt)],gt=kt>>>24,bt=kt>>>16&255,cu=kt&65535,!(Xt+gt<=ce);){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}Q>>>=Xt,ce-=Xt,b.back+=Xt}if(Q>>>=gt,ce-=gt,b.back+=gt,b.length=cu,bt===0){b.mode=Et;break}if(bt&32){b.back=-1,b.mode=De;break}if(bt&64){K.msg="invalid literal/length code",b.mode=ht;break}b.extra=bt&15,b.mode=Tt;case Tt:if(b.extra){for(Iu=b.extra;ce<Iu;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}b.length+=Q&(1<<b.extra)-1,Q>>>=b.extra,ce-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=Ht;case Ht:for(;kt=b.distcode[Q&(1<<b.distbits)-1],gt=kt>>>24,bt=kt>>>16&255,cu=kt&65535,!(gt<=ce);){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if((bt&240)===0){for(Xt=gt,en=bt,Nn=cu;kt=b.distcode[Nn+((Q&(1<<Xt+en)-1)>>Xt)],gt=kt>>>24,bt=kt>>>16&255,cu=kt&65535,!(Xt+gt<=ce);){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}Q>>>=Xt,ce-=Xt,b.back+=Xt}if(Q>>>=gt,ce-=gt,b.back+=gt,bt&64){K.msg="invalid distance code",b.mode=ht;break}b.offset=cu,b.extra=bt&15,b.mode=ft;case ft:if(b.extra){for(Iu=b.extra;ce<Iu;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}b.offset+=Q&(1<<b.extra)-1,Q>>>=b.extra,ce-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){K.msg="invalid distance too far back",b.mode=ht;break}b.mode=_t;case _t:if(O===0)break e;if(je=Me-O,b.offset>je){if(je=b.offset-je,je>b.whave&&b.sane){K.msg="invalid distance too far back",b.mode=ht;break}je>b.wnext?(je-=b.wnext,ot=b.wsize-je):ot=b.wnext-je,je>b.length&&(je=b.length),du=b.window}else du=ee,ot=ue-b.offset,je=b.length;je>O&&(je=O),O-=je,b.length-=je;do ee[ue++]=du[ot++];while(--je);b.length===0&&(b.mode=He);break;case Et:if(O===0)break e;ee[ue++]=b.length,O--,b.mode=He;break;case At:if(b.wrap){for(;ce<32;){if(fe===0)break e;fe--,Q|=L[v++]<<ce,ce+=8}if(Me-=O,K.total_out+=Me,b.total+=Me,Me&&(K.adler=b.check=b.flags?f(b.check,ee,Me,ue-Me):c(b.check,ee,Me,ue-Me)),Me=O,(b.flags?Q:xu(Q))!==b.check){K.msg="incorrect data check",b.mode=ht;break}Q=0,ce=0}b.mode=Zt;case Zt:if(b.wrap&&b.flags){for(;ce<32;){if(fe===0)break e;fe--,Q+=L[v++]<<ce,ce+=8}if(Q!==(b.total&4294967295)){K.msg="incorrect length check",b.mode=ht;break}Q=0,ce=0}b.mode=It;case It:Mt=A;break e;case ht:Mt=V;break e;case lu:return D;case mu:default:return I}return K.next_out=ue,K.avail_out=O,K.next_in=v,K.avail_in=fe,b.hold=Q,b.bits=ce,(b.wsize||Me!==K.avail_out&&b.mode<ht&&(b.mode<At||T!==S))&&Uu(K,K.output,K.next_out,Me-K.avail_out),ze-=K.avail_in,Me-=K.avail_out,K.total_in+=ze,K.total_out+=Me,b.total+=Me,b.wrap&&Me&&(K.adler=b.check=b.flags?f(b.check,ee,Me,K.next_out-Me):c(b.check,ee,Me,K.next_out-Me)),K.data_type=b.bits+(b.last?64:0)+(b.mode===De?128:0)+(b.mode===ut||b.mode===_e?256:0),(ze===0&&Me===0||T===S)&&Mt===y&&(Mt=U),Mt}function xe(K){if(!K||!K.state)return I;var T=K.state;return T.window&&(T.window=null),K.state=null,y}function ke(K,T){var b;return!K||!K.state||(b=K.state,(b.wrap&2)===0)?I:(b.head=T,T.done=!1,y)}function Ze(K,T){var b=T.length,L,ee,v;return!K||!K.state||(L=K.state,L.wrap!==0&&L.mode!==ge)?I:L.mode===ge&&(ee=1,ee=c(ee,T,b,0),ee!==L.check)?V:(v=Uu(K,T,b,b),v?(L.mode=lu,D):(L.havedict=1,y))}a.inflateReset=Lt,a.inflateReset2=Cu,a.inflateResetKeep=Su,a.inflateInit=Ru,a.inflateInit2=Jt,a.inflate=M,a.inflateEnd=xe,a.inflateGetHeader=ke,a.inflateSetDictionary=Ze,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,i,a){var l=u("../utils/common"),c=15,f=852,h=592,p=0,E=1,_=2,x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],S=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],B=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(A,N,I,V,D,U,z,q){var H=q.bits,Y=0,oe=0,J=0,de=0,Re=0,Se=0,te=0,le=0,ge=0,De=0,G,ie,_e,Ne,Ee,Ve=null,Ge=0,ut,He=new l.Buf16(c+1),Tt=new l.Buf16(c+1),Ht=null,ft=0,_t,Et,At;for(Y=0;Y<=c;Y++)He[Y]=0;for(oe=0;oe<V;oe++)He[N[I+oe]]++;for(Re=H,de=c;de>=1&&He[de]===0;de--);if(Re>de&&(Re=de),de===0)return D[U++]=1<<24|64<<16|0,D[U++]=1<<24|64<<16|0,q.bits=1,0;for(J=1;J<de&&He[J]===0;J++);for(Re<J&&(Re=J),le=1,Y=1;Y<=c;Y++)if(le<<=1,le-=He[Y],le<0)return-1;if(le>0&&(A===p||de!==1))return-1;for(Tt[1]=0,Y=1;Y<c;Y++)Tt[Y+1]=Tt[Y]+He[Y];for(oe=0;oe<V;oe++)N[I+oe]!==0&&(z[Tt[N[I+oe]]++]=oe);if(A===p?(Ve=Ht=z,ut=19):A===E?(Ve=x,Ge-=257,Ht=S,ft-=257,ut=256):(Ve=B,Ht=w,ut=-1),De=0,oe=0,Y=J,Ee=U,Se=Re,te=0,_e=-1,ge=1<<Re,Ne=ge-1,A===E&&ge>f||A===_&&ge>h)return 1;for(;;){_t=Y-te,z[oe]<ut?(Et=0,At=z[oe]):z[oe]>ut?(Et=Ht[ft+z[oe]],At=Ve[Ge+z[oe]]):(Et=96,At=0),G=1<<Y-te,ie=1<<Se,J=ie;do ie-=G,D[Ee+(De>>te)+ie]=_t<<24|Et<<16|At|0;while(ie!==0);for(G=1<<Y-1;De&G;)G>>=1;if(G!==0?(De&=G-1,De+=G):De=0,oe++,--He[Y]===0){if(Y===de)break;Y=N[I+z[oe]]}if(Y>Re&&(De&Ne)!==_e){for(te===0&&(te=Re),Ee+=J,Se=Y-te,le=1<<Se;Se+te<de&&(le-=He[Se+te],!(le<=0));)Se++,le<<=1;if(ge+=1<<Se,A===E&&ge>f||A===_&&ge>h)return 1;_e=De&Ne,D[_e]=Re<<24|Se<<16|Ee-U|0}}return De!==0&&(D[Ee+De]=Y-te<<24|64<<16|0),q.bits=Re,0}},{"../utils/common":41}],51:[function(u,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,i,a){var l=u("../utils/common"),c=4,f=0,h=1,p=2;function E(M){for(var xe=M.length;--xe>=0;)M[xe]=0}var _=0,x=1,S=2,B=3,w=258,y=29,A=256,N=A+1+y,I=30,V=19,D=2*N+1,U=15,z=16,q=7,H=256,Y=16,oe=17,J=18,de=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Re=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=512,ge=new Array((N+2)*2);E(ge);var De=new Array(I*2);E(De);var G=new Array(le);E(G);var ie=new Array(w-B+1);E(ie);var _e=new Array(y);E(_e);var Ne=new Array(I);E(Ne);function Ee(M,xe,ke,Ze,K){this.static_tree=M,this.extra_bits=xe,this.extra_base=ke,this.elems=Ze,this.max_length=K,this.has_stree=M&&M.length}var Ve,Ge,ut;function He(M,xe){this.dyn_tree=M,this.max_code=0,this.stat_desc=xe}function Tt(M){return M<256?G[M]:G[256+(M>>>7)]}function Ht(M,xe){M.pending_buf[M.pending++]=xe&255,M.pending_buf[M.pending++]=xe>>>8&255}function ft(M,xe,ke){M.bi_valid>z-ke?(M.bi_buf|=xe<<M.bi_valid&65535,Ht(M,M.bi_buf),M.bi_buf=xe>>z-M.bi_valid,M.bi_valid+=ke-z):(M.bi_buf|=xe<<M.bi_valid&65535,M.bi_valid+=ke)}function _t(M,xe,ke){ft(M,ke[xe*2],ke[xe*2+1])}function Et(M,xe){var ke=0;do ke|=M&1,M>>>=1,ke<<=1;while(--xe>0);return ke>>>1}function At(M){M.bi_valid===16?(Ht(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):M.bi_valid>=8&&(M.pending_buf[M.pending++]=M.bi_buf&255,M.bi_buf>>=8,M.bi_valid-=8)}function Zt(M,xe){var ke=xe.dyn_tree,Ze=xe.max_code,K=xe.stat_desc.static_tree,T=xe.stat_desc.has_stree,b=xe.stat_desc.extra_bits,L=xe.stat_desc.extra_base,ee=xe.stat_desc.max_length,v,ue,fe,O,Q,ce,ze=0;for(O=0;O<=U;O++)M.bl_count[O]=0;for(ke[M.heap[M.heap_max]*2+1]=0,v=M.heap_max+1;v<D;v++)ue=M.heap[v],O=ke[ke[ue*2+1]*2+1]+1,O>ee&&(O=ee,ze++),ke[ue*2+1]=O,!(ue>Ze)&&(M.bl_count[O]++,Q=0,ue>=L&&(Q=b[ue-L]),ce=ke[ue*2],M.opt_len+=ce*(O+Q),T&&(M.static_len+=ce*(K[ue*2+1]+Q)));if(ze!==0){do{for(O=ee-1;M.bl_count[O]===0;)O--;M.bl_count[O]--,M.bl_count[O+1]+=2,M.bl_count[ee]--,ze-=2}while(ze>0);for(O=ee;O!==0;O--)for(ue=M.bl_count[O];ue!==0;)fe=M.heap[--v],!(fe>Ze)&&(ke[fe*2+1]!==O&&(M.opt_len+=(O-ke[fe*2+1])*ke[fe*2],ke[fe*2+1]=O),ue--)}}function It(M,xe,ke){var Ze=new Array(U+1),K=0,T,b;for(T=1;T<=U;T++)Ze[T]=K=K+ke[T-1]<<1;for(b=0;b<=xe;b++){var L=M[b*2+1];L!==0&&(M[b*2]=Et(Ze[L]++,L))}}function ht(){var M,xe,ke,Ze,K,T=new Array(U+1);for(ke=0,Ze=0;Ze<y-1;Ze++)for(_e[Ze]=ke,M=0;M<1<<de[Ze];M++)ie[ke++]=Ze;for(ie[ke-1]=Ze,K=0,Ze=0;Ze<16;Ze++)for(Ne[Ze]=K,M=0;M<1<<Re[Ze];M++)G[K++]=Ze;for(K>>=7;Ze<I;Ze++)for(Ne[Ze]=K<<7,M=0;M<1<<Re[Ze]-7;M++)G[256+K++]=Ze;for(xe=0;xe<=U;xe++)T[xe]=0;for(M=0;M<=143;)ge[M*2+1]=8,M++,T[8]++;for(;M<=255;)ge[M*2+1]=9,M++,T[9]++;for(;M<=279;)ge[M*2+1]=7,M++,T[7]++;for(;M<=287;)ge[M*2+1]=8,M++,T[8]++;for(It(ge,N+1,T),M=0;M<I;M++)De[M*2+1]=5,De[M*2]=Et(M,5);Ve=new Ee(ge,de,A+1,N,U),Ge=new Ee(De,Re,0,I,U),ut=new Ee(new Array(0),Se,0,V,q)}function lu(M){var xe;for(xe=0;xe<N;xe++)M.dyn_ltree[xe*2]=0;for(xe=0;xe<I;xe++)M.dyn_dtree[xe*2]=0;for(xe=0;xe<V;xe++)M.bl_tree[xe*2]=0;M.dyn_ltree[H*2]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function mu(M){M.bi_valid>8?Ht(M,M.bi_buf):M.bi_valid>0&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function fu(M,xe,ke,Ze){mu(M),Ht(M,ke),Ht(M,~ke),l.arraySet(M.pending_buf,M.window,xe,ke,M.pending),M.pending+=ke}function nt(M,xe,ke,Ze){var K=xe*2,T=ke*2;return M[K]<M[T]||M[K]===M[T]&&Ze[xe]<=Ze[ke]}function pt(M,xe,ke){for(var Ze=M.heap[ke],K=ke<<1;K<=M.heap_len&&(K<M.heap_len&&nt(xe,M.heap[K+1],M.heap[K],M.depth)&&K++,!nt(xe,Ze,M.heap[K],M.depth));)M.heap[ke]=M.heap[K],ke=K,K<<=1;M.heap[ke]=Ze}function rt(M,xe,ke){var Ze,K,T=0,b,L;if(M.last_lit!==0)do Ze=M.pending_buf[M.d_buf+T*2]<<8|M.pending_buf[M.d_buf+T*2+1],K=M.pending_buf[M.l_buf+T],T++,Ze===0?_t(M,K,xe):(b=ie[K],_t(M,b+A+1,xe),L=de[b],L!==0&&(K-=_e[b],ft(M,K,L)),Ze--,b=Tt(Ze),_t(M,b,ke),L=Re[b],L!==0&&(Ze-=Ne[b],ft(M,Ze,L)));while(T<M.last_lit);_t(M,H,xe)}function xu(M,xe){var ke=xe.dyn_tree,Ze=xe.stat_desc.static_tree,K=xe.stat_desc.has_stree,T=xe.stat_desc.elems,b,L,ee=-1,v;for(M.heap_len=0,M.heap_max=D,b=0;b<T;b++)ke[b*2]!==0?(M.heap[++M.heap_len]=ee=b,M.depth[b]=0):ke[b*2+1]=0;for(;M.heap_len<2;)v=M.heap[++M.heap_len]=ee<2?++ee:0,ke[v*2]=1,M.depth[v]=0,M.opt_len--,K&&(M.static_len-=Ze[v*2+1]);for(xe.max_code=ee,b=M.heap_len>>1;b>=1;b--)pt(M,ke,b);v=T;do b=M.heap[1],M.heap[1]=M.heap[M.heap_len--],pt(M,ke,1),L=M.heap[1],M.heap[--M.heap_max]=b,M.heap[--M.heap_max]=L,ke[v*2]=ke[b*2]+ke[L*2],M.depth[v]=(M.depth[b]>=M.depth[L]?M.depth[b]:M.depth[L])+1,ke[b*2+1]=ke[L*2+1]=v,M.heap[1]=v++,pt(M,ke,1);while(M.heap_len>=2);M.heap[--M.heap_max]=M.heap[1],Zt(M,xe),It(ke,ee,M.bl_count)}function rn(M,xe,ke){var Ze,K=-1,T,b=xe[0*2+1],L=0,ee=7,v=4;for(b===0&&(ee=138,v=3),xe[(ke+1)*2+1]=65535,Ze=0;Ze<=ke;Ze++)T=b,b=xe[(Ze+1)*2+1],!(++L<ee&&T===b)&&(L<v?M.bl_tree[T*2]+=L:T!==0?(T!==K&&M.bl_tree[T*2]++,M.bl_tree[Y*2]++):L<=10?M.bl_tree[oe*2]++:M.bl_tree[J*2]++,L=0,K=T,b===0?(ee=138,v=3):T===b?(ee=6,v=3):(ee=7,v=4))}function Su(M,xe,ke){var Ze,K=-1,T,b=xe[0*2+1],L=0,ee=7,v=4;for(b===0&&(ee=138,v=3),Ze=0;Ze<=ke;Ze++)if(T=b,b=xe[(Ze+1)*2+1],!(++L<ee&&T===b)){if(L<v)do _t(M,T,M.bl_tree);while(--L!==0);else T!==0?(T!==K&&(_t(M,T,M.bl_tree),L--),_t(M,Y,M.bl_tree),ft(M,L-3,2)):L<=10?(_t(M,oe,M.bl_tree),ft(M,L-3,3)):(_t(M,J,M.bl_tree),ft(M,L-11,7));L=0,K=T,b===0?(ee=138,v=3):T===b?(ee=6,v=3):(ee=7,v=4)}}function Lt(M){var xe;for(rn(M,M.dyn_ltree,M.l_desc.max_code),rn(M,M.dyn_dtree,M.d_desc.max_code),xu(M,M.bl_desc),xe=V-1;xe>=3&&M.bl_tree[te[xe]*2+1]===0;xe--);return M.opt_len+=3*(xe+1)+5+5+4,xe}function Cu(M,xe,ke,Ze){var K;for(ft(M,xe-257,5),ft(M,ke-1,5),ft(M,Ze-4,4),K=0;K<Ze;K++)ft(M,M.bl_tree[te[K]*2+1],3);Su(M,M.dyn_ltree,xe-1),Su(M,M.dyn_dtree,ke-1)}function Jt(M){var xe=4093624447,ke;for(ke=0;ke<=31;ke++,xe>>>=1)if(xe&1&&M.dyn_ltree[ke*2]!==0)return f;if(M.dyn_ltree[9*2]!==0||M.dyn_ltree[10*2]!==0||M.dyn_ltree[13*2]!==0)return h;for(ke=32;ke<A;ke++)if(M.dyn_ltree[ke*2]!==0)return h;return f}var Ru=!1;function Ju(M){Ru||(ht(),Ru=!0),M.l_desc=new He(M.dyn_ltree,Ve),M.d_desc=new He(M.dyn_dtree,Ge),M.bl_desc=new He(M.bl_tree,ut),M.bi_buf=0,M.bi_valid=0,lu(M)}function Xu(M,xe,ke,Ze){ft(M,(_<<1)+(Ze?1:0),3),fu(M,xe,ke)}function iu(M){ft(M,x<<1,3),_t(M,H,ge),At(M)}function Eu(M,xe,ke,Ze){var K,T,b=0;M.level>0?(M.strm.data_type===p&&(M.strm.data_type=Jt(M)),xu(M,M.l_desc),xu(M,M.d_desc),b=Lt(M),K=M.opt_len+3+7>>>3,T=M.static_len+3+7>>>3,T<=K&&(K=T)):K=T=ke+5,ke+4<=K&&xe!==-1?Xu(M,xe,ke,Ze):M.strategy===c||T===K?(ft(M,(x<<1)+(Ze?1:0),3),rt(M,ge,De)):(ft(M,(S<<1)+(Ze?1:0),3),Cu(M,M.l_desc.max_code+1,M.d_desc.max_code+1,b+1),rt(M,M.dyn_ltree,M.dyn_dtree)),lu(M),Ze&&mu(M)}function Uu(M,xe,ke){return M.pending_buf[M.d_buf+M.last_lit*2]=xe>>>8&255,M.pending_buf[M.d_buf+M.last_lit*2+1]=xe&255,M.pending_buf[M.l_buf+M.last_lit]=ke&255,M.last_lit++,xe===0?M.dyn_ltree[ke*2]++:(M.matches++,xe--,M.dyn_ltree[(ie[ke]+A+1)*2]++,M.dyn_dtree[Tt(xe)*2]++),M.last_lit===M.lit_bufsize-1}a._tr_init=Ju,a._tr_stored_block=Xu,a._tr_flush_block=Eu,a._tr_tally=Uu,a._tr_align=iu},{"../utils/common":41}],53:[function(u,i,a){function l(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=l},{}],54:[function(u,i,a){(function(l){(function(c,f){if(c.setImmediate)return;var h=1,p={},E=!1,_=c.document,x;function S(q){typeof q!="function"&&(q=new Function(""+q));for(var H=new Array(arguments.length-1),Y=0;Y<H.length;Y++)H[Y]=arguments[Y+1];var oe={callback:q,args:H};return p[h]=oe,x(h),h++}function B(q){delete p[q]}function w(q){var H=q.callback,Y=q.args;switch(Y.length){case 0:H();break;case 1:H(Y[0]);break;case 2:H(Y[0],Y[1]);break;case 3:H(Y[0],Y[1],Y[2]);break;default:H.apply(f,Y);break}}function y(q){if(E)setTimeout(y,0,q);else{var H=p[q];if(H){E=!0;try{w(H)}finally{B(q),E=!1}}}}function A(){x=function(q){process.nextTick(function(){y(q)})}}function N(){if(c.postMessage&&!c.importScripts){var q=!0,H=c.onmessage;return c.onmessage=function(){q=!1},c.postMessage("","*"),c.onmessage=H,q}}function I(){var q="setImmediate$"+Math.random()+"$",H=function(Y){Y.source===c&&typeof Y.data=="string"&&Y.data.indexOf(q)===0&&y(+Y.data.slice(q.length))};c.addEventListener?c.addEventListener("message",H,!1):c.attachEvent("onmessage",H),x=function(Y){c.postMessage(q+Y,"*")}}function V(){var q=new MessageChannel;q.port1.onmessage=function(H){var Y=H.data;y(Y)},x=function(H){q.port2.postMessage(H)}}function D(){var q=_.documentElement;x=function(H){var Y=_.createElement("script");Y.onreadystatechange=function(){y(H),Y.onreadystatechange=null,q.removeChild(Y),Y=null},q.appendChild(Y)}}function U(){x=function(q){setTimeout(y,0,q)}}var z=Object.getPrototypeOf&&Object.getPrototypeOf(c);z=z&&z.setTimeout?z:c,{}.toString.call(c.process)==="[object process]"?A():N()?I():c.MessageChannel?V():_&&"onreadystatechange"in _.createElement("script")?D():U(),z.setImmediate=S,z.clearImmediate=B})(typeof self>"u"?typeof l>"u"?this:l:self)}).call(this,typeof Un<"u"?Un:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(k0)),k0.exports}var $5=K5();const J5=jr($5);class eC{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new J5}catch{throw new Error("JSZip lib not loaded")}}open(e,u){return this.zip.loadAsync(e,{base64:u})}openUrl(e,u){return gl(e,"binary").then((function(i){return this.zip.loadAsync(i,{base64:u})}).bind(this))}request(e,u){var i=new Ot,a,l=new Ri(e);return u||(u=l.extension),u=="blob"?a=this.getBlob(e):a=this.getText(e),a?a.then((function(c){let f=this.handleResponse(c,u);i.resolve(f)}).bind(this)):i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise}handleResponse(e,u){var i;return u=="json"?i=JSON.parse(e):ml(u)?i=si(e,"text/xml"):u=="xhtml"?i=si(e,"application/xhtml+xml"):u=="html"||u=="htm"?i=si(e,"text/html"):i=e,i}getBlob(e,u){var i=window.decodeURIComponent(e.substr(1)),a=this.zip.file(i);if(a)return u=u||ka.lookup(a.name),a.async("uint8array").then(function(l){return new Blob([l],{type:u})})}getText(e,u){var i=window.decodeURIComponent(e.substr(1)),a=this.zip.file(i);if(a)return a.async("string").then(function(l){return l})}getBase64(e,u){var i=window.decodeURIComponent(e.substr(1)),a=this.zip.file(i);if(a)return u=u||ka.lookup(a.name),a.async("base64").then(function(l){return"data:"+u+";base64,"+l})}createUrl(e,u){var i=new Ot,a=window.URL||window.webkitURL||window.mozURL,l,c,f=u&&u.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(f?(c=this.getBase64(e),c&&c.then((function(h){this.urlCache[e]=h,i.resolve(h)}).bind(this))):(c=this.getBlob(e),c&&c.then((function(h){l=a.createObjectURL(h),this.urlCache[e]=l,i.resolve(l)}).bind(this))),c||i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var u=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&u.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let u in this.urlCache)e.revokeObjectURL(u);this.zip=void 0,this.urlCache={}}}var B0={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Eb;function tC(){return Eb||(Eb=1,function(t,e){(function(u){t.exports=u()})(function(){return function u(i,a,l){function c(p,E){if(!a[p]){if(!i[p]){var _=typeof fr=="function"&&fr;if(!E&&_)return _(p,!0);if(f)return f(p,!0);var x=new Error("Cannot find module '"+p+"'");throw x.code="MODULE_NOT_FOUND",x}var S=a[p]={exports:{}};i[p][0].call(S.exports,function(B){var w=i[p][1][B];return c(w||B)},S,S.exports,u,i,a,l)}return a[p].exports}for(var f=typeof fr=="function"&&fr,h=0;h<l.length;h++)c(l[h]);return c}({1:[function(u,i,a){(function(l){var c=l.MutationObserver||l.WebKitMutationObserver,f;if(c){var h=0,p=new c(B),E=l.document.createTextNode("");p.observe(E,{characterData:!0}),f=function(){E.data=h=++h%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var _=new l.MessageChannel;_.port1.onmessage=B,f=function(){_.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?f=function(){var y=l.document.createElement("script");y.onreadystatechange=function(){B(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:f=function(){setTimeout(B,0)};var x,S=[];function B(){x=!0;for(var y,A,N=S.length;N;){for(A=S,S=[],y=-1;++y<N;)A[y]();N=S.length}x=!1}i.exports=w;function w(y){S.push(y)===1&&!x&&f()}}).call(this,typeof Un<"u"?Un:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(u,i,a){var l=u(1);function c(){}var f={},h=["REJECTED"],p=["FULFILLED"],E=["PENDING"];i.exports=_;function _(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,D!==c&&w(this,D)}_.prototype.catch=function(D){return this.then(null,D)},_.prototype.then=function(D,U){if(typeof D!="function"&&this.state===p||typeof U!="function"&&this.state===h)return this;var z=new this.constructor(c);if(this.state!==E){var q=this.state===p?D:U;S(z,q,this.outcome)}else this.queue.push(new x(z,D,U));return z};function x(D,U,z){this.promise=D,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}x.prototype.callFulfilled=function(D){f.resolve(this.promise,D)},x.prototype.otherCallFulfilled=function(D){S(this.promise,this.onFulfilled,D)},x.prototype.callRejected=function(D){f.reject(this.promise,D)},x.prototype.otherCallRejected=function(D){S(this.promise,this.onRejected,D)};function S(D,U,z){l(function(){var q;try{q=U(z)}catch(H){return f.reject(D,H)}q===D?f.reject(D,new TypeError("Cannot resolve promise with itself")):f.resolve(D,q)})}f.resolve=function(D,U){var z=y(B,U);if(z.status==="error")return f.reject(D,z.value);var q=z.value;if(q)w(D,q);else{D.state=p,D.outcome=U;for(var H=-1,Y=D.queue.length;++H<Y;)D.queue[H].callFulfilled(U)}return D},f.reject=function(D,U){D.state=h,D.outcome=U;for(var z=-1,q=D.queue.length;++z<q;)D.queue[z].callRejected(U);return D};function B(D){var U=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof U=="function")return function(){U.apply(D,arguments)}}function w(D,U){var z=!1;function q(J){z||(z=!0,f.reject(D,J))}function H(J){z||(z=!0,f.resolve(D,J))}function Y(){U(H,q)}var oe=y(Y);oe.status==="error"&&q(oe.value)}function y(D,U){var z={};try{z.value=D(U),z.status="success"}catch(q){z.status="error",z.value=q}return z}_.resolve=A;function A(D){return D instanceof this?D:f.resolve(new this(c),D)}_.reject=N;function N(D){var U=new this(c);return f.reject(U,D)}_.all=I;function I(D){var U=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=D.length,q=!1;if(!z)return this.resolve([]);for(var H=new Array(z),Y=0,oe=-1,J=new this(c);++oe<z;)de(D[oe],oe);return J;function de(Re,Se){U.resolve(Re).then(te,function(le){q||(q=!0,f.reject(J,le))});function te(le){H[Se]=le,++Y===z&&!q&&(q=!0,f.resolve(J,H))}}}_.race=V;function V(D){var U=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=D.length,q=!1;if(!z)return this.resolve([]);for(var H=-1,Y=new this(c);++H<z;)oe(D[H]);return Y;function oe(J){U.resolve(J).then(function(de){q||(q=!0,f.resolve(Y,de))},function(de){q||(q=!0,f.reject(Y,de))})}}},{1:1}],3:[function(u,i,a){(function(l){typeof l.Promise!="function"&&(l.Promise=u(2))}).call(this,typeof Un<"u"?Un:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(u,i,a){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};function c(k,W){if(!(k instanceof W))throw new TypeError("Cannot call a class as a function")}function f(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=f();function p(){try{if(!h||!h.open)return!1;var k=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),W=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!k||W)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function E(k,W){k=k||[],W=W||{};try{return new Blob(k,W)}catch(ne){if(ne.name!=="TypeError")throw ne;for(var F=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,re=new F,se=0;se<k.length;se+=1)re.append(k[se]);return re.getBlob(W.type)}}typeof Promise>"u"&&u(3);var _=Promise;function x(k,W){W&&k.then(function(F){W(null,F)},function(F){W(F)})}function S(k,W,F){typeof W=="function"&&k.then(W),typeof F=="function"&&k.catch(F)}function B(k){return typeof k!="string"&&(console.warn(k+" used as a key, but it is not a string."),k=String(k)),k}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",A=void 0,N={},I=Object.prototype.toString,V="readonly",D="readwrite";function U(k){for(var W=k.length,F=new ArrayBuffer(W),re=new Uint8Array(F),se=0;se<W;se++)re[se]=k.charCodeAt(se);return F}function z(k){return new _(function(W){var F=k.transaction(y,D),re=E([""]);F.objectStore(y).put(re,"key"),F.onabort=function(se){se.preventDefault(),se.stopPropagation(),W(!1)},F.oncomplete=function(){var se=navigator.userAgent.match(/Chrome\/(\d+)/),ne=navigator.userAgent.match(/Edge\//);W(ne||!se||parseInt(se[1],10)>=43)}}).catch(function(){return!1})}function q(k){return typeof A=="boolean"?_.resolve(A):z(k).then(function(W){return A=W,A})}function H(k){var W=N[k.name],F={};F.promise=new _(function(re,se){F.resolve=re,F.reject=se}),W.deferredOperations.push(F),W.dbReady?W.dbReady=W.dbReady.then(function(){return F.promise}):W.dbReady=F.promise}function Y(k){var W=N[k.name],F=W.deferredOperations.pop();if(F)return F.resolve(),F.promise}function oe(k,W){var F=N[k.name],re=F.deferredOperations.pop();if(re)return re.reject(W),re.promise}function J(k,W){return new _(function(F,re){if(N[k.name]=N[k.name]||_e(),k.db)if(W)H(k),k.db.close();else return F(k.db);var se=[k.name];W&&se.push(k.version);var ne=h.open.apply(h,se);W&&(ne.onupgradeneeded=function(Ae){var Le=ne.result;try{Le.createObjectStore(k.storeName),Ae.oldVersion<=1&&Le.createObjectStore(y)}catch(Ie){if(Ie.name==="ConstraintError")console.warn('The database "'+k.name+'" has been upgraded from version '+Ae.oldVersion+" to version "+Ae.newVersion+', but the storage "'+k.storeName+'" already exists.');else throw Ie}}),ne.onerror=function(Ae){Ae.preventDefault(),re(ne.error)},ne.onsuccess=function(){var Ae=ne.result;Ae.onversionchange=function(Le){Le.target.close()},F(Ae),Y(k)}})}function de(k){return J(k,!1)}function Re(k){return J(k,!0)}function Se(k,W){if(!k.db)return!0;var F=!k.db.objectStoreNames.contains(k.storeName),re=k.version<k.db.version,se=k.version>k.db.version;if(re&&(k.version!==W&&console.warn('The database "'+k.name+`" can't be downgraded from version `+k.db.version+" to version "+k.version+"."),k.version=k.db.version),se||F){if(F){var ne=k.db.version+1;ne>k.version&&(k.version=ne)}return!0}return!1}function te(k){return new _(function(W,F){var re=new FileReader;re.onerror=F,re.onloadend=function(se){var ne=btoa(se.target.result||"");W({__local_forage_encoded_blob:!0,data:ne,type:k.type})},re.readAsBinaryString(k)})}function le(k){var W=U(atob(k.data));return E([W],{type:k.type})}function ge(k){return k&&k.__local_forage_encoded_blob}function De(k){var W=this,F=W._initReady().then(function(){var re=N[W._dbInfo.name];if(re&&re.dbReady)return re.dbReady});return S(F,k,k),F}function G(k){H(k);for(var W=N[k.name],F=W.forages,re=0;re<F.length;re++){var se=F[re];se._dbInfo.db&&(se._dbInfo.db.close(),se._dbInfo.db=null)}return k.db=null,de(k).then(function(ne){return k.db=ne,Se(k)?Re(k):ne}).then(function(ne){k.db=W.db=ne;for(var Ae=0;Ae<F.length;Ae++)F[Ae]._dbInfo.db=ne}).catch(function(ne){throw oe(k,ne),ne})}function ie(k,W,F,re){re===void 0&&(re=1);try{var se=k.db.transaction(k.storeName,W);F(null,se)}catch(ne){if(re>0&&(!k.db||ne.name==="InvalidStateError"||ne.name==="NotFoundError"))return _.resolve().then(function(){if(!k.db||ne.name==="NotFoundError"&&!k.db.objectStoreNames.contains(k.storeName)&&k.version<=k.db.version)return k.db&&(k.version=k.db.version+1),Re(k)}).then(function(){return G(k).then(function(){ie(k,W,F,re-1)})}).catch(F);F(ne)}}function _e(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ne(k){var W=this,F={db:null};if(k)for(var re in k)F[re]=k[re];var se=N[F.name];se||(se=_e(),N[F.name]=se),se.forages.push(W),W._initReady||(W._initReady=W.ready,W.ready=De);var ne=[];function Ae(){return _.resolve()}for(var Le=0;Le<se.forages.length;Le++){var Ie=se.forages[Le];Ie!==W&&ne.push(Ie._initReady().catch(Ae))}var Pe=se.forages.slice(0);return _.all(ne).then(function(){return F.db=se.db,de(F)}).then(function(qe){return F.db=qe,Se(F,W._defaultConfig.version)?Re(F):qe}).then(function(qe){F.db=se.db=qe,W._dbInfo=F;for(var Qe=0;Qe<Pe.length;Qe++){var mt=Pe[Qe];mt!==W&&(mt._dbInfo.db=F.db,mt._dbInfo.version=F.version)}})}function Ee(k,W){var F=this;k=B(k);var re=new _(function(se,ne){F.ready().then(function(){ie(F._dbInfo,V,function(Ae,Le){if(Ae)return ne(Ae);try{var Ie=Le.objectStore(F._dbInfo.storeName),Pe=Ie.get(k);Pe.onsuccess=function(){var qe=Pe.result;qe===void 0&&(qe=null),ge(qe)&&(qe=le(qe)),se(qe)},Pe.onerror=function(){ne(Pe.error)}}catch(qe){ne(qe)}})}).catch(ne)});return x(re,W),re}function Ve(k,W){var F=this,re=new _(function(se,ne){F.ready().then(function(){ie(F._dbInfo,V,function(Ae,Le){if(Ae)return ne(Ae);try{var Ie=Le.objectStore(F._dbInfo.storeName),Pe=Ie.openCursor(),qe=1;Pe.onsuccess=function(){var Qe=Pe.result;if(Qe){var mt=Qe.value;ge(mt)&&(mt=le(mt));var Ut=k(mt,Qe.key,qe++);Ut!==void 0?se(Ut):Qe.continue()}else se()},Pe.onerror=function(){ne(Pe.error)}}catch(Qe){ne(Qe)}})}).catch(ne)});return x(re,W),re}function Ge(k,W,F){var re=this;k=B(k);var se=new _(function(ne,Ae){var Le;re.ready().then(function(){return Le=re._dbInfo,I.call(W)==="[object Blob]"?q(Le.db).then(function(Ie){return Ie?W:te(W)}):W}).then(function(Ie){ie(re._dbInfo,D,function(Pe,qe){if(Pe)return Ae(Pe);try{var Qe=qe.objectStore(re._dbInfo.storeName);Ie===null&&(Ie=void 0);var mt=Qe.put(Ie,k);qe.oncomplete=function(){Ie===void 0&&(Ie=null),ne(Ie)},qe.onabort=qe.onerror=function(){var Ut=mt.error?mt.error:mt.transaction.error;Ae(Ut)}}catch(Ut){Ae(Ut)}})}).catch(Ae)});return x(se,F),se}function ut(k,W){var F=this;k=B(k);var re=new _(function(se,ne){F.ready().then(function(){ie(F._dbInfo,D,function(Ae,Le){if(Ae)return ne(Ae);try{var Ie=Le.objectStore(F._dbInfo.storeName),Pe=Ie.delete(k);Le.oncomplete=function(){se()},Le.onerror=function(){ne(Pe.error)},Le.onabort=function(){var qe=Pe.error?Pe.error:Pe.transaction.error;ne(qe)}}catch(qe){ne(qe)}})}).catch(ne)});return x(re,W),re}function He(k){var W=this,F=new _(function(re,se){W.ready().then(function(){ie(W._dbInfo,D,function(ne,Ae){if(ne)return se(ne);try{var Le=Ae.objectStore(W._dbInfo.storeName),Ie=Le.clear();Ae.oncomplete=function(){re()},Ae.onabort=Ae.onerror=function(){var Pe=Ie.error?Ie.error:Ie.transaction.error;se(Pe)}}catch(Pe){se(Pe)}})}).catch(se)});return x(F,k),F}function Tt(k){var W=this,F=new _(function(re,se){W.ready().then(function(){ie(W._dbInfo,V,function(ne,Ae){if(ne)return se(ne);try{var Le=Ae.objectStore(W._dbInfo.storeName),Ie=Le.count();Ie.onsuccess=function(){re(Ie.result)},Ie.onerror=function(){se(Ie.error)}}catch(Pe){se(Pe)}})}).catch(se)});return x(F,k),F}function Ht(k,W){var F=this,re=new _(function(se,ne){if(k<0){se(null);return}F.ready().then(function(){ie(F._dbInfo,V,function(Ae,Le){if(Ae)return ne(Ae);try{var Ie=Le.objectStore(F._dbInfo.storeName),Pe=!1,qe=Ie.openKeyCursor();qe.onsuccess=function(){var Qe=qe.result;if(!Qe){se(null);return}k===0||Pe?se(Qe.key):(Pe=!0,Qe.advance(k))},qe.onerror=function(){ne(qe.error)}}catch(Qe){ne(Qe)}})}).catch(ne)});return x(re,W),re}function ft(k){var W=this,F=new _(function(re,se){W.ready().then(function(){ie(W._dbInfo,V,function(ne,Ae){if(ne)return se(ne);try{var Le=Ae.objectStore(W._dbInfo.storeName),Ie=Le.openKeyCursor(),Pe=[];Ie.onsuccess=function(){var qe=Ie.result;if(!qe){re(Pe);return}Pe.push(qe.key),qe.continue()},Ie.onerror=function(){se(Ie.error)}}catch(qe){se(qe)}})}).catch(se)});return x(F,k),F}function _t(k,W){W=w.apply(this,arguments);var F=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||F.name,k.storeName=k.storeName||F.storeName);var re=this,se;if(!k.name)se=_.reject("Invalid arguments");else{var ne=k.name===F.name&&re._dbInfo.db,Ae=ne?_.resolve(re._dbInfo.db):de(k).then(function(Le){var Ie=N[k.name],Pe=Ie.forages;Ie.db=Le;for(var qe=0;qe<Pe.length;qe++)Pe[qe]._dbInfo.db=Le;return Le});k.storeName?se=Ae.then(function(Le){if(Le.objectStoreNames.contains(k.storeName)){var Ie=Le.version+1;H(k);var Pe=N[k.name],qe=Pe.forages;Le.close();for(var Qe=0;Qe<qe.length;Qe++){var mt=qe[Qe];mt._dbInfo.db=null,mt._dbInfo.version=Ie}var Ut=new _(function(zt,ru){var gu=h.open(k.name,Ie);gu.onerror=function(an){var ki=gu.result;ki.close(),ru(an)},gu.onupgradeneeded=function(){var an=gu.result;an.deleteObjectStore(k.storeName)},gu.onsuccess=function(){var an=gu.result;an.close(),zt(an)}});return Ut.then(function(zt){Pe.db=zt;for(var ru=0;ru<qe.length;ru++){var gu=qe[ru];gu._dbInfo.db=zt,Y(gu._dbInfo)}}).catch(function(zt){throw(oe(k,zt)||_.resolve()).catch(function(){}),zt})}}):se=Ae.then(function(Le){H(k);var Ie=N[k.name],Pe=Ie.forages;Le.close();for(var qe=0;qe<Pe.length;qe++){var Qe=Pe[qe];Qe._dbInfo.db=null}var mt=new _(function(Ut,zt){var ru=h.deleteDatabase(k.name);ru.onerror=function(){var gu=ru.result;gu&&gu.close(),zt(ru.error)},ru.onblocked=function(){console.warn('dropInstance blocked for database "'+k.name+'" until all open connections are closed')},ru.onsuccess=function(){var gu=ru.result;gu&&gu.close(),Ut(gu)}});return mt.then(function(Ut){Ie.db=Ut;for(var zt=0;zt<Pe.length;zt++){var ru=Pe[zt];Y(ru._dbInfo)}}).catch(function(Ut){throw(oe(k,Ut)||_.resolve()).catch(function(){}),Ut})})}return x(se,W),se}var Et={_driver:"asyncStorage",_initStorage:Ne,_support:p(),iterate:Ve,getItem:Ee,setItem:Ge,removeItem:ut,clear:He,length:Tt,key:Ht,keys:ft,dropInstance:_t};function At(){return typeof openDatabase=="function"}var Zt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",It="~~local_forage_type~",ht=/^~~local_forage_type~([^~]+)~/,lu="__lfsc__:",mu=lu.length,fu="arbf",nt="blob",pt="si08",rt="ui08",xu="uic8",rn="si16",Su="si32",Lt="ur16",Cu="ui32",Jt="fl32",Ru="fl64",Ju=mu+fu.length,Xu=Object.prototype.toString;function iu(k){var W=k.length*.75,F=k.length,re,se=0,ne,Ae,Le,Ie;k[k.length-1]==="="&&(W--,k[k.length-2]==="="&&W--);var Pe=new ArrayBuffer(W),qe=new Uint8Array(Pe);for(re=0;re<F;re+=4)ne=Zt.indexOf(k[re]),Ae=Zt.indexOf(k[re+1]),Le=Zt.indexOf(k[re+2]),Ie=Zt.indexOf(k[re+3]),qe[se++]=ne<<2|Ae>>4,qe[se++]=(Ae&15)<<4|Le>>2,qe[se++]=(Le&3)<<6|Ie&63;return Pe}function Eu(k){var W=new Uint8Array(k),F="",re;for(re=0;re<W.length;re+=3)F+=Zt[W[re]>>2],F+=Zt[(W[re]&3)<<4|W[re+1]>>4],F+=Zt[(W[re+1]&15)<<2|W[re+2]>>6],F+=Zt[W[re+2]&63];return W.length%3===2?F=F.substring(0,F.length-1)+"=":W.length%3===1&&(F=F.substring(0,F.length-2)+"=="),F}function Uu(k,W){var F="";if(k&&(F=Xu.call(k)),k&&(F==="[object ArrayBuffer]"||k.buffer&&Xu.call(k.buffer)==="[object ArrayBuffer]")){var re,se=lu;k instanceof ArrayBuffer?(re=k,se+=fu):(re=k.buffer,F==="[object Int8Array]"?se+=pt:F==="[object Uint8Array]"?se+=rt:F==="[object Uint8ClampedArray]"?se+=xu:F==="[object Int16Array]"?se+=rn:F==="[object Uint16Array]"?se+=Lt:F==="[object Int32Array]"?se+=Su:F==="[object Uint32Array]"?se+=Cu:F==="[object Float32Array]"?se+=Jt:F==="[object Float64Array]"?se+=Ru:W(new Error("Failed to get type for BinaryArray"))),W(se+Eu(re))}else if(F==="[object Blob]"){var ne=new FileReader;ne.onload=function(){var Ae=It+k.type+"~"+Eu(this.result);W(lu+nt+Ae)},ne.readAsArrayBuffer(k)}else try{W(JSON.stringify(k))}catch(Ae){console.error("Couldn't convert value into a JSON string: ",k),W(null,Ae)}}function M(k){if(k.substring(0,mu)!==lu)return JSON.parse(k);var W=k.substring(Ju),F=k.substring(mu,Ju),re;if(F===nt&&ht.test(W)){var se=W.match(ht);re=se[1],W=W.substring(se[0].length)}var ne=iu(W);switch(F){case fu:return ne;case nt:return E([ne],{type:re});case pt:return new Int8Array(ne);case rt:return new Uint8Array(ne);case xu:return new Uint8ClampedArray(ne);case rn:return new Int16Array(ne);case Lt:return new Uint16Array(ne);case Su:return new Int32Array(ne);case Cu:return new Uint32Array(ne);case Jt:return new Float32Array(ne);case Ru:return new Float64Array(ne);default:throw new Error("Unkown type: "+F)}}var xe={serialize:Uu,deserialize:M,stringToBuffer:iu,bufferToString:Eu};function ke(k,W,F,re){k.executeSql("CREATE TABLE IF NOT EXISTS "+W.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],F,re)}function Ze(k){var W=this,F={db:null};if(k)for(var re in k)F[re]=typeof k[re]!="string"?k[re].toString():k[re];var se=new _(function(ne,Ae){try{F.db=openDatabase(F.name,String(F.version),F.description,F.size)}catch(Le){return Ae(Le)}F.db.transaction(function(Le){ke(Le,F,function(){W._dbInfo=F,ne()},function(Ie,Pe){Ae(Pe)})},Ae)});return F.serializer=xe,se}function K(k,W,F,re,se,ne){k.executeSql(F,re,se,function(Ae,Le){Le.code===Le.SYNTAX_ERR?Ae.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[W.storeName],function(Ie,Pe){Pe.rows.length?ne(Ie,Le):ke(Ie,W,function(){Ie.executeSql(F,re,se,ne)},ne)},ne):ne(Ae,Le)},ne)}function T(k,W){var F=this;k=B(k);var re=new _(function(se,ne){F.ready().then(function(){var Ae=F._dbInfo;Ae.db.transaction(function(Le){K(Le,Ae,"SELECT * FROM "+Ae.storeName+" WHERE key = ? LIMIT 1",[k],function(Ie,Pe){var qe=Pe.rows.length?Pe.rows.item(0).value:null;qe&&(qe=Ae.serializer.deserialize(qe)),se(qe)},function(Ie,Pe){ne(Pe)})})}).catch(ne)});return x(re,W),re}function b(k,W){var F=this,re=new _(function(se,ne){F.ready().then(function(){var Ae=F._dbInfo;Ae.db.transaction(function(Le){K(Le,Ae,"SELECT * FROM "+Ae.storeName,[],function(Ie,Pe){for(var qe=Pe.rows,Qe=qe.length,mt=0;mt<Qe;mt++){var Ut=qe.item(mt),zt=Ut.value;if(zt&&(zt=Ae.serializer.deserialize(zt)),zt=k(zt,Ut.key,mt+1),zt!==void 0){se(zt);return}}se()},function(Ie,Pe){ne(Pe)})})}).catch(ne)});return x(re,W),re}function L(k,W,F,re){var se=this;k=B(k);var ne=new _(function(Ae,Le){se.ready().then(function(){W===void 0&&(W=null);var Ie=W,Pe=se._dbInfo;Pe.serializer.serialize(W,function(qe,Qe){Qe?Le(Qe):Pe.db.transaction(function(mt){K(mt,Pe,"INSERT OR REPLACE INTO "+Pe.storeName+" (key, value) VALUES (?, ?)",[k,qe],function(){Ae(Ie)},function(Ut,zt){Le(zt)})},function(mt){if(mt.code===mt.QUOTA_ERR){if(re>0){Ae(L.apply(se,[k,Ie,F,re-1]));return}Le(mt)}})})}).catch(Le)});return x(ne,F),ne}function ee(k,W,F){return L.apply(this,[k,W,F,1])}function v(k,W){var F=this;k=B(k);var re=new _(function(se,ne){F.ready().then(function(){var Ae=F._dbInfo;Ae.db.transaction(function(Le){K(Le,Ae,"DELETE FROM "+Ae.storeName+" WHERE key = ?",[k],function(){se()},function(Ie,Pe){ne(Pe)})})}).catch(ne)});return x(re,W),re}function ue(k){var W=this,F=new _(function(re,se){W.ready().then(function(){var ne=W._dbInfo;ne.db.transaction(function(Ae){K(Ae,ne,"DELETE FROM "+ne.storeName,[],function(){re()},function(Le,Ie){se(Ie)})})}).catch(se)});return x(F,k),F}function fe(k){var W=this,F=new _(function(re,se){W.ready().then(function(){var ne=W._dbInfo;ne.db.transaction(function(Ae){K(Ae,ne,"SELECT COUNT(key) as c FROM "+ne.storeName,[],function(Le,Ie){var Pe=Ie.rows.item(0).c;re(Pe)},function(Le,Ie){se(Ie)})})}).catch(se)});return x(F,k),F}function O(k,W){var F=this,re=new _(function(se,ne){F.ready().then(function(){var Ae=F._dbInfo;Ae.db.transaction(function(Le){K(Le,Ae,"SELECT key FROM "+Ae.storeName+" WHERE id = ? LIMIT 1",[k+1],function(Ie,Pe){var qe=Pe.rows.length?Pe.rows.item(0).key:null;se(qe)},function(Ie,Pe){ne(Pe)})})}).catch(ne)});return x(re,W),re}function Q(k){var W=this,F=new _(function(re,se){W.ready().then(function(){var ne=W._dbInfo;ne.db.transaction(function(Ae){K(Ae,ne,"SELECT key FROM "+ne.storeName,[],function(Le,Ie){for(var Pe=[],qe=0;qe<Ie.rows.length;qe++)Pe.push(Ie.rows.item(qe).key);re(Pe)},function(Le,Ie){se(Ie)})})}).catch(se)});return x(F,k),F}function ce(k){return new _(function(W,F){k.transaction(function(re){re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(se,ne){for(var Ae=[],Le=0;Le<ne.rows.length;Le++)Ae.push(ne.rows.item(Le).name);W({db:k,storeNames:Ae})},function(se,ne){F(ne)})},function(re){F(re)})})}function ze(k,W){W=w.apply(this,arguments);var F=this.config();k=typeof k!="function"&&k||{},k.name||(k.name=k.name||F.name,k.storeName=k.storeName||F.storeName);var re=this,se;return k.name?se=new _(function(ne){var Ae;k.name===F.name?Ae=re._dbInfo.db:Ae=openDatabase(k.name,"","",0),k.storeName?ne({db:Ae,storeNames:[k.storeName]}):ne(ce(Ae))}).then(function(ne){return new _(function(Ae,Le){ne.db.transaction(function(Ie){function Pe(Ut){return new _(function(zt,ru){Ie.executeSql("DROP TABLE IF EXISTS "+Ut,[],function(){zt()},function(gu,an){ru(an)})})}for(var qe=[],Qe=0,mt=ne.storeNames.length;Qe<mt;Qe++)qe.push(Pe(ne.storeNames[Qe]));_.all(qe).then(function(){Ae()}).catch(function(Ut){Le(Ut)})},function(Ie){Le(Ie)})})}):se=_.reject("Invalid arguments"),x(se,W),se}var Me={_driver:"webSQLStorage",_initStorage:Ze,_support:At(),iterate:b,getItem:T,setItem:ee,removeItem:v,clear:ue,length:fe,key:O,keys:Q,dropInstance:ze};function je(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ot(k,W){var F=k.name+"/";return k.storeName!==W.storeName&&(F+=k.storeName+"/"),F}function du(){var k="_localforage_support_test";try{return localStorage.setItem(k,!0),localStorage.removeItem(k),!1}catch{return!0}}function kt(){return!du()||localStorage.length>0}function gt(k){var W=this,F={};if(k)for(var re in k)F[re]=k[re];return F.keyPrefix=ot(k,W._defaultConfig),kt()?(W._dbInfo=F,F.serializer=xe,_.resolve()):_.reject()}function bt(k){var W=this,F=W.ready().then(function(){for(var re=W._dbInfo.keyPrefix,se=localStorage.length-1;se>=0;se--){var ne=localStorage.key(se);ne.indexOf(re)===0&&localStorage.removeItem(ne)}});return x(F,k),F}function cu(k,W){var F=this;k=B(k);var re=F.ready().then(function(){var se=F._dbInfo,ne=localStorage.getItem(se.keyPrefix+k);return ne&&(ne=se.serializer.deserialize(ne)),ne});return x(re,W),re}function Xt(k,W){var F=this,re=F.ready().then(function(){for(var se=F._dbInfo,ne=se.keyPrefix,Ae=ne.length,Le=localStorage.length,Ie=1,Pe=0;Pe<Le;Pe++){var qe=localStorage.key(Pe);if(qe.indexOf(ne)===0){var Qe=localStorage.getItem(qe);if(Qe&&(Qe=se.serializer.deserialize(Qe)),Qe=k(Qe,qe.substring(Ae),Ie++),Qe!==void 0)return Qe}}});return x(re,W),re}function en(k,W){var F=this,re=F.ready().then(function(){var se=F._dbInfo,ne;try{ne=localStorage.key(k)}catch{ne=null}return ne&&(ne=ne.substring(se.keyPrefix.length)),ne});return x(re,W),re}function Nn(k){var W=this,F=W.ready().then(function(){for(var re=W._dbInfo,se=localStorage.length,ne=[],Ae=0;Ae<se;Ae++){var Le=localStorage.key(Ae);Le.indexOf(re.keyPrefix)===0&&ne.push(Le.substring(re.keyPrefix.length))}return ne});return x(F,k),F}function Wt(k){var W=this,F=W.keys().then(function(re){return re.length});return x(F,k),F}function Mt(k,W){var F=this;k=B(k);var re=F.ready().then(function(){var se=F._dbInfo;localStorage.removeItem(se.keyPrefix+k)});return x(re,W),re}function _u(k,W,F){var re=this;k=B(k);var se=re.ready().then(function(){W===void 0&&(W=null);var ne=W;return new _(function(Ae,Le){var Ie=re._dbInfo;Ie.serializer.serialize(W,function(Pe,qe){if(qe)Le(qe);else try{localStorage.setItem(Ie.keyPrefix+k,Pe),Ae(ne)}catch(Qe){(Qe.name==="QuotaExceededError"||Qe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Le(Qe),Le(Qe)}})})});return x(se,F),se}function ln(k,W){if(W=w.apply(this,arguments),k=typeof k!="function"&&k||{},!k.name){var F=this.config();k.name=k.name||F.name,k.storeName=k.storeName||F.storeName}var re=this,se;return k.name?se=new _(function(ne){k.storeName?ne(ot(k,re._defaultConfig)):ne(k.name+"/")}).then(function(ne){for(var Ae=localStorage.length-1;Ae>=0;Ae--){var Le=localStorage.key(Ae);Le.indexOf(ne)===0&&localStorage.removeItem(Le)}}):se=_.reject("Invalid arguments"),x(se,W),se}var Iu={_driver:"localStorageWrapper",_initStorage:gt,_support:je(),iterate:Xt,getItem:cu,setItem:_u,removeItem:Mt,clear:bt,length:Wt,key:en,keys:Nn,dropInstance:ln},Fn=function(W,F){return W===F||typeof W=="number"&&typeof F=="number"&&isNaN(W)&&isNaN(F)},Cc=function(W,F){for(var re=W.length,se=0;se<re;){if(Fn(W[se],F))return!0;se++}return!1},Va=Array.isArray||function(k){return Object.prototype.toString.call(k)==="[object Array]"},Ii={},Tl={},Hn={INDEXEDDB:Et,WEBSQL:Me,LOCALSTORAGE:Iu},Zr=[Hn.INDEXEDDB._driver,Hn.WEBSQL._driver,Hn.LOCALSTORAGE._driver],on=["dropInstance"],br=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(on),Al={description:"",driver:Zr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Li(k,W){k[W]=function(){var F=arguments;return k.ready().then(function(){return k[W].apply(k,F)})}}function vr(){for(var k=1;k<arguments.length;k++){var W=arguments[k];if(W)for(var F in W)W.hasOwnProperty(F)&&(Va(W[F])?arguments[0][F]=W[F].slice():arguments[0][F]=W[F])}return arguments[0]}var Ga=function(){function k(W){c(this,k);for(var F in Hn)if(Hn.hasOwnProperty(F)){var re=Hn[F],se=re._driver;this[F]=se,Ii[se]||this.defineDriver(re)}this._defaultConfig=vr({},Al),this._config=vr({},this._defaultConfig,W),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return k.prototype.config=function(F){if((typeof F>"u"?"undefined":l(F))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var re in F){if(re==="storeName"&&(F[re]=F[re].replace(/\W/g,"_")),re==="version"&&typeof F[re]!="number")return new Error("Database version must be a number.");this._config[re]=F[re]}return"driver"in F&&F.driver?this.setDriver(this._config.driver):!0}else return typeof F=="string"?this._config[F]:this._config},k.prototype.defineDriver=function(F,re,se){var ne=new _(function(Ae,Le){try{var Ie=F._driver,Pe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!F._driver){Le(Pe);return}for(var qe=br.concat("_initStorage"),Qe=0,mt=qe.length;Qe<mt;Qe++){var Ut=qe[Qe],zt=!Cc(on,Ut);if((zt||F[Ut])&&typeof F[Ut]!="function"){Le(Pe);return}}var ru=function(){for(var ki=function(Wa){return function(){var Qa=new Error("Method "+Wa+" is not implemented by the current driver"),oi=_.reject(Qa);return x(oi,arguments[arguments.length-1]),oi}},Er=0,Dc=on.length;Er<Dc;Er++){var Za=on[Er];F[Za]||(F[Za]=ki(Za))}};ru();var gu=function(ki){Ii[Ie]&&console.info("Redefining LocalForage driver: "+Ie),Ii[Ie]=F,Tl[Ie]=ki,Ae()};"_support"in F?F._support&&typeof F._support=="function"?F._support().then(gu,Le):gu(!!F._support):gu(!0)}catch(an){Le(an)}});return S(ne,re,se),ne},k.prototype.driver=function(){return this._driver||null},k.prototype.getDriver=function(F,re,se){var ne=Ii[F]?_.resolve(Ii[F]):_.reject(new Error("Driver not found."));return S(ne,re,se),ne},k.prototype.getSerializer=function(F){var re=_.resolve(xe);return S(re,F),re},k.prototype.ready=function(F){var re=this,se=re._driverSet.then(function(){return re._ready===null&&(re._ready=re._initDriver()),re._ready});return S(se,F,F),se},k.prototype.setDriver=function(F,re,se){var ne=this;Va(F)||(F=[F]);var Ae=this._getSupportedDrivers(F);function Le(){ne._config.driver=ne.driver()}function Ie(Qe){return ne._extend(Qe),Le(),ne._ready=ne._initStorage(ne._config),ne._ready}function Pe(Qe){return function(){var mt=0;function Ut(){for(;mt<Qe.length;){var zt=Qe[mt];return mt++,ne._dbInfo=null,ne._ready=null,ne.getDriver(zt).then(Ie).catch(Ut)}Le();var ru=new Error("No available storage method found.");return ne._driverSet=_.reject(ru),ne._driverSet}return Ut()}}var qe=this._driverSet!==null?this._driverSet.catch(function(){return _.resolve()}):_.resolve();return this._driverSet=qe.then(function(){var Qe=Ae[0];return ne._dbInfo=null,ne._ready=null,ne.getDriver(Qe).then(function(mt){ne._driver=mt._driver,Le(),ne._wrapLibraryMethodsWithReady(),ne._initDriver=Pe(Ae)})}).catch(function(){Le();var Qe=new Error("No available storage method found.");return ne._driverSet=_.reject(Qe),ne._driverSet}),S(this._driverSet,re,se),this._driverSet},k.prototype.supports=function(F){return!!Tl[F]},k.prototype._extend=function(F){vr(this,F)},k.prototype._getSupportedDrivers=function(F){for(var re=[],se=0,ne=F.length;se<ne;se++){var Ae=F[se];this.supports(Ae)&&re.push(Ae)}return re},k.prototype._wrapLibraryMethodsWithReady=function(){for(var F=0,re=br.length;F<re;F++)Li(this,br[F])},k.prototype.createInstance=function(F){return new k(F)},k}(),Nc=new Ga;i.exports=Nc},{3:3}]},{},[4])(4)})}(B0)),B0.exports}var uC=tC();const _b=jr(uC);class pE{constructor(e,u,i){this.urlCache={},this.storage=void 0,this.name=e,this.requester=u||gl,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof _b>"u"&&(e=_b),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let u=navigator.onLine;this.online=u,u?this.emit("online",this):this.emit("offline",this)}add(e,u){let i=e.resources.map(a=>{let{href:l}=a,c=this.resolver(l),f=window.encodeURIComponent(c);return this.storage.getItem(f).then(h=>!h||u?this.requester(c,"binary").then(p=>this.storage.setItem(f,p)):h)});return Promise.all(i)}put(e,u,i){let a=window.encodeURIComponent(e);return this.storage.getItem(a).then(l=>l||this.requester(e,"binary",u,i).then(c=>this.storage.setItem(a,c)))}request(e,u,i,a){return this.online?this.requester(e,u,i,a).then(l=>(this.put(e),l)):this.retrieve(e,u)}retrieve(e,u){new Ot;var i,a=new Ri(e);return u||(u=a.extension),u=="blob"?i=this.getBlob(e):i=this.getText(e),i.then(l=>{var c=new Ot,f;return l?(f=this.handleResponse(l,u),c.resolve(f)):c.reject({message:"File not found in storage: "+e,stack:new Error().stack}),c.promise})}handleResponse(e,u){var i;return u=="json"?i=JSON.parse(e):ml(u)?i=si(e,"text/xml"):u=="xhtml"?i=si(e,"application/xhtml+xml"):u=="html"||u=="htm"?i=si(e,"text/html"):i=e,i}getBlob(e,u){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(function(a){if(a)return u=u||ka.lookup(e),new Blob([a],{type:u})})}getText(e,u){let i=window.encodeURIComponent(e);return u=u||ka.lookup(e),this.storage.getItem(i).then(function(a){var l=new Ot,c=new FileReader,f;if(a)return f=new Blob([a],{type:u}),c.addEventListener("loadend",()=>{l.resolve(c.result)}),c.readAsText(f,u),l.promise})}getBase64(e,u){let i=window.encodeURIComponent(e);return u=u||ka.lookup(e),this.storage.getItem(i).then(a=>{var l=new Ot,c=new FileReader,f;if(a)return f=new Blob([a],{type:u}),c.addEventListener("loadend",()=>{l.resolve(c.result)}),c.readAsDataURL(f,u),l.promise})}createUrl(e,u){var i=new Ot,a=window.URL||window.webkitURL||window.mozURL,l,c,f=u&&u.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(f?(c=this.getBase64(e),c&&c.then((function(h){this.urlCache[e]=h,i.resolve(h)}).bind(this))):(c=this.getBlob(e),c&&c.then((function(h){l=a.createObjectURL(h),this.urlCache[e]=l,i.resolve(l)}).bind(this))),c||i.reject({message:"File not found in storage: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var u=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&u.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let u in this.urlCache)e.revokeObjectURL(u);this.urlCache={},this.removeListeners()}}li(pE.prototype);class M0{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const u=su(e,"display_options");return u?(Oi(u,"option").forEach(a=>{let l="";switch(a.childNodes.length&&(l=a.childNodes[0].nodeValue),a.attributes.name.value){case"interactive":this.interactive=l;break;case"fixed-layout":this.fixedLayout=l;break;case"open-to-spread":this.openToSpread=l;break;case"orientation-lock":this.orientationLock=l;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const yb="META-INF/container.xml",nC="META-INF/com.apple.ibooks.display-options.xml",Zn={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class qh{constructor(e,u){typeof u>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(u=e,e=void 0),this.settings=$u(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),$u(this.settings,u),this.opening=new Ot,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Ot,spine:new Ot,metadata:new Ot,cover:new Ot,navigation:new Ot,pageList:new Ot,resources:new Ot,displayOptions:new Ot},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||gl,this.spine=new b5,this.locations=new aE(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(i=>{var a=new Error("Cannot load book at "+e);this.emit(Xe.BOOK.OPEN_FAILED,a)})}open(e,u){var i,a=u||this.determineType(e);return a===Zn.BINARY?(this.archived=!0,this.url=new Xn("/",""),i=this.openEpub(e)):a===Zn.BASE64?(this.archived=!0,this.url=new Xn("/",""),i=this.openEpub(e,a)):a===Zn.EPUB?(this.archived=!0,this.url=new Xn("/",""),i=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):a==Zn.OPF?(this.url=new Xn(e),i=this.openPackaging(this.url.Path.toString())):a==Zn.MANIFEST?(this.url=new Xn(e),i=this.openManifest(this.url.Path.toString())):(this.url=new Xn(e),i=this.openContainer(yb).then(this.openPackaging.bind(this))),i}openEpub(e,u){return this.unarchive(e,u||this.settings.encoding).then(()=>this.openContainer(yb)).then(i=>this.openPackaging(i))}openContainer(e){return this.load(e).then(u=>(this.container=new v5(u),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new Ri(e),this.load(e).then(u=>(this.packaging=new $g(u),this.unpack(this.packaging)))}openManifest(e){return this.path=new Ri(e),this.load(e).then(u=>(this.packaging=new $g,this.packaging.load(u),this.unpack(this.packaging)))}load(e){var u=this.resolve(e);return this.archived?this.archive.request(u):this.request(u,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,u){if(e){var i=e,a=e.indexOf("://")>-1;return a?e:(this.path&&(i=this.path.resolve(e)),u!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(e){var u=e;return e?(this.settings.canonical?u=this.settings.canonical(e):u=this.resolve(e,!0),u):""}determineType(e){var u,i,a;if(this.settings.encoding==="base64")return Zn.BASE64;if(typeof e!="string")return Zn.BINARY;if(u=new Xn(e),i=u.path(),a=i.extension,a&&(a=a.replace(/\?.*$/,"")),!a)return Zn.DIRECTORY;if(a==="epub")return Zn.EPUB;if(a==="opf")return Zn.OPF;if(a==="json")return Zn.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(nC)).then(u=>{this.displayOptions=new M0(u),this.loading.displayOptions.resolve(this.displayOptions)}).catch(u=>{this.displayOptions=new M0,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new M0,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new T5(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(u=>{console.error(u)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let u=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((a,l)=>{this.navigation=new b0(i),e.pageList&&(this.pageList=new v0(e.pageList)),a(this.navigation)}):u?this.load(u,"xml").then(a=>(this.navigation=new b0(a),this.pageList=new v0(a),this.navigation)):new Promise((a,l)=>{this.navigation=new b0,this.pageList=new v0,a(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,u){return this.rendition=new zh(this,u),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,u){return this.archive=new eC,this.archive.open(e,u)}store(e){let u=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,a=this.settings.requestMethod||gl.bind(this);return this.storage=new pE(e,a,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let l=(c,f)=>{f.output=this.resources.substitute(c,f.url)};this.resources.settings.replacements=u||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Xn("/",""),this.spine.hooks.serialize.register(l)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(l)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,u)=>{u.output=this.resources.substitute(e,u.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var u=new Rt(e),i=this.spine.get(u.spinePos),a=this.load.bind(this);return i?i.load(a).then(function(l){var c=u.toRange(i.document);return c}):new Promise((l,c)=>{c("CFI could not be found")})}key(e){var u=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Sc}:${u}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}li(qh.prototype);function Gr(t,e){return new qh(t,e)}Gr.VERSION=Sc;typeof global<"u"&&(global.EPUBJS_VERSION=Sc);Gr.Book=qh;Gr.Rendition=zh;Gr.Contents=Fh;Gr.CFI=Rt;Gr.utils=o5;function iC(){const[t,e]=wu.useState(()=>localStorage.getItem("openaiApiKey")||""),[u,i]=wu.useState(null),[a,l]=wu.useState(10),[c,f]=wu.useState("replace"),[h,p]=wu.useState(()=>localStorage.getItem("openaiBaseUrl")||""),[E,_]=wu.useState(()=>localStorage.getItem("targetLanguage")||"Translate this text into English"),[x,S]=wu.useState("gpt-4.1-nano"),[B,w]=wu.useState("Ready"),[y,A]=wu.useState(!1),[N,I]=wu.useState(null),[V,D]=wu.useState(!1),[U,z]=wu.useState(!1),[q,H]=wu.useState({currentFile:"",fileIndex:0,totalFiles:0,status:""}),[Y,oe]=wu.useState(null),[J,de]=wu.useState(null),[Re,Se]=wu.useState(null),[te,le]=wu.useState(!1),ge=async()=>{if(!u){w("Error: No EPUB file selected for preview.");return}w("Loading original EPUB for preview..."),le(!1);try{const Ee=new FileReader;Ee.onload=async Ve=>{if(Ve.target?.result){const ut=Gr(Ve.target.result).renderTo("original-epub-preview",{width:"100%",height:"100%",spread:"none"});w("Original EPUB preview loaded."),le(!0),await ut.display()}},Ee.readAsArrayBuffer(u)}catch(Ee){w(`Error loading original EPUB for preview: ${Ee instanceof Error?Ee.message:String(Ee)}`),le(!1)}},De=Ee=>{Ee&&Ee.name.endsWith(".epub")?(i(Ee),w(`File selected: ${Ee.name}`),le(!1)):(i(null),w("Error: Please select a valid EPUB file."),le(!1))};wu.useEffect(()=>{localStorage.setItem("openaiApiKey",t)},[t]),wu.useEffect(()=>{localStorage.setItem("openaiBaseUrl",h)},[h]),wu.useEffect(()=>{localStorage.setItem("targetLanguage",E)},[E]);const G=Ee=>{Ee.preventDefault(),D(!0)},ie=Ee=>{Ee.preventDefault(),D(!1)},_e=Ee=>{Ee.preventDefault(),D(!1),Ee.dataTransfer.files&&Ee.dataTransfer.files.length>0&&De(Ee.dataTransfer.files[0])},Ne=async()=>{if(!t||!u){w("Error: API key and EPUB file are required.");return}A(!0);const Ee=new AbortController;I(Ee);try{const Ve=await IS({apiKey:t,epubFile:u,chunkSize:a,translationMode:c,setStatus:w,baseUrl:h,targetLanguage:E,modelName:x,abortSignal:Ee,onProgress:He=>{H({currentFile:He.currentFile,fileIndex:He.fileIndex,totalFiles:He.totalFiles,status:He.status}),oe(He.translatedBlob),Se(He.htmlContent)},getPausePromise:()=>new Promise(He=>{de(()=>He),z(!0)})}),Ge=URL.createObjectURL(Ve),ut=document.createElement("a");ut.href=Ge,ut.download=`translated-${u?.name||"epub"}`,document.body.appendChild(ut),ut.click(),document.body.removeChild(ut),URL.revokeObjectURL(Ge),w("Translation complete!")}catch(Ve){Ve instanceof DOMException&&Ve.name==="AbortError"?(w("Translation cancelled."),oe(null),Se(null),z(!1),de(null)):(w(`Error: ${Ve instanceof Error?Ve.message:"Unknown error"}`),oe(null),Se(null),z(!1),de(null))}finally{A(!1),I(null),z(!1),de(null),H({currentFile:"",fileIndex:0,totalFiles:0,status:""})}};return tt.jsx(tt.Fragment,{children:tt.jsxs("div",{className:"App",children:[tt.jsxs("header",{className:"App-header",children:[tt.jsx("h1",{children:"EPUB Translator"}),tt.jsx("p",{children:"Translate EPUB books using OpenAI"})]}),tt.jsxs("main",{className:"App-main",children:[tt.jsxs("div",{className:"settings-column",children:[tt.jsx("label",{htmlFor:"api-key",children:"OpenAI API Key"}),tt.jsx("input",{id:"api-key",type:"password",value:t,onChange:Ee=>e(Ee.target.value),placeholder:"sk-..."}),tt.jsxs("div",{className:"setting-item",children:[tt.jsx("label",{htmlFor:"base-url",children:"OpenAI Base URL"}),tt.jsx("input",{id:"base-url",type:"text",value:h,onChange:Ee=>p(Ee.target.value)})]}),tt.jsxs("div",{className:"setting-item",children:[tt.jsx("label",{htmlFor:"target-language",children:"Target Language Prompt"}),tt.jsx("input",{id:"target-language",type:"text",value:E,onChange:Ee=>_(Ee.target.value),placeholder:"Translate this text into English"})]}),tt.jsxs("div",{className:"setting-item",children:[tt.jsx("label",{htmlFor:"model-name",children:"Model Name"}),tt.jsx("input",{id:"model-name",type:"text",value:x,onChange:Ee=>S(Ee.target.value),placeholder:"gpt-4.1-nano"})]}),tt.jsxs("div",{className:"setting-group",children:[tt.jsxs("div",{className:`drag-drop-area ${V?"dragging":""}`,onDragOver:G,onDragLeave:ie,onDrop:_e,onClick:()=>document.getElementById("epub-file-input")?.click(),children:[tt.jsx("p",{children:"Drag & Drop EPUB file here, or click to select"}),tt.jsx("input",{id:"epub-file-input",type:"file",accept:".epub",onChange:Ee=>De(Ee.target.files?Ee.target.files[0]:null),style:{display:"none"}}),u&&tt.jsxs("p",{children:["Selected: ",u.name]})]}),u&&tt.jsx("button",{onClick:ge,disabled:!u,children:"Preview Original EPUB"}),tt.jsxs("div",{className:"setting-item",children:[tt.jsx("label",{htmlFor:"chunk-size",children:"Paragraphs per Request (N)"}),tt.jsx("input",{id:"chunk-size",type:"number",value:a,onChange:Ee=>l(Number(Ee.target.value))})]}),tt.jsxs("div",{className:"setting-item",children:[tt.jsx("label",{children:"Translation Mode"}),tt.jsxs("div",{className:"radio-group",children:[tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"translation-mode",value:"replace",checked:c==="replace",onChange:()=>f("replace")}),"Replacement ()"]}),tt.jsxs("label",{children:[tt.jsx("input",{type:"radio",name:"translation-mode",value:"bilingual",checked:c==="bilingual",onChange:()=>f("bilingual")}),"Bilingual ()"]})]})]})]}),tt.jsxs("div",{className:"actions",children:[tt.jsx("button",{onClick:Ne,disabled:!t||!u||y||U,children:"Translate"}),y&&!U&&tt.jsx("button",{onClick:()=>z(!0),children:"Pause"}),y&&U&&J&&tt.jsx("button",{onClick:()=>{J(),de(null),z(!1)},children:"Resume"}),tt.jsx("button",{onClick:()=>N?.abort(),disabled:!y||!N,children:"Cancel"})]}),tt.jsxs("div",{className:"status",children:[tt.jsx("h2",{children:"Status"}),tt.jsx("p",{children:B}),y&&tt.jsxs("p",{children:["Translating file ",q.fileIndex," of ",q.totalFiles,":"," ",q.currentFile," (",q.status,")"]})]})]}),tt.jsxs("div",{className:"preview-column",children:[Y&&tt.jsxs("div",{className:"translated-epub-download",children:[tt.jsx("h2",{children:"Translated EPUB Preview"}),tt.jsx("p",{children:"Download partially translated EPUB:"}),tt.jsx("a",{href:URL.createObjectURL(Y),download:`partially-translated-${u?.name||"epub"}`,children:"Download Partial EPUB"})]}),te&&tt.jsxs("div",{className:"original-epub-preview",children:[tt.jsx("h2",{children:"Original EPUB Preview"}),tt.jsx("div",{id:"original-epub-preview",style:{height:"500px",overflowY:"scroll",border:"1px solid #ccc"}})]}),Re&&tt.jsxs("div",{className:"real-time-preview",children:[tt.jsx("h2",{children:"Real-time Preview"}),tt.jsx("div",{className:"preview-content",dangerouslySetInnerHTML:{__html:Re}})]})]})]})]})})}x_.createRoot(document.getElementById("root")).render(tt.jsx(wu.StrictMode,{children:tt.jsx(iC,{})}));export{Sn as A,K8 as B,ax as C,hC as I,rx as L,ex as N,fl as O,J8 as P,nx as R,ux as U,cC as a,fC as b,Ih as c,dC as d,Q8 as e,Uv as f,tx as g,dx as h,lx as i,$8 as j,ix as k,fr as l,pC as m,Un as n,jr as o,ox as p,mC as s,gC as v};
